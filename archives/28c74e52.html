<!DOCTYPE html><html><head hexo-theme="https://volantis.js.org/#2.1.4"><meta charset="utf-8"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><title>LearnCpp chapter2 - é¾™é¾™â€˜S BLOG</title><meta name="keywords" content="C++"><meta name="description" content="LearnCpp chapter2https://www.learncpp.com"><link rel="alternate" href="/atom.xml" title="é¾™é¾™â€˜S BLOG"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/photo.jpg"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2.1.4.3/css/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script></head><body><script type="text/javascript" src="/js/love.js"></script><script type="text/javascript" src="/js/ergao.js"></script><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><header class="l_header shadow blur"><div class="wrapper"><div class="nav-sub container--flex"><a class="logo flat-box"></a><ul class="switcher h-list"><li><a class="s-comment flat-btn fas fa-comments fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-toc flat-btn fas fa-list fa-fw" target="_self" href="javascript:void(0)"></a></li></ul></div><div class="nav-main container container--flex"><a class="logo flat-box" target="_self" href="/"><i class="fas fa-home"></i> é¾™é¾™</a><div class="menu navigation"><ul class="h-list"><li><a class="flat-box" href="/archives/" id="archives"><i class="fas fa-list-alt fa-fw fa-fw"></i> ç´¢å¼•</a><ul class="submenu"><li><a class="flat-box" href="/categories/" id="categories"><i class="fas fa-folder-open fa-fw fa-fw"></i> åˆ†ç±»</a><ul class="submenu"><li><a class="flat-box" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="categoriesE5ADA6E4B9A0E7AC94E8AEB0"><i class="fas fa-fire fa-fw"></i> å­¦ä¹ ç¬”è®°</a></li><li><a class="flat-box" href="/categories/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" id="categoriesE5AE9EE794A8E68A80E5B7A7"><i class="fas fa-fire fa-fw"></i> å®ç”¨æŠ€å·§</a></li></ul></li><li><a class="flat-box" href="/tags/" id="tags"><i class="fas fa-tags fa-fw fa-fw"></i> æ ‡ç­¾</a></li><li><a class="flat-box" href="/archives/" id="archives"><i class="fas fa-list fa-fw fa-fw"></i> æ—¶é—´è½´</a></li></ul></li><li><a class="flat-box" href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="E5ADA6E4B9A0E7AC94E8AEB0"><i class="fas fa-book fa-fw"></i> å­¦ä¹ ç¬”è®°</a></li><li><a class="flat-box"><i class="fas fa-wrench fa-fw"></i> å·¥å…·</a><ul class="submenu"><li><a class="flat-box" href="https://www.thinkcmf.com/font/search/index.html" target="_blank" rel="noopener" id="https:www.thinkcmf.comfontsearchindex.html"><i class="fas fa-font fa-fw"></i> Font Awesomeå›¾æ ‡</a></li><li><a class="flat-box" href="https://www.sojson.com/image/change.html" target="_blank" rel="noopener" id="https:www.sojson.comimagechange.html"><i class="fa fa-crop fa-fw"></i> åœ¨çº¿å›¾ç‰‡å°ºå¯¸ä¿®æ”¹</a></li><li><a class="flat-box" href="http://dir.scmor.com/" target="_blank" rel="noopener" id="http:dir.scmor.com"><i class="fa fa-search fa-fw"></i> Googleå­¦æœ¯&æœç´¢é•œåƒ</a></li><li><a class="flat-box" href="https://emojixd.com/" target="_blank" rel="noopener" id="https:emojixd.com"><i class="fa fa-smile-o fa-fw"></i> Emojiè¡¨æƒ…ç¬¦å·è¾å…¸ğŸ““</a></li></ul></li><li><a class="flat-box" href="/about/" id="about"><i class="fas fa-info-circle fa-fw fa-fw"></i> å…³äº</a><ul class="submenu"><li><a class="flat-box" href="/about/" id="about"><i class="fas fa-user-circle fa-fw fa-fw"></i> å…³äºæˆ‘</a></li><hr><li><a class="flat-box" href="/friends/" id="friends"><i class="fas fa-link fa-fw"></i> å‹äººå¸</a></li><li><a class="flat-box" href="/comment/" id="comment"><i class="fas fa-comment fa-fw"></i> ç•™è¨€æ¿</a></li><hr><li><a class="flat-box" href="https://github.com/longlongqin" target="_blank" rel="noopener" id="https:github.comlonglongqin"><i class="fab fa-github fa-fw fa-fw"></i> æˆ‘çš„Github</a></li><li><a class="flat-box" href="https://longlongqin.gitee.io" target="_blank" rel="noopener" id="https:longlongqin.gitee.io"><i class="fa fa-chevron-circle-right fa-fw"></i> materyä¸»é¢˜åšå®¢</a></li></ul></li><li><a class="flat-box" href="https://volantis.js.org/tag-plugins/" target="_blank" rel="noopener" id="https:volantis.js.orgtag-plugins"><i class="fa fa-bookmark fa-fw"></i> Volantisä¸»é¢˜æ–‡æ¡£</a></li><li><a class="flat-box" href="/easysearch/" id="easysearch"><i class="fa fa-search fa-fw"></i> easyæœç´¢</a></li></ul></div><div class="m_search"><form name="searchform" class="form u-search-form"><i class="icon fas fa-search fa-fw"></i> <input type="text" class="input u-search-input" placeholder="search for everything"></form></div><ul class="switcher h-list"><li><a class="s-search flat-btn fas fa-search fa-fw" target="_self" href="javascript:void(0)"></a></li><li><a class="s-menu flat-btn fas fa-bars fa-fw" target="_self" href="javascript:void(0)"></a></li></ul></div></div></header><ul class="menu-phone navigation white-box"><li><a class="flat-box" href="/archives/" id="archives"><i class="fas fa-list-alt fa-fw fa-fw"></i> ç´¢å¼•</a></li><li><a class="flat-box" href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" id="E5ADA6E4B9A0E7AC94E8AEB0"><i class="fas fa-book fa-fw"></i> å­¦ä¹ ç¬”è®°</a></li><li><a class="flat-box" href="/about/" id="about"><i class="fas fa-info-circle fa-fw fa-fw"></i> å…³äº</a></li></ul><script>setLoadingBarProgress(40)</script><div class="l_body nocover"><div class="body-wrapper"><div class="l_main"><article id="post" class="post white-box shadow article-type-post" itemscope itemprop="blogPost"><section class="meta"><div class="meta" id="header-meta"><h1 class="title"><a href="/archives/28c74e52.html">LearnCpp chapter2</a></h1><div class="new-meta-box"><div class="new-meta-item author"><a href="https://www.longlongqin.top" rel="nofollow"><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/photo.jpg"><p>longlongqin</p></a></div><div class="new-meta-item category"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="nofollow"><i class="fas fa-folder-open" aria-hidden="true"></i><p>å­¦ä¹ ç¬”è®°</p></a></div><div class="new-meta-item date"><a class="notlink"><i class="fas fa-edit" aria-hidden="true"></i><p>å‘å¸ƒäºï¼š2020å¹´3æœˆ26æ—¥</p></a></div><div class="new-meta-item wordcount"><a class="notlink"><i class="fas fa-keyboard" aria-hidden="true"></i><p>å­—æ•°ï¼š8.5kå­—</p></a></div><div class="new-meta-item readtime"><a class="notlink"><i class="fas fa-hourglass-half" aria-hidden="true"></i><p>æ—¶é•¿ï¼š35åˆ†é’Ÿ</p></a></div></div><hr></div></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><center><p center large><red>LearnCpp chapter2</red></p></center><center><red>https://www.learncpp.com</red></center><a id="more"></a><h2 id="2-1-å‡½æ•°"><a href="#2-1-å‡½æ•°" class="headerlink" title="2.1 å‡½æ•°"></a>2.1 å‡½æ•°</h2><p>å½“ä½ è¯»ä¸€æœ¬ä¹¦çš„æ—¶å€™ï¼Œçªç„¶æœ‰äººç»™ä½ æ‰“ç”µè¯ã€‚ç„¶åä½ å°±ç”¨â€œä¹¦ç­¾â€å¤¹åœ¨å½“å‰é˜…è¯»ä½ç½®ï¼Œå»æ¥ç”µè¯ã€‚ç­‰ä½ ç”µè¯æ¥å®Œï¼Œå†å›åˆ°ä½ æ”¾ä¹¦ç­¾çš„é‚£ä¸ªåœ°æ–¹ç»§ç»­è¯»ä¹¦ã€‚</p><p><strong>å‡½æ•°è°ƒç”¨(function call)</strong>æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®ƒå‘Šè¯‰CPUä¸­æ–­å½“å‰å‡½æ•°å¹¶åœ¨è¿™é‡Œâ€œæ”¾ä¸€ä¸ªä¹¦ç­¾â€ï¼Œç„¶åæ‰§è¡Œå¦ä¸€ä¸ªå‡½æ•°(å°±æ˜¯å‡½æ•°è°ƒç”¨ä¸­æåŠçš„é‚£ä¸ªå‡½æ•°)ã€‚å½“è°ƒç”¨ç»“æŸåï¼ŒCPUå°±è¿”å›åˆ°â€œä¹¦ç­¾â€çš„ä½ç½®ï¼Œç„¶åå†ç»§ç»­æ‰§è¡Œã€‚</p><blockquote><p><strong>caller</strong>ï¼šå‘èµ·å‡½æ•°è°ƒç”¨çš„å‡½æ•°å«åšcallerï¼›</p><p><strong>callee(called function)</strong>ï¼šè¢«è°ƒç”¨çš„å‡½æ•°å«åšcallee(called function)ã€‚</p></blockquote><p><strong>int main()çš„è¿”å›å€¼</strong>ï¼š</p><p>åœ¨int main()å‡½æ•°æœ€åï¼Œä¼šæœ‰è¿”å›å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯è¿”å›åˆ°æ“ä½œç³»ç»Ÿçš„ï¼Œä¸ºäº†è®©æ“ä½œç³»ç»ŸçŸ¥é“è¿™ä¸ªç¨‹åºæ‰§è¡ŒæˆåŠŸä¸å¦ã€‚mainå‡½æ•°çš„è¿”å›å€¼ï¼Œæœ‰ä¸€ä¸ªç‰¹å®šåå­—å«åšï¼š<strong><u>status code ï¼ˆçŠ¶æ€ç ï¼‰</u></strong></p><blockquote><p>ä¸€èˆ¬ <code>return 0;</code> è¡¨ç¤ºç¨‹åºæ‰§è¡ŒæˆåŠŸã€‚</p><p>è¿”å›éé›¶å€¼ï¼Œè¡¨ç¤ºç¨‹åºæ‰§è¡Œé”™è¯¯ã€‚</p></blockquote><p>ã€<strong>Note</strong>ã€‘ï¼š<strong>C++è§„å®šï¼Œmainå‡½æ•°å¿…é¡»æ˜¯intå‹çš„ã€‚å³ï¼š int main()</strong></p><h2 id="2-3-å‡½æ•°çš„å½¢å‚ä¸å®å‚"><a href="#2-3-å‡½æ•°çš„å½¢å‚ä¸å®å‚" class="headerlink" title="2.3 å‡½æ•°çš„å½¢å‚ä¸å®å‚"></a>2.3 å‡½æ•°çš„å½¢å‚ä¸å®å‚</h2><ul><li><p><strong>å½¢å‚(parameter)</strong>ï¼šæ˜¯æŒ‡å‡½æ•°å®šä¹‰ä¸­å‚æ•°ï¼›(å½¢å‚åˆå§‹åŒ–æ˜¯é€šè¿‡è°ƒç”¨è€…ä¼ æ¥çš„å€¼(å³ï¼Œå®å‚)æ¥åˆå§‹åŒ–çš„ )</p><p><strong>å®å‚(argument)</strong>ï¼šå‡½æ•°è°ƒç”¨æ—¶çš„å®é™…å‚æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printValues</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">//å‡½æ•°å®šä¹‰æ—¶çš„å‚æ•°x,yï¼Œå³è¿™é‡Œçš„x,yæ˜¯å½¢å‚</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    printValues(<span class="number">6</span>, <span class="number">7</span>); <span class="comment">//è°ƒç”¨å‡½æ•°ã€‚å³ï¼Œ6å’Œ7æ˜¯å®å‚</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>å®å‚ä¸å½¢å‚å¦‚ä½•ä¸€èµ·å·¥ä½œï¼Ÿ</strong></p><p>å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°æ‰€æœ‰çš„parameterséƒ½è¢«åˆ›å»ºä¸ºå˜é‡ï¼Œå¹¶ä¸”æ¯ä¸ªargumentsçš„å€¼éƒ½è¢«å¤åˆ¶åˆ°åŒ¹é…çš„parametersä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>pass by value(æŒ‰å€¼ä¼ é€’)</strong>ã€‚</p></li><li><p><strong>å…³äºå‡½æ•°å‚æ•°æ±‚å€¼é¡ºåºçš„è­¦å‘Š</strong></p><p>åœ¨C++ä¸­ï¼Œæ²¡æœ‰è§„å®šå®å‚åŒ¹é…çš„é¡ºåºï¼ˆé¡ºåºï¼šä»å·¦â†’å³ï¼Œè¿˜æ˜¯ä»å³â†’å·¦ï¼‰ï¼Œå› ä¸ºåŒ¹é…é¡ºåºä¸é‡è¦ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœå®å‚æ˜¯å‡½æ•°è°ƒç”¨ï¼Œé‚£å°±éœ€è¦æ³¨æ„äº†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someFunction(a(), b()); <span class="comment">// a() or b() may be called first</span></span><br></pre></td></tr></table></figure><ul><li>æ˜¯ä»å³â†’å·¦ï¼Œè¿˜æ˜¯ä»å³â†’å·¦ï¼š<strong>å–å†³äºa()å’Œb()çš„åŠŸèƒ½</strong>ã€‚</li></ul><p>å¦‚æœä½ æƒ³è¦è§„å®šè°å…ˆçš„è¯ï¼Œä½ å¯ä»¥æ˜¾ç¤ºçš„è§„å®šåŒ¹é…é¡ºåºï¼Œå¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> avar&#123; a() &#125;; <span class="comment">// a() will always be called first</span></span><br><span class="line"><span class="keyword">int</span> bvar&#123; b() &#125;; <span class="comment">// b() will always be called second</span></span><br><span class="line"> </span><br><span class="line">someFunction(avar, bvar); <span class="comment">// it doesn't matter whether avar or bvar are copied first because they are just values</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="2-4-å±€éƒ¨èŒƒå›´"><a href="#2-4-å±€éƒ¨èŒƒå›´" class="headerlink" title="2.4 å±€éƒ¨èŒƒå›´"></a>2.4 å±€éƒ¨èŒƒå›´</h2><ul><li><strong>å±€éƒ¨å˜é‡Local variables</strong>ï¼šå‡½æ•°çš„å½¢å‚ï¼Œå’Œå®ƒå†…éƒ¨å®šä¹‰çš„å˜é‡ å±äºâ€œå±€éƒ¨å˜é‡â€ã€‚å¦‚ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// function parameters x and y are local variables</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> z&#123; x + y &#125;; <span class="comment">// z is a local variable too</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>å±€éƒ¨å˜é‡ç”Ÿå‘½å‘¨æœŸ</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// x and y are created and enter scope here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// x and y are visible/usable within this function only</span></span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125; <span class="comment">// y and x go out of scope and are destroyed here</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a&#123; <span class="number">5</span> &#125;; <span class="comment">// a is created, initialized, and enters scope here</span></span><br><span class="line">    <span class="keyword">int</span> b&#123; <span class="number">6</span> &#125;; <span class="comment">// b is created, initialized, and enters scope here</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">// a and b are usable within this function only</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; add(a, b) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// calls function add() with x=5 and y=6</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// b and a go out of scope and are destroyed here</span></span><br></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ol><li><p>ç¨‹åºå¼€å§‹æ‰§è¡Œäºmain()å‡½æ•°ï¼›</p></li><li><p>main()å‡½æ•°çš„å˜é‡aè¢«åˆ›å»ºå¹¶èµ‹å€¼ä¸º5ï¼›ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>main()å‡½æ•°çš„å˜é‡bè¢«åˆ›å»ºå¹¶èµ‹å€¼ä¸º6ï¼›ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>å‡½æ•°add()è¢«è°ƒç”¨ï¼Œå¹¶ä¼ å…¥å®å‚5ï¼Œ6ï¼›</p></li><li><p>add()å‡½æ•°çš„å˜é‡xè¢«åˆ›å»ºï¼Œå¹¶åˆå€¼ä¸º5;ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>add()å‡½æ•°çš„å˜é‡yè¢«åˆ›å»ºï¼Œå¹¶åˆå€¼ä¸º6;ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>æ“ä½œç¬¦â€œ+â€è®¡ç®—è¡¨è¾¾å¼â€x+yâ€ï¼Œäº§ç”Ÿå€¼11ï¼›</p></li><li><p>addå‡½æ•°å°†å€¼11å¤åˆ¶å›è°ƒç”¨è€…main()å‡½æ•°ï¼›</p></li><li><p>addå‡½æ•°çš„xã€yè¢«æ‘§æ¯ï¼›â˜…</p></li><li><p>main()å‡½æ•°åœ¨æ§åˆ¶å°ä¸Šæ‰“å°å‡º11ï¼›</p></li><li><p>main()å‡½æ•°è¿”å›0åˆ°æ“ä½œç³»ç»Ÿï¼›</p></li><li><p>main()å‡½æ•°çš„aã€bè¢«æ‘§æ¯ã€‚â˜…</p></li></ol></blockquote><p>ç”±æ­¤å¯çŸ¥ï¼Œ<strong>å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šæ˜¯ä»ä»–å¼€å§‹<u>è¢«åˆ›å»º</u>ï¼ˆå¦‚ä¸Šè¿°çš„ç¬¬2æ­¥ï¼Œå˜é‡aè¢«åˆ›å»ºï¼‰ä¸€ç›´åˆ°æ‰§è¡Œå®Œè¿™ä¸ªå®ƒæ‰€åœ¨çš„å‡½æ•°ï¼ˆå¦‚ä¸Šè¿°çš„ç¬¬9æ­¥ï¼‰è¢«æ‘§æ¯ã€‚</p><p><strong>ã€Noteã€‘</strong>ï¼šå˜é‡çš„åˆ›å»ºå’Œæ‘§æ¯å‘ç”Ÿåœ¨ç¨‹åºçš„<strong>è¿è¡ŒæœŸé—´ï¼ˆruntimeï¼‰</strong>ã€‚æ‰€ä»¥ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€ä¸ªruntimeå±æ€§ã€‚</p></li><li><p><strong>å±€éƒ¨èŒƒå›´</strong></p><p><strong>æ ‡è¯†ç¬¦çš„èŒƒå›´</strong>å†³å®šäº†åœ¨æºä»£ç ä¸­æ ‡è¯†ç¬¦å¯ä»¥è¢«è®¿é—®çš„ä½ç½®ã€‚èŒƒå›´æ˜¯ä¸€ä¸ª<strong>ç¼–è¯‘æœŸé—´(compile-time)</strong>çš„å±æ€§ã€‚ï¼ˆå½“ä½¿ç”¨çš„æ ‡è¯†ç¬¦ä¸åœ¨èŒƒå›´å†…æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼‰</p><p><strong>å±€éƒ¨å˜é‡çš„èŒƒå›´</strong>ï¼šå¼€å§‹äºå®ƒçš„<u>å®šä¹‰</u>ï¼Œç»“æŸäº<u>å®šä¹‰å®ƒä»¬çš„èŠ±æ‹¬å·é›†åˆçš„æœ«å°¾</u>ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// x is not in scope anywhere in this function</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello!\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// x can not be used here because it's not in scope yet</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> x&#123; <span class="number">0</span> &#125;; <span class="comment">// x enters scope here and can now be used</span></span><br><span class="line"> </span><br><span class="line">    doSomething();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// x goes out of scope here and can no longer be used</span></span><br></pre></td></tr></table></figure><h2 id="2-5-ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°"><a href="#2-5-ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°" class="headerlink" title="2.5 ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°"></a>2.5 ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°</h2></li></ul><p><strong>ä½¿ç”¨å‡½æ•°çš„ä¼˜åŠ¿</strong>ï¼š</p><ul><li><strong>æœ‰ç»„ç»‡æ€§Organization</strong>ï¼šéšç€ç¨‹åºè¶Šæ¥è¶Šå¤æ‚ï¼Œè‹¥å°†å…¨éƒ¨çš„ä»£ç éƒ½å†™åœ¨main()å‡½æ•°ä¸­ï¼ŒåŠ¿å¿…ä¼šå¢åŠ å¤æ‚æ€§ã€‚ä¸€ä¸ªå‡½æ•°å°±åƒä¸€ä¸ªå°å‹ç¨‹åºã€‚å°†å®ƒä¸mainå‡½æ•°åˆ†å¼€å†™ï¼Œæˆ‘ä»¬å°±ä¸å¿…å»è€ƒå…¶ä½™ä»£ç ã€‚</li><li><strong>å¯é‡ç”¨æ€§Reusability</strong>ï¼šä¸€ä¸ªå‡½æ•°å¯ä»¥è¢«è°ƒç”¨æ— æ•°æ¬¡ã€‚å°±å¯ä»¥é¿å…è¿™ç§æƒ…å†µï¼šå¦‚æœå†™åœ¨mainå‡½æ•°ä¸­ï¼Œè¦è°ƒç”¨næ¬¡è¿™ä¸ªåŠŸèƒ½ï¼Œå°±è¦é‡æ–°å†™è¿™ä¸ªåŠŸèƒ½næ¬¡ã€‚</li><li><strong>ä¾¿äºæµ‹è¯•Testing</strong>ï¼šå› ä¸ºå‡½æ•°å‡å°‘äº†ä»£ç å†—ä½™ï¼Œæ‰€ä»¥é¦–å…ˆè¦æµ‹è¯•çš„ä»£ç å°±æ›´å°‘äº†ã€‚å¦å¤–ï¼Œå› ä¸ºå‡½æ•°æ˜¯è‡ªåŒ…å«çš„ï¼Œæ‰€ä»¥ä¸€æ—¦æˆ‘ä»¬æµ‹è¯•äº†ä¸€ä¸ªå‡½æ•°ä»¥ç¡®ä¿å®ƒå¯ä»¥å·¥ä½œï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¬¡æµ‹è¯•å®ƒï¼Œé™¤éæˆ‘ä»¬ä¿®æ”¹å®ƒã€‚è¿™å‡å°‘äº†æˆ‘ä»¬å¿…é¡»ä¸€æ¬¡æµ‹è¯•çš„ä»£ç é‡ï¼Œä½¿å¾—æŸ¥æ‰¾bug(æˆ–è€…åœ¨ç¬¬ä¸€æ—¶é—´é¿å…bug)å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li><li><strong>å¯æ‰©å±•æ€§Extensibility</strong>ï¼š</li><li><strong>æŠ½è±¡åŒ–Abstraction</strong>ï¼šåœ¨æ¯æ¬¡ç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å®ƒçš„åå­—ã€‚è¾“å…¥å’Œè¾“å‡ºã€‚ä¸å¿…çŸ¥é“å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</li></ul><p><strong>å¦‚ä½•é«˜æ•ˆçš„ä½¿ç”¨å‡½æ•°ï¼Ÿ</strong></p><ul><li>åœ¨ä¸€ä¸ªç¨‹åºä¸­<u>å‡ºç°å¤šæ¬¡çš„è¯­å¥</u>é€šå¸¸åº”è¯¥æ„æˆä¸€ä¸ªå‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼å¤šæ¬¡è¯»å–æ¥è‡ªç”¨æˆ·çš„è¾“å…¥ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å‡½æ•°å€™é€‰ã€‚å¦‚æœæˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼è¾“å‡ºå¤šæ¬¡ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å€™é€‰å‡½æ•°ã€‚</li><li>ä¸€ä¸ªå‡½æ•°é€šå¸¸åº”è¯¥æ‰§è¡Œä¸€ä¸ª(ä¸”ä»…ä¸€ä¸ª)ä»»åŠ¡ã€‚</li><li>å½“ä¸€ä¸ªå‡½æ•°å˜å¾—å¤ªé•¿ã€å¤ªå¤æ‚æˆ–éš¾ä»¥ç†è§£æ—¶ï¼Œå¯ä»¥å°†å…¶åˆ†è§£ä¸ºå¤šä¸ªå­å‡½æ•°ã€‚è¿™å°±æ˜¯æ‰€è°“çš„<strong>é‡æ„refactoring</strong>ã€‚</li></ul><h2 id="2-6-ç©ºç™½ä¸åŸºæœ¬æ ¼å¼"><a href="#2-6-ç©ºç™½ä¸åŸºæœ¬æ ¼å¼" class="headerlink" title="2.6 ç©ºç™½ä¸åŸºæœ¬æ ¼å¼"></a>2.6 ç©ºç™½ä¸åŸºæœ¬æ ¼å¼</h2><h3 id="ç©ºç™½"><a href="#ç©ºç™½" class="headerlink" title="ç©ºç™½"></a>ç©ºç™½</h3><p><strong>ç©ºç™½Whitespace</strong>ï¼šæ˜¯ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯ç”¨äºæ ¼å¼åŒ–ç›®çš„çš„å­—ç¬¦ã€‚åœ¨c++ä¸­ï¼Œè¿™ä¸»è¦æŒ‡<strong>ç©ºæ ¼</strong>ã€<strong>åˆ¶è¡¨ç¬¦(tab)</strong>å’Œ<strong>æ¢è¡Œ</strong>ã€‚c++ç¼–è¯‘å™¨é€šå¸¸ä¼šå¿½ç•¥ç©ºç™½ï¼Œåªæœ‰å°‘æ•°ä¾‹å¤–(åœ¨å¤„ç†æ–‡æœ¬æ—¶)ã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬è¯´c++æ˜¯ä¸€ç§ä¸ç©ºç™½æ— å…³çš„è¯­è¨€ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸‹é¢è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸€æ ·çš„ä½œç”¨*/</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span>               &lt;&lt;            <span class="string">"Hello world!"</span>;</span><br><span class="line"> </span><br><span class="line">		<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; 		<span class="string">"Hello world!"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span></span><br><span class="line">	&lt;&lt; <span class="string">"Hello world!"</span>;</span><br></pre></td></tr></table></figure><p>ã€æ³¨æ„ã€‘</p><ul><li>åœ¨<strong>æ–‡æœ¬</strong>ä¸­ï¼Œä¸å…è®¸æ¢è¡Œï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ç§æ˜¯ä¸è¢«å…è®¸çš„</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello</span></span><br><span class="line"><span class="string">    world!"</span> ;</span><br></pre></td></tr></table></figure><ul><li><p>ä½†æ˜¯è¿™ç§æƒ…å†µæ˜¯å¯ä»¥çš„ï¼šæ–‡æœ¬åªæ˜¯è¢«ç©ºç™½(ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦(tab)ã€æ¢è¡Œ)åˆ†ç¦»ï¼Œä»–å°†ä¼šè¢«è¿æ¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™é‡Œçš„helloä¸worldéƒ½æ˜¯è¢«åŒå¼•å·åŒ…å«èµ·æ¥çš„</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello "</span></span><br><span class="line">     <span class="string">"world!"</span>; <span class="comment">// prints "Hello world!"</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="åŸºæœ¬æ ¼å¼"><a href="#åŸºæœ¬æ ¼å¼" class="headerlink" title="åŸºæœ¬æ ¼å¼"></a>åŸºæœ¬æ ¼å¼</h3><ol><li><p><strong>ç¼©è¿›(indentation)</strong>å¯ä»¥ç”¨ï¼š<strong>ç©ºæ ¼spaces</strong>æˆ–è€…<strong>tabsï¼ˆåˆ¶ç¬¦è¡¨ï¼‰</strong>ã€‚</p><blockquote><p>å¦‚æœç”¨åˆ¶ç¬¦è¡¨ï¼Œå»ºè®®å°†å…¶è°ƒæ•´ä¸º4ä¸ªç©ºæ ¼çš„ç¼©è¿›ï¼Œ3ä¸ªä¹Ÿå¯ä»¥ã€‚</p></blockquote></li><li><p><strong>å¤§èŠ±æ‹¬å·ï¼ˆbraceï¼‰</strong>ï¼š</p><ul><li><p>Googleä¸­çš„C++é£æ ¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦ä¸€ç§é£æ ¼ï¼šè¿™ä¸€ç§ä¸å®¹æ˜“å‡ºé”™ï¼Œæ›´å®¹æ˜“æ‰¾å‡ºèŠ±æ‹¬å·</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>åœ¨å¤§èŠ±æ‹¬å·ä¸­çš„æ¯æ¡è¯­å¥ï¼Œåº”è¯¥ä»å…¶æ‰€åœ¨èŠ±æ‹¬å·ç®—èµ·éš”å¼€ä¸€ä¸ªtabçš„è·ç¦»ï¼Œå¼€å§‹å†™ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;       <span class="comment">// tabbed in one tab (4 spaces)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Nice to meet you.\n"</span>;  <span class="comment">// tabbed in one tab (4 spaces)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¯ä¸€è¡Œçš„å­—ç¬¦ä¸è¦è¿‡é•¿ï¼Œä¸€èˆ¬ä¸è¶…è¿‡80ä¸ªå­—ç¬¦</p></li><li><p>å¦‚æœä¸€è¡Œåˆ«æ“ä½œç¬¦(å¦‚ï¼Œ&lt;&lt; ã€+)åˆ†å‰²(split)ã€‚è¿™ä¸ªæ“ä½œç¬¦åº”è¯¥è¢«å¸è½½ä¸‹ä¸€è¡Œçš„å¼€å¤´ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">3</span> + <span class="number">4</span></span><br><span class="line">    + <span class="number">5</span> + <span class="number">6</span></span><br><span class="line">    * <span class="number">7</span> * <span class="number">8</span>;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡å¯¹é½å€¼æˆ–æ³¨é‡Šæˆ–åœ¨ä»£ç å—ä¹‹é—´æ·»åŠ é—´è·ï¼Œä½¿ç”¨ç©ºç™½ä½¿ä»£ç æ›´æ˜“äºé˜…è¯»ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸æ˜“è¯»</span></span><br><span class="line">cost = <span class="number">57</span>;</span><br><span class="line">pricePerItem = <span class="number">24</span>;</span><br><span class="line">value = <span class="number">5</span>;</span><br><span class="line">numberOfItems = <span class="number">17</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜“è¯»</span></span><br><span class="line">cost          = <span class="number">57</span>;</span><br><span class="line">pricePerItem  = <span class="number">24</span>;</span><br><span class="line">value         = <span class="number">5</span>;</span><br><span class="line">numberOfItems = <span class="number">17</span>;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸æ˜“è¯»</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>; <span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>; <span class="comment">// these comments make the code hard to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>; <span class="comment">// especially when lines are different lengths</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜“è¯»</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;                  <span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>;  <span class="comment">// these comments are easier to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>;                         <span class="comment">// especially when all lined up</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸æ˜“è¯»</span></span><br><span class="line"><span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;</span><br><span class="line"><span class="comment">// these comments make the code hard to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>;</span><br><span class="line"><span class="comment">// especially when all bunched together</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜“è¯»</span></span><br><span class="line"><span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// these comments are easier to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// when separated by whitespace</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>;</span><br></pre></td></tr></table></figure></li></ol><h2 id="2-7-æå‰å£°æ˜ä¸å®šä¹‰"><a href="#2-7-æå‰å£°æ˜ä¸å®šä¹‰" class="headerlink" title="2.7 æå‰å£°æ˜ä¸å®šä¹‰"></a>2.7 æå‰å£°æ˜ä¸å®šä¹‰</h2><p>ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨vs 2013ä¸­è¿è¡Œï¼Œä¼šå‡ºç°ï¼š</p><p><code>add.cpp(5) : error C3861: &#39;add&#39;: identifier not found</code></p><p><strong>åŸå› ï¼š</strong>å› ä¸ºç¼–è¯‘å™¨æ˜¯æŒ‰ç…§é¡ºåºè¿›è¡Œç¼–è¯‘çš„ã€‚å½“ç¼–è¯‘å™¨åœ¨mainå‡½æ•°çš„ç¬¬5è¡Œä¸­è°ƒç”¨addå‡½æ•°ï¼Œä»–ä¸çŸ¥é“addæ˜¯ä»€ä¹ˆã€‚å› ä¸ºç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰å®šä¹‰addå‡½æ•°ï¼ˆå› ä¸ºaddå‡½æ•°çš„å®šä¹‰åœ¨ç¬¬9è¡Œï¼‰</p><hr><p><strong>å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</strong></p><ol><li><p>æ³•ä¸€ï¼š<strong>è°ƒæ•´ä»£ç é¡ºåº</strong>ï¼šè®©è¢«è°ƒç”¨çš„å‡½æ•°åœ¨è°ƒç”¨è€…ä¹‹å‰ã€åœ¨å¤æ‚ç¨‹åºä¸­ï¼Œä¸å®ç”¨ã€‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>å¦‚æœåœ¨ä¸€ä¸ªå¤æ‚çš„ç¨‹åºä¸­ï¼Œä¼šè°ƒç”¨å¾ˆå¤šå‡½æ•°ï¼Œè¿˜æœ‰åµŒå¥—å‹çš„è°ƒç”¨ã€‚å¦‚æœå»ä¸€ä¸ªä¸ªä¸ªå»æ‰¾å‡ºè°ƒç”¨é¡ºåºï¼Œç„¶åå»è°ƒæ•´ä»£ç ã€‚è¿™æ ·æ˜¯å¾ˆä¹å‘³ä½æ•ˆçš„ã€‚</strong></p></blockquote></li><li><p>æ³•äºŒ<strong>[æ¨è]</strong>ï¼š<strong>æå‰å£°æ˜forward declaration</strong>ï¼šåœ¨ä½¿ç”¨å‡½æ•°ä¹‹å‰ï¼Œå…ˆå£°æ˜å®ƒã€‚ï¼ˆç„¶åå°±ä¸ç”¨å…³æ³¨ä»£ç å®ç°çš„é¡ºåºäº†ï¼‰</p><blockquote><p>æå‰å‘å£°æ˜<strong>å…è®¸æˆ‘ä»¬åœ¨å®é™…å®šä¹‰æ ‡è¯†ç¬¦ä¹‹å‰å‘Šè¯‰ç¼–è¯‘å™¨æ ‡è¯†ç¬¦çš„å­˜åœ¨ã€‚</strong></p></blockquote><p>ä¸ºäº†ç¼–å†™ä¸€ä¸ªå‡½æ•°çš„æå‰å‘å£°æ˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç§°ä¸º<strong>å‡½æ•°åŸå‹(function prototype)</strong>çš„å£°æ˜è¯­å¥ã€‚å‡½æ•°åŸå‹åŒ…æ‹¬ï¼šå‡½æ•°çš„ è¿”å›<strong>ç±»å‹</strong>ã€<strong>åå­—</strong>ã€<strong>å½¢å‚</strong>ï¼Œä»¥<strong>åˆ†å·(semicolon)</strong>ç»“æŸã€‚ä½†æ˜¯ä¸åŒ…å«å‡½æ•°<strong>ä¸»ä½“(function body)</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// forward declaration of add() (using a function prototype)</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// this works because we forward declared add() above</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// even though the body of add() isn't defined until here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜"><a href="#å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜" class="headerlink" title="å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜"></a>å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜</h3><ol><li><p>å¦‚æœ<strong>å£°æ˜</strong>äº†å‡½æ•°ï¼Œä½†<strong>æ²¡å®šä¹‰</strong>å‡½æ•°ï¼Œè€Œä¸”è¿™ä¸ªå‡½æ•°<strong>æ²¡æœ‰è¢«è°ƒç”¨</strong>ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åº<strong>å¯ä»¥è¢«ç¼–è¯‘&amp;è¿è¡Œ</strong>ï¼›</p></li><li><p>å¦‚æœ<strong>å£°æ˜</strong>äº†å‡½æ•°ï¼Œä½†<strong>æ²¡å®šä¹‰</strong>å‡½æ•°ï¼Œè€Œä¸”è€Œä¸”è¿™ä¸ªå‡½æ•°<strong>æœ‰è¢«è°ƒç”¨</strong>ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åº<strong>å¯ä»¥è¢«ç¼–è¯‘</strong>ï¼Œä½†<strong>é“¾æ¥ä¼šå‡ºé”™</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// forward declaration of add() using function prototype</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// note: No definition for function add</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¨‹åºåœ¨visual studio ä¸­ï¼Œä¼šå‡ºç°ï¼šç¼–è¯‘æˆåŠŸï¼Œé“¾æ¥å¤±è´¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Compiling...</span><br><span class="line">add.cpp</span><br><span class="line">Linking...</span><br><span class="line">add.obj : error LNK2001: unresolved external symbol &quot;int __cdecl add(int,int)&quot; (?add@@YAHHH@Z)</span><br><span class="line">add.exe : fatal error LNK1120: 1 unresolved externals</span><br></pre></td></tr></table></figure></li></ol><h3 id="å£°æ˜-VS-å®šä¹‰"><a href="#å£°æ˜-VS-å®šä¹‰" class="headerlink" title="å£°æ˜ VS. å®šä¹‰"></a>å£°æ˜ VS. å®šä¹‰</h3><ul><li><p><strong>å®šä¹‰(define)</strong>ï¼šå®ç°(å‡½æ•°æˆ–ç±»å‹ï¼‰æˆ–è€…æ˜¯ å®ä¾‹åŒ–(å¯¹äºå˜é‡ï¼‰æ ‡è¯†ç¬¦ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// implements function add()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> z&#123; x + y &#125;; <span class="comment">// instantiates variable z</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äº<strong>é“¾æ¥å™¨(linker)</strong>æ¥è¯´<strong>å®šä¹‰ï¼ˆdefineï¼‰</strong>æ˜¯å¿…è¦çš„çš„ã€‚</p></blockquote></li></ul><h4 id="å•å®šä¹‰è§„åˆ™"><a href="#å•å®šä¹‰è§„åˆ™" class="headerlink" title="å•å®šä¹‰è§„åˆ™"></a>å•å®šä¹‰è§„åˆ™</h4><p><strong>å•å®šä¹‰è§„åˆ™ï¼ˆone definition ruleï¼‰</strong>ç®€ç§°ï¼š<strong>ODR</strong>ï¼šåœ¨C++ä¸­éå¸¸æœ‰åçš„è§„åˆ™ï¼Œä¸»è¦åˆ†ä¸‰éƒ¨åˆ†ï¼š</p><ol><li><p>åœ¨ç»™å®šçš„æ–‡ä»¶ä¸­ï¼ˆè¿™é‡Œç¿»è¯‘ä¸å‡†ç¡®ï¼‰ï¼Œæ¯ä¸ªå‡½æ•°ã€å¯¹è±¡ã€ç±»å‹ã€æ¨¡æ¿<u>åªèƒ½æœ‰ä¸€æ¬¡å®šä¹‰</u>ã€‚</p></li><li><p>åœ¨æ•´ä¸ªç¨‹åºä¸­ï¼Œä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ï¼›</p></li><li><p>ç±»å‹ã€æ¨¡æ¿ã€å†…ç½®å‡½æ•°ã€å˜é‡ è¢«å…è®¸åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­æœ‰ç›¸åŒçš„å®šä¹‰ã€‚</p><hr></li></ol><p><strong>è¿èƒŒç¬¬1æ¡ï¼Œå°†ä¼šä½¿ç¼–è¯‘å™¨å‘å‡ºé‡æ–°å®šä¹‰é”™è¯¯ï¼›</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// violation part1 of ODR, we've already defined function add</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> x; <span class="comment">// violation of ODR, we've already defined x</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>åœ¨visual studioä¸­ï¼Œä¼šå‡ºç°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">project3.cpp(9): error C2084: function &#39;int add(int,int)&#39; already has a body</span><br><span class="line">project3.cpp(3): note: see previous definition of &#39;add&#39;</span><br><span class="line">project3.cpp(16): error C2086: &#39;int x&#39;: redefinition</span><br><span class="line">project3.cpp(15): note: see declaration of &#39;x&#39;</span><br></pre></td></tr></table></figure></li></ul><p><strong>è¿èƒŒç¬¬2æ¡ï¼Œå°†ä¼šä½¿è¿æ¥å™¨å‘å‡ºé‡æ–°å®šä¹‰çš„é”™è¯¯ï¼›</strong></p><p><strong>è¿èƒŒç¬¬3æ¡ï¼Œå°†ä¼šäº§ç”Ÿæœªå®šä¹‰çš„è¡Œä¸ºã€‚</strong></p><hr><h4 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h4><p><strong>å£°æ˜(declaration)</strong>ï¼šæ˜¯ä¸€ä¸ªè¯­å¥ã€‚å®ƒå‘Šè¯‰ç¼–è¯‘å™¨è¿™é‡Œå­˜åœ¨ä¸€ä¸ªæ ‡è¯†ç¬¦å’Œå®ƒçš„ç±»å‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// tells the compiler about a function named "add" that takes two int parameters and returns an int.  No body!</span></span><br><span class="line"><span class="keyword">int</span> x; <span class="comment">// tells the compiler about an integer variable named x</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹<strong>ç¼–è¯‘å™¨(complier)</strong>è€Œè¨€<strong>å£°æ˜(declaeation)</strong>æ˜¯å¿…è¦çš„ã€‚</p></blockquote><p>åœ¨C++ä¸­ï¼Œæ‰€æœ‰çš„<strong>å®šä¹‰</strong>ä¹Ÿç”¨ä½œ<strong>å£°æ˜</strong>ã€‚ä¸Šè¿°ä¾‹å­ä¸­çš„<code>int x</code>æ˜¯ å®šä¹‰ï¼Œä¹Ÿæ˜¯å£°æ˜ã€‚</p><p>å¤šæ•°æƒ…å†µä¸‹ï¼Œ<strong>å®šä¹‰</strong>ç¬¦åˆæˆ‘ä»¬çš„ç›®çš„ï¼Œå› ä¸ºå®šä¹‰èƒ½åŒæ—¶æ»¡è¶³â€œç¼–è¯‘å™¨â€å’Œâ€œé“¾æ¥å™¨â€çš„è¦æ±‚ã€‚</p><hr><p><red>ã€æ‰€æœ‰çš„<strong>å®šä¹‰</strong>éƒ½æ˜¯<strong>å£°æ˜</strong>ï¼Œä½†æ‰€æœ‰çš„<strong>å£°æ˜</strong>å¹¶ä¸ä¸€å®šæ˜¯<strong>å®šä¹‰</strong>ã€‚è¿™äº›ä¸æ˜¯å®šä¹‰çš„å£°æ˜æœ‰ä¸€ä¸ªåå­—ï¼š<u><strong>çº¯å£°æ˜(pure declarations)</strong></u>ã€‘</red></p><ul><li>ä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼š<u>å‡½æ•°åŸå‹(function prototype)</u>ï¼Œå®ƒæ»¡è¶³ç¼–è¯‘å™¨çš„è¦æ±‚ï¼Œä½†ä¸æ»¡è¶³é“¾æ¥å™¨çš„è¦æ±‚ã€‚</li><li>å…¶ä»–ç±»å‹çš„çº¯å£°æ˜åŒ…å«ï¼šæå‰å£°æ˜å˜é‡ å’Œ ç±»å‹å£°æ˜ã€‚</li></ul><p><strong>å•å®šä¹‰è§„åˆ™ä¸é€‚ç”¨äºçº¯å£°æ˜ã€‚</strong>æ‰€ä»¥ï¼Œä½ å¯ä»¥å¯¹ä¸€äº›æ ‡è¯†ç¬¦å£°æ˜nå¤šæ¬¡éƒ½å¯ä»¥ï¼ˆè™½ç„¶å£°æ˜næ¬¡ï¼Œä¼šæœ‰å¾ˆå¤šæ¬¡æ˜¯å†—ä½™çš„ï¼‰</p><hr><p>å°ç»“ï¼š</p><p>åœ¨å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸­ï¼Œâ€œå£°æ˜â€å°±æ˜¯æŒ‡â€œçº¯å£°æ˜â€ï¼›â€œå®šä¹‰â€å°±æ˜¯æŒ‡â€œå®šä¹‰ä¹Ÿå¯ä»¥ç”¨äºå£°æ˜â€ã€‚æ‰€ä»¥ï¼Œ<code>int x;</code>æ˜¯ä¸€ä¸ªå®šä¹‰ï¼ˆè™½ç„¶ä»–æ—¢æ˜¯å®šä¹‰ï¼Œä¹Ÿæ˜¯å£°æ˜ï¼‰</p><h2 id="2-9-å‘½åå†²çª-amp-å‘½åç©ºé—´"><a href="#2-9-å‘½åå†²çª-amp-å‘½åç©ºé—´" class="headerlink" title="2.9 å‘½åå†²çª&amp;å‘½åç©ºé—´"></a>2.9 å‘½åå†²çª&amp;å‘½åç©ºé—´</h2><h3 id="å‘½åå†²çª"><a href="#å‘½åå†²çª" class="headerlink" title="å‘½åå†²çª"></a>å‘½åå†²çª</h3><p><strong>å‘½åå†²çªï¼šnaming collision</strong> (or <strong>naming conflict</strong>).</p><blockquote><p>å°†ä¸¤ä¸ªåŒåçš„æ ‡è¯†ç¬¦æ”¾åœ¨åŒä¸€ä¸ªç¨‹åºä¸­ï¼Œç¼–è¯‘å™¨æˆ–è€…é“¾æ¥å™¨æ— æ³•åŒºåˆ†å®ƒä»¬æ—¶ï¼Œå°±ä¼šæŠ¥é”™ã€‚è¿™ç§æƒ…å†µå°±æ˜¯ï¼š<strong>å‘½åå†²çª</strong></p></blockquote><p>ä¾‹å¦‚ï¼š</p><blockquote><p>a.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myFcn</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>main.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myFcn</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">2</span> * x;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç¼–è¯‘å™¨ç¼–è¯‘è¿™ä¸ªç¨‹åºæ—¶ï¼Œå®ƒå°†ä¼š<strong>å•ç‹¬çš„</strong>ç¼–è¯‘<em>a.cpp</em>å’Œ<em>main.cpp</em>ï¼Œæ¯ä¸ªcppæ–‡ä»¶éƒ½ç¼–è¯‘æˆåŠŸã€‚ä½†æ˜¯ï¼Œå½“é“¾æ¥æ—¶ï¼Œé“¾æ¥å™¨å°†ä¼šé“¾æ¥<em>a.cpp</em>å’Œ<em>main.cpp</em>ä¸­æ‰€æœ‰çš„å®šä¹‰åˆ°ä¸€èµ·ï¼Œæ­¤æ—¶å°±å‘ç°å‡½æ•°<em>myFun</em>å‘½åå†²çªäº†ã€‚ã€æ³¨æ„ï¼Œè™½ç„¶å‡½æ•°<em>myFun</em>æ²¡æœ‰è¢«è°ƒç”¨ï¼Œä½†åœ¨é“¾æ¥æ—¶è¿˜æ˜¯ä¼šå‡ºé”™ã€‘</p><p>å‘½åå†²çªä¸€èˆ¬å‡ºç°åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ol><li>ä¸€ä¸ªå‡½æ•°(æˆ–å…¨å±€å˜é‡)çš„ä¸¤ä¸ª(æˆ–å¤šä¸ª)å®šä¹‰è¢«å¼•å…¥åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œè¿™äº›æ–‡ä»¶è¢«ç¼–è¯‘åˆ°åŒä¸€ä¸ªç¨‹åºä¸­ã€‚è¿™å°†å¯¼è‡´ä¸€ä¸ª<strong>é“¾æ¥å™¨é”™è¯¯</strong>ï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚</li><li>ä¸€ä¸ªå‡½æ•°(æˆ–å…¨å±€å˜é‡)çš„ä¸¤ä¸ª(æˆ–å¤šä¸ª)å®šä¹‰è¢«å¼•å…¥åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­(é€šå¸¸é€šè¿‡#include)ã€‚è¿™å°†å¯¼è‡´<strong>ç¼–è¯‘å™¨é”™è¯¯</strong>ã€‚</li></ol><p>å¯¹äº<strong>å±€éƒ¨å˜é‡</strong>ï¼ŒC++æä¾›ä¸€ç§å±€éƒ¨èŒƒå›´çš„æœºåˆ¶ï¼Œå®ƒä½¿å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡ä¸ä¼šå†²çªã€‚ä½†è¿™ç§æœºåˆ¶å¯¹äºå‡½æ•°çš„åå­—æ— æ•ˆã€‚</p><h3 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h3><p><strong>å‘½åç©ºé—´ï¼šnamespace</strong></p><p><strong>å‘½åç©ºé—´ï¼š</strong>ä¹‹æ‰€ä»¥å‡ºæ¥è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼Œæ˜¯å› ä¸ºäººç±»å¯ç”¨çš„å•è¯æ•°å¤ªå°‘ï¼Œå¹¶ä¸”ä¸åŒçš„äººå†™çš„ç¨‹åºä¸å¯èƒ½æ‰€æœ‰çš„å˜é‡éƒ½æ²¡æœ‰é‡åç°è±¡ï¼Œå¯¹äºåº“æ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜å°¤å…¶ä¸¥é‡ï¼Œå¦‚æœä¸¤ä¸ªäººå†™çš„åº“æ–‡ä»¶ä¸­å‡ºç°åŒåçš„å˜é‡æˆ–å‡½æ•°(ä¸å¯é¿å…)ï¼Œä½¿ç”¨èµ·æ¥å°±æœ‰é—®é¢˜äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº†åå­—ç©ºé—´è¿™ä¸ªæ¦‚å¿µï¼Œé€šè¿‡ä½¿ç”¨ namespace xxxï¼›ä½ æ‰€ä½¿ç”¨çš„åº“å‡½æ•°æˆ–å˜é‡å°±æ˜¯åœ¨è¯¥åå­—ç©ºé—´ä¸­å®šä¹‰çš„ï¼Œè¿™æ ·ä¸€æ¥å°±ä¸ä¼šå¼•èµ·ä¸å¿…è¦çš„å†²çªäº†ã€‚</p><blockquote><p>æ³¨æ„ï¼Œåœ¨åŒä¸€å‘½åç©ºé—´ä¸­ï¼Œæ‰€æœ‰çš„åå­—å¿…é¡»æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚</p></blockquote><h4 id="å…¨å±€å‘½åç©ºé—´"><a href="#å…¨å±€å‘½åç©ºé—´" class="headerlink" title="å…¨å±€å‘½åç©ºé—´"></a>å…¨å±€å‘½åç©ºé—´</h4><p>åœ¨C++ä¸­ï¼Œä»»ä½•æ²¡æœ‰å®šä¹‰åœ¨ ç±»ã€å‡½æ•°ã€æˆ– å‘½åç©ºé—´ çš„åå­—ï¼Œéƒ½è¢«é»˜è®¤çš„å½’ä¸ºâ€œ<strong>å…¨å±€å‘½åç©ºé—´(global namespace)</strong>â€ï¼Œæœ‰æ—¶ä¹Ÿå«â€œ<strong>å…¨å±€èŒƒå›´(global scope)</strong>â€</p><h4 id="std-å‘½åç©ºé—´"><a href="#std-å‘½åç©ºé—´" class="headerlink" title="std å‘½åç©ºé—´"></a>std å‘½åç©ºé—´</h4><p>åœ¨æœ€åˆè®¾è®¡c++æ—¶ï¼Œc++æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰æ ‡è¯†ç¬¦(åŒ…æ‹¬std::cinå’Œstd::cout)éƒ½å¯ä»¥åœ¨æ²¡æœ‰std::å‰ç¼€çš„æƒ…å†µä¸‹ä½¿ç”¨(å®ƒä»¬æ˜¯å…¨å±€å‘½åç©ºé—´çš„ä¸€éƒ¨åˆ†)ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ„å‘³ç€æ ‡å‡†åº“ä¸­çš„ä»»ä½•æ ‡è¯†ç¬¦éƒ½å¯èƒ½ä¸ä½ è‡ªå·±å®šä¹‰çš„æ ‡è¯†ç¬¦çš„åå­—(ä¹Ÿåœ¨å…¨å±€åç§°ç©ºé—´ä¸­å®šä¹‰)å‘ç”Ÿå†²çªã€‚</p><p>ä¸ºäº†é¿å…è¿™ç§å†²çªï¼ŒC++å°†æ‰€æœ‰æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½ç§»å…¥ä¸€ä¸ªå«åš<strong>â€œstd(æ˜¯standardçš„ç®€ç§°)â€çš„å‘½åç©ºé—´</strong>ï¼Œå³ï¼š<strong>std namespace</strong></p><blockquote><p>æ‰€ä»¥ï¼Œä½ çœ‹åˆ°çš„<em>std::cout</em>ï¼Œè¿™å¹¶ä¸æ˜¯å®ƒçš„åå­—ï¼Œå®ƒå®é™…ä¸Šåªæ˜¯<em>cout</em>ï¼Œ<em>std</em>åªæ˜¯å‘½åç©ºé—´çš„åå­—ï¼Œè€Œ<em>cout</em>æ˜¯std namespaceä¸­çš„ä¸€éƒ¨åˆ†ã€‚</p></blockquote><p><strong>ã€æ³¨ã€‘ï¼šå¦‚æœä½ ä½¿ç”¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­çš„æ ‡è¯†ç¬¦ï¼Œä½ å¿…é¡»å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦æ˜¯åœ¨è¿™ä¸ªå‘½åç©ºé—´å†…ã€‚</strong></p><hr><ol><li><p><strong>æ˜¾ç¤ºçš„å‘½åç©ºé—´é™å®šç¬¦ std::</strong></p><p>æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ï¼šå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬ä½¿ç”¨<em>cout</em>æ˜¯æ¥è‡ª <em>std</em>è¿™ä¸ªnamespace(å‘½åç©ºé—´)çš„ã€‚å¯ä»¥ä½¿ç”¨å‰ç¼€ â€œstd::â€ æ¥å®Œæˆï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// when we say cout, we mean the cout defined in the std namespace</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>â€˜::â€™</strong> æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå«åš<strong>â€œä½œç”¨åŸŸè§£æç¬¦(scope resolution operator)â€</strong>ã€‚</p><p>åœ¨å®ƒå·¦è¾¹çš„æ ‡è¯†ç¬¦è¡¨ç¤ºï¼šæ‰€åœ¨å‘½åç©ºé—´çš„åç§°ï¼›åœ¨å®ƒå³è¾¹çš„æ ‡è¯†ç¬¦è¡¨ç¤ºï¼šè¿™ä¸ªå‘½åç©ºé—´çš„ä¸€ä¸ª æ ‡è¯†ç¬¦ã€‚</p><p>ã€æ³¨ã€‘å¦‚æœâ€œ::â€çš„å·¦è¾¹æ²¡æœ‰ä¸œè¥¿ï¼Œåˆ™é»˜è®¤ä¸ºå®ƒåœ¨<strong>å…¨å±€å‘½åç©ºé—´( global namespace )</strong>ä¸­ã€‚</p></blockquote><p>std::coutå°±è¡¨ç¤º<em>cout</em>æ˜¯åœ¨ std namsoace ä¸­ã€‚</p></li></ol><ol start="2"><li><p><strong>using namespace std</strong></p><p>å¦ä¸€ç§æ–¹æ³•æ˜¯ï¼šç”¨<strong>ä½¿ç”¨æŒ‡ä»¤(using directive)**</strong><code>using namespace std</code>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// this is a using directive telling the compiler to check the std namespace when resolving identifiers with no prefix</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// cout has no prefix, so the compiler will check to see if cout is defined locally or in namespace std</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>using directive</strong>ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ å½“è¯•å›¾è§£æä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨<u>å‘½åç©ºé—´å‰ç¼€(namespace prefix)</u>çš„æ ‡è¯†ç¬¦æ—¶ï¼Œæ£€æŸ¥ä¸€ä¸ªæŒ‡å®šçš„å‘½åç©ºé—´ã€‚</p></blockquote><p><strong>ã€ä¸æ¨èæ­¤æ–¹æ³•ã€‘</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // imports the declaration of std::cout</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// makes std::cout accessible as "cout"</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cout</span><span class="params">()</span> <span class="comment">// declares our own "cout" function</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>; <span class="comment">// Compile error!  Which cout do we want here?  The one in the std namespace or the one we defined above?</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µï¼Œå°†ä¸ä¼šè¢«ç¼–è¯‘ã€‚å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“æˆ‘ä»¬åˆ°åº•æƒ³ç”¨æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„coutå‡½æ•°ï¼Œè¿˜æ˜¯æƒ³ç”¨ stdå‘½åç©ºé—´ ä¸­çš„coutå‡½æ•°ã€‚</p><p>å¹¶ä¸”ï¼Œè™½ç„¶æ ‡è¯†ç¬¦åç§°ç°åœ¨å¯èƒ½ä¸å†²çªï¼Œä½†åœ¨å°†æ¥çš„è¯­è¨€ä¿®è®¢ä¸­ï¼Œå®ƒå¯èƒ½ä¸æ·»åŠ åˆ°stdåç§°ç©ºé—´çš„æ–°æ ‡è¯†ç¬¦å‘ç”Ÿå†²çªã€‚</p></li></ol><h2 id="2-10-é¢„å¤„ç†å™¨"><a href="#2-10-é¢„å¤„ç†å™¨" class="headerlink" title="2.10 é¢„å¤„ç†å™¨"></a>2.10 é¢„å¤„ç†å™¨</h2><p>åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œä»£ç è¦ç»è¿‡ä¸€ä¸ªé˜¶æ®µï¼Œå«åšâ€œ<strong>ç¿»è¯‘(translation)</strong>â€ã€‚åœ¨ç¿»è¯‘é˜¶æ®µä¼šå‘ç”Ÿè®¸å¤šäº‹æƒ…ï¼Œä»¥ä½¿æ‚¨çš„ä»£ç å‡†å¤‡å¥½è¢«ç¼–è¯‘(å¦‚æœæ‚¨æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨<a href="https://en.cppreference.com/w/cpp/language/translation_phases" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°ç¿»è¯‘é˜¶æ®µçš„åˆ—è¡¨)ã€‚åº”ç”¨ç¿»è¯‘çš„ä»£ç æ–‡ä»¶ç§°ä¸º<strong>ç¿»è¯‘å•å…ƒ(translation unit)</strong>ã€‚</p><p>æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šç¿»è¯‘é˜¶æ®µåŒ…å«<strong>é¢„å¤„ç†å™¨(preprocessor)</strong>ã€‚æœ€å¥½å°†é¢„å¤„ç†å™¨çœ‹ä½œæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç¨‹åºï¼Œå®ƒå¤„ç†æ¯ä¸ªä»£ç æ–‡ä»¶ä¸­çš„æ–‡æœ¬éƒ¨åˆ†ã€‚</p><p>å½“é¢„å¤„ç†å™¨è¿è¡Œæ—¶ï¼Œå®ƒä»å¤´åˆ°å°¾çš„æ‰«ææºç æ–‡ä»¶ï¼Œå¯»æ‰¾é¢„å¤„ç†ç¨‹åºæŒ‡ä»¤ã€‚</p><blockquote><p><strong>é¢„å¤„ç†æŒ‡ä»¤(preprocessor directives)ï¼Œä¹Ÿç§°ä½œdirectives</strong>ï¼š<u>æ˜¯ä»¥â€œ#â€ç¬¦å·å¼€å§‹ï¼Œä»¥æ¢è¡Œç¬¦ç»“æŸçš„æŒ‡ä»¤(ä¸æ˜¯åˆ†å·ï¼Œå³ä¸è¦åŠ åˆ†å·)</u>ã€‚</p></blockquote><ul><li><strong>â€œä½¿ç”¨æŒ‡ä»¤(using directives)â€</strong>ä¸æ˜¯é¢„å¤„ç†æŒ‡ä»¤ï¼Œæ‰€ä»¥ä¸ä¼šè¢«é¢„å¤„ç†å™¨å¤„ç†ã€‚æ‰€ä»¥å½“æèµ·â€œdirectiveâ€ï¼Œé€šå¸¸æŒ‡çš„æ˜¯â€œpreprocessor directiveâ€</li></ul><h4 id="include"><a href="#include" class="headerlink" title="include"></a>include</h4><p>å½“ä½ <em>#include*ä¸€ä¸ªæ–‡ä»¶ï¼Œé¢„å¤„ç†å™¨å°†ä¼šæŠŠ</em>#include*æŒ‡ä»¤ æ›¿æ¢ä¸º include fileçš„å†…å®¹ã€‚ï¼ˆinclude file çš„å†…å®¹å°†ä¼šè¢«é¢„å¤„ç†ï¼Œç„¶åè¢«ç¼–è¯‘ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“é¢„å¤„ç†å™¨è¿è¡Œæ—¶ï¼Œé¢„å¤„ç†å™¨å°†ä¼šæŠŠ<code>#include &lt;iostream&gt;</code>æ›¿æ¢ä¸º åä¸ºâ€œiostreamâ€çš„æ–‡ä»¶ã€‚</p></blockquote><h4 id="å®å®šä¹‰"><a href="#å®å®šä¹‰" class="headerlink" title="å®å®šä¹‰"></a>å®å®šä¹‰</h4><p><strong>å®å®šä¹‰ï¼šMacro defines</strong></p><p><em>#include</em> æŒ‡ä»¤å¯ä»¥ç”¨æ¥åˆ›å»º<strong>å®</strong>ã€‚åœ¨C++ä¸­ï¼Œ<strong>å®</strong>æ˜¯å®šä¹‰å¦‚ä½•å°† â€˜è¾“å…¥æ–‡æœ¬â€™ è½¬æ¢ä¸º â€˜æ›¿æ¢è¾“å‡ºæ–‡æœ¬â€™ã€‚</p><p>å®æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼š1ï¸âƒ£<strong>å¯¹è±¡å¼å®</strong>(<em>object-like macros</em>)ã€‚2ï¸âƒ£<strong>å‡½æ•°å¼å®</strong>( <em>function-like macros</em>)</p><ol><li><p>å‡½æ•°å¼å®</p><p>å‡½æ•°å¼å®çš„ä½œç”¨ç±»ä¼¼äºå‡½æ•°ï¼Œå¹¶å…·æœ‰ç±»ä¼¼çš„ç”¨é€”ã€‚</p></li><li><p>å¯¹è±¡å¼å®</p><p>å¯ä»¥è¢«å®šä¹‰æˆä»¥ä¸‹ä¸¤ç§å½¢å¼ï¼š</p><ul><li><p>#define identifier</p></li><li><p>#define identifier substitution_text</p><blockquote><p>æ­¤å¤„ï¼Œidentifierï¼šå®åã€ä¸€èˆ¬æ˜¯å¤§å†™å­—æ¯ï¼Œç”¨ä¸‹åˆ’çº¿è¡¨ç¤ºç©ºæ ¼ã€‘ï¼›substitution_textï¼šæ›¿æ¢æ–‡æœ¬(æ›¿æ¢è¾“å‡ºæ–‡æœ¬)</p></blockquote></li></ul><p>1.å¸¦æœ‰è¾“å‡ºæ–‡æœ¬(substitution_text)ï¼šå½“é¢„å¤„ç†å™¨å¤„ç†æ­¤æ¡æŒ‡ä»¤æ—¶ï¼Œå®å å°†ä¼šè¢«æ›¿æ¢ä¸ºâ€˜è¾“å‡ºæ–‡æœ¬â€™ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MY_NAME <span class="meta-string">"Alex"</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"My name is: "</span> &lt;&lt; MY_NAME;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢„å¤„ç†ç¨‹åºå°†ä¸Šè¿°è½¬æ¢ä¸ºä»¥ä¸‹å†…å®¹:</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"My name is: "</span> &lt;&lt; <span class="string">"Alex"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.ä¸å¸¦è¾“å‡ºæ–‡æœ¬ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> USE_YEN</span></span><br></pre></td></tr></table></figure><p>å¦‚ä½ æ‰€æƒ³ï¼Œè¿™æ¡å®æŒ‡ä»¤å·¥ä½œæ–¹å¼ï¼šæ ‡è¯†ç¬¦çš„ä»»ä½•è¿›ä¸€æ­¥å‡ºç°éƒ½å°†è¢«åˆ é™¤ï¼Œå¹¶å°†è¢«nothingæ›¿æ¢!</p></li></ol><h4 id="æ¡ä»¶ç¼–è¯‘"><a href="#æ¡ä»¶ç¼–è¯‘" class="headerlink" title="æ¡ä»¶ç¼–è¯‘"></a>æ¡ä»¶ç¼–è¯‘</h4><p><strong>æ¡ä»¶ç¼–è¯‘ï¼šconditional compilation</strong></p><p>ä½¿ç”¨<strong>æ¡ä»¶ç¼–è¯‘çš„é¢„å¤„ç†æŒ‡ä»¤</strong>å¯ä»¥è®¾ç½®åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ç¼–è¯‘ï¼Œä»€ä¹ˆæ¡ä»¶ä¸‹ä¸ç¼–è¯‘ã€‚æ¯”è¾ƒå¸¸è§çš„æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š<em>#ifdef*ã€</em>#ifndef<em>ã€</em>#endif*</p><ul><li><p><strong><em>#ifdef</em></strong> é¢„å¤„ç†æŒ‡ä»¤å…è®¸é¢„å¤„ç†å™¨æ£€æŸ¥è¿™ä¸ªæ ‡è¯†ç¬¦(identifier)æ˜¯å¦å·²ç»è¢« #define(å®šä¹‰äº†)ã€‚å¦‚æœè¢«å®šä¹‰ï¼Œé‚£ä¹ˆåœ¨<em>#ifdef*å’Œ</em>#endif*ä¹‹é—´çš„ä»£ç å°†ä¼šè¢«ç¼–è¯‘ï¼›å¦‚æœæ²¡è¢«å®šä¹‰ï¼Œè¿™äº›ä»£ç å°†ä¼šè¢«å¿½ç•¥ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRINT_JOE</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> PRINT_JOE</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Joe\n"</span>; <span class="comment">// if PRINT_JOE is defined, compile this code</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> PRINT_BOB</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob\n"</span>; <span class="comment">// if PRINT_BOB is defined, compile this code</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong><em>ifndef</em></strong>æŒ‡ä»¤å’Œ<em>ifdef*æŒ‡ä»¤çš„ä½œç”¨æ˜¯ç›¸åçš„ã€‚å³ï¼Œå¦‚æœè¿™ä¸ªæ ‡è¯†ç¬¦æ²¡æœ‰è¢« #defineï¼Œé‚£ä¹ˆåœ¨</em>#ifndef<em>å’Œ</em>#endif*ä¹‹é—´çš„ä»£ç æ‰ä¼šè¢«ç¼–è¯‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> PRINT_BOB</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob\n"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœæ˜¯â€œBobâ€,å› ä¸ºPRINT_BOBæ²¡æœ‰è¢« #defineï¼Œæ‰€æœ‰æ‰ä¼šæ‰§è¡Œã€‚</p></li><li><p><strong><em>#if 0</em></strong> ï¼šæ¡ä»¶ç¼–è¯‘çš„å¦ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯ä½¿ç”¨<em>#if 0</em>æ¥æ’é™¤æ­£åœ¨ç¼–è¯‘çš„ä»£ç å—(å°±åƒå®ƒåœ¨ä¸€ä¸ªæ³¨é‡Šå—ä¸­ä¸€æ ·):</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Joe\n"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 0 <span class="comment">// Don't compile anything starting here</span></span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Steve\n"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// until this point</span></span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ã€æ³¨ã€‘<strong>å¯¹è±¡å¼å®</strong>ä¸ä¼šå½±å“<strong>é¢„å¤„ç†å™¨çš„å…¶ä»–æŒ‡ä»¤</strong></p><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FOO 9 <span class="comment">// Here's a macro substitution</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> FOO <span class="comment">// This FOO does not get replaced because itâ€™s part of another preprocessor directive</span></span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; FOO; <span class="comment">// This FOO gets replaced with 9 because it's part of the normal code</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h4 id="å®å®šä¹‰çš„èŒƒå›´"><a href="#å®å®šä¹‰çš„èŒƒå›´" class="headerlink" title="å®å®šä¹‰çš„èŒƒå›´"></a>å®å®šä¹‰çš„èŒƒå›´</h4><p>æŒ‡ä»¤åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œä»ä¸Šåˆ°ä¸‹é€ä¸ªæ–‡ä»¶åœ°è§£æã€‚</p><ol><li><strong>åŒä¸€æ–‡ä»¶ä¸­</strong></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MY_NAME <span class="meta-string">"Alex"</span></span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"My name is: "</span> &lt;&lt; MY_NAME;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶ï¼Œä¸Šé¢çš„ä»£ç è¡¨é¢ä¸Šçœ‹èµ·æ¥ï¼š<em>#define MY_NAME â€œAlexâ€</em>æ˜¯å®šä¹‰åœ¨å‡½æ•°<em>foo</em>å†…éƒ¨çš„ã€‚<strong>ä½†æ˜¯é¢„å¤„ç†å™¨å°†ä¸ä¼šæ³¨æ„ï¼Œå› ä¸ºå®ƒä¸æ‡‚C++ä¸­çš„æ¦‚å¿µï¼Œä¾‹å¦‚å‡½æ•°ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªç¨‹åºçš„æ‰§è¡Œæµç¨‹ä¸#define MY_NAME â€œAlexâ€åœ¨å‡½æ•°fooä¹‹å‰æˆ–ä¹‹åå®šä¹‰çš„è¡Œä¸ºç›¸åŒã€‚</strong>ä½†æ˜¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹ æƒ¯äºå°† <code>#define identifiers</code>è¿™ç§å®å®šä¹‰æ”¾åœ¨å‡½æ•°çš„å¤–é¢ã€‚</p><ol start="2"><li><strong>åŒä¸€é¡¹ç›®çš„ä¸åŒæ–‡ä»¶ä¸­</strong></li></ol><p>é¢„å¤„ç†ç¨‹åºå®Œæˆåï¼Œå°†ä¸¢å¼ƒè¯¥æ–‡ä»¶ä¸­å®šä¹‰çš„æ‰€æœ‰æ ‡è¯†ç¬¦ã€‚è¿™æ„å‘³ç€æŒ‡ä»¤ä»…ä»<strong>å®šä¹‰ç‚¹</strong>åˆ°<strong>å®šä¹‰å®ƒä»¬çš„æ–‡ä»¶æœ«å°¾</strong>æœ‰æ•ˆã€‚<u>åœ¨ä¸€ä¸ªä»£ç æ–‡ä»¶ä¸­å®šä¹‰çš„æŒ‡ä»¤ä¸ä¼šå½±å“åŒä¸€é¡¹ç›®ä¸­çš„å…¶ä»–ä»£ç æ–‡ä»¶ã€‚</u></p><p>exampleï¼š</p><p><code>function.cpp:</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> PRINT</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Printing!"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> PRINT</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Not printing!"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>; <span class="comment">// forward declaration for function doSomething()</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRINT</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    doSomething();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œçš„ç»“æœæ˜¯ï¼šNot printing!</p><p><strong>å› ä¸ºæ–‡ä»¶ä¹‹é—´çš„å®å®šä¹‰äº’ä¸å½±å“ã€‚</strong></p><h2 id="2-11-å¤´æ–‡ä»¶"><a href="#2-11-å¤´æ–‡ä»¶" class="headerlink" title="2.11 å¤´æ–‡ä»¶"></a>2.11 å¤´æ–‡ä»¶</h2><p><strong>å¤´æ–‡ä»¶ï¼šHeader files</strong></p><p>å½“ç¨‹åºå˜å¾—è¶Šæ¥è¶Šå¤§äº†ï¼Œå¯¹æ¯ä¸ªå‡½æ•°éƒ½è¿›è¡Œæå‰å£°æ˜æ˜¯å¾ˆä¹å‘³æ— è¶£çš„ã€‚å¦‚æœèƒ½å¤Ÿå°†æ‰€æœ‰çš„ æå‰å£°æ˜ æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œç„¶ååœ¨éœ€è¦æ—¶å¯¼å…¥å®ƒä»¬ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—?</p><blockquote><p><strong>code files</strong>ï¼š<strong>æºæ–‡ä»¶(åç¼€ .cpp)</strong>ï¼›<strong>header files</strong>ï¼š<strong>å¤´æ–‡ä»¶(åç¼€ .h æˆ– .hpp)</strong></p></blockquote><p>å¤´æ–‡ä»¶çš„ä¸»è¦ç”¨é€”å°±æ˜¯ï¼šå°† å£°æ˜ å¼•å…¥ æºæ–‡ä»¶ ä¸­ã€‚</p><h4 id="ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶"><a href="#ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶"></a>ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºä½¿ç”¨<em>std::cout</em>ã€‚ä½†æ˜¯è¿™ä¸ªç¨‹åºæ²¡æœ‰æä¾›å…³äº<em>std::cout</em>çš„å£°æ˜æˆ–è€…å®šä¹‰ï¼Œé‚£ç¼–è¯‘å™¨æ˜¯å¦‚ä½•çŸ¥é“<em>std::cout</em>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç­”ï¼šå› ä¸º<em>std::cout<em>åœ¨å¤´æ–‡ä»¶â€œiostreamâ€ ä¸­ å·²ç»æå‰å£°æ˜è¿‡äº†ã€‚å½“æˆ‘ä»¬<code>#include &lt;iostream&gt;</code>æ—¶ï¼Œæˆ‘ä»¬å°±è¯·æ±‚é¢„å¤„ç†å™¨å°†å¤´æ–‡ä»¶â€œiostreamâ€ä¸­çš„æ‰€æœ‰å†…å®¹(å½“ç„¶ä¹ŸåŒ…å«</em>std::cout</em>)éƒ½å¤åˆ¶è¿‡æ¥ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong><red>å½“<code>#include xxx</code>æ—¶ï¼Œxxxå¤´æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹éƒ½è¢«å¼•å…¥åˆ°å½“å‰æ–‡ä»¶ä¸­ã€‚</red></p></blockquote><p><strong>å¤´æ–‡ä»¶é€šå¸¸åªåŒ…å«ï¼šå‡½æ•°å’Œå¯¹è±¡çš„å£°æ˜ï¼Œä¸åŒ…å«å®ƒä»¬çš„å®šä¹‰</strong>ã€‚</p><blockquote><p>å¦‚ <em>std::cout</em>åœ¨å¤´æ–‡ä»¶â€œiostreamâ€ä¸­<u>å£°æ˜</u>ï¼Œ ä½† <u>å®šä¹‰</u>ä¸ºc++æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨é“¾æ¥å™¨é˜¶æ®µè‡ªåŠ¨é“¾æ¥åˆ°ç¨‹åºä¸­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter2/IncludeLibrary.png" alt="IncludeLibrary"></p></blockquote><h4 id="åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶"><a href="#åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶"></a>åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶</h4><p>æ­¥éª¤ï¼š</p><ol><li><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦(header guaed)</strong></li><li>ç„¶åæ·»åŠ å¤´æ–‡ä»¶(åç¼€ .h)è¿›è¡Œå£°æ˜ï¼›ç›¸åº”çš„ä¹Ÿè¦æ·»åŠ æºæ–‡ä»¶(åç¼€ .cpp)è¿›è¡Œå®šä¹‰ã€‚ã€æ³¨æ„å¤´æ–‡ä»¶ã€æºæ–‡ä»¶çš„åå­—è¦ä¸€æ ·ã€‘</li></ol><p>åˆ›å»ºå®Œä¹‹åï¼š</p><p><code>add.h</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1) We really should have a header guard here, but will omit it for simplicity (we'll cover header guards in the next lesson)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2) This is the content of the .h file, which is where the declarations go</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// function prototype for add.h -- don't forget the semicolon!</span></span><br></pre></td></tr></table></figure><p><code>add.cpp</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"add.h"</span> <span class="comment">// Insert contents of add.h at this point.  Note use of double quotes here.ã€ä¸æ˜¯æ ‡å‡†åº“çš„å¤´æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨åŒå¼•å·""ã€‘</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç¨‹åºçš„ç¼–è¯‘ã€é“¾æ¥è¿‡ç¨‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter2/IncludeHeader.png" alt="IncludeHeader"></p><h4 id="å¤´æ–‡ä»¶çš„-lt-gt-amp-â€â€"><a href="#å¤´æ–‡ä»¶çš„-lt-gt-amp-â€â€" class="headerlink" title="å¤´æ–‡ä»¶çš„&lt;&gt;&amp;â€â€"></a>å¤´æ–‡ä»¶çš„&lt;&gt;&amp;â€â€</h4><p><strong>å°–æ‹¬å·</strong>ï¼š<strong>Angled brackets</strong> ï¼Œå³<strong>&lt;&gt;</strong>ã€‚å°–æ‹¬å·ç”¨æ¥å‘Šè¯‰é¢„å¤„ç†ç¨‹åºæˆ‘ä»¬åŒ…å«äº†ç¼–è¯‘å™¨åŒ…å«çš„å¤´æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒåº”è¯¥åœ¨<u>ç³»ç»Ÿç›®å½•ä¸­æŸ¥æ‰¾é‚£ä¸ªå¤´æ–‡ä»¶</u>ã€‚</p><p><strong>åŒå¼•å·</strong>ï¼š<strong>double-quotes</strong>ï¼Œå³<strong>â€œâ€</strong>ã€‚åŒå¼•å·å‘Šè¯‰é¢„å¤„ç†å™¨è¿™æ˜¯ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¤´æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒåº”è¯¥åœ¨å½“å‰ç›®å½•ä¸­å¯»æ‰¾è¿™ä¸ªå¤´æ–‡ä»¶ã€‚å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå®ƒä¼šæ£€æŸ¥å…¶ä»–çš„åŒ…å«è·¯å¾„(å·²æŒ‡å®šä¸ºcompiler/IDEè®¾ç½®çš„ä¸€éƒ¨åˆ†çš„è·¯å¾„)ã€‚å¦‚æœè¿˜æ˜¯å¤±è´¥çš„è¯ï¼Œå®ƒå°†å»ç³»ç»Ÿç›®å½•ä¸­å¯»æ‰¾è¿™ä¸ªå¤´æ–‡ä»¶ã€‚</p><h4 id="â€œiostreamâ€æ²¡-h-åç¼€ï¼Ÿ"><a href="#â€œiostreamâ€æ²¡-h-åç¼€ï¼Ÿ" class="headerlink" title="â€œiostreamâ€æ²¡ .h åç¼€ï¼Ÿ"></a>â€œiostreamâ€æ²¡ .h åç¼€ï¼Ÿ</h4><ol><li><p>å¥½å¥‡ï¼Œä¸ºä»€ä¹ˆâ€œiostreamâ€(æˆ–è€…å…¶ä»–æ ‡å‡†åº“å¤´æ–‡ä»¶)æ²¡æœ‰åç¼€ .hï¼Ÿ</p><p>ç­”ï¼šå› ä¸º<em>iostream.h</em>æ˜¯å¦ä¸€ä¸ªå¤´æ–‡ä»¶</p></li><li><p><em>iostream.h</em>ä¸<em>iostream</em>ï¼š</p><p>åœ¨C++æœ€å¼€å§‹åˆ›å»ºçš„æ—¶å€™ï¼Œæ‰€æœ‰æ ‡å‡†åº“éƒ½æ˜¯æœ‰ .h åç¼€çš„ã€‚ä½†æ˜¯ï¼Œåæ¥ANSIå§”å‘˜ä¼šä¿®æ”¹C++ï¼Œå°†æ‰€æœ‰çš„æ ‡å‡†åº“æ”¾åœ¨ <em>std å‘½åç©ºé—´</em> ä¸­ï¼Œè¿›è€Œé¿å…ä¸ç”¨æˆ·è‡ªå®šä¹‰çš„æ ‡è¯†ç¬¦ å†²çªã€‚</p><p>ä½†æ˜¯ä¸ºé¢˜æ¥äº†ï¼Œå°†è¿™äº›æ ‡å‡†åº“ç§»å…¥<em>std å‘½åç©ºé—´</em> åï¼Œä»¥å‰çš„ç¨‹åºå°†æ— æ³•è¿è¡Œã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ–°çš„å¤´æ–‡ä»¶ï¼š<em>iostream</em>å‡ºç°ï¼Œè¿™ä¸ªæ–°å¤´æ–‡ä»¶åŒ…å«äº† <em>iostream.h</em>çš„æ‰€æœ‰å†…å®¹ã€‚ç„¶åï¼Œæ—§çš„ç¨‹åºä¾ç„¶å¯ä»¥ç”¨<code>#include &lt;iostream.h&gt;</code>ï¼Œæ–°ç¨‹åºå°±ç”¨<code>#include &lt;iostream&gt;</code></p></li></ol><h4 id="å¤´æ–‡ä»¶è·¯å¾„å»ºè®®"><a href="#å¤´æ–‡ä»¶è·¯å¾„å»ºè®®" class="headerlink" title="å¤´æ–‡ä»¶è·¯å¾„å»ºè®®"></a>å¤´æ–‡ä»¶è·¯å¾„å»ºè®®</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"headers/myHeader.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../moreHeaders/myOtherHeader.h"</span></span></span><br></pre></td></tr></table></figure><p>è¿™ç§è®¾ç½®æˆè·¯å¾„å½¢å¼çš„å¤´æ–‡ä»¶ï¼Œå‡è®¾ç°åœ¨è·¯å¾„æ²¡é—®é¢˜ã€‚ä½†æ˜¯å¾ˆæœ‰å¯èƒ½åœ¨æŸä¸€å¤©ï¼Œä½ çš„æ–‡ä»¶ä½ç½®å°±ä¸å°å¿ƒçš„è¢«ç§»åŠ¨äº†ï¼Œè¿™æ—¶å€™å°±ç”¨ä¸äº†äº†ã€‚</p><p>ã€å»ºè®®ã€‘å°†ä½ å¹³å¸¸ä¼šç”¨åˆ°çš„å¾ˆå¤šä¸åŒçš„æ–‡ä»¶æ”¾åœ¨æ¯”è¾ƒå›ºå®šçš„åœ°æ–¹ï¼Œç„¶ååœ¨ä½ çš„ compiler/IDE è¿™ä¸ªå›ºå®šåœ°æ–¹çš„ä½ç½®ã€‚è¿™æ ·å½“å®ƒåœ¨å½“å‰ç›®å½•ä¸­æ‰¾ä¸åˆ°å®ƒä»¬æ—¶ï¼Œå®ƒå°±ä¼šå»ä½ è®¾ç½®çš„å›ºå®šä½ç½®æ‰¾ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨IDEé¡¹ç›®è®¾ç½®ä¸­è®¾ç½®åŒ…å«è·¯å¾„æˆ–æœç´¢ç›®å½•æ¥å®ç°ã€‚</p><blockquote><p>visual studioè®¾ç½®æ–¹æ³•ï¼š</p><p>åœ¨â€œè§£å†³æ–¹æ¡ˆâ€ä¸­ï¼Œç‚¹å‡»projectçš„â€œå±æ€§â€ï¼Œç„¶åçœ‹åˆ°â€œVC++ç›®å½•â€ä¸­çš„â€œåŒ…å«ç›®å½•(include directories)â€ï¼Œåœ¨è¿™é‡Œé¢æ·»åŠ ä½ è¦ä½¿ç”¨çš„å¤´æ–‡ä»¶çš„ç›®å½•ã€‚</p></blockquote><p>è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œå¦‚æœè¦æ›´æ”¹ç›®å½•ç»“æ„ï¼Œåªéœ€æ›´æ”¹å•ä¸ªç¼–è¯‘å™¨æˆ–IDEè®¾ç½®ï¼Œè€Œä¸å¿…æ›´æ”¹æ¯ä¸ªä»£ç æ–‡ä»¶ã€‚</p><h2 id="2-12-å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"><a href="#2-12-å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦" class="headerlink" title="2.12 å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"></a>2.12 å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</h2><p><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦ï¼šheader guards</strong></p><h3 id="é‡å¤å®šä¹‰"><a href="#é‡å¤å®šä¹‰" class="headerlink" title="é‡å¤å®šä¹‰"></a>é‡å¤å®šä¹‰</h3><p><strong>duplicate definitionï¼šé‡å¤å®šä¹‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å˜é‡é‡å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x; <span class="comment">// this is a definition for variable x</span></span><br><span class="line">    <span class="keyword">int</span> x; <span class="comment">// compile error: duplicate definition</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°é‡å®šä¹‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">()</span> <span class="comment">// this is a definition for function foo</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">()</span> <span class="comment">// compile error: duplicate definition</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; foo();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ¯”è¾ƒå®¹æ˜“ä¿®å¤ã€‚</p><hr><p>ä½†æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­çš„å®šä¹‰è¢«includeä¸æ­¢ä¸€æ¬¡ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨ ä¸€ä¸ªå¤´æ–‡ä»¶ åˆ#include å…¶ä»–å¤´æ–‡ä»¶ï¼š</p><p><code>square.h</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œä¸å»ºè®®å‡ºç° å®šä¹‰ï¼›ä½†æ˜¯è¿™é‡Œä¸ºäº†æ–¹ä¾¿ä¸¾ä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>geometry.h</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span></span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geometry.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªç¨‹åºã€‚é¦–å…ˆï¼Œåœ¨<code>main.cpp</code>ä¸­<em>#include square.h</em> ï¼Œå®ƒ(<em>square.h</em>)å°†<code>getSquareSides</code>å‡½æ•°çš„å®šä¹‰å¤åˆ¶åˆ°main.cppä¸­ã€‚ç„¶åï¼Œ<code>main.cpp</code>åˆ<em>#include geometry.h</em> ï¼Œå®ƒ(<em>geometry.h</em>)åˆåŒ…å«äº†<em>square.h</em>ï¼Œæ‰€ä»¥ä¹Ÿä¼šå°†<em>square.h</em>ä¸­çš„å†…å®¹(åŒ…æ‹¬<code>getSquareSides</code>å‡½æ•°)å¤åˆ¶åˆ°<em>geometry.h</em>ï¼Œè¿›è€Œä¹Ÿå°±è¢«å¤åˆ¶åˆ°<em>main.cpp</em>ä¸­ã€‚</p><p>æ‰€ä»¥ï¼Œå½“è§£æå®Œæ‰€æœ‰çš„<em>#include</em>ä¹‹åï¼Œmain.cppå°±å˜æˆè¿™æ ·ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span>  <span class="comment">// from square.h</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span> <span class="comment">// from geometry.h (via square.h)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œå°±ä¼šå‡ºç°é‡å¤å®šä¹‰ï¼Œç¼–è¯‘ä¹Ÿä¼šå‡ºé”™ã€‚æ¯ä¸ªå•ç‹¬çš„æ–‡ä»¶æ²¡é—®é¢˜ï¼Œä½†æ˜¯å› ä¸ºmain.cppæœ€ç»ˆ#includeäº†ä¸¤æ¬¡square.hçš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡åˆ°äº†é—®é¢˜ã€‚å¦‚ä½•è§£å†³å‘¢ï¼Ÿï¼Ÿï¼Ÿç­”ï¼šä½¿ç”¨<strong>header guard</strong></p><h3 id="å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"><a href="#å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦" class="headerlink" title="å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"></a>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</h3><p><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦(header guard)</strong>æ˜¯<strong>æ¡ä»¶ç¼–è¯‘(conditional compilation)</strong>çš„æŒ‡ä»¤ï¼Œå®ƒçš„å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SOME_UNIQUE_NAME_HERE <span class="comment">//SOME_UNIQUE_NAME_HEREï¼šä½ å¯ä»¥ç”¨ä»»ä½•åå­—ä»£æ›¿å®ƒ</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SOME_UNIQUE_NAME_HERE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯å†™å…³äº å£°æ˜ çš„ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>å½“è¿™ä¸ªå¤´æ–‡ä»¶è¢«<em>#included</em>æ—¶ï¼Œé¢„å¤„ç†å™¨æ£€æŸ¥<code>SOME_UNIQUE_NAME_HERE</code>æ˜¯å¦è¢«å®šä¹‰è¿‡ã€‚</p><ul><li>å¦‚æœè¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œ<code>SOME_UNIQUE_NAME_HERE</code>è¿˜æ²¡æœ‰è¢«åˆ›å»ºã€‚ç„¶åå°±ä¼šå®šä¹‰<code>SOME_UNIQUE_NAME_HERE</code>ï¼Œè€Œä¸”ä¼šåŒ…å«æ–‡ä»¶çš„å†…å®¹ã€‚</li><li>å¦‚æœè¿™ä¸ªå¤´æ–‡ä»¶ä¹‹å‰å·²ç»è¢«åŒ…å«åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆ<code>SOME_UNIQUE_NAME_HERE</code>æ˜¯å·²ç»è¢«å®šä¹‰è¿‡çš„ï¼Œè€Œä¸”å…¶å†…å®¹ä¹Ÿä»¥ç»è¢«åŒ…å«åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚æ‰€ä»¥è¿™ä¸ªå¤´æ–‡ä»¶çš„å†…å®¹å°†ä¼šè¢«å¿½ç•¥ï¼ˆç”±äº<strong><code>#ifndef</code></strong>ï¼‰ã€‚</li></ul><hr><p><strong>æ¯ä¸€ä¸ªå¤´æ–‡ä»¶éƒ½åº”è¯¥è¦æœ‰å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</strong>ã€‚</p><hr><p><strong>å¥½çš„å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦å‘½åè§„åˆ™</strong>ï¼š</p><p><code>&lt;PROJECT&gt;_&lt;PATH&gt;_&lt;FILE&gt;_H</code>æˆ–è€…<code>&lt;FILE&gt;_&lt;LARGE RANDOM NUMBER&gt;_H</code>æˆ–è€…<code>&lt;FILE&gt;_&lt;CREATION DATE&gt;_H</code></p><hr><p>è¯·æ³¨æ„ï¼Œå¤´æ–‡ä»¶ä¿æŠ¤çš„ç›®æ ‡æ˜¯é˜²æ­¢<strong>æºæ–‡ä»¶</strong>å¤šæ¬¡æ¥æ”¶åˆ°è¢«ä¿æŠ¤çš„<strong>å¤´æ–‡ä»¶</strong>ã€‚æ ¹æ®è®¾è®¡ï¼Œå¤´æ–‡ä»¶ä¿æŠ¤<strong>ä¸</strong>ä¼šé˜»æ­¢å°†ç»™å®šçš„å¤´æ–‡ä»¶(ä¸€æ¬¡)åŒ…å«åˆ°å•ç‹¬çš„æºç æ–‡ä»¶ä¸­ã€‚è¿™ä¹Ÿä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼š</p><p><code>square.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SQUARE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SQUARE_H</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquarePerimeter</span><span class="params">(<span class="keyword">int</span> sideLength)</span></span>; <span class="comment">// forward declaration for getSquarePerimeter</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>square.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span>  <span class="comment">// square.h is included once here</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquarePerimeter</span><span class="params">(<span class="keyword">int</span> sideLength)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sideLength * getSquareSides();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span> <span class="comment">// square.h is also included once here</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"a square has "</span> &lt;&lt; getSquareSides() &lt;&lt; <span class="string">" sides\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"a square of length 5 has perimeter length "</span> &lt;&lt; getSquarePerimeter(<span class="number">5</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œsquare.håŒ…å«åœ¨main.cppå’Œsquare.cppä¸­ã€‚è¿™æ„å‘³ç€square.hçš„å†…å®¹å°†è¢«åŒ…å«ä¸€æ¬¡åˆ°square.cppä¸­ï¼Œä¸€æ¬¡åˆ°main.cppä¸­ã€‚</p><blockquote><p>ç»†èŠ‚ï¼š</p><p>å½“<code>square.h</code>è¢«åŒ…å«åœ¨<code>square.cpp</code>ä¸­æ—¶ï¼Œåœ¨<code>square.cpp</code>ç»“æŸä¹‹å‰ï¼Œ<code>SQUARE_H</code>éƒ½ä¸€ç›´è¢«å®šä¹‰ã€‚ï¼ˆè¿™é˜»æ­¢äº†<code>square.h</code>è¢«å¤šæ¬¡åŒ…å«äº<code>square.cpp</code>ã€‚ä¹ŸçœŸæ˜¯å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦èµ·ä½œç”¨çš„ï¼‰ã€‚ç„¶è€Œï¼Œä¸€æ—¦<code>square.cpp</code>ç»“æŸåï¼Œ<code>SQUARE_H</code>å°†ä¸å†è¢«å®šä¹‰ã€‚è¿™å°±æ„å‘³ç€å½“é¢„å¤„ç†å™¨è¿è¡Œ<code>main.cpp</code>æ—¶ï¼Œ<code>SQUARE_H</code>åœ¨<code>main.cpp</code>ä¸­æœ€åˆæ˜¯æ²¡æœ‰å®šä¹‰çš„ã€‚</p><p>ç»“æœå°±æ˜¯ï¼Œ<code>square.cpp</code>å’Œ<code>main.cpp</code>éƒ½å¤åˆ¶äº†<em>getSquareSides</em>çš„å®šä¹‰ã€‚è¿™ä¸ªç¨‹åºå°†<strong>å¯ä»¥è¢«ç¼–è¯‘</strong>ï¼Œä½†æ˜¯ä¼š<strong>é“¾æ¥å‡ºé”™</strong>ï¼ˆé“¾æ¥å™¨ä¼šæŠ±æ€¨ä¸ºä»€ä¹ˆä¼šæœ‰ä¸æ­¢ä¸€ä¸ªçš„<em>getSquareSides</em>çš„å®šä¹‰ï¼‰</p></blockquote><p><strong>æœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯ï¼šå°†å‡½æ•°çš„<u>å®šä¹‰</u>æ”¾åœ¨æºæ–‡ä»¶ä¸­(å³ .cppæ–‡ä»¶ä¸­)ï¼Œå¤´æ–‡ä»¶ä¸­åªå«æœ‰<u>å£°æ˜</u>ã€‚</strong></p><h3 id="pragma-once"><a href="#pragma-once" class="headerlink" title="#pragma once"></a>#pragma once</h3><p><code>#program once</code>çš„ä½œç”¨å’Œå¤´æ–‡ä»¶æ ‡è¯†ç¬¦ç›¸åŒï¼Œä½†æ˜¯å®ƒæ›´åŠ çŸ­ã€‚</p><blockquote><p>ä½†æ˜¯ï¼Œ<code>#program once</code>ä¸æ˜¯C++å®˜æ–¹åŸç”Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥<strong>ä¸æ˜¯æ‰€æœ‰çš„ç¼–è¯‘å™¨éƒ½æ”¯æŒå®ƒ</strong>ã€‚</p></blockquote><br><section class="widget copyright desktop mobile"><div class="content"><blockquote><p>åšå®¢å†…å®¹éµå¾ª ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0) åè®®</p><p>æœ¬æ–‡æ°¸ä¹…é“¾æ¥æ˜¯ï¼š<a href="https://www.longlongqin.top/archives/28c74e52.html">https://www.longlongqin.top/archives/28c74e52.html</a></p></blockquote></div></section><section class="widget qrcode desktop mobile"><div class="content article-entry"><fancybox><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/reward/AliPayOR.jpg" height="64px"></fancybox><fancybox><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/reward/WeChatPayOR.png" height="64px"></fancybox></div></section></div><section class="meta" id="footer-meta"><div class="new-meta-box"><div class="new-meta-item date" itemprop="dateUpdated" datetime="2020-04-02T15:47:22+08:00"><a class="notlink"><i class="fas fa-save" aria-hidden="true"></i><p>æ›´æ–°äºï¼š2020å¹´4æœˆ2æ—¥</p></a></div><div class="new-meta-item meta-tags"><a class="tag" href="/tags/C/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i><p>C++</p></a></div><div class="new-meta-item share -mob-share-list"><div class="-mob-share-list share-body"><a class="-mob-share-qq" rel="external nofollow noopener noreferrer noopener" href="http://connect.qq.com/widget/shareqq/index.html?url=https://www.longlongqin.top/archives/28c74e52.html&title=LearnCpp chapter2 - é¾™é¾™â€˜S BLOG&summary=LearnCpp chapter2https://www.learncpp.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/logo/128/qq.png"> </a><a class="-mob-share-qzone" rel="external nofollow noopener noreferrer noopener" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://www.longlongqin.top/archives/28c74e52.html&title=LearnCpp chapter2 - é¾™é¾™â€˜S BLOG&summary=LearnCpp chapter2https://www.learncpp.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/logo/128/qzone.png"> </a><a class="-mob-share-weibo" rel="external nofollow noopener noreferrer noopener" href="http://service.weibo.com/share/share.php?url=https://www.longlongqin.top/archives/28c74e52.html&title=LearnCpp chapter2 - é¾™é¾™â€˜S BLOG&summary=LearnCpp chapter2https://www.learncpp.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/logo/128/weibo.png"></a></div></div></div></section><div class="prev-next"><a class="prev" href="/archives/c1a4eb67.html"><p class="title"><i class="fas fa-chevron-left" aria-hidden="true"></i>LearnCpp chapter4</p><p class="content">LearnCpp chapter4https://www.learncpp.com4.1 åŸºæœ¬çš„æ•°æ®ç±»å‹å†…å­˜æœ€å°çš„å•ä½æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ•°(binary digit)ï¼Œå³ä½(bit)ã€‚å®ƒå¯ä»¥å­˜å‚¨ä¸€ä¸ª0...</p></a><a class="next" href="/archives/2f66ae56.html"><p class="title">Letâ€™s Build A Simple Interpreter-10<i class="fas fa-chevron-right" aria-hidden="true"></i></p><p class="content">ä»Šå¤©çš„æ”¹è¿›å†…å®¹ï¼šå¦‚ä½•è¿›è¡Œè¯­æ³•Fenixå’Œè§£é‡ŠPascalçš„ç¨‹åºå¤´éƒ¨ï¼›å¦‚ä½•è¿›è¡Œè¯­æ³•åˆ†æPascalçš„å˜é‡å£°æ˜ï¼›å°†æ›´æ–°è§£é‡Šå™¨ï¼Œç”¨DIVå…³é”®å­—æ¥è¡¨ç¤ºæ•´æ•°çš„å‡ºå‘ã€ç”¨å“â€/â€œæ¥è¡¨ç¤ºæµ®ç‚¹æ•°çš„é™¤æ³•ï¼›æ·»åŠ Pas...</p></a></div></section></article><article class="post white-box comments shadow"><section class="article typo"><p ct><i class="fas fa-comments"></i> è¯„è®º</p><section id="comments"><div id="valine_container" class="valine_thread"><i class="fas fa-spinner fa-spin fa-fw"></i></div></section></section></article><script>window.subData={title:"LearnCpp chapter2",tools:!0}</script></div><aside class="l_side"><section class="widget toc-wrapper shadow desktop mobile"><header><i class="fas fa-list fa-fw" aria-hidden="true"></i><span class="name">æœ¬æ–‡ç›®å½•</span></header><div class="content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-å‡½æ•°"><span class="toc-text">2.1 å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-å‡½æ•°çš„å½¢å‚ä¸å®å‚"><span class="toc-text">2.3 å‡½æ•°çš„å½¢å‚ä¸å®å‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-å±€éƒ¨èŒƒå›´"><span class="toc-text">2.4 å±€éƒ¨èŒƒå›´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°"><span class="toc-text">2.5 ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-ç©ºç™½ä¸åŸºæœ¬æ ¼å¼"><span class="toc-text">2.6 ç©ºç™½ä¸åŸºæœ¬æ ¼å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç©ºç™½"><span class="toc-text">ç©ºç™½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åŸºæœ¬æ ¼å¼"><span class="toc-text">åŸºæœ¬æ ¼å¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-æå‰å£°æ˜ä¸å®šä¹‰"><span class="toc-text">2.7 æå‰å£°æ˜ä¸å®šä¹‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜"><span class="toc-text">å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å£°æ˜-VS-å®šä¹‰"><span class="toc-text">å£°æ˜ VS. å®šä¹‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å•å®šä¹‰è§„åˆ™"><span class="toc-text">å•å®šä¹‰è§„åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å£°æ˜"><span class="toc-text">å£°æ˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-9-å‘½åå†²çª-amp-å‘½åç©ºé—´"><span class="toc-text">2.9 å‘½åå†²çª&amp;å‘½åç©ºé—´</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å‘½åå†²çª"><span class="toc-text">å‘½åå†²çª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‘½åç©ºé—´"><span class="toc-text">å‘½åç©ºé—´</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å…¨å±€å‘½åç©ºé—´"><span class="toc-text">å…¨å±€å‘½åç©ºé—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#std-å‘½åç©ºé—´"><span class="toc-text">std å‘½åç©ºé—´</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-10-é¢„å¤„ç†å™¨"><span class="toc-text">2.10 é¢„å¤„ç†å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#include"><span class="toc-text">include</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®å®šä¹‰"><span class="toc-text">å®å®šä¹‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ¡ä»¶ç¼–è¯‘"><span class="toc-text">æ¡ä»¶ç¼–è¯‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®å®šä¹‰çš„èŒƒå›´"><span class="toc-text">å®å®šä¹‰çš„èŒƒå›´</span></a></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#2-11-å¤´æ–‡ä»¶"><span class="toc-text">2.11 å¤´æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶"><span class="toc-text">ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶"><span class="toc-text">åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å¤´æ–‡ä»¶çš„-lt-gt-amp-â€â€"><span class="toc-text">å¤´æ–‡ä»¶çš„&lt;&gt;&amp;â€â€</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#â€œiostreamâ€æ²¡-h-åç¼€ï¼Ÿ"><span class="toc-text">â€œiostreamâ€æ²¡ .h åç¼€ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å¤´æ–‡ä»¶è·¯å¾„å»ºè®®"><span class="toc-text">å¤´æ–‡ä»¶è·¯å¾„å»ºè®®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-12-å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"><span class="toc-text">2.12 å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#é‡å¤å®šä¹‰"><span class="toc-text">é‡å¤å®šä¹‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"><span class="toc-text">å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pragma-once"><span class="toc-text">#pragma once</span></a></li></ol></li></div></section></aside><footer class="clearfix white"><br><br><div class="aplayer-container"><meting-js theme="#1BCDFC" autoplay volume="0.6" loop order="list" fixed="false" list-max-height="340px" server="netease" type="song" id="186453" list-folded="true"></meting-js></div><br><div class="social-wrapper"><a href="/atom.xml" class="social fas fa-rss flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="mailto:1198216723@qq.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://github.com/longlongqin" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a> <a href="https://music.163.com/#/user/home?id=285545421" class="social fas fa-headphones-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer"></a></div><red>&copy; 2020-2020 longlongqin ğŸ˜Š| powered by HEXO | theme volantis</red><br><yellow><span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script>var now=new Date;function createtime(){var n=new Date("03/01/2020 18:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="å°ç«™å·²è¿è¡Œ "+dnum+" å¤© ",document.getElementById("times").innerHTML=hnum+" å°æ—¶ "+mnum+" åˆ† "+snum+" ç§’ "}setInterval("createtime()",250)</script></yellow><br><green><i class="fas fa-chart-area"></i> <span class="post-count">å­—æ•°ç»Ÿè®¡ï¼š123k</span></green>|<script type="text/javascript" src="https://v1.cnzz.com/z_stat.php?id=1278663994&web_id=1278663994"></script><br><cyan>åšå®¢å†…å®¹éµå¾ª</cyan><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank"><cyan>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™… (CC BY-NC-SA 4.0) åè®®</cyan></a></footer><script>setLoadingBarProgress(80)</script><script>setLoadingBarProgress(60)</script></div><a class="s-top fas fa-arrow-up fa-fw" href="javascript:void(0)"></a></div><script src="https://cdn.jsdelivr.net/npm/jquery@3.4/dist/jquery.min.js"></script><script>var SEARCH_SERVICE="hexo",ROOT="/";ROOT.endsWith("/")||(ROOT+="/")</script><script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/instant_page.js" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script><script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script><script type="text/javascript">$(function(){Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init()})</script><script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script><script type="text/javascript">$(function(){var n=["https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/background/4.jpg"];!function(n){for(var o=n.length;o--;){var r=Math.floor(Math.random()*o),t=n[r];n[r]=n[o],n[o]=t}}(n),$(".cover").backstretch(n,{duration:"20000",fade:"1500"})})</script><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js" async></script><script src="https://cdn.jsdelivr.net/npm/meting@2.0/dist/Meting.min.js" async></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2.0/js/valine.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(i){return-1<GUEST_INFO.indexOf(i)}),notify=!1,verify=!1,valine=new Valine;valine.init({el:"#valine_container",notify:notify,verify:verify,guest_info:guest_info,appId:"TYFUId8Xuddv6nUYuVUHJbac-gzGzoHsz",appKey:"bCYkC8WKY7n8VjI7K2g8MMJ3",placeholder:"å¿«æ¥è¯„è®ºå§~",pageSize:"10",avatar:"mp",lang:"zh-cn",visitor:"false",highlight:"true"})</script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2.1.4/js/app.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2.1/js/search.js"></script><script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-volantis@2/js/comment_typing.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script>!function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copyed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('fa-copy');
        $icon.addClass('fa-clipboard-check');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPYED';
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('fa-copy');
        $icon.addClass('fa-exclamation-triangle');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
      });
    }
    initCopyCode();
  }(window, document);</script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script>let LAZY_LOAD_IMAGE = "[object Object]";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* å›¾ç‰‡é‡‡ç”¨æ‡’åŠ è½½å¤„ç†æ—¶,
       * ä¸€èˆ¬å›¾ç‰‡æ ‡ç­¾å†…ä¼šæœ‰ä¸ªå±æ€§åæ¥å­˜æ”¾å›¾ç‰‡çš„çœŸå®åœ°å€ï¼Œæ¯”å¦‚ data-original,
       * é‚£ä¹ˆæ­¤å¤„å°†åŸæœ¬çš„å±æ€§åsrcæ›¿æ¢ä¸ºå¯¹åº”å±æ€§ådata-original,
       * ä¿®æ”¹å¦‚ä¸‹
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });</script><script>setLoadingBarProgress(100)</script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)0<=(t=c[r].getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n()},e.src=i}();var t}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this)</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script></body></html>