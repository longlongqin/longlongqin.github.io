<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>é¸Ÿå“¥ç§æˆ¿èœlinux</title>
      <link href="/archives/7a585be8.html"/>
      <url>/archives/7a585be8.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>é¸Ÿå“¥ç§æˆ¿èœ</red></p></center><center><red>http://linux.vbird.org/linux_basic/</red></center><a id="more"></a><h1 id="5ï¸âƒ£Linuxçš„æ¡£æ¡ˆæƒé™ä¸ç›®å½•é…ç½®"><a href="#5ï¸âƒ£Linuxçš„æ¡£æ¡ˆæƒé™ä¸ç›®å½•é…ç½®" class="headerlink" title="5ï¸âƒ£Linuxçš„æ¡£æ¡ˆæƒé™ä¸ç›®å½•é…ç½®"></a>5ï¸âƒ£Linuxçš„æ¡£æ¡ˆæƒé™ä¸ç›®å½•é…ç½®</h1><table><thead><tr><th>å…ƒä»¶</th><th>å†…å®¹</th><th>å ä»£ç‰©ä»¶</th><th>r</th><th>w</th><th>x</th></tr></thead><tbody><tr><td>æ¡£æ¡ˆ</td><td>è¯¦ç»†èµ„æ–™data</td><td>æ–‡ä»¶èµ„æ–™å¤¹</td><td>è¯»åˆ°æ–‡ä»¶å†…å®¹</td><td>ä¿®æ”¹æ–‡ä»¶å†…å®¹</td><td>æ‰§è¡Œæ–‡ä»¶å†…å®¹</td></tr><tr><td>ç›®å½•</td><td>æ¡£å</td><td>å¯åˆ†ç±»æŠ½å±‰</td><td>è¯»åˆ°æ¡£å</td><td>ä¿®æ”¹æ¡£å</td><td>è¿›å…¥è¯¥ç›®å½•çš„æƒé™(key)</td></tr></tbody></table><hr><ul><li><p>ç”±ä¸€èˆ¬ç”¨æˆ·åˆ‡æ¢ä¸ºâ€œrootâ€èº«ä»½ï¼š<code>su -</code>ï¼›è¿”å›ä¸€èˆ¬ç”¨æˆ·èº«ä»½ï¼š<code>exit</code></p></li><li><p>æŸ¥çœ‹æ–‡ä»¶<code>ls</code>;</p></li><li><p>å¤åˆ¶ï¼š<code>cp</code></p><blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp æºæ¡£æ¡ˆåå­— ç›®çš„æ¡£æ¡ˆ(æ¡£æ¡ˆå‰¯æœ¬çš„åç§°)</span><br></pre></td></tr></table></figure></blockquote></li></ul><h2 id="æ”¹å˜æ¡£æ¡ˆå±æ€§ä¸æƒé™"><a href="#æ”¹å˜æ¡£æ¡ˆå±æ€§ä¸æƒé™" class="headerlink" title="æ”¹å˜æ¡£æ¡ˆå±æ€§ä¸æƒé™"></a>æ”¹å˜æ¡£æ¡ˆå±æ€§ä¸æƒé™</h2><p>1ã€å¿…é¡»è¦è¿›å…¥æ¡£æ¡ˆæ‰€åœ¨ç›®å½•ä¸­ï¼›2ã€æ‰€ä¿®æ”¹æˆçš„ç¾¤ç»„ã€æ‰€å±è€…å¿…é¡»å­˜åœ¨ï¼›3ã€åªæœ‰rootæ‰æœ‰æƒé™</p><p><strong>æ”¹å˜æ‰€å±ç¾¤ç»„ï¼šchgrp</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chgrp [-R] dirname/filename ...</span><br></pre></td></tr></table></figure><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line">-R : è¿›è¡Œé€’å›(recursive)çš„æŒç»­å˜æ›´ï¼Œäº¦å³è¿åŒçº§ç›®å½•ä¸‹çš„æ‰€æœ‰æ¡£æ¡ˆã€ç›®å½•</span><br><span class="line">     éƒ½æ›´æ–°æˆä¸ºè¿™ä¸ªç¾¤ç»„ä¹‹æ„ã€‚å¸¸å¸¸ç”¨åœ¨å˜æ›´æŸä¸€ç›®å½•å†…æ‰€æœ‰çš„æ¡£æ¡ˆä¹‹æƒ…å†µã€‚</span><br></pre></td></tr></table></figure></blockquote><hr><p><strong>æ”¹å˜æ¡£æ¡ˆæ‹¥æœ‰è€…ï¼šchown</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown [-R] å¸å·åç§° æ¡£æ¡ˆæˆ–ç›®å½•</span><br><span class="line">chown [-R] å¸å·åç§°:ç¾¤ç»„åç§°  æ¡£æ¡ˆæˆ–ç›®å½•  <span class="comment">//:å¯ä»¥æ¢ä¸º. ä½†æ˜¯æ¨èä½¿ç”¨:</span></span><br></pre></td></tr></table></figure><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line">-R : è¿›è¡Œé€’å›(recursive)çš„æŒç»­å˜æ›´ï¼Œäº¦å³è¿åŒæ¬¡ç›®å½•ä¸‹çš„æ‰€æœ‰æ¡£æ¡ˆéƒ½å˜æ›´</span><br></pre></td></tr></table></figure></blockquote><hr><p><strong>æ”¹å˜æƒé™ï¼šchmod</strong></p><ul><li><p><strong>ä½¿ç”¨æ•°å­—æ”¹ç¼–æƒé™</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chmod [-R] xyz æ¡£æ¡ˆæˆ–ç›®å½•</span><br><span class="line">-----------------------</span><br><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line">xyz : å°±æ˜¯åˆšåˆšæåˆ°çš„æ•°å­—ç±»å‹çš„æƒé™å±æ€§ï¼Œä¸ºrwx å±æ€§æ•°å€¼çš„ç›¸åŠ ã€‚</span><br><span class="line">-R : è¿›è¡Œé€’å›(recursive)çš„æŒç»­å˜æ›´ï¼Œäº¦å³è¿åŒæ¬¡ç›®å½•ä¸‹çš„æ‰€æœ‰æ¡£æ¡ˆéƒ½ä¼šå˜æ›´</span><br></pre></td></tr></table></figure><blockquote><p>Linuxæ¡£æ¡ˆçš„åŸºæœ¬æƒé™å°±æœ‰ä¹ä¸ªï¼Œåˆ†åˆ«æ˜¯owner/group/othersä¸‰ç§èº«ä»½å„æœ‰è‡ªå·±çš„read/write/executeæƒé™ï¼Œå…ˆå¤ä¹ ä¸€ä¸‹åˆšåˆšä¸Šé¢æåˆ°çš„èµ„æ–™ï¼šæ¡£æ¡ˆçš„æƒé™å­—å…ƒä¸ºï¼šã€-rwxrwxrwxã€ï¼Œè¿™ä¹ä¸ªæƒé™æ˜¯ä¸‰ä¸ªä¸‰ä¸ªä¸€ç»„çš„ï¼å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£è¡¨å„ä¸ªæƒé™ï¼Œå„æƒé™çš„åˆ†æ•°å¯¹ç…§è¡¨å¦‚ä¸‹ï¼š</p><blockquote><p>r:4<br>w:2<br>x:1</p></blockquote><p>æ¯ç§èº«ä»½(owner/group/others)å„è‡ªçš„ä¸‰ä¸ªæƒé™(r/w/x)åˆ†æ•°æ˜¯éœ€è¦ç´¯åŠ çš„ï¼Œä¾‹å¦‚å½“æƒé™ä¸ºï¼š [-rwxrwxâ€”] åˆ†æ•°åˆ™æ˜¯ï¼š</p><blockquote><p>owner = rwx = 4+2+1 = 7</p><p>group = rwx = 4+2+1 = 7</p><p>others= â€” = 0+0+0 = 0</p></blockquote></blockquote></li><li><p><strong>ç¬¦å·ç±»å‹æ”¹å˜æ¡£æ¡ˆæƒé™</strong></p><p>å› ä¸ºæœ‰ä¸‰ç§èº«ä»½ï¼š(1)user (2)group (3)othersã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”±<strong>u, g, o</strong>æ¥ä»£è¡¨ä¸‰ç§èº«ä»½çš„æƒé™ã€‚</p><blockquote><p>æ­¤å¤–ï¼Œ<strong>a</strong>åˆ™ä»£è¡¨alläº¦å³å…¨éƒ¨çš„èº«ä»½ï¼</p></blockquote><p>ä¹Ÿå°±æ˜¯å¯ä»¥ä½¿ç”¨åº•ä¸‹çš„æ–¹å¼æ¥çœ‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="%E9%B8%9F%E5%93%A5%E7%A7%81%E6%88%BF%E8%8F%9C/image-20200412180918390.png" alt="image-20200412180918390"></p><p>egï¼š</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="%E9%B8%9F%E5%93%A5%E7%A7%81%E6%88%BF%E8%8F%9C/image-20200412181035669.png" alt="image-20200412181035669"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C&amp;C++/LearnCpp-chapter6</title>
      <link href="/archives/2faa8a4b.html"/>
      <url>/archives/2faa8a4b.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp chapter6</red></p></center><center><red>https://www.learncpp.com</red></center><a id="more"></a><h2 id="6-2-ç”¨æˆ·è‡ªå®šä¹‰namespace"><a href="#6-2-ç”¨æˆ·è‡ªå®šä¹‰namespace" class="headerlink" title="6.2 ç”¨æˆ·è‡ªå®šä¹‰namespace"></a>6.2 ç”¨æˆ·è‡ªå®šä¹‰namespace</h2><p>åœ¨<a href="https://www.learncpp.com/cpp-tutorial/2-9-naming-collisions-and-an-introduction-to-namespaces/" target="_blank" rel="noopener">2.9 â€“ Naming collisions and an introduction to namespaces</a>ä¸­è®²è§£äº†å‘½åå†²çªå’Œå‘½åç©ºé—´çš„å†…å®¹ã€‚ç°åœ¨å†æ¬¡çœ‹ä¸€ä¸‹<strong>å‘½åå†²çª</strong>ã€‚</p><blockquote><p>ä¸‹é¢çš„<code>foo.cpp</code>å’Œ<code>goo.cpp</code>ä¸¤ä¸ªæºæ–‡ä»¶ï¼Œä¸­çš„å‡½æ•°æœ‰ç€ä¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯å®ƒä»¬çš„åå­—å´æ˜¯ä¸€æ ·çš„ï¼š</p></blockquote><p><code>foo.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//this dosomething() adds the value of its parameters</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dosomething</span><span class="params">(intx, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>goo.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//this dosomething() subtracts the value of its parameters</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dosomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">//forward declaration for dosomething</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; dosometing(<span class="number">4</span>, <span class="number">3</span>) &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//which dosometing will we get?</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°†<code>foo.cpp</code>å’Œ<code>goo.cpp</code>éƒ½ç¼–è¯‘åœ¨åŒä¸€ä¸ªç¨‹åºä¸­ã€‚å› ä¸ºå®ƒä»¬ä¿©é‡Œé¢ä¸­çš„å‡½æ•°çš„åå­—ã€å‚æ•°éƒ½ä¸€æ ·ï¼Œè€Œä¸”åˆåœ¨åŒä¸€ä¸ªèŒƒå›´ä¸­(global scope)ï¼Œè¿™å°†ä¼šé€ æˆâ€œå‘½åå†²çªâ€ã€‚ç»“æœå°±æ˜¯ï¼Œé“¾æ¥å™¨å·¥ä½œæ—¶ï¼Œå°†ä¼šå‘ç”Ÿé”™è¯¯ï¼š</p><p><code>goo.cpp:3: multiple definition of &quot;doSomething(int, int)&quot;; foo.cpp:3: first defined here</code></p><hr><p>ä¸€ä¸ªè¾ƒå¥½çš„è§£å†³åŠæ³•å°±æ˜¯ï¼Œå°†ä½ çš„å‡½æ•°æ”¾åœ¨ä½ è‡ªå·±å®šä¹‰çš„â€œ<em><em>å‘½åç©ºé—´</em>namespace</em> **â€ä¸­ã€‚</p><hr><ul><li><p><strong>å®šä¹‰è‡ªå·±çš„namespace</strong></p><p>C++å…è®¸æˆ‘ä»¬ä½¿ç”¨å…³é”®å­—<em>namespace</em>æ¥å®šä¹‰è‡ªå·±çš„å‘½åç©ºé—´ã€‚ç”±ç”¨æˆ·è‡ªå®šä¹‰çš„å‘½åç©ºé—´ï¼Œå«ï¼š<strong>user-defined namespaces</strong>ã€‚è€Œ ç”±C++æä¾›çš„å‘½åç©ºé—´ï¼Œå¦‚ <code>global namespace</code>ï¼›æˆ–è€…ç”±åº“æä¾›çš„ï¼Œå¦‚<code>namespace std</code>ï¼›å®ƒä»¬å°±ä¸æ˜¯user-defined namespacesã€‚</p><blockquote><p><strong>å‘½åç©ºé—´çš„æ ‡è¯†ç¬¦</strong>é€šå¸¸ <strong>ä¸å¤§å†™</strong>ã€‚</p></blockquote><p>ä¸‹é¢æ˜¯å¯¹ä¸Šé¢å‘½åå†²çªçš„å‡½æ•°çš„æ”¹å†™ï¼š</p><p><code>foo.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> foo <span class="comment">//å®šä¹‰ä¸€ä¸ªå‘½åç©ºé—´ï¼Œåå­—ä¸ºï¼šfoo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//this dosomething() belongs to namespace foo</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">dosomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>goo.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> goo  <span class="comment">//å®šä¹‰ä¸€ä¸ªå‘½åç©ºé—´ï¼Œåå­—ä¸ºï¼šgoo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//this dosomething() belongs namespace goo</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">dosomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dosomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">//æå‰å¯¹å‡½æ•°dosomething()è¿›è¡Œå£°æ˜</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;dosomething(<span class="number">4</span>, <span class="number">3</span>)&lt;&lt;<span class="string">'\n'</span>; <span class="comment">//which dosomething will we get?</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è¿™ä¸ªä¸¤ä¸ª<code>dosomething()</code>å‡½æ•°éƒ½åˆ†åˆ«å±äºä¸åŒçš„å‘½åç©ºé—´äº†ã€‚è®©æˆ‘ä»¬æ¥è¿è¡Œä¸€ä¸‹ã€‚</p><p>ğŸ˜‚ï¼Œæ–°é—®é¢˜åˆå‡ºç°äº†ï¼š</p><blockquote><p><code>ConsoleApplication1.obj : error LNK2019: unresolved external symbol &quot;int __cdecl doSomething(int,int)&quot; (?doSomething@@YAHHH@Z) referenced in function _main</code></p></blockquote><p>åœ¨è¿™ä¸ªæ”¹ç‰ˆä¸­ï¼Œå…¶å®ç¼–è¯‘å™¨æ˜¯æ»¡æ„çš„(å› ä¸ºæˆ‘ä»¬å·²ç»è¿›è¡Œæå‰å£°æ˜)ã€‚ä½†æ˜¯é“¾æ¥å™¨æ‰¾ä¸åˆ°ä¸€ä¸ªåœ¨<em>global namespace</em>ä¸­çš„<code>dosomething</code>çš„å®šä¹‰ã€‚</p><blockquote><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è™½ç„¶ä¸ºä¸¤ä¸ª<code>dosomething</code>åˆ†åˆ«å£°æ˜åœ¨ä¸åŒçš„å‘½åç©ºé—´ï¼Œå¯æƒœçš„æ˜¯è¿™ä¸¤ä¸ªå‘½åç©ºé—´éƒ½ä¸å±äº å…¨å±€å‘½åç©ºé—´ ä¸­ã€‚</p></blockquote><hr><p><strong>è¿™é‡Œæœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š1.ä½¿ç”¨<em>scope resolution operator<em>ï¼›2.é€šè¿‡</em>using statements</em></strong></p><hr></li><li><p>*<em>ä½¿ç”¨èŒƒå›´è§£ææ“ä½œç¬¦(::)è®¿é—®åç§°ç©ºé—´ *</em></p><blockquote><p>ã€<strong>èŒƒå›´è§£ææ“ä½œç¬¦ï¼š<em>scope resolution operator(::)</em></strong>ã€‘</p></blockquote><p>å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç‰¹å®šåç§°ç©ºé—´ä¸­æŸ¥æ‰¾æ ‡è¯†ç¬¦çš„æœ€ä½³æ–¹æ³•æ˜¯ä½¿ç”¨<em>scope resolution operator(::)</em></p><blockquote><p>â€œ::â€ï¼Œå®ƒå‘Šè¯‰ç¼–è¯‘å™¨ï¼šåº”è¯¥åœ¨è¯¥æ“ä½œç¬¦çš„ å·¦æ“ä½œæ•°è¡¨ç¤ºçš„èŒƒå›´ä¸­æŸ¥æ‰¾ æ“ä½œç¬¦å³è¾¹çš„æ“ä½œæ•°(ä¹Ÿå°±æ˜¯è¦æ‰¾çš„æ ‡è¯†ç¬¦)</p></blockquote><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p><em>å¯¹äºåé¢çš„ç¤ºä¾‹ï¼Œä¸ºäº†ä¾¿äºé˜…è¯»ï¼Œæˆ‘ä»¬å°†æŠŠç¤ºä¾‹å‹ç¼©ä¸ºä¸€ä¸ªæ–‡ä»¶è§£å†³æ–¹æ¡ˆã€‚</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> foo <span class="comment">// define a namespace named foo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// This doSomething() belongs to namespace foo</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> goo <span class="comment">// define a namespace named goo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// This doSomething() belongs to namespace goo</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x - y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; foo::doSomething(<span class="number">4</span>, <span class="number">3</span>) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// use the doSomething() that exists in namespace foo</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥æ³¨æ„åˆ°mainå‡½æ•°ä¸­çš„è¿™ä¸ªè¯­å¥ï¼š<code>std::cout &lt;&lt; foo::doSomething(4, 3) &lt;&lt; &#39;\n&#39;;</code>ï¼Œå°±æ˜¯ç”¨äº†â€œèŒƒå›´è§£æç¬¦ :: â€ã€‚</p><p>è¯¥æ ‡è¯†ç¬¦çš„å·¦æ“ä½œæ•°ï¼šfooï¼Œè¡¨ç¤ºå‘½åç©ºé—´çš„åå­—ã€‚å³æ“ä½œæ•°è¡¨ç¤ºæ ‡è¯†ç¬¦ã€‚</p><p><strong>æ‰€ä»¥ï¼Œ<code>foo::dosomething(4,3)</code>ï¼Œå°±è¡¨ç¤ºï¼šè°ƒç”¨çš„å‡½æ•°<code>dosomething()</code>æ˜¯æ¥æºäºå‘½åç©ºé—´fooä¸­çš„ã€‚</strong></p></blockquote></li></ul><hr><center><p center large>å°ç»“</p></center><p>è§£å†³å‘½åå†²çªçš„æ­¥éª¤ä¸ºï¼š</p><ol><li>ä¸ºè¿™äº›åŒåçš„å‡½æ•°ï¼Œå‡è®¾ç½®è‡ªå·±çš„å‘½åç©ºé—´ï¼›</li><li>åœ¨ä½¿ç”¨è¿™ä¸ªåŒåå‡½æ•°çš„æ—¶å€™ï¼Œè¿˜éœ€è¦åŠ ä¸Šâ€œèŒƒå›´è§£æç¬¦ :: â€</li></ol><hr><ul><li><p><strong>æ²¡æœ‰å‰ç¼€çš„èŒƒå›´è§£æç¬¦</strong></p><blockquote><p><strong>æ ¼å¼ï¼š<code>:: æ ‡è¯†ç¬¦</code></strong></p><p><strong>æ²¡æœ‰å‰ç¼€çš„èŒƒå›´è§£æç¬¦ï¼Œ<u>å°±ç›¸å½“äºå®ƒçš„èŒƒå›´æ˜¯å…¨å±€å‘½åç©ºé—´</u></strong>ã€‚</p></blockquote><p>ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="comment">//this print lives in the global namespace</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"there"</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> foo</span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="comment">// this print lives in the foo namespace</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">foo::<span class="built_in">print</span>(); <span class="comment">// call foo::print()</span></span><br><span class="line">::<span class="built_in">print</span>(); <span class="comment">// call print() in global namespace (same as just calling print() in this case)</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>å…è®¸å¤šä¸ªå‘½åç©ºé—´å—ï¼šMultiple namespace blocks allowed</strong></p><blockquote><p>åœ¨å¤šä¸ªä½ç½®(è·¨å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–åŒä¸€æ–‡ä»¶ä¸­çš„å¤šä¸ªä½ç½®)å£°æ˜åç§°ç©ºé—´å—æ˜¯åˆæ³•çš„ã€‚<strong><u>å‘½åç©ºé—´å†…çš„æ‰€æœ‰å£°æ˜éƒ½è¢«è®¤ä¸ºæ˜¯å‘½åç©ºé—´çš„ä¸€éƒ¨åˆ†</u>ã€‚</strong></p></blockquote><hr></li></ul><p>ä¾‹å­1ï¼ˆå¤šæ–‡ä»¶ä¸­ï¼‰ï¼š</p><p><code>circle.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !defined(CIRCLE_H)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CIRCLE_H</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> basicMath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> pi&#123; <span class="number">3.14</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>growth.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !defined(GROWTH_H)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GROWTH_H</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> basicMath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// the constant e is also part of namespace basicMath</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> e&#123; <span class="number">2.7</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"circle.h"</span> <span class="comment">// for basicMath::pi</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"growth.h"</span> <span class="comment">// for basicMath::e</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; basicMath::pi &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; basicMath::e &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p>3.14</p><p>2.7</p><blockquote><p>æ ‡å‡†åº“å……å°±åˆ†åˆ©ç”¨äº†è¿™ä¸ªç‰¹æ€§ï¼Œå› ä¸ºæ¯ä¸ªæ ‡å‡†åº“å¤´æ–‡ä»¶éƒ½å°†å…¶å£°æ˜åŒ…å«åœ¨è¯¥å¤´æ–‡ä»¶ä¸­åŒ…å«çš„ å‘½åç©ºé—´std å—ä¸­ã€‚å¦åˆ™ï¼Œæ•´ä¸ªæ ‡å‡†åº“å¿…é¡»åœ¨ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­å®šä¹‰!</p></blockquote><p><em>ã€noteã€‘ï¼šå°½ç®¡ä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå°†ä½ å†™çš„å‡½æ•°æ·»åŠ åˆ°<code>std namespace</code>ä¸­ï¼Œä½†æ˜¯<code>std namespace</code>æœ‰ä¸€ä¸ªè§„åˆ™ï¼Œé‚£å°±æ˜¯ç¦æ­¢ç”¨æˆ·å°†è‡ªå·±çš„å‡½æ•°æ‰©å±•åˆ°å®ƒçš„é‡Œé¢ã€‚</em></p><hr><ul><li><p>ä¾‹å­2</p><p>å¦‚æœä½ å°†ä½ çš„ä»£ç åˆ†ç¦»å†å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œä½ å°±å¿…é¡»åœ¨å¤´æ–‡ä»¶å’ŒåŸæ–‡ä»¶ä¸­ä½¿ç”¨å‘½åç©ºé—´ã€‚</p><p><code>add.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !defined(ADD_H)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ADD_H</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> basicMath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// function add() is part of namespace basicMath</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>add.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"add.h"</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> basicMath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// define the function add()</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"add.h"</span> <span class="comment">// for basicMath::add()</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; basicMath::add(<span class="number">4</span>, <span class="number">3</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ol><li><p>å¦‚æœåœ¨<code>add.cpp</code>ä¸­çœç•¥äº†<em>namespace</em>ï¼Œå°†ä¼šå¯¼è‡´é“¾æ¥å™¨æ‰¾ä¸åˆ°<code>basicMath::add</code>ã€‚</p><p><em>å› ä¸ºè¿™ä¸ªæºæ–‡ä»¶åœ¨ç¼ºå°‘namespaceæ—¶ï¼Œå¯¹addçš„å®šä¹‰æ˜¯åœ¨å…¨å±€å‘½åç©ºé—´ä¸­çš„ã€‚</em></p></li><li><p>å¦‚æœåœ¨<code>add.h</code>ä¸­çœç•¥<em>namespace</em>ï¼Œå°†ä¼šå¯¼è‡´åœ¨â€œmain.cppâ€ä¸­ä¸èƒ½ä½¿ç”¨<code>basicMath::add</code></p><p><em>å› ä¸ºè¿™ä¸ªå¤´æ–‡ä»¶åœ¨ç¼ºå°‘namespaceæ—¶ï¼Œå¯¹addçš„å£°æ˜æ˜¯åœ¨å…¨å±€å‘½åç©ºé—´ä¸­çš„ã€‚</em></p></li></ol></blockquote></li></ul><hr><ul><li><p><strong>åµŒå¥—å‘½åç©ºé—´</strong></p><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> foo</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">namespace</span> goo <span class="comment">// goo is a namespace inside the foo namespace</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> x + y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; foo::goo::add() &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬è¦è°ƒç”¨å‡½æ•°<code>add</code>çš„æ—¶å€™ï¼Œ<strong>æˆ‘ä»¬ä½¿ç”¨æ ¼å¼ä¸ºï¼š<code>foo::goo::add</code></strong></p></blockquote><hr><p>åœ¨C++17ä¸­ï¼ŒåµŒå¥—çš„å‘½åç©ºé—´ä¹Ÿå¯ä»¥è¿™æ ·å£°æ˜ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> foo::goo <span class="comment">// goo is a namespace inside the foo namespace (C++17 style)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> x + y;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; foo::goo::add() &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>ç»™å‘½åç©ºé—´è®¾ç½®åˆ«åï¼šnamespace aliases</strong></p><p>åœ¨ä½¿ç”¨åµŒå¥—çš„å‘½åç©ºé—´çš„å‡½æ•°æˆ–å˜é‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å‘½åç©ºé—´å±‚çº§éƒ½å…¨éƒ¨å†™å®Œæ•´ï¼Œè¿™æ ·ä¼šå¾ˆéº»çƒ¦ï¼Œå¦‚æœæˆ‘ä»¬ç»™è¿™ä¸ªåµŒå¥—çš„å‘½åç©ºé—´èµ·ä¸€ä¸ªåˆ«åå°±çœäº‹å¤šäº†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> foo</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">namespace</span> goo</span><br><span class="line">&#123;</span><br><span class="line">        <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> x + y;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">namespace</span> boo = foo::goo; <span class="comment">// boo now refers to foo::goo</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; boo::add() &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// This is really foo::goo::add()</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// The boo alias ends here</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="6-3-å±€éƒ¨å˜é‡"><a href="#6-3-å±€éƒ¨å˜é‡" class="headerlink" title="6.3 å±€éƒ¨å˜é‡"></a>6.3 å±€éƒ¨å˜é‡</h2><p>åœ¨ <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-local-scope/" target="_blank" rel="noopener">2.4 â€“ Introduction to local scope</a>,ä»‹ç»äº†å±€éƒ¨å˜é‡ï¼Œå®ƒæ˜¯åœ¨å‡½æ•°ä¸­çš„å½¢å‚ã€‚</p><h3 id="å±€éƒ¨å˜é‡çš„å—èŒƒå›´"><a href="#å±€éƒ¨å˜é‡çš„å—èŒƒå›´" class="headerlink" title="å±€éƒ¨å˜é‡çš„å—èŒƒå›´"></a>å±€éƒ¨å˜é‡çš„å—èŒƒå›´</h3><p>æ ‡è¯†ç¬¦çš„èŒƒå›´å†³å®šäº†æ ‡è¯†ç¬¦åœ¨æºç ä¸­å¯è·å¾—çš„åŒºåŸŸã€‚èŒƒå›´æ˜¯ä¸€ä¸ªâ€œç¼–è¯‘æ—¶é—´â€çš„å±æ€§ã€‚</p><blockquote><p>å±€éƒ¨å˜é‡çš„ <strong>å—èŒƒå›´(block scope)</strong>ï¼Œä¸­çš„èŒƒå›´å°±æ˜¯ï¼šä»ä»–ä»¬å®šä¹‰å¼€å§‹ï¼Œåˆ°è¿™ä¸ªå—ç»“æŸ çš„è¿™ä¸ªèŒƒå›´ã€‚</p></blockquote><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> i &#123;<span class="number">5</span>&#125;; <span class="comment">//i enters scope here</span></span><br><span class="line">    <span class="keyword">double</span> d &#123;<span class="number">4.0</span>&#125;; <span class="comment">// d enters scope here</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">// i and d go out of scope here</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶å‡½æ•°çš„å½¢å‚æ²¡æœ‰è¢«å®šä¹‰åœ¨å‡½æ•°ä½“çš„å†…éƒ¨ï¼Œä½†æ˜¯å¯¹äºå…¸å‹å‡½æ•°è€Œè¨€ï¼Œå½¢å‚å¯ä»¥è¢«çœ‹æˆï¼Œæ˜¯å±äºå‡½æ•°ä½“å—çš„èŒƒå›´å†…ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">//x and y enter scope here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å°†xã€yä¸­è¾ƒå¤§è€…åˆ†é…ç»™max</span></span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">max</span>&#123;(x&gt;y) ? x : y&#125;; <span class="comment">//max enters scope here</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>;</span><br><span class="line">&#125;<span class="comment">// x, y and max leave scope here</span></span><br></pre></td></tr></table></figure><hr><h3 id="åŒä¸€èŒƒå›´å†…çš„å˜é‡åä¸ç›¸åŒ"><a href="#åŒä¸€èŒƒå›´å†…çš„å˜é‡åä¸ç›¸åŒ" class="headerlink" title="åŒä¸€èŒƒå›´å†…çš„å˜é‡åä¸ç›¸åŒ"></a>åŒä¸€èŒƒå›´å†…çš„å˜é‡åä¸ç›¸åŒ</h3><p>ä¸‹é¢çš„å‡½æ•°åœ¨ç¼–è¯‘æ—¶ä¼šå‡ºé”™ï¼Œå› ä¸ºè¯¥èŒƒå›´å†…çš„å˜é‡åç›¸åŒäº†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">someFunction</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;&#125;; <span class="comment">//ç¼–è¯‘æ—¶ä¼šå‡ºé”™ï¼Œå› ä¸ºè¿™é‡Œçš„xå’Œå½¢å‚xä¹‹é—´å‘½åå†²çªäº†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å±€éƒ¨å˜é‡çš„è‡ªåŠ¨å­˜å‚¨æœŸ"><a href="#å±€éƒ¨å˜é‡çš„è‡ªåŠ¨å­˜å‚¨æœŸ" class="headerlink" title="å±€éƒ¨å˜é‡çš„è‡ªåŠ¨å­˜å‚¨æœŸ"></a>å±€éƒ¨å˜é‡çš„è‡ªåŠ¨å­˜å‚¨æœŸ</h3><blockquote><p>å˜é‡çš„<strong>å­˜å‚¨æœŸ(storage duration),ä¹Ÿå«æŒç»­æ—¶é•¿(duration)</strong>å†³å®šäº†ä»€ä¹ˆæ—¶é—´ä»¥åŠå¦‚ä½•åˆ›é€ å’Œé”€æ¯å®ƒã€‚é€šå¸¸ï¼Œå˜é‡çš„å­˜å‚¨å™¨ç›´æ¥å†³å®šäº†å®ƒçš„<strong>â€œç”Ÿå‘½å‘¨æœŸ(lifetime)â€</strong></p></blockquote><p>ä¾‹å¦‚ï¼Œå±€éƒ¨å˜é‡çš„å­˜å‚¨å™¨ï¼Œæ„å‘³ç€å®ƒåœ¨è¢«å®šä¹‰æ—¶å°±è¢«åˆ›å»ºï¼Œç„¶ååœ¨ä»–è¢«å®šä¹‰çš„èŒƒå›´å—çš„å°¾éƒ¨è¢«é”€æ¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i &#123;<span class="number">5</span>&#125;; <span class="comment">//i created and initialized here</span></span><br><span class="line">    <span class="keyword">double</span> d &#123;<span class="number">4.0</span>&#125;; <span class="comment">//d created and initialized here</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// i and d are destoryed here</span></span><br></pre></td></tr></table></figure><p>ç”±äºè¿™ä¸ªåŸå› ï¼Œå±€éƒ¨å˜é‡ æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºï¼š<strong>è‡ªåŠ¨å˜é‡</strong></p><hr><h3 id="åµŒå¥—å¿«ä¸­çš„å±€éƒ¨å˜é‡"><a href="#åµŒå¥—å¿«ä¸­çš„å±€éƒ¨å˜é‡" class="headerlink" title="åµŒå¥—å¿«ä¸­çš„å±€éƒ¨å˜é‡"></a>åµŒå¥—å¿«ä¸­çš„å±€éƒ¨å˜é‡</h3><p>å±€éƒ¨å˜é‡å¯ä»¥è¢«å®šä¹‰åœ¨åµŒå¥—å—ä¸­ï¼Œè¿™å’Œåœ¨å‡½æ•°ä½“å—ä¸­çš„å±€éƒ¨å˜é‡å·¥ä½œæµç¨‹ç›¸åŒï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> <span class="comment">//å¤–éƒ¨å—</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;<span class="number">5</span>&#125;; <span class="comment">//x enters scope and is created here</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åµŒå¥—å—</span></span><br><span class="line">        <span class="keyword">int</span> y &#123;<span class="number">7</span>&#125;; <span class="comment">//y enters scope and is created here</span></span><br><span class="line">    &#125; <span class="comment">// y goes out of scope and is destroyed here</span></span><br><span class="line">    <span class="comment">//æ­¤æ—¶ï¼Œyå°±ä¸èƒ½å†è¢«ç”¨äº†ï¼Œå› ä¸ºå®ƒä¸å±äºç°åœ¨æ‰€åœ¨çš„èŒƒå›´</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// x goes out of scope and is destoryed here</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<strong>å˜é‡xçš„èŒƒå›´æ˜¯æ•´ä¸ªmianå‡½æ•°å—ä¸­ï¼Œè‡ªç„¶ï¼Œåœ¨åµŒå¥—å—ä¸­ï¼Œå˜é‡xä¹Ÿæ˜¯æœ‰æ•ˆçš„</strong>ï¼Œå³ä¹Ÿå¯ä»¥è®¿é—®å®ƒã€‚</p></blockquote><hr><h3 id="å±€éƒ¨å˜é‡çš„æ— è¿æ¥"><a href="#å±€éƒ¨å˜é‡çš„æ— è¿æ¥" class="headerlink" title="å±€éƒ¨å˜é‡çš„æ— è¿æ¥"></a>å±€éƒ¨å˜é‡çš„æ— è¿æ¥</h3><p>æ ‡è¯†ç¬¦çš„å¦ä¸€ä¸ªå±æ€§å°±æ˜¯ï¼š<strong>â€œè¿æ¥(linkage)â€</strong>ã€‚ä¸€ä¸ªæ ‡è¯†ç¬¦çš„<em>linkage</em>å†³å®šäº†è¯¥æ ‡è¯†ç¬¦çš„å…¶ä»–å£°æ˜æ˜¯å¦å¼•ç”¨çš„æ˜¯ç›¸åŒçš„å¯¹è±¡ã€‚</p><blockquote><p><strong>å±€éƒ¨å˜é‡æ²¡æœ‰<em>å…³è”æ€§</em>ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹ä¸€ä¸ªæ ‡è¯†ç¬¦çš„æ¯ä¸€ä¸ªå£°æ˜éƒ½ä»£è¡¨ä¸åŒçš„å¯¹è±¡</strong></p></blockquote><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x &#123;<span class="number">2</span>&#125;; <span class="comment">// local variable, no linkage</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> x &#123;<span class="number">3</span>&#125;; <span class="comment">//è¿™ä¸ªæ ‡è¯†ç¬¦xä¸ä¸Šé¢çš„æ ‡è¯†ç¬¦xï¼Œè¡¨ç¤ºçš„æ˜¯ä¸åŒå¯¹è±¡(å°½ç®¡ä»–ä»¬åå­—ç›¸åŒ)</span></span><br><span class="line">        <span class="comment">//ä½†æ˜¯ç°åœ¨åµŒå¥—å¤–éƒ¨çš„å˜é‡xè¢«éšè—èµ·æ¥äº†(åœ¨6.5èŠ‚ä¼šè®²åˆ°å˜é‡éšè—)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å˜é‡å®šä¹‰çš„èŒƒå›´"><a href="#å˜é‡å®šä¹‰çš„èŒƒå›´" class="headerlink" title="å˜é‡å®šä¹‰çš„èŒƒå›´"></a>å˜é‡å®šä¹‰çš„èŒƒå›´</h3><p>å¦‚æœä¸€ä¸ªå˜é‡ä»…åœ¨åµŒå¥—å—ä¸­ä½¿ç”¨ï¼Œé‚£å®ƒå°±åº”è¯¥æ—¨åœ¨åµŒå¥—å—ä¸­è¢«å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//don't define y here</span></span><br><span class="line">    </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//yåªåœ¨è¿™ä¸ªå—ä¸­è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå®šä¹‰å®ƒ</span></span><br><span class="line">        <span class="keyword">int</span> y&#123;<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;y&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>æ‰€ä»¥ï¼Œæˆ‘ä»¬å°½é‡æŠŠå˜é‡å®šä¹‰åœ¨ï¼Œä½¿ç”¨å®ƒçš„èŒƒå›´å†…éƒ¨</strong>ã€‚</p></blockquote><hr><h2 id="6-4-å…¨å±€å˜é‡"><a href="#6-4-å…¨å±€å˜é‡" class="headerlink" title="6.4 å…¨å±€å˜é‡"></a>6.4 å…¨å±€å˜é‡</h2><h3 id="å…¨å±€å˜é‡çš„å£°æ˜"><a href="#å…¨å±€å˜é‡çš„å£°æ˜" class="headerlink" title="å…¨å±€å˜é‡çš„å£°æ˜"></a>å…¨å±€å˜é‡çš„å£°æ˜</h3><p>é€šå¸¸ï¼Œå…¨å±€å˜é‡å£°æ˜æ˜¯åœ¨ï¼š<strong>å¤´æ–‡ä»¶çš„ä¸‹é¢ï¼Œåœ¨å…¶ä»–ä»£ç çš„ä¸Šé¢</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å‡½æ•°å¤–é¢å£°æ˜çš„å˜é‡æ˜¯å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">int</span> g_x &#123;&#125;; <span class="comment">// global variable g_x</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// global variables can be seen and used everywhere in the file</span></span><br><span class="line">    g_x = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    doSomething();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// global variables can be seen and used everywhere in the file</span></span><br><span class="line">    g_x = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// g_x goes out of scope here</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ*****/</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><blockquote><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œ åœ¨å…¨å±€å˜é‡åå­—åŠ ä¸Šå‰ç¼€â€œgâ€æˆ–è€…â€œg_â€ï¼Œæ¥ä¾¿äºæ˜¯æ˜¾ç¤ºçš„è¯´æ˜å®ƒæ˜¯ å…¨å±€å˜é‡</p></blockquote><hr><h3 id="å…¨å±€å˜é‡çš„file-scope-amp-é™æ€æŒç»­æ—¶é—´"><a href="#å…¨å±€å˜é‡çš„file-scope-amp-é™æ€æŒç»­æ—¶é—´" class="headerlink" title="å…¨å±€å˜é‡çš„file scope&amp;é™æ€æŒç»­æ—¶é—´"></a>å…¨å±€å˜é‡çš„file scope&amp;é™æ€æŒç»­æ—¶é—´</h3><blockquote><p>file scopeä¹Ÿå«ï¼š<strong>å…¨å±€èŒƒå›´(global scope)</strong>æˆ–è€…<strong>å…¨å±€å‘½åç©ºé—´èŒƒå›´(global namespace scope)</strong></p><blockquote><p>å› ä¸ºå…¨å±€å˜é‡æ˜¯åœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰çš„ï¼Œæ‰€ä»¥ä¹Ÿè¢«è§†ä¸ºâ€œå…¨å±€å‘½åç©ºé—´(global namespace)â€çš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥ï¼Œæ‰æœ‰<em>global namespace scope</em>è¿™ä¸ªå«æ³•ã€‚</p></blockquote></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬ä»è¢«å®šä¹‰å¼€å§‹ï¼Œåˆ°æ‰€åœ¨æ–‡ä»¶çš„ç»“æŸæœŸé—´ éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚</p><hr><p>å…¨å±€å˜é‡åœ¨ç¨‹åºå¼€å§‹è¢«åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶è¢«é”€æ¯ã€‚è¿™æˆä¸ºâ€œ<strong>é™æ€æŒç»­æ—¶é—´(static duration)</strong>â€</p><blockquote><p>æœ‰ç€â€˜static durationâ€™çš„å˜é‡ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼šâ€œ<strong>é™æ€å˜é‡(static variable)</strong>â€</p></blockquote><hr><p><u><strong>å±€éƒ¨å˜é‡é»˜è®¤æ˜¯ä¸è¢«åˆå§‹åŒ–çš„ï¼Œå…¨å±€å˜é‡é»˜è®¤æ˜¯è¢«åˆå§‹åŒ–ä¸º0çš„</strong></u></p><ul><li><p><strong>å…¨å±€å˜é‡çš„åˆå§‹åŒ–</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g_x; <span class="comment">//æ²¡æœ‰æ˜¾ç¤ºçš„åˆå§‹åŒ–å˜é‡(æ‰€ä»¥é»˜è®¤åˆå§‹åŒ–ä¸º0)</span></span><br><span class="line"><span class="keyword">int</span> g_y&#123;&#125;; <span class="comment">//åˆå§‹åŒ–ä¸º0</span></span><br><span class="line"><span class="keyword">int</span> g_z&#123;<span class="number">3</span>&#125;; <span class="comment">//æ˜¾ç¤ºçš„åˆå§‹åŒ–ä¸º3</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="å¸¸é‡å±€éƒ¨å˜é‡"><a href="#å¸¸é‡å±€éƒ¨å˜é‡" class="headerlink" title="å¸¸é‡å±€éƒ¨å˜é‡"></a>å¸¸é‡å±€éƒ¨å˜é‡</h3><p>ä¸å±€éƒ¨å˜é‡ä¸€æ ·ï¼Œå…¨å±€å˜é‡ä¹Ÿå¯ä»¥æ˜¯å¸¸é‡ã€‚åªè¦æ˜¯å¸¸é‡ï¼Œé‚£å®ƒå°±å¿…é¡»è¢«åˆå§‹åŒ–ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> g_x; <span class="comment">//error:å¸¸é‡å‹çš„å˜é‡å¿…é¡»è¦è¢«åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> g_w; <span class="comment">//error:å¸¸é‡å‹çš„å˜é‡å¿…é¡»è¦è¢«åˆå§‹åŒ–ï¼ˆconstexprï¼Œè¡¨ç¤ºå®ƒæ˜¯ ç¼–è¯‘æ—¶å¸¸é‡ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> g_y &#123;<span class="number">1</span>&#125;; <span class="comment">//æ­£ç¡®ï¼Œåˆå§‹åŒ–äº†</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> g_z &#123;<span class="number">2</span>&#125;; <span class="comment">//æ­£ç¡®ï¼Œåˆå§‹åŒ–äº†</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dosomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å…¨å±€å˜é‡åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­çš„æ¯ä¸€ä¸ªåœ°æ–¹éƒ½æ˜¯æœ‰æ•ˆçš„(å¯ä»¥è¢«çœ‹è§å’Œä½¿ç”¨)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_z &lt;&lt; <span class="string">'\n'</span>;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dosomething();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å…¨å±€å˜é‡åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­çš„æ¯ä¸€ä¸ªåœ°æ–¹éƒ½æ˜¯æœ‰æ•ˆçš„(å¯ä»¥è¢«çœ‹è§å’Œä½¿ç”¨)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_z &lt;&lt; <span class="string">'\n'</span>;  </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// g_y and g_z goes out of scope here</span></span><br></pre></td></tr></table></figure><hr><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Non-constant global variables(éå¸¸é‡çš„å…¨å±€å˜é‡)</span></span><br><span class="line"><span class="keyword">int</span> g_x;                 <span class="comment">// defines non-initialized global variable (zero initialized by default)</span></span><br><span class="line"><span class="keyword">int</span> g_x &#123;&#125;;              <span class="comment">// defines explicitly zero-initialized global variable</span></span><br><span class="line"><span class="keyword">int</span> g_x &#123; <span class="number">1</span> &#125;;           <span class="comment">// defines explicitly initialized global variable</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Const global variables</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> g_y;           <span class="comment">// error: const variables must be initialized</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> g_y &#123; <span class="number">2</span> &#125;;     <span class="comment">// defines initialized global constant</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Constexpr global variables</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> g_y;       <span class="comment">// error: constexpr variables must be initialized</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> g_y &#123; <span class="number">3</span> &#125;; <span class="comment">// defines initialized global const</span></span><br></pre></td></tr></table></figure><hr><h2 id="6-5-å˜é‡è¢«éšè—"><a href="#6-5-å˜é‡è¢«éšè—" class="headerlink" title="6.5 å˜é‡è¢«éšè—"></a>6.5 å˜é‡è¢«éšè—</h2><h3 id="å±€éƒ¨å˜é‡è¢«éšè—"><a href="#å±€éƒ¨å˜é‡è¢«éšè—" class="headerlink" title="å±€éƒ¨å˜é‡è¢«éšè—"></a>å±€éƒ¨å˜é‡è¢«éšè—</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">// outer block</span></span><br><span class="line"><span class="keyword">int</span> apples &#123; <span class="number">5</span> &#125;; <span class="comment">// åµŒå¥—å¤–éƒ¨çš„apples</span></span><br><span class="line">    </span><br><span class="line">    &#123;<span class="comment">// nested block</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;apples&lt;&lt;<span class="string">'\n'</span>; <span class="comment">//è¿™é‡Œçš„applesæ˜¯åµŒå¥—å¤–éƒ¨çš„</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> apples &#123;<span class="number">0</span>&#125;; <span class="comment">//åœ¨åµŒå¥—å†…éƒ¨å®šä¹‰å˜é‡apples</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ç°åœ¨çš„applesæŒ‡çš„æ˜¯åµŒå¥—å†…éƒ¨ çš„apples.åµŒå¥—å¤–éƒ¨çš„applesç°åœ¨è¢«éšè—èµ·æ¥äº†</span></span><br><span class="line">        apples = <span class="number">10</span>; <span class="comment">//ç°åœ¨è¢«èµ‹å€¼çš„applesæŒ‡çš„æ˜¯åµŒå¥—å†…éƒ¨çš„apples</span></span><br><span class="line">        </span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; apples &lt;&lt;<span class="string">'\n'</span>'</span><br><span class="line">    &#125; <span class="comment">//åµŒå¥—å—å†…éƒ¨çš„applesè¢«é”€æ¯</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;apples&lt;&lt;<span class="string">'\n'</span>; <span class="comment">//è¿™ä¸ªapplesæŒ‡çš„æ˜¯åµŒå¥—å¤–éƒ¨çš„apples(å› ä¸ºç°åœ¨ï¼ŒåµŒå¥—å†…éƒ¨çš„appleså·²ç»è¢«é”€æ¯)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>ï¼›</span><br><span class="line">&#125; <span class="comment">//åµŒå¥—å¤–éƒ¨çš„applesè¢«é”€æ¯</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">10</span><br><span class="line">5</span><br></pre></td></tr></table></figure><hr><h3 id="å…¨å±€å˜é‡è¢«éšè—"><a href="#å…¨å±€å˜é‡è¢«éšè—" class="headerlink" title="å…¨å±€å˜é‡è¢«éšè—"></a>å…¨å±€å˜é‡è¢«éšè—</h3><p>å°±åƒå±€éƒ¨å˜é‡ä¸­çš„ï¼ŒåµŒå¥—å—ä¸­çš„å˜é‡å¯ä»¥å°†åµŒå¥—å¤–éƒ¨çš„åŒåå˜é‡ä»¥è—èµ·æ¥ ä¸€æ ·ã€‚<strong>å±€éƒ¨å˜é‡å¯ä»¥å°†å…¨å±€ä¸­çš„åŒåå˜é‡éšè—èµ·æ¥:</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> a &#123;<span class="number">5</span>&#125;; <span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"global variable aï¼š"</span>&lt;&lt;a&lt;&lt;<span class="string">'\n'</span>;<span class="comment">//æ­¤æ—¶ï¼Œå…¨å±€å˜é‡aè¿˜æ²¡æœ‰è¢«éšè—ã€‚å³ï¼Œè¿™é‡Œçš„å˜é‡aï¼ŒæŒ‡çš„æ˜¯å…¨å±€å˜é‡</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a &#123;<span class="number">7</span>&#125;; <span class="comment">//æ­¤æ—¶ï¼Œå…¨å±€å˜é‡aå°±è¢«è¿™é‡Œçš„å±€éƒ¨å˜é‡a éšè—èµ·æ¥äº†</span></span><br><span class="line">    </span><br><span class="line">    ++a; <span class="comment">//å±€éƒ¨å˜é‡aåŠ 1ï¼Œè€Œä¸æ˜¯å…¨å±€å˜é‡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"local variable a: "</span> &lt;&lt; a &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    foo();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// å±€éƒ¨å˜é‡aè¢«é”€æ¯</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local variable a: 8</span><br><span class="line">global variable a: 5</span><br></pre></td></tr></table></figure><hr><p>ç„¶è€Œå•Šï¼Œå…¨å±€å˜é‡æ˜¯å±äºå…¨å±€çš„å‘½åç©ºé—´ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <em>èŒƒå›´è§£æç¬¦(::)</em>ï¼ˆä¸å¸¦å‰ç¼€çš„ï¼Œå³é»˜è®¤æ˜¯åœ¨å…¨å±€å‘½åç©ºé—´ï¼‰æ¥å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å…¨å±€å˜é‡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> a &#123;<span class="number">5</span>&#125;; <span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a &#123;<span class="number">7</span>&#125;; <span class="comment">//æ­¤æ—¶ï¼Œå°†å…¨å±€å˜é‡aéšè—èµ·æ¥äº†</span></span><br><span class="line">    ++aï¼› <span class="comment">//å±€éƒ¨å˜é‡aåŠ 1ï¼Œè€Œä¸æ˜¯å…¨å±€å˜é‡</span></span><br><span class="line">        </span><br><span class="line">    --(::a); <span class="comment">//æ­¤æ—¶æ˜¯å¯¹äºå…¨å±€å˜é‡ï¼Œå‡ä¸€</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"local variable a: "</span> &lt;&lt; a &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"global variable a: "</span> &lt;&lt; ::a &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;       </span><br><span class="line">&#125;<span class="comment">//local a è¢«é”€æ¯</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">local variable a: 8</span><br><span class="line">global variable a: 4</span><br></pre></td></tr></table></figure><hr><h3 id="é¿å…å˜é‡è¢«éšè—"><a href="#é¿å…å˜é‡è¢«éšè—" class="headerlink" title="é¿å…å˜é‡è¢«éšè—"></a>é¿å…å˜é‡è¢«éšè—</h3><p>é€šå¸¸åº”è¯¥é¿å…å±€éƒ¨å˜é‡çš„éšè—ï¼Œå› ä¸ºå®ƒä¼šåœ¨ä½¿ç”¨æˆ–ä¿®æ”¹é”™è¯¯çš„å˜é‡æ—¶å¯¼è‡´æ— æ„çš„é”™è¯¯ã€‚ä¸€äº›ç¼–è¯‘å™¨ä¼šåœ¨å˜é‡è¢«éšè—æ—¶å‘å‡ºè­¦å‘Šã€‚</p><hr><h2 id="6-6-å†…éƒ¨è¿æ¥"><a href="#6-6-å†…éƒ¨è¿æ¥" class="headerlink" title="6.6 å†…éƒ¨è¿æ¥"></a>6.6 å†…éƒ¨è¿æ¥</h2><p>åœ¨ <a href="https://www.learncpp.com/cpp-tutorial/local-variables/" target="_blank" rel="noopener">6.3 â€“ Local variables</a>ä¸­ï¼Œè®²åˆ°ï¼šâ€œä¸€ä¸ªæ ‡è¯†ç¬¦çš„è¿æ¥å†³å®šäº†è¯¥åç§°çš„å…¶ä»–å£°æ˜æ˜¯å¦å¼•ç”¨åŒä¸€å¯¹è±¡â€å’Œâ€œå±€éƒ¨å˜é‡çš„æ— è¿æ¥â€</p><p>å…¨å±€å˜é‡å’Œå‡½æ•°æ ‡è¯†ç¬¦æœ‰ï¼š<strong>å†…éƒ¨é“¾æ¥(internal linkage)</strong>å’Œ<strong>å¤–éƒ¨é“¾æ¥(external linkage)</strong>ã€‚æœ¬èŠ‚ä¸»è¦è®²å†…éƒ¨é“¾æ¥ã€‚</p><hr><p>ä¸€ä¸ªæ ‡è¯†è‹¥æ˜¯å†…éƒ¨è¿æ¥ï¼Œé‚£å®ƒå°±åªèƒ½åœ¨è¿™ä¸€ä¸ªæ–‡ä»¶ä¸­æœ‰æ•ˆ(å¯ä»¥è¢«çœ‹åˆ°å’Œä½¿ç”¨)ï¼›è€Œä¸å¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­çœ‹åˆ°å’Œä½¿ç”¨ã€<strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ²¡æœ‰æš´éœ²ç»™é“¾æ¥å™¨</strong>ã€‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«å«æœ‰ä¸€ä¸ªç›¸åŒåå­—çš„æ ‡è¯†ç¬¦(è€Œä¸”è¿™è¿™ä¸ªåŒåçš„æ ‡è¯†ç¬¦æ˜¯ å†…éƒ¨è¿æ¥)ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒåçš„æ ‡è¯†ç¬¦å°±è¢«çœ‹å¾…æˆç›¸äº’ç‹¬ç«‹çš„ã€‚</p><hr><h3 id="å…¨å±€å˜é‡å†…éƒ¨è¿æ¥"><a href="#å…¨å±€å˜é‡å†…éƒ¨è¿æ¥" class="headerlink" title="å…¨å±€å˜é‡å†…éƒ¨è¿æ¥"></a>å…¨å±€å˜é‡å†…éƒ¨è¿æ¥</h3><p>å…¨å±€å˜é‡æ˜¯å†…éƒ¨é“¾æ¥æ—¶ï¼Œä¹Ÿè¢«ç§°ä¸ºï¼š<strong>å†…éƒ¨å˜é‡(<em>internal variables</em>)</strong>ã€‚</p><blockquote><p>è®© éå¸¸é‡çš„å…¨å±€å˜é‡ æˆä¸ºå†…éƒ¨å˜é‡ï¼Œéœ€è¦ä½¿ç”¨<strong>å…³é”®å­—<code>static</code></strong>ï¼›ï¼ˆå› ä¸ºéå¸¸é‡çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å¤–éƒ¨é“¾æ¥ çš„ï¼‰</p><p>è€Œ å¸¸é‡çš„å…¨å±€å˜é‡ <strong>é»˜è®¤</strong>çš„å°±æ˜¯ å†…éƒ¨å˜é‡ã€‚</p></blockquote><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> g_x; <span class="comment">//éå¸¸é‡çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å¤–éƒ¨é“¾æ¥ã€‚ä½†æ˜¯åŠ ä¸Šå…³é”®å­—staticåï¼Œå°±å˜æˆå†…éƒ¨è¿æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> g_y &#123;<span class="number">1</span>&#125;; <span class="comment">//const çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å†…éƒ¨è¿æ¥</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> g_z &#123;<span class="number">2</span>&#125;; <span class="comment">//constexpr çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å†…éƒ¨è¿æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>const</code>å’Œ<code>constexpr</code>çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å†…éƒ¨è¿æ¥(æ‰€ä»¥ï¼Œä¸éœ€è¦åŠ  å…³é”®å­—<code>static</code>)</p></blockquote><hr><h3 id="ä¸€ä¸ªå®šä¹‰è§„åˆ™å’Œå†…éƒ¨è¿æ¥"><a href="#ä¸€ä¸ªå®šä¹‰è§„åˆ™å’Œå†…éƒ¨è¿æ¥" class="headerlink" title="ä¸€ä¸ªå®šä¹‰è§„åˆ™å’Œå†…éƒ¨è¿æ¥"></a>ä¸€ä¸ªå®šä¹‰è§„åˆ™å’Œå†…éƒ¨è¿æ¥</h3><p>è¿˜è®°å¾—åœ¨ <a href="https://www.learncpp.com/cpp-tutorial/forward-declarations/" target="_blank" rel="noopener">2.7 â€“ Forward declarations and definitions</a>,ä¸­è®²åˆ°ä¸€ä¸ªå®šä¹‰çš„è§„åˆ™ï¼š<em>åœ¨æ–‡ä»¶æˆ–ç¨‹åºä¸­ï¼Œ*</em>ä¸€ä¸ª*<em>å¯¹è±¡æˆ–è€…å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå®šä¹‰</em>ã€‚</p><p>ç„¶è€Œï¼Œè¿™ä¸€ä¸ªæˆ‘ä»¬å´åœ¨ä¸€ä¸ªç¨‹åºä¸­å¯¹ä¸€ä¸ªå¯¹è±¡æˆ–å‡½æ•°è¿›è¡Œäº†â€œå¤šæ¬¡å®šä¹‰â€ï¼Œè¿™æ˜¯å¦è¿èƒŒäº†ä¸Šé¢çš„è§„åˆ™å‘¢ï¼Ÿ</p><blockquote><p>ç­”ï¼šä¸è¿èƒŒã€‚å› ä¸ºæœ¬èŠ‚ä¸­æˆ‘ä»¬å°†å®ƒä»¬è®¾ç½®ä¸ºå†…éƒ¨è¿æ¥ï¼Œæ­¤æ—¶è™½ç„¶å®ƒä»¬çš„åå­—ç›¸åŒï¼Œä½†æ˜¯ç›¸äº’ç‹¬ç«‹ï¼ˆå³ï¼Œå®ƒä»¬ç›¸å½“äºä¸åŒçš„å¯¹è±¡æˆ–å‡½æ•°ï¼Œåªæ˜¯åå­—ç›¸åŒã€‚å°±å¥½åƒä¸¤ä¸ªåŒåçš„äººä¸€æ ·ï¼‰ã€‚æ‰€ä»¥ä¸è¿èƒŒä¸Šé¢çš„å®šä¹‰è§„åˆ™ã€‚</p></blockquote><hr><h3 id="å‡½æ•°å†…éƒ¨è¿æ¥"><a href="#å‡½æ•°å†…éƒ¨è¿æ¥" class="headerlink" title="å‡½æ•°å†…éƒ¨è¿æ¥"></a>å‡½æ•°å†…éƒ¨è¿æ¥</h3><p>å› ä¸ºâ€œè¿æ¥(linkage)â€æ˜¯æ ‡è¯†ç¬¦çš„å±æ€§(æ ‡è¯†ç¬¦ä¸ä»…ä»…åªä»£è¡¨å˜é‡(â˜„âŠ™Ï‰âŠ™)â˜„ï¼Œå› ä¸ºå‡½æ•°çš„åå­—ä¹Ÿæ˜¯æ ‡è¯†ç¬¦)ã€‚æ‰€ä»¥ï¼Œå‡½æ•°æ ‡è¯†ç¬¦ä¹Ÿå…·æœ‰ å†…éƒ¨è¿æ¥ çš„å±æ€§ã€‚</p><p>å¦‚ï¼š</p><p><code>add.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ä¸ªå‡½æ•°å‰ä½¿ç”¨å…³é”®å­—staticï¼Œè¡¨ç¤ºå®ƒç°åœ¨åªåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æœ‰æ•ˆ</span></span><br><span class="line"><span class="comment">//å¦‚æœï¼Œä¼å›¾é€šè¿‡å‡½æ•°æå‰å£°æ˜ä»ï¼Œä»å¦ä¸€ä¸ªæ–‡ä»¶è®¿é—®å®ƒï¼Œå°†å¤±è´¥</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">add</span> <span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span> <span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">//å¯¹å‡½æ•°addï¼Œæå‰å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç¨‹åºï¼Œåœ¨é“¾æ¥å™¨è¿æ¥æ—¶ï¼Œå°†ä¼šå‡ºé”™ã€‚å› ä¸ºå‡½æ•°addåœ¨<code>main.cpp</code>ä¸­ä¸å¯è®¿é—®</p><hr><h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Internal global variables definitions:</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> g_x;          <span class="comment">// defines non-initialized internal global variable (zero initialized by default)</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> g_x&#123; <span class="number">1</span> &#125;;     <span class="comment">// defines initialized internal global variable</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> g_y &#123; <span class="number">2</span> &#125;;     <span class="comment">// defines initialized internal global const variable</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> g_y &#123; <span class="number">3</span> &#125;; <span class="comment">// defines initialized internal global constexpr variable</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Internal function definitions:</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;&#125;;     <span class="comment">// defines internal function</span></span><br></pre></td></tr></table></figure><hr><h2 id="6-7-å¤–éƒ¨è¿æ¥"><a href="#6-7-å¤–éƒ¨è¿æ¥" class="headerlink" title="6.7 å¤–éƒ¨è¿æ¥"></a>6.7 å¤–éƒ¨è¿æ¥</h2><p>ä¸€ä¸ªæ ‡è¯†ç¬¦å…·æœ‰ <strong>å¤–éƒ¨è¿æ¥(external linkage)</strong>çš„å±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºä¸­(ä¸ä»…ä»…åªåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­)è¢«çœ‹è§å’Œè®¿é—®ã€‚ï¼ˆåœ¨å…¶ä»–æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡<em>æå‰å£°æ˜</em>æ¥è®¿é—®å®ƒï¼‰</p><blockquote><p>æ‰€ä»¥ï¼Œå…·æœ‰å¤–éƒ¨è¿æ¥å±æ€§çš„è¡¨ç¤ºç¬¦ï¼Œæ‰æ˜¯çœŸæ­£çš„â€œå…¨å±€â€å˜é‡</p></blockquote><hr><h3 id="å‡½æ•°é»˜è®¤æ˜¯å¤–éƒ¨é“¾æ¥"><a href="#å‡½æ•°é»˜è®¤æ˜¯å¤–éƒ¨é“¾æ¥" class="headerlink" title="å‡½æ•°é»˜è®¤æ˜¯å¤–éƒ¨é“¾æ¥"></a>å‡½æ•°é»˜è®¤æ˜¯å¤–éƒ¨é“¾æ¥</h3><p>åœ¨ <a href="https://www.learncpp.com/cpp-tutorial/programs-with-multiple-code-files/" target="_blank" rel="noopener">2.8 â€“ Programs with multiple code files</a>ä¸­ï¼Œè®²åˆ°æˆ‘ä»¬å¯ä»¥ä»å…¶ä»–æ–‡ä»¶ä¸­è°ƒç”¨å‡½æ•°ï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸ªå‡½æ•°é»˜è®¤æ˜¯â€œå¤–éƒ¨é“¾æ¥â€çš„ã€‚</p><p>åœ¨ä»å…¶ä»–æ–‡ä»¶ä¸­è°ƒç”¨å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è¦å¯¹è¿™ä¸ªå‡½æ•°è¿›è¡Œ <strong>æå‰å£°æ˜(forward declaration)</strong></p><blockquote><p>å› ä¸ºï¼Œ<strong>æå‰å£°æ˜</strong>å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå‡½æ•°çš„å­˜åœ¨ï¼›è€Œé“¾æ¥å™¨åˆ™æ˜¯å°†å‡½æ•°è°ƒç”¨è¿æ¥åˆ°å®é™…çš„å‡½æ•°å®šä¹‰</p></blockquote><p>å¦‚ï¼š</p><p><code>a.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sayHi</span><span class="params">()</span> <span class="comment">//è¿™ä¸ªå‡½æ•°é»˜è®¤æ˜¯ å¤–éƒ¨è¿æ¥ï¼Œæ‰€ä»¥ä»–å¯ä»¥åœ¨æ•´ä¸ªç¨‹åº(åŒ…æ‹¬å…¶ä»–æ–‡ä»¶)ä¸­è¢«çœ‹è§</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hi"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sayHi</span><span class="params">()</span></span>; <span class="comment">//å¯¹å‡½æ•°è¿›è¡Œæå‰å£°æ˜ï¼Œä½¿å¾—è¯¥å‡½æ•°åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯ä»¥è¢«è®¿é—®</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sayHi(); <span class="comment">//è¿™é‡Œæ˜¯ä»å…¶ä»–æ–‡ä»¶ä¸­è°ƒç”¨æ­¤å‡½æ•°ï¼Œé“¾æ¥å™¨å°†æŠŠè¿™ä¸ªè°ƒç”¨è¿æ¥åˆ°å‡½æ•°å®šä¹‰</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hi</span><br></pre></td></tr></table></figure><hr><h3 id="å…¨å±€å˜é‡å¤–éƒ¨è¿æ¥"><a href="#å…¨å±€å˜é‡å¤–éƒ¨è¿æ¥" class="headerlink" title="å…¨å±€å˜é‡å¤–éƒ¨è¿æ¥"></a>å…¨å±€å˜é‡å¤–éƒ¨è¿æ¥</h3><p>å…¨å±€å˜é‡å…·æœ‰å¤–éƒ¨è¿æ¥å±æ€§æ—¶ï¼Œä¹Ÿç§°ä¸ºï¼š<strong>å¤–éƒ¨å˜é‡(external variables)</strong></p><blockquote><p>éå¸¸é‡çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å¤–éƒ¨å˜é‡ï¼›</p><p>å¸¸é‡çš„å…¨å±€å˜é‡ è¦æƒ³æˆä¸ºå¤–éƒ¨å˜é‡ï¼Œéœ€è¦ä½¿ç”¨<strong>å…³é”®å­—<code>extern</code></strong></p></blockquote><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g_x &#123;<span class="number">2</span>&#125;; <span class="comment">//éå¸¸é‡çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å¤–éƒ¨å˜é‡ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_y &#123;<span class="number">3</span>&#125;;<span class="comment">//const çš„å…¨å±€å˜é‡å¯ä»¥è¢«å®šä¹‰æˆ å¤–éƒ¨å˜é‡ï¼Œéœ€è¦åŠ å…³é”®å­—extern</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> g_z &#123;<span class="number">3</span>&#125;; <span class="comment">//constexpr çš„å…¨å±€å˜é‡å¯ä»¥è¢«å®šä¹‰æˆ å¤–éƒ¨å˜é‡,éœ€è¦åŠ å…³é”®å­—extern</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œéconstå…¨å±€å˜é‡æ˜¯å¤–éƒ¨å˜é‡(å¦‚æœä½¿ç”¨ï¼Œexternå…³é”®å­—å°†è¢«å¿½ç•¥)ã€‚</p></blockquote><hr><h3 id="externæå‰å£°æ˜å˜é‡"><a href="#externæå‰å£°æ˜å˜é‡" class="headerlink" title="externæå‰å£°æ˜å˜é‡"></a><code>extern</code>æå‰å£°æ˜å˜é‡</h3><p>è¦å®é™…ä½¿ç”¨åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰çš„å¤–éƒ¨å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨å®ƒçš„æ–‡ä»¶ä¸­å¯¹å…¨å±€å˜é‡è¿›è¡Œ<em>æå‰å£°æ˜</em>ã€‚å¯¹äºå˜é‡ï¼Œåœ¨åˆ›å»ºä¸€ä¸ª<strong>æå‰å£°æ˜æ—¶ï¼Œä¹Ÿæ˜¯éœ€è¦ä½¿ç”¨å…³é”®å­—<code>extern</code>çš„(</strong>æ²¡æœ‰åˆå§‹åŒ–å€¼)ï¼š</p><p>å¦‚ï¼š</p><p><code>a.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€å˜é‡çš„å®šä¹‰</span></span><br><span class="line"><span class="keyword">int</span> g_x &#123;<span class="number">2</span>&#125;; <span class="comment">//éå¸¸é‡çš„å…¨å±€å˜é‡é»˜è®¤æ˜¯ å¤–éƒ¨é“¾æ¥</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_y &#123;<span class="number">3</span>&#125;; <span class="comment">//å¸¸é‡çš„å…¨å±€å˜é‡æ˜¯å†…éƒ¨è¿æ¥ï¼Œä½†ä½¿ç”¨å…³é”®å­—externåï¼Œå˜ä¸º å¤–éƒ¨é“¾æ¥</span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> g_x; <span class="comment">//å¯¹å˜é‡g_xçš„æå‰å£°æ˜ã€‚å®ƒçš„å®šä¹‰åœ¨å…¶ä»–æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_y; <span class="comment">//å¯¹å¸¸é‡å˜é‡g_yçš„æå‰å£°æ˜ã€‚å®ƒçš„å®šä¹‰åœ¨å…¶ä»–æ–‡ä»¶ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>&lt;&lt; g_x; <span class="comment">//ç»“æœä¸º2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å‡½æ•°æå‰å£°æ˜ä¸ç”¨extern"><a href="#å‡½æ•°æå‰å£°æ˜ä¸ç”¨extern" class="headerlink" title="å‡½æ•°æå‰å£°æ˜ä¸ç”¨extern"></a>å‡½æ•°æå‰å£°æ˜ä¸ç”¨<code>extern</code></h3><p><strong>å‡½æ•°çš„æå‰å£°æ˜ä¸éœ€è¦å…³é”®å­—<code>extern</code></strong></p><blockquote><p>ç¼–è¯‘å™¨èƒ½æå‘Šè¯‰ä½ è¿™ä¸ªå‡½æ•°åœ¨å“ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥æ ¹æ®æ˜¯å¦æä¾›å‡½æ•°ä½“æ¥è¿›è¡Œæå‰å£°æ˜ã€‚</p></blockquote><p><strong>å˜é‡çš„æå‰å£°æ˜å¿…é¡»è¦ç”¨å…³é”®å­—<code>extern</code></strong>ï¼Œ</p><blockquote><p>æ¥å¸®åŠ©åŒºåˆ† <strong>å˜é‡å®šä¹‰</strong> å’Œ <strong>å˜é‡æå‰å£°æ˜</strong>(å®ƒä»¬çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„):</p></blockquote><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//éå¸¸é‡</span></span><br><span class="line"><span class="keyword">int</span> g_x; <span class="comment">//å˜é‡çš„å®šä¹‰(å¦‚æœéœ€è¦ï¼Œå¯è¿›è¡Œåˆå§‹åŒ–)</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> g_x; <span class="comment">//å˜é‡çš„æå‰å£°æ˜(æå‰å£°æ˜  ä¸å¸¦åˆå§‹åŒ–)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸¸é‡</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_y &#123;<span class="number">1</span>&#125;;<span class="comment">//å®šä¹‰å˜é‡(å¸¸é‡çš„å®šä¹‰å¿…é¡»è¦è¿›è¡Œåˆå§‹åŒ–)</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_y; <span class="comment">//æå‰å£°æ˜(æå‰å£°æ˜  ä¸å¸¦åˆå§‹åŒ–)</span></span><br></pre></td></tr></table></figure><hr><h3 id="fileèŒƒå›´VS-globalèŒƒå›´"><a href="#fileèŒƒå›´VS-globalèŒƒå›´" class="headerlink" title="fileèŒƒå›´VS.globalèŒƒå›´"></a>fileèŒƒå›´VS.globalèŒƒå›´</h3><p>çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><p><code>global.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g_x &#123;<span class="number">2</span>&#125;; <span class="comment">//ï¼ˆéå¸¸é‡çš„å˜é‡ï¼‰é»˜è®¤æ˜¯å¤–éƒ¨è¿æ¥</span></span><br><span class="line"><span class="comment">//g_x goes out scope here</span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> g_x; <span class="comment">//å¯¹å˜é‡g_xçš„æå‰å£°æ˜ã€‚å¯ä»¥åœ¨æ­¤æ–‡ä»¶ä¸­ä½¿ç”¨g_x</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_x; <span class="comment">//åº”è¯¥è¾“å‡º 2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//g_xçš„æå‰å£°æ˜ goes out of scope here</span></span><br></pre></td></tr></table></figure><blockquote><p>å˜é‡g_xçš„<strong>æ–‡ä»¶èŒƒå›´(file scope)</strong>æ˜¯åœ¨<code>global.cpp</code>ä¸­ã€‚å®ƒåœ¨è¯¥æ–‡ä»¶ä¸­å®šä¹‰ä¹‹åï¼Œå°±å¯ä»¥è¢«ä½¿ç”¨ã€‚</p><p>ä½†æ˜¯å®ƒ<strong>ä¸èƒ½<u>ç›´æ¥</u>åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨</strong>ã€‚å¦‚æœè¦åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨g_xï¼Œæˆ‘ä»¬è¦åœ¨å…¶ä»–æ–‡ä»¶ä¸­å¯¹å®ƒè¿›è¡Œæå‰å£°æ˜(è®°å¾—è¦ä½¿ç”¨å…³é”®å­—<code>extern</code>)</p></blockquote><hr><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œâ€œæ–‡ä»¶èŒƒå›´â€é€šå¸¸ç”¨äºå…·æœ‰<em>å†…éƒ¨è¿æ¥</em>å±æ€§çš„å…¨å±€å˜é‡ï¼›â€œå…¨å±€èŒƒå›´â€æ›´å¤šç”¨äºå…·æœ‰<em>å¤–éƒ¨è¿æ¥</em>å±æ€§çš„å…¨å±€å˜é‡(å› ä¸ºï¼Œå®ƒè¢«æå‰å£°æ˜ä¹‹åï¼Œå°±å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨)</p><hr><h3 id="å…¨å±€å˜é‡åˆå§‹åŒ–é¡ºåºé—®é¢˜"><a href="#å…¨å±€å˜é‡åˆå§‹åŒ–é¡ºåºé—®é¢˜" class="headerlink" title="å…¨å±€å˜é‡åˆå§‹åŒ–é¡ºåºé—®é¢˜"></a>å…¨å±€å˜é‡åˆå§‹åŒ–é¡ºåºé—®é¢˜</h3><p>å…¨å±€å˜é‡çš„åˆå§‹åŒ–æ˜¯ç¨‹åºå¯åŠ¨çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨æ‰§è¡Œ<code>mian</code>å‡½æ•°ä¹‹å‰ï¼Œè¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ul><li><p>ç¬¬ä¸€éƒ¨åˆ†ï¼Œç§°ä¸º <strong><em>static initialization</em>é™æ€åˆå§‹åŒ–</strong>ã€‚</p><blockquote><p>åœ¨é™æ€åˆå§‹åŒ–ä¸­ï¼Œå¸¦æœ‰constexpråˆå§‹åŒ–å™¨(åŒ…æ‹¬å­—é¢å€¼(literal))çš„å…¨å±€å˜é‡è¢«åˆå§‹åŒ–ä¸ºç»™å®šçš„å€¼[å› ä¸ºï¼Œconstexprå’Œå­—é¢å€¼å¸¸é‡å®šä¹‰æ—¶è‡ªå¸¦æœ‰åˆå§‹å€¼]ï¼›</p><blockquote><p>eg,</p><p><code>const a {1};</code>é‚£ä¹ˆaå°±è¢«åˆå§‹åŒ–ä¸º1</p><p><code>constexpr a{1};</code>é‚£ä¹ˆaå°±è¢«åˆå§‹åŒ–ä¸º1</p></blockquote><p>å®šä¹‰æ—¶æ²¡æœ‰ç»™å®šåˆå§‹å€¼çš„å…¨å±€å˜é‡<strong>(ä¹Ÿä½¿å¸¸é‡çš„å…¨å±€å˜é‡ï¼Œä½†æ²¡æœ‰æ˜¾ç¤ºåˆå§‹åŒ–ä¸º0)</strong>è¢«é»˜è®¤åˆå§‹åŒ–ä¸º0ã€‚</p><blockquote><p><code>const a {};</code>é‚£ä¹ˆaå°±é»˜è®¤è¢«åˆå§‹åŒ–ä¸º0</p><p><code>constexpr a{};</code>é‚£ä¹ˆaå°±é»˜è®¤è¢«åˆå§‹åŒ–ä¸º0</p></blockquote></blockquote></li><li><p>ç¬¬äºŒéƒ¨åˆ†ï¼Œç§°ä¸º <strong><em>dynamic initialization</em>åŠ¨æ€åˆå§‹åŒ–</strong>ã€‚</p><blockquote><p>è¿™éƒ¨åˆ†ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œå®ƒçš„è¦ç‚¹æ˜¯ï¼šåˆå§‹åŒ–é‚£äº›â€œä¸å¸¦æœ‰constexpråˆå§‹åŒ–å™¨çš„å…¨å±€å˜é‡â€(å³ï¼Œå°±æ˜¯ éå¸¸é‡çš„å…¨å±€å˜é‡)ã€‚</p></blockquote></li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> g_something &#123;init()&#125;; <span class="comment">//éå¸¸é‡çš„å˜é‡åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨å•ä½ä»¶çš„ç¨‹åºä¸­ï¼Œå…¨å±€å˜é‡æŒ‰ç…§å®šä¹‰çš„é¡ºåºè¢«åˆå§‹åŒ–</p></blockquote><p>è¿™ä¸ªè§„åˆ™æœ‰å‡ ä¸ªä¾‹å¤–ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œ<strong>æ‚¨éœ€è¦å°å¿ƒä¸è¦è®©å˜é‡ä¾èµ–äºå…¶ä»–å˜é‡çš„åˆå§‹åŒ–å€¼ï¼Œè¿™äº›å˜é‡è¦åˆ°ç¨åæ‰ä¼šåˆå§‹åŒ–</strong>ã€‚ä¾‹å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">initx</span><span class="params">()</span></span>;  <span class="comment">// forward declaration</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">inity</span><span class="params">()</span></span>;  <span class="comment">// forward declaration</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> g_x&#123; initx() &#125;; <span class="comment">// g_x is initialized first</span></span><br><span class="line"><span class="keyword">int</span> g_y&#123; inity() &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">initx</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> g_y; <span class="comment">// g_y isn't initialized when this is called</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">inity</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; g_x &lt;&lt; <span class="string">' '</span> &lt;&lt; g_y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/******ç»“æœ*******/</span></span><br><span class="line"><span class="number">0</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><hr><p>å†å¤šæ–‡ä»¶ç¨‹åºä¸­ï¼Œ<strong>ä¸åŒæ–‡ä»¶ä¹‹é—´çš„åˆå§‹åŒ–é¡ºåºæ˜¯æ²¡æœ‰è§„å®šçš„</strong>ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼Œæœ‰ä¸¤ä¸ªæ–‡ä»¶<code>a.cpp</code>å’Œ<code>b.cpp</code>ï¼Œå®ƒä»¬ä¸¤ä¸ªæ–‡ä»¶è°å…ˆè¢«åˆå§‹åŒ–æ˜¯ä¸ç¡®å®šçš„ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œå¦‚æœåœ¨<code>a.cpp</code>ä¸­æœ‰ä¸€ä¸ªå˜é‡çš„å€¼æ˜¯ä¾èµ–äº<code>b.cpp</code>ã€‚é‚£ä¹ˆå°±æœ‰50%çš„å¯èƒ½è¿™äº›å˜é‡è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚</p><hr><p>æ³¨æ„ï¼šC++ä¸­ï¼Œå…¨å±€å˜é‡çš„åŠ¨æ€åˆå§‹åŒ–ä¼šé€ æˆå¾ˆå¤šé—®é¢˜ã€‚æ‰€ä»¥é¿å…ä½¿ç”¨ã€‚</p><hr><p>å°ç»“ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// External global variable definitions:</span></span><br><span class="line"><span class="keyword">int</span> g_x;                       <span class="comment">// defines non-initialized external global variable (zero initialized by default)</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_x&#123; <span class="number">1</span> &#125;;     <span class="comment">// defines initialized const external global variable</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> g_x&#123; <span class="number">2</span> &#125;; <span class="comment">// defines initialized constexpr external global variable</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Forward declarations</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> g_y;                <span class="comment">// forward declaration for non-constant global variable</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">int</span> g_y;          <span class="comment">// forward declaration for const global variable</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> g_y;      <span class="comment">// not allowed: constexpr variables can't be forward declared</span></span><br></pre></td></tr></table></figure><hr><h2 id="6-8-å…¨å±€å¸¸é‡-amp-å†…è”å˜é‡"><a href="#6-8-å…¨å±€å¸¸é‡-amp-å†…è”å˜é‡" class="headerlink" title="6.8 å…¨å±€å¸¸é‡&amp;å†…è”å˜é‡"></a>6.8 å…¨å±€å¸¸é‡&amp;å†…è”å˜é‡</h2><blockquote><p><strong>Global constants and inline variables</strong></p></blockquote><p>ä¸€äº›ç¬¦å·å¸¸é‡éœ€(å¦‚ï¼Œé˜¿ä¼ä¼½å¾·ç½—å¸¸æ•°ï¼Œé‡åŠ›ç³»æ•°â€¦)è¦åœ¨æ•´ä¸ªç¨‹åºä¸­ä½¿ç”¨ã€‚æ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯åœ¨ä¸€ä¸ªåœ°æ–¹å¯¹ä»–ä»¬è¿›è¡Œå£°æ˜ï¼Œè€Œä¸æ˜¯åœ¨æ¯ä¸ªéœ€è¦å®ƒä»¬çš„æ–‡ä»¶ä¸­é‡æ–°å®šä¹‰è¿™äº›å¸¸é‡ã€‚</p><h3 id="å…¨å±€å¸¸é‡ä½œä¸ºå†…éƒ¨å˜é‡"><a href="#å…¨å±€å¸¸é‡ä½œä¸ºå†…éƒ¨å˜é‡" class="headerlink" title="å…¨å±€å¸¸é‡ä½œä¸ºå†…éƒ¨å˜é‡"></a>å…¨å±€å¸¸é‡ä½œä¸ºå†…éƒ¨å˜é‡</h3><p>åœ¨c++ä¸­æœ‰å¤šç§æ–¹æ³•å¯ä»¥ä¿ƒè¿›è¿™ä¸€ç‚¹ã€‚åœ¨c++ 17ä¹‹å‰ï¼Œä»¥ä¸‹å¯èƒ½æ˜¯æœ€ç®€å•å’Œæœ€å¸¸è§çš„æ–¹æ³•:</p><ol><li><p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªå¤´æ–‡ä»¶æ¥å­˜æ”¾è¿™äº›å¸¸é‡ï¼›</p></li><li><p>åœ¨è¿™ä¸ªå¤´æ–‡ä»¶ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªå‘½åç©ºé—´ï¼ˆåœ¨ <a href="https://www.learncpp.com/cpp-tutorial/user-defined-namespaces/" target="_blank" rel="noopener">6.2 â€“ User-defined namespaces</a>è®²è§£è¿‡å‘½åç©ºé—´ï¼‰ï¼›</p></li><li><p>ç„¶åï¼Œå°†å¸¸é‡åŠ å…¥è¿™ä¸ªå‘½åç©ºé—´ä¸­ï¼ˆè¯·ç¡®ä¿å®ƒä»¬çš„ç±»å‹æ˜¯<code>constexpr</code>ï¼‰ï¼›</p></li><li><p>åœ¨ä½ è¦ç”¨è¿™äº›å˜é‡çš„æ–‡ä»¶ä¸­ï¼ŒåŠ ä¸Šè¿™ä¸ªå¤´æ–‡ä»¶<code>#include &quot;xxx&quot;</code></p></li></ol><hr><p>eg:</p><p><code>constants.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä½ è‡ªå·±çš„å‘½åç©ºé—´(ç”¨æ¥å­˜å‚¨å¸¸é‡)</span></span><br><span class="line"><span class="keyword">namespace</span> constants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//é»˜è®¤æƒ…å†µä¸‹ï¼Œå¸¸é‡æœ‰ å†…éƒ¨è¿æ¥</span></span><br><span class="line">    <span class="keyword">constexpr</span> <span class="keyword">double</span> pi &#123;<span class="number">3.14159</span>&#125;;</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="keyword">double</span> my_gravity &#123;<span class="number">9.2</span>&#125;;</span><br><span class="line">    <span class="comment">//....å¸¸é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"constants.h"</span> <span class="comment">//ï¼šåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­åŒ…å«æ¯ä¸ªå¸¸é‡çš„å‰¯æœ¬</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"enter a radius: "</span>;</span><br><span class="line">    <span class="keyword">int</span> radius&#123;&#125;; <span class="comment">//radiusï¼šåŠå¾„</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt;radius;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"the circumference is: "</span> &lt;&lt;<span class="number">2</span>* radius* constants::pi;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šåœ¨<code>main.cpp</code>æ–‡ä»¶ä¸­ï¼Œè¦æƒ³è®¿é—®<code>constants</code>ä¸­çš„å¸¸é‡ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <strong>èŒƒå›´è§£æç¬¦(::)</strong>ã€‚</p><p><code>a::b</code> èŒƒå›´è§£ææ“ä½œç¬¦çš„ å·¦æ“ä½œæ•°a,è¡¨ç¤ºå‘½åç©ºé—´åç§°ï¼›å³æ“ä½œç¬¦bè¡¨ç¤ºå‘½åç©ºé—´aä¸­çš„å˜é‡æˆ–è€…å‡½æ•°åå­—ã€‚</p><p><code>::b</code> è¿™ç§å½¢å¼è¡¨ç¤º <strong>å…¶å‘½åç©ºé—´æ˜¯å…¨å±€å‘½åç©ºé—´</strong>ã€‚</p></blockquote><hr><h3 id="å…¨å±€å¸¸é‡ä½œä¸ºå¤–éƒ¨å˜é‡"><a href="#å…¨å±€å¸¸é‡ä½œä¸ºå¤–éƒ¨å˜é‡" class="headerlink" title="å…¨å±€å¸¸é‡ä½œä¸ºå¤–éƒ¨å˜é‡"></a>å…¨å±€å¸¸é‡ä½œä¸ºå¤–éƒ¨å˜é‡</h3><p>å½“ä½œä¸ºå†…éƒ¨å˜é‡æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š</p><p>è™½ç„¶è¿™å¾ˆç®€å•(å¯¹äºè¾ƒå°çš„ç¨‹åºä¹Ÿå¾ˆå¥½)ï¼Œä½†æ˜¯æ¯å½“constants.hè¢«åŒ…å«åˆ°ä¸åŒçš„ä»£ç æ–‡ä»¶ä¸­æ—¶ï¼Œæ¯ä¸ªå˜é‡éƒ½ä¼šè¢«å¤åˆ¶åˆ°åŒ…å«ä»£ç æ–‡ä»¶ä¸­ã€‚å› æ­¤ï¼Œå¦‚æœå°†constants.håŒ…å«åˆ°20ä¸ªä¸åŒçš„ä»£ç æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆæ¯ä¸ªå˜é‡éƒ½ä¼šé‡å¤20æ¬¡ã€‚å¤´æ–‡ä»¶ä¿æŠ¤ä¸ä¼šé˜»æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œå› ä¸ºå®ƒä»¬åªä¼šé˜»æ­¢å¤´æ–‡ä»¶ä¸æ­¢ä¸€æ¬¡è¢«åŒ…å«åˆ°ä¸€ä¸ªåŒ…å«æ–‡ä»¶ä¸­ï¼Œè€Œä¸ä¼šé˜»æ­¢å¤´æ–‡ä»¶ä¸€æ¬¡è¢«åŒ…å«åˆ°å¤šä¸ªä¸åŒçš„ä»£ç æ–‡ä»¶ä¸­ã€‚è¿™å¸¦æ¥äº†ä¸¤ä¸ªæŒ‘æˆ˜:</p><blockquote><p><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦(header guards)</strong>åªèƒ½ç¡®ä¿åœ¨å•ä¸ªæ–‡ä»¶ä¸­åŒ…å«çš„å¤´æ–‡ä»¶åªåŒ…å«ä¸€æ¬¡ï¼›</p></blockquote><ul><li>å½“ä¿®æ”¹ä¸€ä¸ªå¸¸é‡å€¼æ—¶ï¼Œå°±å¯èƒ½éœ€è¦é‡æ–°ç¼–è¯‘é‚£äº›åŒ…å«è¿™ä¸ªå¸¸é‡çš„æ–‡ä»¶ï¼Œè¿™å¯èƒ½å¯¼è‡´å¤§å‹é¡¹ç›®çš„é‡å»ºæ—¶é—´å¾ˆé•¿ã€‚</li><li>å¦‚æœå¸¸é‡çš„sizeå¾ˆå¤§ï¼Œå¹¶ä¸”ä¸èƒ½è¿›è¡Œä¼˜åŒ–ã€‚è¿™å°†èŠ±è´¹å¾ˆå¤šå†…å­˜ã€‚</li></ul><hr><p>ä¸€ä¸ªè§£å†³ä¸Šé¢çš„åŠæ³•å°±æ˜¯ï¼Œå°†è¿™äº›å¸¸é‡è®¾ä¸º<strong>â€œå¤–éƒ¨å˜é‡(external variables)â€</strong>ã€‚</p><blockquote><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å˜é‡åªåˆå§‹åŒ–ä¸€æ¬¡å°±å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºä¸­ä½¿ç”¨ã€‚</p></blockquote><p><code>constants.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> constants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//actual global variables</span></span><br><span class="line">    <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> pi &#123;<span class="number">3.14159</span>&#125;;</span><br><span class="line">    <span class="keyword">extern</span> <span class="keyword">const</span> my_gravity &#123;<span class="number">9.2</span>&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨<code>constants.cpp</code>æ–‡ä»¶ä¸­å®šä¹‰è¿™äº›å¸¸é‡ï¼Œæ¥ç¡®ä¿å®ƒä»¬åªè¢«å®šä¹‰ä¸€æ¬¡ï¼›</p></blockquote><p><code>constants.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> constants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// since the actual variables are inside a namespace, the forward declarations need to be inside a namespace as well</span></span><br><span class="line">    <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> pi;</span><br><span class="line">    <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> avogadro;</span><br><span class="line">    <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> my_gravity;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦åœ¨å¤´æ–‡ä»¶<code>constants.h</code>ä¸­å¯¹è¿™äº›å¸¸é‡è¿›è¡Œ æå‰å£°æ˜</p></blockquote><p><code>main.cpp</code></p><blockquote><p>ä½¿ç”¨çš„æ–¹æ³•ä¸å˜</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"constants.h"</span> <span class="comment">// include all the forward declarations</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a radius: "</span>;</span><br><span class="line">    <span class="keyword">int</span> radius&#123;&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; radius;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The circumference is: "</span> &lt;&lt; <span class="number">2</span> * radius * constants::pi;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><blockquote><p>å› ä¸ºå…¨å±€ç¬¦å·å¸¸é‡åœ¨å‘½åç©ºé—´ä¸­(ä¸ºäº†é¿å…ä¸å…¨å±€å‘½åç©ºé—´ä¸­çš„æ ‡è¯†ç¬¦å‘ç”Ÿ å‘½åå†²çª)ï¼Œæ‰€ä»¥ï¼Œå°±ä¸éœ€è¦åœ¨å®ƒåå­—ä¸­ä½¿ç”¨<code>g_</code>å‰ç¼€</p></blockquote><p>ç°åœ¨ï¼Œè¿™äº›ç¬¦å·å¸¸é‡åªç”¨åœ¨<code>constants.cpp</code>ä¸­å®ä¾‹åŒ–ä¸€æ¬¡(è€Œä¸æ˜¯æ¯æ¬¡constants.hè¢«<code>#include</code>ä¸­éƒ½è¢«å®ä¾‹åŒ–ä¸€æ¬¡)ï¼Œæ‰€ä»¥ï¼Œå¯¹constants.cppæ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½åªéœ€è¦é‡æ–°ç¼–è¯‘constants.cppå³å¯ã€‚</p><p>ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæœ‰å‡ ä¸ªç¼ºç‚¹ã€‚</p><ul><li><strong>é¦–å…ˆï¼Œè¿™äº›å¸¸é‡ç°åœ¨åªåœ¨å®é™…å®šä¹‰å®ƒä»¬çš„æ–‡ä»¶(constants.cpp)ä¸­è¢«è®¤ä¸ºæ˜¯ ç¼–è¯‘æ—¶å¸¸é‡</strong>ï¼Œ<strong>è€Œä¸æ˜¯åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨å®ƒä»¬</strong>ã€‚è¿™æ„å‘³ç€åœ¨constants.cppä¹‹å¤–çš„åœ°æ–¹ï¼Œå®ƒä»¬ä¸èƒ½åœ¨ä»»ä½•éœ€è¦ç¼–è¯‘æ—¶å¸¸é‡çš„åœ°æ–¹ä½¿ç”¨ã€‚</li><li>å…¶æ¬¡ï¼Œç¼–è¯‘å™¨å¯èƒ½æ— æ³•å¯¹å®ƒä»¬è¿›è¡Œå°½å¯èƒ½å¤šçš„ä¼˜åŒ–ã€‚</li></ul><hr><h3 id="å…¨å±€å¸¸é‡ä½œä¸ºå†…è”å˜é‡"><a href="#å…¨å±€å¸¸é‡ä½œä¸ºå†…è”å˜é‡" class="headerlink" title="å…¨å±€å¸¸é‡ä½œä¸ºå†…è”å˜é‡"></a>å…¨å±€å¸¸é‡ä½œä¸ºå†…è”å˜é‡</h3><p>åœ¨C++17ä¸­ï¼Œæœ‰ä¸€ä¸ªæ–°æ¦‚å¿µå«åšï¼š<strong><em>inline variable</em>(å†…è”å˜é‡)</strong></p><blockquote><p><strong>inline</strong>æ„ä¸ºï¼šå…è®¸å¤šä¸ªå®šä¹‰ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œä¸€ä¸ªå†…è”å˜é‡å°±å¯ä»¥åœ¨å¤šä¸ªæ–‡ä»¶ä¸­è¢«å¤šæ¬¡å®šä¹‰ã€‚(è¿™å¹¶ä¸è¿èƒŒ <strong>å•å®šä¹‰è§„åˆ™</strong>)</p><blockquote><p><strong>å†…è”å…¨å±€å˜é‡</strong> é»˜è®¤æ˜¯ <strong>å¤–éƒ¨è¿æ¥</strong></p></blockquote><hr><p>å†…è”å˜é‡æœ‰ä¸¤ä¸ªé‡è¦çš„é™åˆ¶ï¼Œå¿…é¡»éµå®ˆï¼š</p><ul><li>å†…è”å˜é‡çš„æ‰€æœ‰å®šä¹‰å¿…é¡»ç›¸åŒï¼ˆå¦åˆ™ï¼Œå°†äº§ç”Ÿæœªå®šä¹‰çš„è¡Œä¸ºï¼‰ï¼›</li><li>å†…æ•›å˜é‡çš„å®šä¹‰(ä¸æ˜¯æå‰å£°æ˜)å¿…é¡»å‡ºç°åœ¨æ¯ä¸€ä¸ªä½¿ç”¨è¿™äº›å˜é‡çš„æ–‡ä»¶ä¸­ã€‚</li></ul><blockquote><p>ç¼–è¯‘å™¨å°†ä¼šæŠŠå†…è”å˜é‡çš„æ‰€æœ‰å®šä¹‰åˆå¹¶ä¸ºä¸€ä¸ªå˜é‡çš„å®šä¹‰ã€‚è¿™å°±å…è®¸æˆ‘ä»¬åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å˜é‡ï¼Œå¹¶å°†å®ƒä»¬å½“ä½œ<code>a.cpp</code>æ–‡ä»¶ä¸­åªæœ‰ä¸€ä¸ªå®šä¹‰ã€‚</p><p>è¿™äº›å˜é‡åœ¨å®ƒä»¬è¢«åŒ…å«çš„æ–‡ä»¶ä¸­ï¼Œä¾ç„¶ä¿æŒè¿™ constexpr çš„æ€§è´¨</p></blockquote><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å…¨å±€å˜é‡ï¼Œè€Œä¸ç”¨æ‹…å¿ƒé‡å¤å˜é‡:</p><p><code>constants.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// define your own namespace to hold constants</span></span><br><span class="line"><span class="keyword">namespace</span> constants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> pi &#123; <span class="number">3.14159</span> &#125;; <span class="comment">// note: now inline constexpr</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> avogadro &#123; <span class="number">6.0221413e23</span> &#125;;</span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> my_gravity &#123; <span class="number">9.2</span> &#125;; <span class="comment">// m/s^2 -- gravity is light on this planet</span></span><br><span class="line">    <span class="comment">// ... other related constants</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"constants.h"</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a radius: "</span>;</span><br><span class="line">    <span class="keyword">int</span> radius&#123;&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; radius;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The circumference is: "</span> &lt;&lt; <span class="number">2</span> * radius * constants::pi;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å¯ä»¥åœ¨å°½å¯èƒ½å¤šçš„ä»£ç æ–‡ä»¶ä¸­åŒ…å«<code>constants.h</code>ï¼Œä½†æ˜¯è¿™äº›å˜é‡åªä¼šè¢«å®ä¾‹åŒ–ä¸€æ¬¡ï¼Œå¹¶åœ¨æ‰€æœ‰ä»£ç æ–‡ä»¶ä¸­å…±äº«ã€‚</p></blockquote><hr><p>å¦‚æœä½ éœ€è¦å…¨å±€å¸¸é‡ï¼Œå¹¶ä¸”ä½ çš„ç¼–è¯‘å™¨æ”¯æŒC++17ï¼Œé‚£å»ºè®®æœ€å¥½ä½¿ç”¨ <strong>å†…è”å˜é‡</strong></p><hr><h2 id="6-9-éå¸¸é‡çš„å…¨å±€å˜é‡evil"><a href="#6-9-éå¸¸é‡çš„å…¨å±€å˜é‡evil" class="headerlink" title="6.9 éå¸¸é‡çš„å…¨å±€å˜é‡evil"></a>6.9 éå¸¸é‡çš„å…¨å±€å˜é‡evil</h2><p>æœ€å¤§çš„é—®é¢˜å°±æ˜¯ï¼š<strong>å½“ä½ ä½¿ç”¨å…¨å±€å˜é‡(not-const)æ—¶ï¼Œå®ƒå¯èƒ½åœ¨ä»»ä½•åœ°æ–¹å°±è¢«ä¿®æ”¹ï¼Œä½†æ˜¯ä½ å´ä¸èƒ½è½»æ¾çš„ç›´åˆ°åœ¨å“ªè¢«æ”¹çš„ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g_mode; <span class="comment">//å£°æ˜å…¨å±€å˜é‡(å°†é»˜è®¤è¢«åˆå§‹åŒ–ä¸º0)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dosomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    g_mode = <span class="number">2</span>; <span class="comment">//è¿™é‡Œä¿®æ”¹å…¨å±€å˜é‡g_modeä¸º2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    g_mode =<span class="number">1</span>; <span class="comment">//note:è¿™å°†å…¨å±€g_modeå˜é‡è®¾ç½®ä¸º1ã€‚è€Œä¸æ˜¯å£°æ˜ä¸€ä¸ªæœ¬åœ°g_modeå˜é‡!</span></span><br><span class="line">    dosomething();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç¨‹åºçŒ¿å¸Œæœ›è¿™é‡Œè¾“å‡ºçš„g_modeçš„å€¼æ˜¯1ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒçš„å€¼æ˜¯2</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(g_mode == <span class="number">1</span>)</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"no threat detected.\n"</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"lanunching nuclear missiles...\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>å±€éƒ¨å˜é‡è¦å®‰å…¨å¾—å¤šï¼Œå› ä¸ºå…¶ä»–å‡½æ•°ä¸èƒ½ç›´æ¥å½±å“å®ƒä»¬ã€‚</strong></p></blockquote><hr><h3 id="ä¿æŠ¤ä½ çš„å…¨å±€å˜é‡"><a href="#ä¿æŠ¤ä½ çš„å…¨å±€å˜é‡" class="headerlink" title="ä¿æŠ¤ä½ çš„å…¨å±€å˜é‡"></a>ä¿æŠ¤ä½ çš„å…¨å±€å˜é‡</h3><p>å¦‚æœä½ éè¦ä½¿ç”¨å…¨å±€å˜é‡ï¼š</p><ul><li><strong>é‚£æˆ‘ä»¬å¯ä»¥å¯¹å˜é‡åä½¿ç”¨å‰ç¼€â€g_â€æˆ–â€œgâ€ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬è¯†åˆ«å®ƒæ˜¯å…¨å±€å˜é‡ã€‚</strong></li><li>æœ€å¥½ä¹Ÿå°†å…¶<strong>æ”¾åœ¨ä½ è‡ªå·±åˆ›å»ºçš„å‘½åç©ºé—´ï¼Œä»è€Œé¿å…ä¸€äº›å‘½åå†²çªã€‚</strong></li></ul><hr><h2 id="6-10-é™æ€å±€éƒ¨å˜é‡"><a href="#6-10-é™æ€å±€éƒ¨å˜é‡" class="headerlink" title="6.10 é™æ€å±€éƒ¨å˜é‡"></a>6.10 é™æ€å±€éƒ¨å˜é‡</h2><p>æœ¯è¯­<code>static</code>æ˜¯c++è¯­è¨€ä¸­æœ€å®¹æ˜“æ··æ·†çš„æœ¯è¯­ä¹‹ä¸€ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºé™æ€åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æœ‰ä¸åŒçš„å«ä¹‰ã€‚</p><p>åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†<strong>å…¨å±€å˜é‡å…·æœ‰é™æ€æŒç»­æ—¶é—´</strong>ï¼Œ<strong>è¿™æ„å‘³ç€å®ƒä»¬åœ¨ç¨‹åºå¯åŠ¨æ—¶åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯ã€‚</strong></p><p>æˆ‘ä»¬è¿˜è®¨è®ºäº†<strong><code>static</code>å…³é”®å­—å¦‚ä½•æä¾›å…¨å±€æ ‡è¯†ç¬¦å†…éƒ¨é“¾æ¥</strong>ï¼Œ<strong>è¿™æ„å‘³ç€æ ‡è¯†ç¬¦åªèƒ½åœ¨å®šä¹‰å®ƒçš„æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚</strong></p><hr><p>æˆ‘ä»¬å°†æ¢è®¨<strong>åº”ç”¨äºå±€éƒ¨å˜é‡æ—¶é™æ€å…³é”®å­—çš„ç”¨æ³•</strong>ã€‚</p><p>åœ¨ <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-local-scope/" target="_blank" rel="noopener">2.4 â€“ Introduction to local scope</a>, æ‚¨äº†è§£åˆ°ï¼Œé»˜è®¤æƒ…å†µä¸‹ å±€éƒ¨å˜é‡å…·æœ‰ <em>è‡ªåŠ¨æŒç»­æ—¶é—´</em>ï¼Œ<strong>è¿™æ„å‘³ç€å®ƒä»¬æ˜¯åœ¨å®šä¹‰æ—¶åˆ›å»ºçš„ï¼Œå¹¶åœ¨å—é€€å‡ºæ—¶é”€æ¯ã€‚</strong></p><blockquote><p>ä½†<strong>å…³é”®å­—<code>static</code></strong>ï¼Œå¯ä»¥å°†<strong><em>è‡ªåŠ¨æŒç»­æ—¶é—´(attomatic duration)</em></strong>è½¬å˜æˆ <strong><em>é™æ€æŒç»­æ—¶é—´(static duration)</em></strong> ã€‚ä»è€Œï¼Œé™æ€å˜é‡å³ä½¿å·²ç»è¶…å‡ºå®ƒæ‰€åœ¨çš„èŒƒå›´æ—¶ï¼Œä»–ä¾ç„¶æ²¡æœ‰è¢«é”€æ¯ã€‚</p><blockquote><p>è¿™æ„å‘³ç€å˜é‡ç°åœ¨åœ¨ç¨‹åºå¼€å§‹æ—¶åˆ›å»ºï¼Œå¹¶åœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯(å°±åƒå…¨å±€å˜é‡ä¸€æ ·)ã€‚</p></blockquote></blockquote><p>ä¾‹å¦‚ï¼š</p><p><em>é»˜è®¤æ˜¯ automatic duration</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">incrementAndPrint</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> value&#123; <span class="number">1</span> &#125;; <span class="comment">// é»˜è®¤æ˜¯ automatic duration</span></span><br><span class="line">    ++value;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; value &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125; <span class="comment">// value is destroyed here</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    incrementAndPrint();</span><br><span class="line">    incrementAndPrint();</span><br><span class="line">    incrementAndPrint();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ**********/</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ¯æ¬¡</strong>è°ƒç”¨å‡½æ•°<code>incrementAndPrint()</code>æ—¶ï¼Œéƒ½å°†ç©¿ä»¶ä¸€ä¸ªå«valueçš„å˜é‡ï¼Œå®ƒè¢«åˆå§‹åŒ–ä¸º1</p></blockquote><hr><p>ç°åœ¨ä½¿ç”¨<code>static</code>å…³é”®å­—ï¼Œå°†é»˜è®¤çš„ <em>atuomatic duration</em> è½¬å˜ä¸º <em>static duration</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">incrementAndPrint</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> s_value&#123; <span class="number">1</span> &#125;; <span class="comment">// ç”±äºä½¿ç”¨å…³é”®å­— static,æ‰€ä»¥ç°åœ¨æ˜¯ static durationã€‚  æ‰€ä»¥è¿™ä¸ªå˜é‡å°†åªä¼šè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼ˆä¸ä¼šåƒä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¢«é™¤åˆå§‹åŒ–ï¼‰</span></span><br><span class="line">    ++s_value;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; s_value &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125; <span class="comment">// s_value is not destroyed here, but becomes inaccessible because it goes out of scope</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    incrementAndPrint();</span><br><span class="line">    incrementAndPrint();</span><br><span class="line">    incrementAndPrint();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****ç»“æœ****/</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œ<strong>å› ä¸ºs_valueè¢«å£°æ˜ä¸ºé™æ€çš„</strong>ï¼Œ<u><strong>æ‰€ä»¥s_valueåªåˆ›å»ºä¸€æ¬¡(åœ¨ç¨‹åºå¯åŠ¨æ—¶)(å¹¶ä¸”åˆå§‹åŒ–ä¸ºé›¶)ã€‚</strong></u>ç„¶ååœ¨ç¬¬ä¸€æ¬¡é‡åˆ°å˜é‡å®šä¹‰æ—¶ä½¿ç”¨æˆ‘ä»¬æä¾›çš„åˆå§‹åŒ–å€¼(1)åˆå§‹åŒ–å˜é‡(ä½†åœ¨åç»­è°ƒç”¨æ—¶ä¸ä¼šé‡æ–°åˆå§‹åŒ–)ã€‚</p></blockquote><blockquote><p>å°±åƒæˆ‘ä»¬ä½¿ç”¨â€œg_â€ ä½œä¸ºå…¨å±€å˜é‡çš„å‰ç¼€ä¸€æ ·ï¼Œä½¿ç”¨ â€œ s_â€ä½œä¸ºé™æ€(é™æ€æŒç»­æ—¶é—´)å±€éƒ¨å˜é‡çš„å‰ç¼€ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚</p></blockquote><hr><p><strong>é™æ€å˜é‡æä¾›äº†å…¨å±€å˜é‡çš„ä¸€äº›å¥½å¤„(å®ƒä»¬ç›´åˆ°ç¨‹åºç»“æŸæ—¶æ‰è¢«é”€æ¯)</strong>ï¼ŒåŒæ—¶ï¼Œé™åˆ¶ä¸ºå®ƒä»¬åªåœ¨å®ƒè‡ªå·±çš„å—ä¸­æ‰èƒ½è¢«çœ‹è§ï¼Œè¿™ä½¿å¾—å³ä½¿æ‚¨ç»å¸¸æ›´æ”¹å®ƒä»¬çš„å€¼ï¼Œè¿™ä¹Ÿä½¿å®ƒä»¬å¯ä»¥å®‰å…¨ä½¿ç”¨ã€‚</p><hr><h3 id="å…¨å±€ã€å±€éƒ¨å˜é‡ä½¿ç”¨static"><a href="#å…¨å±€ã€å±€éƒ¨å˜é‡ä½¿ç”¨static" class="headerlink" title="å…¨å±€ã€å±€éƒ¨å˜é‡ä½¿ç”¨static"></a>å…¨å±€ã€å±€éƒ¨å˜é‡ä½¿ç”¨<code>static</code></h3><p>å…¨å±€å˜é‡ä½¿ç”¨å…³é”®å­—<code>static</code>ï¼šè¿™ä¼šä½¿å¾—å…¨å±€å˜é‡å˜ä¸º <strong><em>internal linkage(å†…éƒ¨è¿æ¥)</em></strong>ï¼Œå³ï¼Œä½¿å¾—è¯¥å˜é‡ä¸èƒ½å†å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚</p><p>å±€éƒ¨å˜é‡ä½¿ç”¨å…³é”®å­—<code>statci</code>ï¼šè¿™ä½¿å¾—å±€éƒ¨å˜é‡å˜ä¸º <strong><em>static duration(é™æ€æŒç»­æ—¶é—´)</em></strong>,å³ï¼Œä½¿å¾—è¯¥å˜é‡å°† åªè¢«åˆ›å»ºä¸€æ¬¡ï¼Œè€Œä¸”ç›´åˆ°ç¨‹åºç»“æŸæ‰ä¼šè¢«é”€æ¯ã€‚</p><hr><h2 id="6-11-æ€»ç»“scope-duration-linkage"><a href="#6-11-æ€»ç»“scope-duration-linkage" class="headerlink" title="6.11 æ€»ç»“scope/duration/linkage"></a>6.11 æ€»ç»“scope/duration/linkage</h2><h3 id="æ€»ç»“scope"><a href="#æ€»ç»“scope" class="headerlink" title="æ€»ç»“scope"></a>æ€»ç»“scope</h3><p>æ ‡è¯†ç¬¦çš„èŒƒå›´å†³å®šäº†å®ƒèƒ½å¤Ÿè¢«è®¿é—®çš„åŒºé—´ï¼š</p><ul><li>å…·æœ‰ <strong>block scope(å—èŒƒå›´)</strong> / <strong>local scope(å±€éƒ¨èŒƒå›´)</strong> çš„å˜é‡ åªèƒ½åœ¨å®ƒä»¬è¢«å£°æ˜çš„å—ä¸­(åŒ…æ‹¬åµŒå¥—å—)è¢«è®¿é—®ï¼Œè¿™äº›æœ‰ï¼š<ul><li>å±€éƒ¨å˜é‡ï¼›</li><li>å‡½æ•°çš„å½¢å‚ï¼›</li><li>åœ¨å—ä¸­å£°æ˜çš„ç”¨æˆ·å®šä¹‰ç±»å‹å®šä¹‰ï¼ˆå¦‚ï¼Œæšä¸¾(enum)ã€ç±»(class)ï¼‰;</li></ul></li><li>å…·æœ‰ <strong>global scope(å…¨å±€èŒƒå›´)</strong> / <strong>file scope(æ–‡ä»¶èŒƒå›´)</strong>çš„å˜é‡ å¯ä»¥å†æ–‡ä»¶ä¸­çš„ä»»ä½•åœ°æ–¹è¢«è®¿é—®ï¼Œè¿™äº›æœ‰ï¼š<ul><li>å…¨å±€å˜é‡ï¼›</li><li>å‡½æ•°ï¼›</li><li>åœ¨å‘½ åç©ºé—´å†… æˆ– å…¨å±€èŒƒå›´ å†…å£°æ˜çš„ç”¨æˆ·å®šä¹‰ç±»å‹å®šä¹‰(å¦‚æšä¸¾(enum)ã€ç±»(class))</li></ul></li></ul><hr><h3 id="æ€»ç»“duration"><a href="#æ€»ç»“duration" class="headerlink" title="æ€»ç»“duration"></a>æ€»ç»“duration</h3><p>å˜é‡çš„æŒç»­æ—¶é—´å†³å®šäº†å®ƒä»¬ä½•æ—¶è¢«åˆ›å»ºä¸é”€æ¯ï¼š</p><ul><li>å…·æœ‰ <strong>automatic duration(è‡ªåŠ¨æŒç»­æ—¶é—´)</strong>çš„å˜é‡ åœ¨å®šä¹‰æ—¶è¢«åˆ›å»ºï¼Œåœ¨ç¦»å¼€å®ƒæ‰€åœ¨çš„å—æ—¶è¢«é”€æ¯ï¼Œè¿™äº›æœ‰ï¼š<ul><li>å±€éƒ¨å˜é‡ï¼›</li><li>å‡½æ•°çš„å½¢å‚ï¼›</li></ul></li><li>å…·æœ‰ <strong>static duration(é™æ€æŒç»­æ—¶é—´)</strong>çš„å˜é‡ åœ¨ç¨‹åºå¼€å§‹æ—¶è¢«åˆ›å»ºï¼Œ åœ¨ç¨‹åºç»“æŸæ—¶è¢«é”€æ¯ã€‚è¿™äº›æœ‰ï¼š<ul><li>å…¨å±€å˜é‡ï¼›</li><li>é™æ€å±€éƒ¨å˜é‡ï¼›</li></ul></li><li>å…·æœ‰ <strong>dynamic duration(åŠ¨æ€æŒç»­æ—¶é—´)</strong>çš„å˜é‡ ç”±ç¨‹åºå‘˜è¯·æ±‚åˆ›å»ºå’Œé”€æ¯ã€‚è¿™äº›æœ‰ï¼š<ul><li>åŠ¨æ€åˆ†é…çš„å˜é‡ï¼›</li></ul></li></ul><hr><h3 id="æ€»ç»“linkage"><a href="#æ€»ç»“linkage" class="headerlink" title="æ€»ç»“linkage"></a>æ€»ç»“linkage</h3><p>æ ‡è¯†ç¬¦çš„ <strong><em>linkage</em>(è¿æ¥)</strong> å†³å®šäº† ä¸€ä¸ªæ ‡è¯†ç¬¦çš„å¤šä¸ªå®ä¾‹æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªæ ‡è¯†ç¬¦ã€‚</p><ul><li>æ ‡è¯†ç¬¦ æ²¡æœ‰ è¿æ¥ æ—¶ï¼Œæ„å‘³ç€è¿™ä¸ªæ ‡è¯†ç¬¦ä»…æŒ‡å…¶è‡ªèº«ã€‚è¿™äº›æœ‰ï¼š<ul><li>å±€éƒ¨å˜é‡ï¼›</li><li>åœ¨å—ä¸­å£°æ˜çš„ç”¨æˆ·å®šä¹‰ç±»å‹å®šä¹‰(å¦‚æšä¸¾å’Œç±»)ï¼›</li></ul></li><li>å…·æœ‰ <strong><em>intrnal linkage</em>(å†…éƒ¨è¿æ¥)</strong> çš„æ ‡è¯†ç¬¦ åªèƒ½åœ¨å®ƒæ‰€å£°æ˜çš„æ–‡ä»¶ä¸­ è¢«è®¿é—®ã€‚è¿™äº›æœ‰ï¼š<ul><li>é™æ€å…¨å±€å˜é‡(static global variables) [åˆå§‹åŒ– æˆ– æœªåˆå§‹åŒ– ]ï¼›</li><li>é™æ€å‡½æ•°ï¼ˆstatic functionsï¼‰;</li><li>åœ¨æœªå‘½åçš„å‘½åç©ºé—´ä¸­å£°æ˜çš„å‡½æ•°ï¼›</li><li>åœ¨æœªå‘½åçš„å‘½åç©ºé—´ä¸­å£°æ˜çš„ç”¨æˆ·å®šä¹‰ç±»å‹å®šä¹‰(å¦‚æšä¸¾å’Œç±»)ï¼›</li></ul></li><li>å…·æœ‰ <strong><em>external linkage(å¤–éƒ¨è¿æ¥)</em></strong> çš„æ ‡è¯†ç¬¦ å¯ä»¥åœ¨ åœ¨å£°æ˜çš„æ–‡ä»¶å†…çš„ä»»ä½•åœ°æ–¹è®¿é—®ï¼Œä¹Ÿå¯ä»¥å…¶ä»–æ–‡ä»¶(é€šè¿‡æå‰å£°æ˜)è¿›è¡Œè®¿é—®ã€‚è¿™åŒ…æ‹¬:<ul><li>å‡½æ•°ï¼›</li><li>éå¸¸é‡çš„å…¨å±€å˜é‡(åˆå§‹åŒ– æˆ– æœªåˆå§‹åŒ–)ï¼›</li><li>å¤–éƒ¨å¸¸é‡å…¨å±€å˜é‡ï¼›</li><li>å†…è”å¸¸é‡å…¨å±€å˜é‡ï¼›</li><li>åœ¨ å‘½åç©ºé—´å†… æˆ– å…¨å±€èŒƒå›´å†…å£°æ˜çš„ç”¨æˆ·å®šä¹‰ç±»å‹å®šä¹‰(å¦‚æšä¸¾å’Œç±»)ï¼›</li></ul></li></ul><hr><blockquote><p>NOTE:</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ å‡½æ•°æ˜¯ å¤–éƒ¨è¿æ¥ï¼›å®ƒå¯é€šè¿‡ä½¿ç”¨å…³é”®å­—<code>static</code>å˜æˆ å†…éƒ¨è¿æ¥ã€‚</p></blockquote><hr><h3 id="å˜é‡çš„-scope-duratio-linkage"><a href="#å˜é‡çš„-scope-duratio-linkage" class="headerlink" title="å˜é‡çš„ scope/duratio /linkage"></a>å˜é‡çš„ scope/duratio /linkage</h3><table><thead><tr><th align="left">Type</th><th align="left">Example</th><th align="left">Scope</th><th align="left">Duration</th><th align="left">Linkage</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">Local variable</td><td align="left">int x;</td><td align="left">Block</td><td align="left">Automatic</td><td align="left">None</td><td align="left"></td></tr><tr><td align="left">Static local variable</td><td align="left">static int s_x;</td><td align="left">Block</td><td align="left">Static</td><td align="left">None</td><td align="left"></td></tr><tr><td align="left">Dynamic variable</td><td align="left">int *x { new int };</td><td align="left">Block</td><td align="left">Dynamic</td><td align="left">None</td><td align="left"></td></tr><tr><td align="left">Function parameter</td><td align="left">void foo(int x)</td><td align="left">Block</td><td align="left">Automatic</td><td align="left">None</td><td align="left"></td></tr><tr><td align="left">External non-constant global variable</td><td align="left">int g_x;</td><td align="left">File</td><td align="left">Static</td><td align="left">External</td><td align="left">Initialized or uninitialized</td></tr><tr><td align="left">Internal non-constant global variable</td><td align="left">static int g_x;</td><td align="left">File</td><td align="left">Static</td><td align="left">Internal</td><td align="left">Initialized or uninitialized</td></tr><tr><td align="left">Internal constant global variable</td><td align="left">constexpr int g_x { 1 };</td><td align="left">File</td><td align="left">Static</td><td align="left">Internal</td><td align="left">Const or constexpr, Must be initialized</td></tr><tr><td align="left">External constant global variable</td><td align="left">extern constexpr int g_x { 1 };</td><td align="left">File</td><td align="left">Static</td><td align="left">External</td><td align="left">Const or constexpr, Must be initialized</td></tr><tr><td align="left">Inline constant global variable</td><td align="left">inline constexpr int g_x { 1 };</td><td align="left">File</td><td align="left">Static</td><td align="left">External</td><td align="left">Const or constexpr, Must be initialized</td></tr></tbody></table><hr><h3 id="æ€»ç»“æå‰å£°æ˜"><a href="#æ€»ç»“æå‰å£°æ˜" class="headerlink" title="æ€»ç»“æå‰å£°æ˜"></a>æ€»ç»“æå‰å£°æ˜</h3><p>ä½ å¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­å¯¹ä¸€ä¸ª å‡½æ•°/å˜é‡ è¿›è¡Œæå‰å£°æ˜ï¼š</p><table><thead><tr><th align="left">Type</th><th align="left">Example</th><th align="left">Notes</th></tr></thead><tbody><tr><td align="left">Function forward declaration</td><td align="left">void foo(int x);</td><td align="left">Prototype only, no function body</td></tr><tr><td align="left">Non-constant global variable forward declaration</td><td align="left">extern int g_x;</td><td align="left">Must be uninitialized</td></tr><tr><td align="left">Const global variable forward declaration</td><td align="left">extern const int g_x;</td><td align="left">Must be uninitialized</td></tr><tr><td align="left">Constexpr global variable forward declaration</td><td align="left">extern constexpr int g_x;</td><td align="left"><u>Not allowed, constexpr cannot be forward declared</u></td></tr></tbody></table><hr><h3 id="ä»€ä¹ˆæ˜¯å­˜å‚¨ç±»è¯´æ˜ç¬¦"><a href="#ä»€ä¹ˆæ˜¯å­˜å‚¨ç±»è¯´æ˜ç¬¦" class="headerlink" title="ä»€ä¹ˆæ˜¯å­˜å‚¨ç±»è¯´æ˜ç¬¦?"></a>ä»€ä¹ˆæ˜¯å­˜å‚¨ç±»è¯´æ˜ç¬¦?</h3><p>å½“å…³é”®å­—<code>static</code> ã€<code>extern</code>ç”¨ä½œæ ‡è¯†ç¬¦å£°æ˜çš„ä¸€éƒ¨åˆ†æ—¶,å®ƒä»¬å°±è¢«ç§°ä¸ºï¼š<strong>storage class specifierï¼ˆå­˜å‚¨ç±»è¯´æ˜ç¬¦ï¼‰</strong>ã€‚å®ƒä»¬è®¾ç½®æ ‡è¯†ç¬¦çš„å­˜å‚¨çš„ <em>duration</em> å’Œ <em>linkage</em></p><p>C++æ”¯æŒ4ä¸­å­˜å‚¨ç±»è¯´æ˜ç¬¦ï¼š</p><table><thead><tr><th align="left">Specifier</th><th align="left">Meaning</th><th align="left">Note</th></tr></thead><tbody><tr><td align="left">extern</td><td align="left">static (or thread_local) storage duration and external linkage</td><td align="left"></td></tr><tr><td align="left">static</td><td align="left">static (or thread_local) storage duration and internal linkage</td><td align="left"></td></tr><tr><td align="left">thread_local</td><td align="left">thread storage duration</td><td align="left">Introduced in C++11</td></tr><tr><td align="left">mutable</td><td align="left">object allowed to be modified even if containing class is const</td><td align="left"></td></tr><tr><td align="left">auto</td><td align="left">automatic storage duration</td><td align="left">Deprecated in C++11</td></tr><tr><td align="left">register</td><td align="left">automatic storage duration and hint to the compiler to place in a register</td><td align="left">Deprecated in C++17</td></tr></tbody></table><blockquote><p>æœ¯è¯­ <em>storage class specifier</em> é€šå¸¸åªåœ¨æ­£å¼æ–‡æ¡£ä¸­ä½¿ç”¨ã€‚</p></blockquote><hr><h2 id="6-12-using-è¯­å¥"><a href="#6-12-using-è¯­å¥" class="headerlink" title="6.12 using è¯­å¥"></a>6.12 using è¯­å¥</h2><p>å¦‚æœä½ ç»å¸¸ä½¿ç”¨æ ‡å‡†åº“ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰å†…å®¹ä¹‹å‰è¾“å…¥std::ä¼šå˜å¾—é‡å¤ã€‚C++æä¾›äº†ä¸€ç§å¯é€‰æ‹©çš„åŠæ³•ï¼Œå«åšï¼š<strong><em>using statements</em></strong></p><h3 id="usingçš„å£°æ˜"><a href="#usingçš„å£°æ˜" class="headerlink" title="usingçš„å£°æ˜"></a>usingçš„å£°æ˜</h3><p>ä¸€ç§ç®€åŒ–çš„æ–¹æ³•æ˜¯ä½¿ç”¨usingå£°æ˜è¯­å¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>; <span class="comment">// this using declaration tells the compiler that cout should resolve to std::cout</span></span><br><span class="line">   <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// so no std:: prefix is needed here!</span></span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// the using declaration expires here</span></span><br></pre></td></tr></table></figure><blockquote><p>using çš„å£°æ˜ï¼š<code>using std::cout</code>å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬å°†è¦ä½¿ç”¨ å‘½åç©ºé—´std ä¸­çš„<code>cout</code>ã€‚æ‰€ä»¥å½“ç¼–è¯‘å™¨çœ‹åˆ°coutæ—¶ï¼Œå®ƒä¼šå‡è®¾æˆ‘ä»¬æŒ‡çš„æ˜¯std::coutã€‚</p><p>å¦‚æœstd::coutä¸coutçš„å…¶ä»–ä¸€äº›ä½¿ç”¨ä¹‹é—´å­˜åœ¨å‘½åå†²çªï¼Œåˆ™é¦–é€‰std::coutã€‚</p></blockquote><p>ä¸Šé¢çš„ä¾‹å­ï¼Œçœ‹èµ·æ¥ä¼¼ä¹æ²¡æœ‰ç®€åŒ–å¤šå°‘ã€‚ä½†å¦‚æœæˆ‘ä»¬è¦å¤šæ¬¡ä½¿ç”¨<code>cout</code>æ—¶ï¼Œä½¿ç”¨ <code>using statements</code>å°±å¯ä»¥ç®€åŒ–å¾ˆå¤šã€‚</p><blockquote><p>æ³¨æ„ï¼Œå¦‚æœä½ å¤šæ¬¡ä½¿ç”¨<code>std::cout</code>å’Œ<code>std::cin</code>çš„è¯ï¼Œä½ éœ€è¦å¯¹ä»–ä»¬ä¸¤ä¸ªåˆ†åˆ«ä½¿ç”¨<code>using statements</code></p></blockquote><hr><h3 id="using-æŒ‡ä»¤"><a href="#using-æŒ‡ä»¤" class="headerlink" title="using æŒ‡ä»¤"></a>using æŒ‡ä»¤</h3><p>å¦ä¸€ç§æ–¹æ³•å°±æ˜¯ä½¿ç”¨ï¼š<code>using directive</code>è¯­å¥ã€‚å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">//è¿™ä¸ªusingæŒ‡ä»¤ å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ å‘½åç©ºé—´std ä¸­çš„ä»»ä½•ä¸œè¥¿</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"hello world!"</span>; <span class="comment">// æ‰€ä»¥ï¼Œå‰ç¼€ std:: å°±å¯ä»¥çœç•¥</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªusing æŒ‡ä»¤ ï¼š<code>using namespace std</code>å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬æƒ³ä½¿ç”¨ å‘½åç©ºé—´std ä¸­çš„ä»»ä½•ä¸œè¥¿ã€‚æ‰€ä»¥å½“ç¼–è¯‘å™¨å‘ç°äº†ä¸€ä¸ªåå­—å®ƒä¸è®¤è¯†æ—¶ï¼Œå®ƒå°±ä¼šæ£€æŸ¥ å‘½åç©ºé—´stdã€‚</p><p>ç»“æœå°±æ˜¯ï¼Œå½“ç¼–è¯‘å™¨é‡åˆ°<code>cout</code>(ç¼–è¯‘å™¨ä¸è®¤è¯†cout)ï¼Œç¼–è¯‘å™¨å°±ä¼šæŸ¥çœ‹ å‘½åç©ºé—´std ç„¶åæ‰¾åˆ°coutã€‚</p><hr><p>å¦‚æœstd::coutä¸coutçš„å…¶ä»–ä¸€äº›ä½¿ç”¨ä¹‹é—´å­˜åœ¨å‘½åå†²çªï¼Œç¼–è¯‘å™¨å°†æŠŠå®ƒ<strong>æ ‡è®°ä¸ºé”™è¯¯</strong>(è€Œä¸æ˜¯é€‰æ‹©å…¶ä¸­ä¹‹ä¸€)ã€‚</p></blockquote><p>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹ using æŒ‡ä»¤ é€ æˆçš„æ­§ä¹‰ï¼š</p><ul><li><p>eg1ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> a</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> x&#123; <span class="number">10</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> b</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> x&#123; <span class="number">20</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> a;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> b;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œç¼–è¯‘å™¨æ— æ³•åœ¨mianå‡½æ•°ä¸­å†³å®šä½¿ç”¨<code>a::x</code>è¿˜æ˜¯<code>b::x</code>ã€‚ç„¶åå°±ä¼šå‡ºç°â€œä¸æ˜ç¡®çš„ç¬¦å·â€é”™è¯¯ã€‚</p><p>è¦æƒ³è§£å†³è¿™ä¸ªå†²çªï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šå‰ç¼€ä½¿ç”¨ã€‚å³æ˜¾ç¤ºæ ‡æ˜ä½¿ç”¨çš„æ˜¯å“ªä¸€ä¸ªå‘½åç©ºé—´ä¸­çš„xã€‚</p></blockquote></li><li><p>eg2ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // imports the declaration of std::cout</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cout</span><span class="params">()</span> <span class="comment">// declares our own "cout" function</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// makes std::cout accessible as "cout"</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>; <span class="comment">// uh oh!  Which cout do we want here?  The one in the std namespace or the one we defined above?</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>eg2ä¸­ï¼Œç¼–è¯‘å™¨æ— æ³•åˆ¤æ–­æˆ‘ä»¬ä½¿ç”¨çš„<code>cout</code>æ˜¯å¼•ç”¨çš„ <code>std::cout</code>è¿˜æ˜¯ coutå‡½æ•°ã€‚å¹¶å‡ºç°â€œä¸æ˜ç¡®çš„ç¬¦å·â€é”™è¯¯ã€‚</p><hr><p>è§£å†³æ–¹æ³•ï¼š</p><ol><li><p>ä½¿ç”¨<code>using declaration</code> æ¥æ›¿ä»£ <code>using directive</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>; <span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œ cout æŒ‡çš„æ˜¯ std::cout</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>; <span class="comment">//æ‰€ä»¥coutè¡¨ç¤ºçš„æ˜¯ std::cout</span></span><br></pre></td></tr></table></figure></li><li><p>æ˜¾ç¤ºçš„ä½¿ç”¨å‰ç¼€ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>; <span class="comment">//å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨çš„æ˜¯std::cout</span></span><br></pre></td></tr></table></figure></li></ol></blockquote></li></ul><hr><h3 id="å–æ¶ˆoræ›¿æ¢-usingè¯­å¥"><a href="#å–æ¶ˆoræ›¿æ¢-usingè¯­å¥" class="headerlink" title="å–æ¶ˆoræ›¿æ¢ usingè¯­å¥"></a>å–æ¶ˆoræ›¿æ¢ usingè¯­å¥</h3><p>ä¸€æ—¦ï¼Œusingè¯­å¥è¢«å£°æ˜ï¼Œé‚£å°±æ²¡æœ‰åŠæ³•åœ¨å£°æ˜å®ƒçš„èŒƒå›´å†…ä½¿ç”¨å¦ä¸€ä¸ªusingè¯­å¥æ›¿æ¢æˆ–å–æ¶ˆå®ƒã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> Foo;</span><br><span class="line">    <span class="comment">//æ­¤æ—¶æ— æ³•ä½¿ç”¨ä¸€ä¸ªå…¶ä»–çš„ usingè¯­å¥æ¥ å–æ¶ˆæˆ–æ›¿æ¢ â€œusing namespace Foo;â€</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//using namespace Foo ends here</span></span><br></pre></td></tr></table></figure><p>å¯¹åº”å®ƒçš„æœ€å¥½åŠæ³•å°±æ˜¯ï¼Œæ˜¾ç¤ºçš„é™åˆ¶ usingè¯­å¥ çš„èŒƒå›´ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> <span class="keyword">namespace</span> Foo; <span class="comment">//åœ¨è¿™é‡Œè°ƒç”¨Foo::ä¸­çš„ä¸œè¥¿</span></span><br><span class="line">    &#125; <span class="comment">//using namespace Foo è¿‡æœŸ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span><span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œ<strong>å¯ä»¥æ˜¾å¼åœ°ä½¿ç”¨èŒƒå›´è§£ææ“ä½œç¬¦(::)æ¥é¿å…æ‰€æœ‰è¿™äº›éº»çƒ¦ã€‚</strong></p><hr><h2 id="6-13-typedefä¸ç±»å‹åˆ«å"><a href="#6-13-typedefä¸ç±»å‹åˆ«å" class="headerlink" title="6.13 typedefä¸ç±»å‹åˆ«å"></a>6.13 typedefä¸ç±»å‹åˆ«å</h2><center>**ä¼˜å…ˆä½¿ç”¨ç±»å‹åˆ«åï¼Œè€Œä¸æ˜¯typedefsï¼Œå¹¶å¤§é‡ä½¿ç”¨å®ƒä»¬æ¥è®°å½•ç±»å‹çš„å«ä¹‰**</center><p><code>typedef</code>å…è®¸ç¨‹åºçŒ¿å»åˆ›å»ºä¸€ä¸ªæ•°æ®ç±»å‹çš„åˆ«åã€‚ç„¶åå¯ä»¥ä½¿ç”¨åˆ«åæ¥æ›¿æ¢è¿™ä¸ªç±»å‹çœŸæ­£çš„åå­—ã€‚</p><blockquote><p>Typedefçš„å­—é¢æ„æ€æ˜¯â€œ<strong>ç±»å‹å®šä¹‰â€</strong></p></blockquote><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…³é”®å­—<code>typedef</code>ï¼Œæ¥è¿›è¡Œ ç±»å‹å®šä¹‰ï¼š</p><blockquote><p><code>typedef a b</code> ï¼šå…¶ä¸­<code>a</code>è¡¨ç¤ºç±»å‹çš„åå­—ï¼Œ<code>b</code>è¡¨ç¤ºç±»å‹è¢«æ›¿æ¢æˆçš„åˆ«å.</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> <span class="keyword">distance_t</span>; <span class="comment">//å®šä¹‰distance_t ä½œä¸º doubleç±»å‹ çš„åˆ«å</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‹é¢ä¸¤ä¸ªè¯­å¥æ˜¯ç­‰ä»·çš„:</span></span><br><span class="line"><span class="keyword">double</span> howFar;</span><br><span class="line"><span class="keyword">distance_t</span> howFar;</span><br></pre></td></tr></table></figure><blockquote><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œtypedefåç§°æ˜¯ä½¿ç”¨â€œ_tâ€åç¼€å£°æ˜çš„ã€‚è¿™æœ‰åŠ©äºæŒ‡ç¤ºæ ‡è¯†ç¬¦ä»£è¡¨çš„æ˜¯ç±»å‹ï¼Œè€Œä¸æ˜¯å˜é‡æˆ–å‡½æ•°ï¼Œè¿˜æœ‰åŠ©äºé˜²æ­¢ä¸å…¶ä»–æ ‡è¯†ç¬¦çš„å‘½åå†²çªã€‚</p></blockquote><hr><h3 id="ç±»å‹åˆ«å"><a href="#ç±»å‹åˆ«å" class="headerlink" title="ç±»å‹åˆ«å"></a>ç±»å‹åˆ«å</h3><p>ä¸ºäº†å¸®åŠ©è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ”¹è¿›çš„typedefsè¯­æ³•ï¼Œå®ƒæ¨¡ä»¿äº†å˜é‡çš„å£°æ˜æ–¹å¼ã€‚è¿™ç§è¯­æ³•ç§°ä¸º <strong>type alias(ç±»å‹åˆ«å)</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> <span class="keyword">distance_t</span>; <span class="comment">//å®šä¹‰distance_t ä½œä¸º doubleç±»å‹çš„ åˆ«å</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">distance_t</span> = <span class="keyword">double</span>; <span class="comment">//å®šä¹‰distance_t ä½œä¸º doubleç±»å‹çš„ åˆ«åã€æ¨èã€‘</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢ä¸¤ä¸ªè¯­å¥åœ¨åŠŸèƒ½ä¸Šç­‰ä»·ã€‚</p><p>ã€NOTEã€‘è™½ç„¶ä½¿ç”¨äº†å…³é”®å­—<code>using</code>ï¼ˆåœ¨è¿™é‡Œæ˜¯é‡è½½çš„æ„ä¹‰ï¼‰ï¼Œä½†è¿™å’Œ ä¸å‘½åç©ºé—´ç›¸å…³çš„ usingè¯­å¥ æ²¡æœ‰å…³ç³»ã€‚</p></blockquote><hr><h4 id="ä¸ºæ˜“è¯»æ€§ä½¿ç”¨ç±»å‹åˆ«å"><a href="#ä¸ºæ˜“è¯»æ€§ä½¿ç”¨ç±»å‹åˆ«å" class="headerlink" title="ä¸ºæ˜“è¯»æ€§ä½¿ç”¨ç±»å‹åˆ«å"></a>ä¸ºæ˜“è¯»æ€§ä½¿ç”¨ç±»å‹åˆ«å</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GradeTest</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä½†æ˜¯è¿™ä¸ªæ•´æ•°æ˜¯ä»€ä¹ˆæ„æ€å‘¢?ä¸€ä¸ªå­—æ¯ç­‰çº§?é—æ¼äº†å¤šå°‘é—®é¢˜?å­¦ç”Ÿçš„èº«ä»½è¯å·ç ?ä¸€ä¸ªé”™è¯¯ä»£ç ?è°çŸ¥é“!Intä¸èƒ½å‘Šè¯‰æˆ‘ä»¬ä»»ä½•ä¸œè¥¿ã€‚å†™æˆä¸‹é¢å½¢å¼ï¼Œä¾¿äºç†è§£ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> testScore_t = <span class="keyword">int</span>;</span><br><span class="line"><span class="function">testScore_t <span class="title">GradeTest</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨ç±»å‹åˆ«åç¼–å†™ä¸å¹³å°æ— å…³çš„ä»£ç "><a href="#ä½¿ç”¨ç±»å‹åˆ«åç¼–å†™ä¸å¹³å°æ— å…³çš„ä»£ç " class="headerlink" title="ä½¿ç”¨ç±»å‹åˆ«åç¼–å†™ä¸å¹³å°æ— å…³çš„ä»£ç "></a>ä½¿ç”¨ç±»å‹åˆ«åç¼–å†™ä¸å¹³å°æ— å…³çš„ä»£ç </h4><p>æ¯”å¦‚ï¼Œåœ¨ä¸€äº›å¹³å°ä¸­ï¼Œ<code>int</code>ç±»å‹å 2ä¸ªå­—èŠ‚ï¼›ä½†åœ¨å…¶ä»–å¹³å°ä¸­ï¼Œå¯èƒ½å 4ä¸ªå­—èŠ‚ã€‚æ‰€ä»¥ï¼Œåœ¨4å­—èŠ‚å¹³å°ä¸­å†™çš„ä»£ç åœ¨2å­—èŠ‚å¹³å°ä¸­å¯èƒ½ä¼šå‡ºé”™ã€‚</p><p>æ‰€ä»¥ï¼Œä½¿ç”¨ç±»å‹åˆ«åå¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…å‡ºé”™ï¼Œä¹Ÿæ›´æ¸…æ¥šåœ°è¯´æ˜äº†å¯¹å˜é‡å¤§å°çš„å‡è®¾ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> INT_2_BYTES</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">int8_t</span> = <span class="keyword">char</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">int16_t</span> = <span class="keyword">int</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">int32_t</span> = <span class="keyword">long</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">int8_t</span> = <span class="keyword">char</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">int16_t</span> = short;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">int32_t</span> = <span class="keyword">int</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœï¼Œåœ¨ä¸€ä¸ªæœºå™¨ä¸­ï¼Œæ•´æ•°æ˜¯2ä¸ªå­—èŠ‚ã€‚é‚£ä¹ˆ<code>INT_2_BYTES</code>å°†è¢«å®šä¹‰ã€‚æ­¤æ—¶ï¼Œå°±ä½¿ç”¨çš„æ˜¯ä¸Šéƒ¨å®šä¹‰çš„è¿™å‡ ä¸ªã€‚</p><p>å¦‚æœï¼Œåœ¨ä¸€ä¸ªæœºå™¨ä¸­ï¼Œæ•´æ•°æ˜¯4ä¸ªå­—èŠ‚ã€‚é‚£ä¹ˆ<code>INT_2_BYTES</code>å°†ä¸è¢«å®šä¹‰ã€‚æ­¤æ—¶ï¼Œå°±ä½¿ç”¨çš„æ˜¯ä¸‹éƒ¨å®šä¹‰çš„è¿™å‡ ä¸ªã€‚</p><hr><p>è¿™ç§æƒ…å†µä¸‹ï¼šé€šè¿‡ä½¿ç”¨charã€shortã€intå’Œlongçš„ç»„åˆï¼Œè¿™å¯¹äºæ­£åœ¨ç¼–è¯‘ç¨‹åºçš„æœºå™¨æ˜¯åˆé€‚çš„</p><p><code>int_8</code>å°†å¤„ç† 1å­—èŠ‚çš„æ•´æ•°ï¼›</p><p><code>int16_t</code>å°†å¤„ç† 2å­—èŠ‚çš„æ•´æ•°ï¼›</p><p><code>int32_t</code>å°†å¤„ç† 4å­—èŠ‚çš„æ•´æ•°ã€‚</p></blockquote><hr><h2 id="6-14-å…³é”®å­—auto"><a href="#6-14-å…³é”®å­—auto" class="headerlink" title="6.14 å…³é”®å­—auto"></a>6.14 å…³é”®å­—<code>auto</code></h2><p>çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d &#123;<span class="number">5.0</span>&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚æœC++æ—©å°±çŸ¥é“<code>5.0</code>æ˜¯doubleç±»å‹çš„æ•°å­—ï¼Œé‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦æ˜¾ç¤ºçš„æŒ‡å®š<code>d</code>æ˜¯doubleç±»å‹çš„å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬å¯ä»¥è®©ä¸€ä¸ªå˜é‡æ ¹æ®æˆ‘ä»¬åˆå§‹åŒ–å®ƒçš„å€¼æ¥è®¾æƒ³å®ƒçš„ç±»å‹ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—?</p><h3 id="åˆå§‹åŒ–å˜é‡çš„ç±»å‹æ¨æ–­"><a href="#åˆå§‹åŒ–å˜é‡çš„ç±»å‹æ¨æ–­" class="headerlink" title="åˆå§‹åŒ–å˜é‡çš„ç±»å‹æ¨æ–­"></a>åˆå§‹åŒ–å˜é‡çš„ç±»å‹æ¨æ–­</h3><p>å½“åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ï¼Œå…³é”®å­—<code>auto</code>å¯ä»¥ç”¨æ¥ä»£æ›¿ç±»å‹ï¼Œä»¥å‘Šè¯‰ç¼–è¯‘å™¨ä»åˆå§‹åŒ–å™¨çš„ç±»å‹æ¨æ–­å˜é‡çš„ç±»å‹ã€‚è¿™ç§å°±å«ä½œï¼š<strong><em>type inference</em>(ç±»å‹æ¨æ–­)</strong>, è‹±æ–‡ä¸­ä¹Ÿå¯ä»¥å«ä½œï¼š<strong><em>type deduction</em></strong></p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> d &#123;<span class="number">5.0</span>&#125;; <span class="comment">//å› ä¸º5.0æ˜¯ä¸€ä¸ªdoubleç±»å‹çš„æ•°å­—ï¼Œæ‰€ä»¥å®ƒçš„ç±»å‹å°†è¢«æ¨æ–­ä¸ºdouble</span></span><br><span class="line"><span class="keyword">auto</span> i &#123;<span class="number">1</span>+<span class="number">2</span>&#125;; <span class="comment">//å› ä¸º1+2çš„ç»“æœæ˜¯intç±»å‹ï¼Œæ‰€ä»¥ï¼Œi å°†è¢«æ¨æ–­ä¸ºintç±»å‹</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨åœ¨å‡½æ•°è¿”å›å€¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> sum&#123;add(<span class="number">5</span>,<span class="number">6</span>)&#125;; <span class="comment">//add() è¿”å›ä¸€ä¸ªint, æ‰€ä»¥sumçš„ç±»å‹å°†è¢«æ¨æ–­ä¸ºint</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="åœ¨C-14ä¸­å‡½æ•°çš„ç±»å‹æ¨æ–­"><a href="#åœ¨C-14ä¸­å‡½æ•°çš„ç±»å‹æ¨æ–­" class="headerlink" title="åœ¨C++14ä¸­å‡½æ•°çš„ç±»å‹æ¨æ–­"></a>åœ¨C++14ä¸­å‡½æ•°çš„ç±»å‹æ¨æ–­</h3><p>åœ¨C++14ä¸­ï¼Œå…³é”®å­—<code>auto</code>è¢«æ‰©å±•åˆ°å¯ä»¥ä»å‡½æ•°ä½“ä¸­çš„è¿”å›è¯­å¥æ¨æ–­å‡ºå‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸º<code>x+y</code>çš„å€¼æ˜¯intç±»å‹ï¼Œç¼–è¯‘å™¨å°†ä¼šæ¨æ–­è¿™ä¸ªå‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ªintç±»å‹ã€‚å½“ä½¿ç”¨<code>auto</code>è¿”å›ç±»å‹æ—¶ï¼Œæ‰€æœ‰çš„è¿”å›è¯­å¥å°±å¿…é¡»è¿”å›ç›¸åŒçš„ç±»å‹ï¼Œå¦åˆ™å°†ä¼šå‡ºé”™ã€‚</p></blockquote><p>ä½†æ˜¯ä¸æ¨èå¯¹å‡½æ•°çš„è¿”å›ç±»å‹ä½¿ç”¨å…³é”®å­—<code>auto</code>ã€‚</p><blockquote><p>å› ä¸ºæ²¡æœ‰ä¸Šä¸‹æ–‡æ¥å¸®åŠ©æŒ‡ç¤ºå‡½æ•°è¿”å›çš„ç±»å‹ã€‚ç”¨æˆ·å®é™…ä¸Šå¿…é¡»æ·±å…¥å‡½æ•°ä½“æœ¬èº«æ¥ç¡®å®šå‡½æ•°è¿”å›çš„ç±»å‹ã€‚å®ƒä¸é‚£ä¹ˆç›´è§‚ï¼Œå› æ­¤æ›´å®¹æ˜“å‡ºé”™ã€‚</p></blockquote><hr><h3 id="åç½®è¿”å›ç±»å‹è¯­æ³•"><a href="#åç½®è¿”å›ç±»å‹è¯­æ³•" class="headerlink" title="åç½®è¿”å›ç±»å‹è¯­æ³•"></a>åç½®è¿”å›ç±»å‹è¯­æ³•</h3><p>å…³é”®å­—<code>auto</code>ä¹Ÿå¯ä»¥è¢«ç”¨æ¥<strong>åç½®è¿”å›ç±»å‹(trailing return syntax)</strong>ã€‚å³ï¼Œåœ¨å‡½æ•°åŸå‹ä¹‹åæŒ‡å®šè¿”å›çš„ç±»å‹ã€‚</p><blockquote><p>è¿™æ˜¯C++11æ–°å¢çš„<strong>ä¸€ç§å‡½æ•°å£°æ˜</strong>çš„æ–¹æ³•ã€‚</p></blockquote><p>ä¸‹é¢çš„ä¸¤ä¸ªå¯¹å‡½æ•°å£°æ˜çš„è¯­å¥æ˜¯ç­‰ä»·çš„ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">auto add(int x, int y) -&gt; int;//åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œautoä¸æ‰§è¡Œç±»å‹æ¨æ–­â€”â€”ä½¿ç”¨åç½®è¿”å›ç±»å‹åªæ˜¯è¯­æ³•çš„ä¸€éƒ¨åˆ†ã€‚</span><br></pre></td></tr></table></figure><hr><p>é‚£ä¸ºä»€ä¹ˆè¦ç”¨åç½®ç±»å‹è¿”å›è¯­å¥å‘¢ï¼Ÿå…¶ä¸­çš„å¥½å¤„ä¹‹ä¸€å°±æ˜¯ï¼šå¯ä»¥è®©å‡½æ•°çš„å£°æ˜æ—¶çš„åå­—å¯¹é½ğŸ˜Šï¼Œå¦‚ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">auto add(int x, int y) -&gt; int;</span><br><span class="line">auto divide(double x, double y) -&gt; double;</span><br><span class="line">auto printSomething() -&gt; void;</span><br><span class="line">auto generateSubstring(const std::string &amp;s, int start, int len) -&gt; std::string;</span><br></pre></td></tr></table></figure><hr><h3 id="å‡½æ•°å½¢å‚çš„ç±»å‹æ¨æ–­"><a href="#å‡½æ•°å½¢å‚çš„ç±»å‹æ¨æ–­" class="headerlink" title="å‡½æ•°å½¢å‚çš„ç±»å‹æ¨æ–­"></a>å‡½æ•°å½¢å‚çš„ç±»å‹æ¨æ–­</h3><blockquote><p><strong>åœ¨C++20æ—¶å¼•å…¥çš„</strong></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">auto</span> x, <span class="keyword">auto</span> y)</span> <span class="comment">//only valid in C++20</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;x+y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    add(<span class="number">2</span>, <span class="number">3</span>);    <span class="comment">//int</span></span><br><span class="line">    add(<span class="number">1.1</span>, <span class="number">2.2</span>); <span class="comment">//double</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åœ¨C++20ä¹‹å‰</strong>ï¼Œè¿™ç§å½¢å¼æ˜¯æ— æ•ˆçš„ã€‚å› ä¸ºç¼–è¯‘å™¨åœ¨ ç¼–è¯‘æ—¶(complie time) ä¸èƒ½æ¨æ–­å‡½æ•°å½¢å‚çš„ç±»å‹ã€‚</p><blockquote><p>åœ¨C++20ä¹‹å‰ï¼Œå¦‚æœä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªä½¿ç”¨å„ç§ä¸åŒç±»å‹çš„æ³›å‹å‡½æ•°ï¼Œä½ éœ€è¦ä½¿ç”¨<code>function templates</code>ï¼Œè€Œä¸æ˜¯ç°åœ¨ç”¨çš„<code>type inference</code></p></blockquote><hr><h3 id="6-15-å¼ºåˆ¶ç±»å‹è½¬æ¢-éšå¼"><a href="#6-15-å¼ºåˆ¶ç±»å‹è½¬æ¢-éšå¼" class="headerlink" title="6.15 å¼ºåˆ¶ç±»å‹è½¬æ¢(éšå¼)"></a>6.15 å¼ºåˆ¶ç±»å‹è½¬æ¢(éšå¼)</h3><blockquote><p>ç±»å‹è½¬æ¢æœ‰ä¸¤ç§å½¢å¼ï¼š</p><ul><li><strong>implicit type conversion</strong>ï¼ˆéšå¼ç±»å‹è½¬æ¢ï¼‰ï¼šç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹</li><li><strong>explicit type conversion</strong>ï¼ˆæ˜¾ç¤ºç±»å‹è½¬æ¢ï¼‰ï¼šå¼€å‘äººå‘˜ä½¿ç”¨è½¬æ¢æ“ä½œç¬¦æ¥æŒ‡å¯¼è½¬æ¢ã€‚</li></ul></blockquote><p>å°†å€¼ä»ä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹çš„è¿‡ç¨‹ç§°ä¸º<strong><em>type conversion</em>(ç±»å‹è½¬æ¢)</strong>ã€‚ç±»å‹è½¬æ¢å¯ä»¥åœ¨è®¸å¤šä¸åŒçš„æƒ…å†µä¸‹å‘ç”Ÿ:</p><ul><li><p>å½“ç”¨ä¸åŒæ•°æ®ç±»å‹çš„å€¼ åˆ†é… æˆ– åˆå§‹ åŒ–ä¸€ä¸ªå˜é‡æ—¶:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d&#123;<span class="number">3</span>&#125;;  <span class="comment">// initialize double variable with integer value 3</span></span><br><span class="line">d = <span class="number">6</span>;    <span class="comment">// assign double variable the integer value 6</span></span><br></pre></td></tr></table></figure></li><li><p>å½“ä¼ é€’ä¸€ä¸ªå€¼ç»™ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä½†å‡½æ•°å‚æ•°æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">long</span> l)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">doSomething(<span class="number">3</span>); <span class="comment">// pass integer value 3 to a function expecting a long parameter</span></span><br></pre></td></tr></table></figure></li><li><p>å½“ä»ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œè¯¥å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯ä¸åŒçš„æ•°æ®ç±»å‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.0</span>; <span class="comment">// Return double value 3.0 back to caller through float return type</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ä¸åŒç±»å‹çš„æ“ä½œæ•°çš„ äºŒå…ƒæ“ä½œç¬¦ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> division&#123; <span class="number">4.0</span> / <span class="number">3</span> &#125;; <span class="comment">// division with a double and an integer</span></span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="éšå¼ç±»å‹è½¬æ¢"><a href="#éšå¼ç±»å‹è½¬æ¢" class="headerlink" title="éšå¼ç±»å‹è½¬æ¢"></a>éšå¼ç±»å‹è½¬æ¢</h3><p><strong>éšå¼ç±»å‹è½¬æ¢</strong>(ä¹Ÿç§°ä¸º<strong>è‡ªåŠ¨ç±»å‹è½¬æ¢</strong>æˆ–<strong>å¼ºåˆ¶è½¬æ¢</strong>)åœ¨å¸Œæœ›æ˜¯è¿™ç§æ•°æ®ç±»å‹ï¼Œä½†æä¾›äº†å¦ä¸€ç§æ•°æ®ç±»å‹ã€‚ä¹³æ²Ÿç¼–è¯‘å™¨èƒ½å¤Ÿè¾¨è®¤å‡ºç±»å‹è½¬æ¢ä¸­çš„ä¸¤ç§ç±»å‹ï¼ŒæŒ ä»–å°±è½¬æ¢ã€‚å¦åˆ™ï¼ŒæŠ¥é”™ã€‚</p><blockquote><p>éšå¼ç±»å‹è½¬æ¢æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼š<strong>æå‡</strong>å’Œ<strong>è½¬æ¢</strong>ã€‚</p></blockquote><ul><li><p><strong><em>Numeric promotion</em>æ•°å€¼æå‡</strong></p><p>æ¯å½“å°†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼è½¬æ¢ä¸ºæ¥è‡ªåŒä¸€æ—çš„æ›´å¤§çš„åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼æ—¶ï¼Œè¿™ç§°ä¸º<strong>æ•°å€¼æå‡</strong>(æˆ–<strong>åŠ å®½</strong>ï¼Œå°½ç®¡è¿™ä¸ªæœ¯è¯­é€šå¸¸ç”¨äºæ•´æ•°)ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//an int can be widened into a long, or a float promoted into a double:</span></span><br><span class="line"><span class="keyword">long</span> l&#123; <span class="number">64</span> &#125;; <span class="comment">// widen the integer 64 into a long</span></span><br><span class="line"><span class="keyword">double</span> d&#123; <span class="number">0.12f</span> &#125;; <span class="comment">// promote the float 0.12 into a double</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶æœ¯è¯­æ•°å€¼æ¨å¹¿æ¶µç›–äº†ä»»ä½•ç±»å‹çš„æå‡ï¼Œä½†åœ¨c++ä¸­è¿˜æœ‰ä¸¤ä¸ªå…·æœ‰ç‰¹å®šå«ä¹‰çš„æœ¯è¯­:</p><ul><li><strong>Integral promotion(æ•´å‹æå‡)</strong>ï¼šå¯ä»¥å°†[ <code>bool</code> , <code>char</code>, <code>unsigned char</code>, <code>signed char</code>, <code>unsigned short</code>, and <code>signed short</code> ]è¿™äº›ç±»å‹è½¬æ¢ä¸º <code>int</code>æˆ–è€…æ˜¯<code>unsigned int</code></li><li><strong>Floating point promotion(æµ®ç‚¹å‹æå‡)</strong>ï¼šå¯ä»¥å°†<code>float</code>ç±»å‹è½¬æ¢ä¸º<code>double</code></li></ul><p>æ•´å‹æå‡ å’Œ æµ®ç‚¹å‹æå‡ é€šå¸¸æ˜¯å°† è¾ƒå°çš„æ•°æ®ç±»å‹è½¬æ¢ä¸º<code>int</code>/<code>unsigned int</code>æˆ–<code>double</code>ã€‚</p><hr></li><li><p><strong>Numeric conversions(æ•°å€¼è½¬æ¢)</strong></p><p>å½“æˆ‘ä»¬å°†ä¸€ä¸ªå€¼ä»è¾ƒå¤§çš„ç±»å‹è½¬æ¢ä¸ºç±»ä¼¼çš„è¾ƒå°ç±»å‹æ—¶ï¼Œæˆ–è€…åœ¨ä¸åŒç±»å‹ä¹‹é—´è½¬æ¢æ—¶ï¼Œè¿™ç§°ä¸ºæ•°å€¼è½¬æ¢ã€‚ä¾‹å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d&#123; <span class="number">3</span> &#125;; <span class="comment">// convert integer 3 to a double (between different types)</span></span><br><span class="line">short s&#123; <span class="number">2</span> &#125;; <span class="comment">// convert integer 2 to a short (from larger to smaller type within same type family)</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>æ•°å€¼æå‡</strong>æ˜¯å®‰å…¨çš„ï¼›ä½†æ˜¯<strong>æ•°å€¼è½¬æ¢</strong>å¯èƒ½ä¼šä¸¢å¤±æ•°æ®ã€‚</p><blockquote><p>å› æ­¤ï¼Œå¯¼è‡´æ‰§è¡Œéšå¼è½¬æ¢çš„ä»£ç é€šå¸¸ä¼šå¯¼è‡´ç¼–è¯‘å™¨å‘å‡ºè­¦å‘Šã€‚</p></blockquote></blockquote><p>eg,å°†ä¸€ä¸ªå€¼è½¬æ¢ä¸ºçš„ç±»å‹æ²¡æœ‰è¶³å¤Ÿå¤§çš„èŒƒå›´æ¥æ”¯æŒè¿™ä¸ªå€¼ï¼Œå°±ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„ç»“æœï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i&#123; <span class="number">30000</span> &#125;;</span><br><span class="line">    <span class="keyword">char</span> c = i; <span class="comment">// chars have range -128 to 127</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(c);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ**********/</span></span><br><span class="line"><span class="number">48</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªå¤§æ•´æ•°åˆ†é…ç»™ä¸€ä¸ªchar(å…¶èŒƒå›´ä¸º-128åˆ°127)ã€‚è¿™ä¼šå¯¼è‡´charæº¢å‡ºï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ„å¤–çš„ç»“æœ: 48</p></blockquote><p>ä½†æ˜¯ï¼Œåªè¦å€¼ç¬¦åˆè¾ƒå°ç±»å‹çš„èŒƒå›´ï¼Œä»è¾ƒå¤§çš„æ•´æ•°æˆ–æµ®ç‚¹ç±»å‹è½¬æ¢ä¸ºè¾ƒå°çš„ç±»ä¼¼ç±»å‹é€šå¸¸å°±å¯ä»¥å·¥ä½œã€‚ä¾‹å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">int</span> i&#123; <span class="number">2</span> &#125;;</span><br><span class="line">    short s = i; <span class="comment">// convert from int to short</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; s &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">double</span> d&#123; <span class="number">0.1234</span> &#125;;</span><br><span class="line">    <span class="keyword">float</span> f = d;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; f &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***********ç»“æœ**************/</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">0.1234</span></span><br></pre></td></tr></table></figure><p>å¯¹äºæµ®ç‚¹å€¼ï¼Œç”±äºè¾ƒå°ç±»å‹çš„ç²¾åº¦æŸå¤±ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€äº›èˆå…¥ã€‚ä¾‹å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f = <span class="number">0.123456789</span>; <span class="comment">// double value 0.123456789 has 9 significant digits, but float can only support about 7</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setprecision(<span class="number">9</span>) &lt;&lt; f &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// std::setprecision defined in å¤´æ–‡ä»¶â€œiomanipâ€ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/************ç»“æœ************/</span></span><br><span class="line"><span class="number">0.123456791</span></span><br></pre></td></tr></table></figure><p>åªè¦å€¼ç¬¦åˆæµ®ç‚¹ç±»å‹çš„èŒƒå›´ï¼Œå°±å¯ä»¥å°†æ•´æ•°è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚ä¾‹å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">int</span> i&#123; <span class="number">10</span> &#125;;</span><br><span class="line">    <span class="keyword">float</span> f = i;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; f;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**************ç»“æœ**************/</span></span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure><p>åªè¦å€¼ç¬¦åˆæ•´æ•°çš„èŒƒå›´ï¼Œå°±å¯ä»¥å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°ï¼Œä½†æ˜¯ä»»ä½•å°æ•°å€¼éƒ½ä¼šä¸¢å¤±ã€‚ä¾‹å¦‚:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">int</span> i = <span class="number">3.5</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***åœ¨æœ¬ä¾‹ä¸­ï¼Œä¸¢å¤±äº†åˆ†æ•°å€¼(.5)ï¼Œç»“æœå¦‚ä¸‹:****/</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>è®¡ç®—ç®—æœ¯è¡¨è¾¾å¼</strong></p><p>å½“è®¡ç®—è¡¨è¾¾å¼æ—¶ï¼Œç¼–è¯‘å™¨å°†æ¯ä¸ªè¡¨è¾¾å¼åˆ†è§£æˆå•ç‹¬çš„å­è¡¨è¾¾å¼ã€‚ç®—æœ¯è¿ç®—ç¬¦è¦æ±‚å®ƒä»¬çš„<strong>æ“ä½œæ•°å¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹</strong>ã€‚ä¸ºäº†ç¡®ä¿è¿™ä¸€ç‚¹ï¼Œç¼–è¯‘å™¨ä½¿ç”¨ä»¥ä¸‹è§„åˆ™:</p><ul><li><p>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯ä¸€ä¸ªæ¯”<code>int</code>æ›´çª„çš„æ•´æ•°ï¼Œå®ƒå°†ç»å†æ•´æ•°æå‡(å¦‚ä¸Šæ‰€è¿°)åˆ°<code>int</code>æˆ–<code>usigned int</code>ã€‚</p></li><li><p>å¦‚æœæ“ä½œæ•°ä»ç„¶ä¸åŒ¹é…ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæ‰¾åˆ°ä¼˜å…ˆçº§æœ€é«˜çš„æ“ä½œæ•°ï¼Œå¹¶éšå¼åœ°å°†å¦ä¸€ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºåŒ¹é…çš„æ“ä½œæ•°ã€‚</p><blockquote><p>æ“ä½œæ•°çš„ä¼˜å…ˆçº§å¦‚ä¸‹:</p><ul><li>long double (highest)</li><li>double</li><li>float</li><li>unsigned long long</li><li>long long</li><li>unsigned long</li><li>long</li><li>unsigned int</li><li>int (lowest)</li></ul></blockquote></li></ul><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨typeidæ“ä½œç¬¦(åŒ…å«åœ¨å¤´ä¸­)çœ‹åˆ°é€šå¸¸çš„ç®—æœ¯è½¬æ¢ï¼Œè¯¥æ“ä½œç¬¦å¯ç”¨äºæ˜¾ç¤ºè¡¨è¾¾å¼çš„ç»“æœç±»å‹ã€‚</p><p>eg1:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;typeinfo&gt; // for typeid()</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    short a&#123; <span class="number">4</span> &#125;;</span><br><span class="line">    short b&#123; <span class="number">5</span> &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">typeid</span>(a + b).name() &lt;&lt; <span class="string">" "</span> &lt;&lt; a + b &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// show us the type of a + b</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å› ä¸ºshortæ˜¯æ•´æ•°ï¼Œæ‰€ä»¥å®ƒä»¬åœ¨è¢«æ·»åŠ ä¹‹å‰è¦ç»è¿‡æ•´æ•°æå‡åˆ°intã€‚æ·»åŠ ä¸¤ä¸ªintçš„ç»“æœæ˜¯ä¸€ä¸ªintï¼Œæ­£å¦‚æ‚¨æ‰€æœŸæœ›çš„:*/</span></span><br><span class="line"><span class="keyword">int</span> <span class="number">9</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„:ç¼–è¯‘å™¨å¯èƒ½ä¼šæ˜¾ç¤ºä¸€äº›ç¨å¾®ä¸åŒçš„å†…å®¹ï¼Œå› ä¸ºtypeid.name()çš„æ ¼å¼ç”±ç¼–è¯‘å™¨å†³å®šã€‚</p></blockquote><p>eg2:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;typeinfo&gt; // for typeid()</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> d&#123; <span class="number">4.0</span> &#125;;</span><br><span class="line">    short s&#123; <span class="number">2</span> &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">typeid</span>(d + s).name() &lt;&lt; <span class="string">' '</span> &lt;&lt; d + s &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// show us the type of d + s</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*****ç»“æœ*************/</span></span><br><span class="line"><span class="keyword">double</span> <span class="number">6.0</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>short</code>å°†è¢« <em>æ•°å€¼æå‡</em> ä¸º<code>int</code>ã€‚ä½†æ˜¯ï¼Œ<code>int</code>ä¸<code>double</code>è¿˜æ˜¯ä¸åŒ¹é…ã€‚åˆå› ä¸º<code>double</code>åœ¨ç±»å‹çš„å±‚æ¬¡ç»“æ„ä¸­æ›´é«˜ã€‚æ‰€ä»¥ï¼Œæ•´å‹çš„2å°†è¢«è½¬æ¢ä¸ºdouble ç±»å‹çš„ 2.0 ã€‚ç„¶åå°±ç›¸å½“äºæ˜¯ä¸¤ä¸ªdoubleç±»å‹çš„ç›¸åŠ ï¼Œç»“æœè¿˜æ˜¯doubleç±»å‹.</p></li></ul><hr><h2 id="å¼ºåˆ¶ç±»å‹è½¬æ¢-æ˜¾å¼-amp-static-cast"><a href="#å¼ºåˆ¶ç±»å‹è½¬æ¢-æ˜¾å¼-amp-static-cast" class="headerlink" title="å¼ºåˆ¶ç±»å‹è½¬æ¢(æ˜¾å¼) &amp; static_cast"></a>å¼ºåˆ¶ç±»å‹è½¬æ¢(æ˜¾å¼) &amp; <code>static_cast</code></h2><p>æ˜¾å¼çš„ç±»å‹è½¬æ¢æ˜¯ä½¿ç”¨ <strong>type casting operator(ç±»å‹è½¬æ¢æ“ä½œç¬¦)</strong>ã€‚ï¼ˆé€šå¸¸æ˜¯ç¨‹åºå‘˜æ¥åšçš„ä¸€ä¸ªæ˜¾å¼çš„çš„ç±»å‹è½¬æ¢ï¼‰</p><p>åœ¨C++ä¸­ï¼Œç±»å‹è½¬æ¢å¤§è‡´åˆ†ä¸º5ç§ï¼š <code>C-style casts</code>, <code>static casts</code>, <code>const casts</code>, <code>dynamic casts</code>, and <code>reinterpret casts</code>. åå››ä¸ªæœ‰æ—¶è¢«ç§°ä¸º<strong>å‘½åç±»å‹è½¬æ¢(named casts)</strong>ã€‚</p><p>åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»cé£æ ¼çš„ç±»å‹è½¬æ¢å’Œé™æ€ç±»å‹è½¬æ¢ã€‚æˆ‘ä»¬å°†åœ¨ä»¥åçš„è¯¾ç¨‹ä¸­è®¨è®ºæŒ‡é’ˆå’Œç»§æ‰¿æ—¶å†ä¿å­˜åŠ¨æ€ç±»å‹è½¬æ¢ã€‚</p><blockquote><p>é€šå¸¸åº”è¯¥é¿å…ä½¿ç”¨<code>Const casts</code>å’Œ<code>reinterpret casts</code>ï¼Œå› ä¸ºå®ƒä»¬åªåœ¨æå°‘æ•°æƒ…å†µä¸‹æœ‰ç”¨ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å¯èƒ½ä¼šæœ‰å®³ã€‚</p></blockquote><hr><h3 id="C-style-casts"><a href="#C-style-casts" class="headerlink" title="C-style casts"></a>C-style casts</h3><p>åœ¨æ ‡å‡†çš„Cè¯­è¨€ä¸­ï¼Œç±»å‹è½¬æ¢æ˜¯é€šè¿‡ <strong>æ“ä½œç¬¦<code>()</code></strong>æ¥å®Œæˆçš„ã€‚æ‹¬å·å†…æ˜¯å°†è¦è½¬æ¢çš„ç›®æ ‡ç±»å‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i1 &#123; <span class="number">10</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> i2 &#123; <span class="number">4</span> &#125;;</span><br><span class="line"><span class="keyword">float</span> f &#123; (<span class="keyword">float</span>)i1 / i2 &#125;;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æµ®ç‚¹cé£æ ¼çš„å¼ºåˆ¶è½¬æ¢æ¥å‘Šè¯‰ç¼–è¯‘å™¨å°†<code>i1</code>è½¬æ¢ä¸ºæµ®ç‚¹å€¼ã€‚</p><p>å› ä¸ºè¿ç®—ç¬¦<code>/</code>çš„å·¦æ“ä½œæ•°ç°åœ¨å˜ä¸ºæµ®ç‚¹å€¼ï¼Œå³æ“ä½œç¬¦ä¹Ÿå°†è¢«è½¬æ¢ä¸ºæµ®ç‚¹å€¼ã€‚å¹¶ä¸”é™¤æ³•å°†ä½¿ç”¨æµ®ç‚¹é™¤æ³•è€Œä¸æ˜¯æ•´æ•°é™¤æ³•!</p></blockquote><hr><p><strong>ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢æ¥æ¸…é™¤éšå¼ç±»å‹è½¬æ¢</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i &#123; <span class="number">48</span> &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// explicit conversion from int to char, so that a char is assigned to variable ch</span></span><br><span class="line"><span class="keyword">char</span> ch = <span class="keyword">static_cast</span>&lt;<span class="keyword">char</span>&gt;(i);</span><br></pre></td></tr></table></figure><blockquote><p>å½“æˆ‘ä»¬è¿™æ ·åšæ—¶ï¼Œæˆ‘ä»¬æ˜¾å¼åœ°å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªè½¬æ¢æ˜¯æœ‰æ„çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬æ¥å—å¯¹ç»“æœçš„è´£ä»»ã€‚å› ä¸ºè¿™ä¸ª<code>static_cast</code>çš„è¾“å‡ºç±»å‹æ˜¯charï¼Œæ‰€ä»¥å¯¹å˜é‡chçš„èµ‹å€¼ä¸ä¼šäº§ç”Ÿä»»ä½•ç±»å‹ä¸åŒ¹é…ï¼Œå› æ­¤æ²¡æœ‰è­¦å‘Šã€‚</p></blockquote><p>ä¸‹é¢çš„ç¨‹åºï¼Œç¼–è¯‘å™¨å°†ä¼šæŠ±æ€¨å°†doubleè½¬æ¢æˆintå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i &#123; <span class="number">100</span> &#125;;</span><br><span class="line">i = i / <span class="number">2.5</span>;</span><br></pre></td></tr></table></figure><p>å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬æ˜ç¡®çš„æ„æ€æ˜¯è¿™æ ·åš:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i &#123; <span class="number">100</span> &#125;;</span><br><span class="line">i = <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(i / <span class="number">2.5</span>);</span><br></pre></td></tr></table></figure><hr><h2 id="6-17-æœªå‘½å-å†…è”-å‘½åç©ºé—´"><a href="#6-17-æœªå‘½å-å†…è”-å‘½åç©ºé—´" class="headerlink" title="6.17 æœªå‘½å/å†…è” å‘½åç©ºé—´"></a>6.17 æœªå‘½å/å†…è” å‘½åç©ºé—´</h2><h3 id="æœªå‘½å-åŒ¿å-å‘½åç©ºé—´"><a href="#æœªå‘½å-åŒ¿å-å‘½åç©ºé—´" class="headerlink" title="æœªå‘½å(åŒ¿å) å‘½åç©ºé—´"></a>æœªå‘½å(åŒ¿å) å‘½åç©ºé—´</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> <span class="comment">// unnamed namespace</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> <span class="comment">// can only be accessed in this file</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"v1\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    doSomething(); <span class="comment">// we can call doSomething() without a namespace prefix</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ**********/</span></span><br><span class="line">v1</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨æœªå‘½åçš„å‘½åç©ºé—´ä¸­å£°æ˜çš„æ‰€æœ‰å†…å®¹éƒ½è¢«è§†ä¸ºçˆ¶å‘½åç©ºé—´çš„ä¸€éƒ¨åˆ†ã€‚å› æ­¤ï¼Œå°½ç®¡<code>doSomething</code>å‡½æ•°æ˜¯åœ¨æœªå‘½åçš„å‘½åç©ºé—´ä¸­å®šä¹‰çš„ï¼Œä½†å‡½æ•°æœ¬èº«å¯ä»¥ä»çˆ¶å‘½åç©ºé—´(åœ¨æœ¬ä¾‹ä¸­æ˜¯<code>global namespace</code>)è®¿é—®ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä»mainè°ƒç”¨doSomethingè€Œä¸éœ€è¦ä»»ä½•é™å®šç¬¦ã€‚</p></blockquote><p>è¿™å¯èƒ½ä½¿æœªå‘½åçš„å‘½åç©ºé—´çœ‹èµ·æ¥æ¯«æ— ç”¨å¤„ã€‚ä½†æœªå‘½ååç§°ç©ºé—´çš„å¦ä¸€ä¸ªå½±å“æ˜¯ï¼šæœªå‘½åå‘½åç©ºé—´å†…çš„æ‰€æœ‰æ ‡è¯†ç¬¦éƒ½è¢«è§†ä¸ºå…·æœ‰<strong>å†…éƒ¨é“¾æ¥</strong>ï¼Œ<u>è¿™æ„å‘³ç€æœªå‘½åå‘½åç©ºé—´çš„å†…å®¹å°±ä¸èƒ½åœ¨å…¶ä»–æ–‡ä»¶ä¸­çœ‹åˆ°</u>ã€‚</p><hr><p><strong>å¯¹äºå‡½æ•°</strong>ï¼Œ<u>è¿™å®é™…ä¸Šç­‰åŒäºå°†æœªå‘½åçš„å‘½åç©ºé—´ä¸­çš„æ‰€æœ‰å‡½æ•°å®šä¹‰ä¸º<strong>é™æ€å‡½æ•°</strong></u>ã€‚ä¸‹é¢çš„ç¨‹åºä¸ä¸Šé¢çš„ç¨‹åºå®é™…ä¸Šæ˜¯ç›¸åŒçš„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span> <span class="comment">// can only be accessed in this file</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"v1\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    doSomething(); <span class="comment">// we can call doSomething() without a namespace prefix</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p><strong><code>unnamed namespace</code></strong>é€šå¸¸ç”¨äº å½“ä½ æœ‰å¾ˆå¤šå†…å®¹æƒ³è¦ç¡®ä¿åœ¨ç»™å®šæ–‡ä»¶ä¸­ä¿æŒå±€éƒ¨æ—¶ï¼Œä½¿ç”¨<code>unnamed namespace</code>è¦æ¯”å•ç‹¬å°†æ‰€æœ‰å£°æ˜æ ‡è®°ä¸º<code>static</code>æ›´å®¹æ˜“ã€‚</p><hr><h3 id="å†…è”-å‘½åç©ºé—´"><a href="#å†…è”-å‘½åç©ºé—´" class="headerlink" title="å†…è” å‘½åç©ºé—´"></a>å†…è” å‘½åç©ºé—´</h3><blockquote><p><strong>Inline namespaces</strong></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"v1\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    doSomething();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å‡è®¾ä½ å¯¹doSomethingä¸æ»¡æ„ï¼Œä½ æƒ³é€šè¿‡æ”¹å˜å®ƒçš„è¡Œä¸ºæ–¹å¼æ¥æ”¹è¿›å®ƒã€‚ä½†å¦‚æœè¿™æ ·åšï¼Œå°±æœ‰å¯èƒ½ç ´åä½¿ç”¨æ—§ç‰ˆæœ¬çš„ç°æœ‰ç¨‹åºã€‚ä½ æ˜¯æ€ä¹ˆå¤„ç†çš„?</p><ul><li><p>ä¸€ç§æ–¹æ³•æ˜¯ç”¨ä¸åŒçš„åç§°åˆ›å»ºå‡½æ•°çš„æ–°ç‰ˆæœ¬ã€‚ä½†æ˜¯ç»è¿‡è®¸å¤šæ›´æ”¹ä¹‹åï¼Œæ‚¨å¯èƒ½ä¼šå¾—åˆ°ä¸€ç»„åç§°å‡ ä¹ç›¸åŒçš„å‡½æ•°(doSomethingã€doSomething_v2ã€doSomething_v3ç­‰)ã€‚</p></li><li><p>ã€æ¨èã€‘å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨<strong>å†…è”å‘½åç©ºé—´</strong>ã€‚<u>å†…è”å‘½åç©ºé—´æ˜¯é€šå¸¸ç”¨äºç‰ˆæœ¬åŒ–å†…å®¹çš„åç§°ç©ºé—´</u>ã€‚ä¸æœªå‘½åçš„å‘½åç©ºé—´éå¸¸ç›¸ä¼¼ï¼Œ<u>åœ¨å†…è”å‘½åç©ºé—´ä¸­å£°æ˜çš„ä»»ä½•å†…å®¹éƒ½è¢«è®¤ä¸ºæ˜¯çˆ¶åç§°ç©ºé—´çš„ä¸€éƒ¨åˆ†</u>ã€‚<u>ç„¶è€Œï¼Œå†…è”å‘½åç©ºé—´å¹¶ä¸æ˜¯ å†…éƒ¨é“¾æ¥ã€‚</u></p><blockquote><p>ä½¿ç”¨å…³é”®å­—<code>inline</code></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">namespace</span> v1 <span class="comment">// declare an inline namespace named v1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"v1\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> v2 <span class="comment">// declare a normal namespace named v2</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"v2\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    v1::doSomething(); <span class="comment">// calls the v1 version of doSomething()</span></span><br><span class="line">    v2::doSomething(); <span class="comment">// calls the v2 version of doSomething()</span></span><br><span class="line"> </span><br><span class="line">    doSomething(); <span class="comment">// calls the inline version of doSomething() (which is v1)</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********ç»“æœ********/</span></span><br><span class="line">v1</span><br><span class="line">v2</span><br><span class="line">v1</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹å‡ºï¼Œå½“æœ‰ <strong>å†…è”å‡½æ•°</strong>å­˜åœ¨æ—¶ï¼Œ<u>å¦‚æœä¸åŠ å‰ç¼€ï¼Œ<strong>åˆ™é»˜è®¤è°ƒç”¨çš„æ˜¯ å†…è”å‡½æ•°ç‰ˆæœ¬</strong></u></p></blockquote><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè°ƒç”¨<code>doSomething</code>å°†å¾—åˆ°<code>doSomething</code>çš„v1(å†…è”ç‰ˆæœ¬)ã€‚å¸Œæœ›ä½¿ç”¨æ–°ç‰ˆæœ¬çš„è°ƒç”¨è€…å¯ä»¥<strong>æ˜¾å¼</strong>åœ°è°ƒç”¨<code>v2::dosomething()</code>ã€‚</p><blockquote><p>è¿™ä¿ç•™äº†ç°æœ‰ç¨‹åºçš„åŠŸèƒ½ï¼ŒåŒæ—¶å…è®¸æ›´æ–°çš„ç¨‹åºåˆ©ç”¨æ›´æ–°çš„/æ›´å¥½çš„å˜ä½“ã€‚</p></blockquote><hr></li></ul><h2 id="6-x-Chapter-6-summary-and-quiz"><a href="#6-x-Chapter-6-summary-and-quiz" class="headerlink" title="6.x Chapter 6 summary and quiz"></a>6.x Chapter 6 summary and quiz</h2><p><a href="https://www.learncpp.com/cpp-tutorial/chapter-6-summary-and-quiz/" target="_blank" rel="noopener">https://www.learncpp.com/cpp-tutorial/chapter-6-summary-and-quiz/</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¬è½½ä»–äººçš„æ–¹æ³•</title>
      <link href="/archives/9f0a1d82.html"/>
      <url>/archives/9f0a1d82.html</url>
      
        <content type="html"><![CDATA[<a id="more"></a><ol><li><strong>WSL ä½¿ç”¨æŒ‡å—</strong>ï¼š<a href="https://zhuanlan.zhihu.com/p/36482795" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/36482795</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GIT å­¦ä¹ </title>
      <link href="/archives/18085cf9.html"/>
      <url>/archives/18085cf9.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red></red>Gitå­¦ä¹ ç¬”è®°</p></center><a id="more"></a><p>Gitçš„ä¸‰ç§çŠ¶æ€ï¼š</p><blockquote><p>committedï¼ˆå·²æäº¤ï¼‰ï¼šæ•°æ®å·²ç»å®‰å…¨çš„ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ï¼ˆä»“åº“ï¼‰ï¼›</p><p>modifiedï¼ˆå·²ä¿®æ”¹ï¼‰ï¼šä¿®æ”¹äº†æ–‡ä»¶ï¼Œ<strong>ä½†è¿˜æ²¡æœ‰ä¿å­˜åˆ°æ•°æ®åº“</strong>ï¼›</p><p>stagedï¼ˆå·²æš‚å­˜ï¼‰ï¼šå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­ã€‚</p></blockquote><p>Gité¡¹ç›®çš„ä¸‰ä¸ªå·¥ä½œåŒºåŸŸæ¦‚å¿µï¼š</p><blockquote><p><strong>Gitä»“åº“ï¼ˆGit directory æˆ– repositoryï¼‰ï¼š</strong>æ˜¯Gitç”¨æ¥ä¿å­˜é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹ã€‚æ˜¯Gitæœ€é‡è¦éƒ¨åˆ†ï¼Œä»å…¶ä»–è®¡ç®—æœºå…‹éš†ä»“åº“æ—¶ï¼Œæ‹·è´çš„å°±æ˜¯è¿™é‡Œçš„æ•°æ®ã€‚</p><p><strong>å·¥ä½œç›®å½•ï¼ˆworking directoryï¼‰ï¼š</strong>å¯¹é¡¹ç›®çš„æŸä¸ªç‰ˆæœ¬ç‹¬ç«‹æå–å‡ºæ¥çš„å†…å®¹ã€‚è¿™äº›ä»Gitä»“åº“çš„å‹ç¼©æ•°æ®åº“ä¸­æå–å‡ºæ¥çš„æ–‡ä»¶ï¼Œæ”¾åœ¨ç£ç›˜ä¸Šä¾›ä½ ä½¿ç”¨æˆ–ä¿®æ”¹ã€‚</p><p><strong>æš‚å­˜åŒºåŸŸï¼ˆstaging areaï¼‰ï¼š</strong>æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†ä¸‹ä¸€æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ï¼Œä¸€èˆ¬åœ¨Gitä»“åº“ç›®å½•ä¸­ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä½œâ€œç´¢å¼•â€ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/1576831394522.png" alt="1576831394522"></p><p>åŸºæœ¬çš„ Git å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><blockquote><p>1.åœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶ï¼›</p><p>2.æš‚å­˜æ–‡ä»¶ï¼Œå°†æ–‡ä»¶çš„å¿«ç…§æ”¾å…¥æš‚å­˜åŒºåŸŸï¼›</p><p>3.æäº¤æ›´æ–°ï¼Œæ‰¾åˆ°æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶ï¼Œå°†å¿«ç…§æ°¸ä¹…æ€§å­˜å‚¨åˆ° Git ä»“åº“ç›®ã€‚</p></blockquote><h1 id="åˆå§‹è®¾ç½®ï¼š"><a href="#åˆå§‹è®¾ç½®ï¼š" class="headerlink" title="åˆå§‹è®¾ç½®ï¼š"></a>åˆå§‹è®¾ç½®ï¼š</h1><h2 id="è®¾ç½®å§“åå’Œé‚®ç®±ï¼š"><a href="#è®¾ç½®å§“åå’Œé‚®ç®±ï¼š" class="headerlink" title="è®¾ç½®å§“åå’Œé‚®ç®±ï¼š"></a>è®¾ç½®å§“åå’Œé‚®ç®±ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;Firstname Lastname&quot; &#x2F;&#x2F; åå­—ä½¿ç”¨è‹±æ–‡è¾“å…¥</span><br><span class="line">git config --global user.email &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure><p>æ³¨æ„<code>git config</code>å‘½ä»¤çš„<code>--global</code>å‚æ•°ï¼Œç”¨äº†è¿™ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä½ è¿™å°æœºå™¨ä¸Šæ‰€æœ‰çš„Gitä»“åº“éƒ½ä¼šä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¯¹æŸä¸ªä»“åº“æŒ‡å®šä¸åŒçš„ç”¨æˆ·åå’ŒEmailåœ°å€ã€‚</p><p>è¿™ä¸ªå‘½ä»¤ï¼Œä¼šåœ¨â€œ<code>~/.gitconfig</code>â€ä¸­ä»¥å¦‚ä¸‹å½¢å¼è¾“å‡ºè®¾ç½®æ–‡ä»¶ã€‚æˆ‘çš„ç”µè„‘ä¸Šï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹çš„ä½ç½®åœ¨<code>C:\Users\ACER</code></p><h2 id="è®¾ç½®SSH-key"><a href="#è®¾ç½®SSH-key" class="headerlink" title="è®¾ç½®SSH key:"></a>è®¾ç½®<code>SSH key</code>:</h2><p>åˆ›å»ºå…¬å¼€å¯†é’¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ°<code>.ssh</code>ç›®å½•ï¼Œæˆ‘çš„åœ¨ï¼š<code>C:\Users\ACER\.ssh</code></p><p>é‡Œé¢æœ‰<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯SSH Keyçš„ç§˜é’¥å¯¹ï¼Œ<code>id_rsa</code>æ˜¯<strong>ç§é’¥</strong>ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œ<code>id_rsa.pub</code>æ˜¯<strong>å…¬é’¥</strong>ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p><h2 id="åˆå§‹åŒ–Gitä»“åº“ï¼š"><a href="#åˆå§‹åŒ–Gitä»“åº“ï¼š" class="headerlink" title="åˆå§‹åŒ–Gitä»“åº“ï¼š"></a>åˆå§‹åŒ–Gitä»“åº“ï¼š</h2><p>åœ¨è¯¥ä»“åº“ä¸­ï¼Œæ‰“å¼€Git bashï¼Œç„¶åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h2 id="å…³è”è¿œç¨‹ä»“åº“ï¼š"><a href="#å…³è”è¿œç¨‹ä»“åº“ï¼š" class="headerlink" title="å…³è”è¿œç¨‹ä»“åº“ï¼š"></a>å…³è”è¿œç¨‹ä»“åº“ï¼š</h2><p>åœ¨è¿œç¨‹ä»“åº“ï¼ˆå¦‚ï¼š<code>githubã€gitee</code>ï¼‰ä¸­æœ‰ä¸€ä¸ªæ–°ä»“åº“ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p><p>å…‹éš†ä¸€ä»½åˆ°æœ¬åœ°ï¼›ä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªå·²æœ‰çš„æœ¬åœ°ä»“åº“ä¸ä¹‹å…³è”ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git remote add &lt;è¿œç¨‹ä»“åº“åå­—&gt; &lt;è¿œç¨‹ä»“åº“çš„SSHæˆ–HTTPS&gt;</span><br><span class="line"></span><br><span class="line">å¦‚ï¼šgit remote add origin git@github.com:michaelliao&#x2F;learngit.git</span><br><span class="line">å…¶ä¸­ï¼š</span><br><span class="line">è¿œç¨‹ä»“åº“åå­—ï¼šoriginï¼ˆæ˜¯gitçš„é»˜è®¤å«æ³•ï¼Œä¹Ÿå¯ä»¥å†™æˆå…¶ä»–çš„ï¼‰</span><br><span class="line">è¿œç¨‹ä»“åº“çš„SSHï¼šgit@github.com:longlongqin&#x2F;learngit.git</span><br></pre></td></tr></table></figure><ul><li><input checked disabled type="checkbox"> <strong>å½“éœ€è¦å°†<u>ä¸€ä¸ªä»“åº“</u>åŒæ—¶åœ¨<code>github å’Œ gitee</code>ä¸Šå…³è”æ—¶ï¼š</strong></li></ul><ol><li><p>å‡å¦‚åœ¨<code>gitee</code>ä¸Šå…³è”ä¹‹å‰ï¼Œå·²ç»åœ¨<code>GitHub</code>ä¸Šå…³è”è¿‡äº†ã€‚</p><p>æ¯”å¦‚äº‹å…ˆåœ¨GitHubä¸Šï¼š<code>git remote add origin git@github.com:longlongqin/LearnGit.git</code>ï¼Œå…³è”äº†ä¸€ä¸ªå«<code>origin</code>çš„è¿œç¨‹ä»“åº“ã€‚</p><p>ç„¶åï¼Œæˆ‘ç°åœ¨è¦åœ¨giteeä¸Šå…³è”ä¸€ä¸ªä»“åº“ï¼š</p><p><code>git remote add origin git@gitee.com:longlongqin/LearnGit.git</code></p><p>å‡ºç°<u>æŠ¥é”™</u>ï¼šfatal: remote origin already exists.è¯´æ˜ï¼Œæœ¬åœ°åº“å·²ç»å…³è”äº†ä¸€ä¸ªå«åš<code>origin</code>çš„è¿œç¨‹ä»“åº“äº†ï¼Œæ‰€ä»¥æ‰ä¼šæŠ¥é”™ã€‚</p></li><li><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œä¸èƒ½å°†githubå’Œgiteeä¸Šçš„ä»“åº“åå­—éƒ½å«ä¸€æ ·çš„åå­—ã€‚ä»–ä»¬ä¹‹é—´çš„åå­—è¦åŒºåˆ†ã€‚</p></li></ol><blockquote><ul><li><p>å…ˆï¼Œåˆ é™¤å…³è”çš„å·²æœ‰çš„GitHubè¿œç¨‹åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm origin</span><br></pre></td></tr></table></figure></li><li><p>å†å¼€å§‹é‡æ–°å…³è”githubå’Œgiteeçš„ä»“åº“ï¼Œè¿™æ¬¡è¦å°†ä»–ä»¬çš„ä»“åº“åå­—åŒºåˆ†å¼€ï¼š</p><p>/*giteeä¸­çš„LearnGitä»“åº“èµ·åï¼š<code>gitee</code>ï¼›</p><p>/*githubä¸­çš„LearnGitä»“åº“èµ·åï¼š<code>github</code>ï¼›</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote gitee origin git@gitee.com:longlongqin&#x2F;LearnGit.git</span><br><span class="line">git remote github origin git@github.com:longlongqin&#x2F;LearnGit.git</span><br></pre></td></tr></table></figure></li></ul></blockquote><p>æ£€æŸ¥ä¸€ä¸‹ï¼Œæ˜¯å¦æˆåŠŸï¼š</p><p>â€‹ æˆ‘ä»¬ç”¨<code>git remote -v</code>æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªè¿œç¨‹åº“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">giteegit@gitee.com:longlongqin&#x2F;LearnGit.git (fetch)</span><br><span class="line">giteegit@gitee.com:longlongqin&#x2F;LearnGit.git (push)</span><br><span class="line">githubgit@github.com:longlongqin&#x2F;LearnGit.git (fetch)</span><br><span class="line">githubgit@github.com:longlongqin&#x2F;LearnGit.git (push)</span><br></pre></td></tr></table></figure><p>æˆåŠŸã€‚</p><h2 id="å–æ¶ˆå…³è”è¿œç¨‹ä»“åº“ï¼š"><a href="#å–æ¶ˆå…³è”è¿œç¨‹ä»“åº“ï¼š" class="headerlink" title="å–æ¶ˆå…³è”è¿œç¨‹ä»“åº“ï¼š"></a>å–æ¶ˆå…³è”è¿œç¨‹ä»“åº“ï¼š</h2><p>åœ¨<strong><em>å…³è”è¿œç¨‹ä»“åº“</em></strong>ä¸€èŠ‚ä¸­ï¼Œå…³è”è¿œç¨‹ä»“åº“ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å–æ¶ˆä»¥ç»å…³è”çš„è¿œç¨‹ä»“åº“ï¼Œè®©ä»–ä»¬å–æ¶ˆå…³è”ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rm &lt;è¦å–æ¶ˆå…³è”çš„è¿œç¨‹ä»“åº“çš„åå­—&gt;</span><br></pre></td></tr></table></figure><h1 id="æ—¶å…‰ç©¿æ¢­æœº"><a href="#æ—¶å…‰ç©¿æ¢­æœº" class="headerlink" title="æ—¶å…‰ç©¿æ¢­æœº"></a>æ—¶å…‰ç©¿æ¢­æœº</h1><h2 id="æ’¤é”€ä¿®æ”¹"><a href="#æ’¤é”€ä¿®æ”¹" class="headerlink" title="æ’¤é”€ä¿®æ”¹"></a>æ’¤é”€ä¿®æ”¹</h2><blockquote><p>1ã€<strong>æ²¡æœ‰<code>git add</code>æ—¶</strong>ï¼ˆå³ï¼Œå¯¹æ–‡ä»¶åšäº†ä¿®æ”¹ï¼Œä½†æ˜¯æ²¡æ·»åŠ åˆ°æš‚å­˜åŒºï¼‰ï¼š==ç”¨<code>git checkout -- &lt;file&gt;</code> (==fileå‰é¢æœ‰ä¸€ä¸ª<strong>ç©ºæ ¼</strong>)</p><p>2ã€<strong>å·²ç»<code>git add</code>æ—¶</strong>ï¼ˆå³ï¼Œå¯¹æ–‡ä»¶åšäº†ä¿®æ”¹ï¼Œå¹¶ä¸”æ·»åŠ åˆ°æš‚å­˜åŒºï¼‰ï¼š</p><ul><li>å…ˆ<code>git reset HEAD &lt;file&gt;</code>æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼Œå³ï¼šå›é€€åˆ°æ²¡æœ‰git addæ—¶çš„çŠ¶æ€</li><li>ç„¶åï¼Œå†<code>git checkout -- &lt;file&gt;</code>ã€‚</li></ul><p>3ã€<strong>å·²ç»<code>git commit</code>æ—¶</strong>ï¼ˆå³ï¼Œå¯¹æ–‡ä»¶åšäº†ä¿®æ”¹ï¼Œä¸ä»…æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œè€Œä¸”è¿˜æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­äº†ï¼‰ï¼šè¿›è¡Œ==<strong>ç‰ˆæœ¬å›é€€</strong>==</p></blockquote><h2 id="ç‰ˆæœ¬å›é€€"><a href="#ç‰ˆæœ¬å›é€€" class="headerlink" title="ç‰ˆæœ¬å›é€€"></a>ç‰ˆæœ¬å›é€€</h2><p>ç‰ˆæœ¬ä¹‹é—´çš„åˆ‡æ¢ï¼Œ<strong>ç‰ˆæœ¬</strong>æŒ‡çš„æ˜¯<code>git commit</code>ä¹‹åå¸¦æœ‰å“ˆå¸Œå€¼çš„çŠ¶æ€ã€‚</p><p><strong>ç‰ˆæœ¬å›é€€</strong>ï¼š</p><ul><li><p><code>git reset --hard commit_id</code> å¯ä»¥å›é€€åˆ°ç‰ˆæœ¬å·ä¸ºcommit_idçš„é‚£ä¸ªç‰ˆæœ¬ã€‚</p></li><li><p><code>git reset --hard head^</code> å›é€€åˆ°å½“å‰ç‰ˆæœ¬çš„ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚</p></li></ul><p><strong>è½¬å›åˆ°æ–°ç‰ˆæœ¬</strong>ï¼š</p><p>å› ä¸º<code>git log</code>æ˜¾ç¤ºçš„æ˜¯ä»æ­¤åˆ»<code>headæŒ‡é’ˆ</code>æ‰€åœ¨çš„çŠ¶æ€åˆ°ä¹‹å‰çš„çŠ¶æ€çš„æäº¤æ—¥å¿—ã€‚è€Œ<code>git reflog</code>ç”¨æ¥è®°å½•ä½ çš„æ¯ä¸€æ¬¡å‘½ä»¤ã€‚</p><p>æ‰€ä»¥è½¬å›åˆ°æ¯”å½“å‰æ‰€åœ¨çš„çŠ¶æ€è¦æ–°çš„çŠ¶æ€éœ€è¦ï¼š</p><ol><li><code>git reflog</code>,æ‰¾åˆ°ä½ æƒ³è¦å›å»çš„é‚£ä¸ªè¾ƒæ–°çš„çŠ¶æ€çš„commit çš„id</li><li><code>git reset --hard &lt;commit_id&gt;</code> å›åˆ°æƒ³è¦å›å™¨çš„é‚£ä¸ªç‰ˆæœ¬ã€‚</li></ol><h1 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h1><ul><li><code>rm &lt;file&gt;</code>ä»å·¥ä½œåŒºä¸­åˆ é™¤æ–‡ä»¶ï¼ˆå’Œæ‰‹åŠ¨åˆ é™¤æ–‡ä»¶æ•ˆæœä¸€æ ·ã€‚ï¼‰</li></ul><p><code>git rm &lt;file&gt;</code>å°†æ–‡ä»¶ä»å·¥ä½œåŒºåˆ é™¤ï¼Œå¹¶ä¸”è¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼ˆå³ï¼ŒæŠŠåˆ é™¤çš„è¿™ä¸ªçŠ¶æ€åŒæ­¥åˆ°æš‚å­˜åŒºäº†ï¼‰ã€‚</p><p>[^å°æç¤º]: å…ˆæ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨git rm<file>å’Œgit add<file>æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</file></file></p><h1 id="è¿œç¨‹ä»“åº“"><a href="#è¿œç¨‹ä»“åº“" class="headerlink" title="è¿œç¨‹ä»“åº“"></a>è¿œç¨‹ä»“åº“</h1><h2 id="æ·»åŠ è¿œç¨‹ä»“åº“ï¼š"><a href="#æ·»åŠ è¿œç¨‹ä»“åº“ï¼š" class="headerlink" title="æ·»åŠ è¿œç¨‹ä»“åº“ï¼š"></a>æ·»åŠ è¿œç¨‹ä»“åº“ï¼š</h2><blockquote><p>å…³è”ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼š<code>git remote add origin git@github.com:path/repo-name.git</code></p><p>å…³è”åï¼Œ<strong>ç¬¬ä¸€æ¬¡</strong>æ¨é€masteråˆ†æ”¯çš„æ‰€æœ‰å†…å®¹ï¼š<code>git push origin master</code></p></blockquote><h2 id="è¿œç¨‹ä»“åº“å…‹éš†ï¼š"><a href="#è¿œç¨‹ä»“åº“å…‹éš†ï¼š" class="headerlink" title="è¿œç¨‹ä»“åº“å…‹éš†ï¼š"></a>è¿œç¨‹ä»“åº“å…‹éš†ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone &lt;ä½ æƒ³è¦å…‹éš†å†…å®¹çš„å…¬å¼€å¯†é’¥çš„å¯†ç &gt;</span><br></pre></td></tr></table></figure><p>å…¬å¼€çš„å¯†é’¥å¯†ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200218130632774.png" alt="image-20200218130632774"></p><h1 id="åˆ†æ”¯ç®¡ç†"><a href="#åˆ†æ”¯ç®¡ç†" class="headerlink" title="åˆ†æ”¯ç®¡ç†"></a>åˆ†æ”¯ç®¡ç†</h1><h2 id="åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ï¼š"><a href="#åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ï¼š" class="headerlink" title="åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ï¼š"></a>åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ï¼š</h2><ul><li><p><strong>æŸ¥çœ‹åˆ†æ”¯</strong>ï¼š<code>git branch</code></p></li><li><p><strong>æ–°å»ºåˆ†æ”¯</strong>ï¼š<code>git branch &lt;name&gt;</code></p></li><li><p><strong>åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</strong>ï¼š<code>git checkout -b &lt;name&gt;</code> or <code>git switch -c &lt;name&gt;</code></p></li><li><p><strong>åˆ‡æ¢åˆ†æ”¯</strong>ï¼š<code>git checkout &lt;name&gt;</code> or <code>git switch &lt;name&gt;</code></p></li><li><p><strong>åˆ é™¤åˆ†æ”¯</strong>ï¼š<code>git branch -d &lt;name&gt;</code><em>ä¸èƒ½åˆ é™¤å½“å‰æ‰€åœ¨çš„åˆ†æ”¯</em></p></li><li><p><strong>åˆå¹¶åˆ†æ”¯</strong>ï¼š<code>git merge &lt;name&gt;</code> <em>ç”¨äºåˆå¹¶åˆ†æ”¯åˆ°<strong>å½“å‰</strong>åˆ†æ”¯</em></p></li></ul><blockquote><p><code>git merge --no-ff &lt;name&gt;</code> å…¶ä¸­å‚æ•°â€“no-ffï¼šè¡¨ç¤ºåœ¨å†å²è®°å½•ä¸­æ˜ç¡®è®°å½•ä¸‹æœ¬æ¬¡åˆ†æ”¯åˆå¹¶ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šè¾“å…¥æ­¤å‘½ä»¤ä¹‹åï¼Œä¼šå¯åŠ¨ç¼–è¾‘å™¨ï¼Œç”¨äºå½•å…¥åˆå¹¶æäº¤çš„ä¿¡æ¯ã€‚</p></blockquote><h2 id="è§£å†³å†²çªï¼š"><a href="#è§£å†³å†²çªï¼š" class="headerlink" title="è§£å†³å†²çªï¼š"></a>è§£å†³å†²çªï¼š</h2><p>å½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚</p><p>è§£å†³å†²çªå°±æ˜¯æŠŠGitåˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤ã€‚</p><p>ç”¨<code>git log --graph</code>å‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ã€‚</p><h2 id="åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼š"><a href="#åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼š" class="headerlink" title="åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼š"></a>åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼š</h2><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼š</p><p>é¦–å…ˆï¼Œ<code>master</code>åˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼›</p><p>é‚£åœ¨å“ªå¹²æ´»å‘¢ï¼Ÿå¹²æ´»éƒ½åœ¨<code>dev</code>åˆ†æ”¯ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>dev</code>åˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ï¼Œåˆ°æŸä¸ªæ—¶å€™ï¼Œæ¯”å¦‚1.0ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå†æŠŠ<code>dev</code>åˆ†æ”¯åˆå¹¶åˆ°<code>master</code>ä¸Šï¼Œåœ¨<code>master</code>åˆ†æ”¯å‘å¸ƒ1.0ç‰ˆæœ¬ï¼›</p><p>ä½ å’Œä½ çš„å°ä¼™ä¼´ä»¬æ¯ä¸ªäººéƒ½åœ¨<code>dev</code>åˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åˆ†æ”¯ï¼Œæ—¶ä¸æ—¶åœ°å¾€<code>dev</code>åˆ†æ”¯ä¸Šåˆå¹¶å°±å¯ä»¥äº†ã€‚</p><p>æ‰€ä»¥ï¼Œå›¢é˜Ÿåˆä½œçš„åˆ†æ”¯çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/0.png" alt="0"></p><p>å°ç»“ï¼š</p><p>Gitåˆ†æ”¯ååˆ†å¼ºå¤§ï¼Œåœ¨å›¢é˜Ÿå¼€å‘ä¸­åº”è¯¥å……åˆ†åº”ç”¨ã€‚</p><p>åˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Š<code>--no-ff</code>å‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯ï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œ<code>fast forward</code>åˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚</p><h2 id="åˆå¹¶åˆ†æ”¯çš„ä¸¤ç§æ–¹å¼ï¼š"><a href="#åˆå¹¶åˆ†æ”¯çš„ä¸¤ç§æ–¹å¼ï¼š" class="headerlink" title="åˆå¹¶åˆ†æ”¯çš„ä¸¤ç§æ–¹å¼ï¼š"></a>åˆå¹¶åˆ†æ”¯çš„ä¸¤ç§æ–¹å¼ï¼š</h2><p><strong>git çš„ <code>merge</code> ä¸ <code>merge no-ff</code> çš„ä¸åŒä¹‹å¤„</strong>ï¼š <code>no-ff merge</code>å¯ä»¥çœ‹åˆ°åˆå¹¶å†å²ã€‚</p><blockquote><ol><li><p>æ–°å»ºåˆ†æ”¯<code>dev1</code>ï¼Œä¿®æ”¹<code>readme.txt</code>ï¼Œç„¶ååœ¨<code>dev1</code>åˆ†æ”¯ä¸‹<code>git add readme.txt</code> <code>git commit -m &quot;dev1 branch commit&quot;</code></p></li><li><p>å›åˆ°<code>master</code>åˆ†æ”¯ï¼Œæ‰§è¡Œmergeå³<code>git merge dev1</code></p></li><li><p>åˆ é™¤åˆ†æ”¯</p></li><li><p>æŸ¥çœ‹æ—¥å¿—å³<code>git log --graph --pretty=oneline --abbrev-commit</code></p></li><li><p>æ–°å»ºåˆ†æ”¯<code>dev2</code>ï¼Œä¿®æ”¹<code>readme.txt</code>ï¼Œç„¶ååœ¨<code>dev2</code>åˆ†æ”¯ä¸‹<code>git add readme.txt</code> <code>git commit -m &quot;dev2 branch commit&quot;</code></p></li><li><p>å›åˆ°<code>master</code>åˆ†æ”¯ï¼Œæ‰§è¡Œmergeå³<code>git merge --no-ff -m &quot;dev2 merged with mo-ff&quot; dev2</code></p></li><li><p>åˆ é™¤åˆ†æ”¯</p></li><li><p>æŸ¥çœ‹æ—¥å¿—å³<code>git log --graph --pretty=oneline --abbrev-commit</code></p></li><li><p>æ¯”è¾ƒä¸¤æ¬¡åˆå¹¶ï¼Œå¯ä»¥çœ‹å‡ºä¸åŒä¹‹å¤„ï¼Œ<code>no-ff</code>çš„æ¨¡å¼ä¼šè®°å½•åˆ†æ”¯å†å²ã€</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://app.yinxiang.com/FileSharing.action?hash=1/792dd8c14a3b3fed2cf0044d82d01671-16494" alt="img"></p></li></ol></blockquote><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ£€æŸ¥ Git çš„æŸä¸€é¡¹é…ç½®ï¼š</span></span><br><span class="line">git <span class="built_in">config</span>  &lt;key&gt; </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/1576832423904.png" alt="1576832423904"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ—å‡ºæ‰€æœ‰ Git å½“æ—¶èƒ½æ‰¾åˆ°çš„é…ç½®ï¼š</span></span><br><span class="line"> git <span class="built_in">config</span> --<span class="built_in">list</span> </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/1576832563424.png" alt="1576832563424"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–å¸®åŠ©ï¼š3ç§æ–¹æ³•</span></span><br><span class="line">$ git help &lt;verb&gt;</span><br><span class="line">$ git &lt;verb&gt; --help</span><br><span class="line">$ man git-&lt;verb&gt;</span><br></pre></td></tr></table></figure></blockquote><h1><a href="#" class="headerlink" title="###############################################"></a>###############################################</h1><h1 id="Git-å…¶ä»–æŒ‡ä»¤ï¼š"><a href="#Git-å…¶ä»–æŒ‡ä»¤ï¼š" class="headerlink" title="Git å…¶ä»–æŒ‡ä»¤ï¼š"></a>Git å…¶ä»–æŒ‡ä»¤ï¼š</h1><h2 id="æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€statusï¼š"><a href="#æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€statusï¼š" class="headerlink" title="æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€statusï¼š"></a>æŸ¥çœ‹<code>å·¥ä½œåŒº</code>çŠ¶æ€<code>status</code>ï¼š</h2><p><code>git status</code>æŸ¥çœ‹çš„æ˜¯å·¥ä½œåŒºçš„çŠ¶æ€ã€‚</p><blockquote><p><code>git diff</code> æŸ¥çœ‹å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„åŒºåˆ«ã€‚</p><p><code>git diff head</code>æŸ¥çœ‹å·¥ä½œåŒºä¸æœ¬åœ°ä»“åº“çš„åŒºåˆ«ã€‚</p></blockquote><h2 id="æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š"><a href="#æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š"></a>æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;name&gt;</span><br></pre></td></tr></table></figure><h2 id="æäº¤ï¼š"><a href="#æäº¤ï¼š" class="headerlink" title="æäº¤ï¼š"></a>æäº¤ï¼š</h2><h3 id="å·¥ä½œåŒºæäº¤åˆ°æš‚å­˜åŒºï¼š"><a href="#å·¥ä½œåŒºæäº¤åˆ°æš‚å­˜åŒºï¼š" class="headerlink" title="å·¥ä½œåŒºæäº¤åˆ°æš‚å­˜åŒºï¼š"></a>å·¥ä½œåŒºæäº¤åˆ°æš‚å­˜åŒºï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add &quot;filename&quot;</span><br></pre></td></tr></table></figure><h3 id="æš‚å­˜åŒºæäº¤åˆ°æœ¬åœ°ä»“åº“ï¼š"><a href="#æš‚å­˜åŒºæäº¤åˆ°æœ¬åœ°ä»“åº“ï¼š" class="headerlink" title="æš‚å­˜åŒºæäº¤åˆ°æœ¬åœ°ä»“åº“ï¼š"></a>æš‚å­˜åŒºæäº¤åˆ°æœ¬åœ°ä»“åº“ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;message&quot; &#x2F;&#x2F;messageæ˜¯å¯¹æ­¤æ¬¡æäº¤çš„ä¸€ä¸ªè¯´æ˜è¯­å¥</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit</span><br><span class="line">&#x2F;&#x2F;æ­¤å‘½ä»¤å¯ä»¥æ›´åŠ è¯¦ç»†çš„è®°è¿°æäº¤ä¿¡æ¯ï¼ˆè¿è¡Œæ­¤å‘½ä»¤åï¼Œä¼šè‡ªåŠ¨æ‰“å¼€Gitè®¾ç½®å¥½çš„ç¼–è¾‘å™¨ï¼‰</span><br></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œæ­¤å‘½ä»¤åï¼Œç¼–è¾‘å™¨å°±ä¼šå¯åŠ¨ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Please enter the commit message for your changes. Lines starting</span><br><span class="line"># with &#39;#&#39; will be ignored, and an empty message aborts the commit.</span><br><span class="line">#</span><br><span class="line"># On branch dev</span><br><span class="line"># Changes to be committed:</span><br><span class="line">#modified:   readme.txt</span><br><span class="line">#</span><br></pre></td></tr></table></figure><p>åœ¨ç¼–è¾‘å™¨ä¸­è®°è¿°æäº¤ä¿¡æ¯çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><p>â— ç¬¬ä¸€è¡Œï¼šç”¨ä¸€è¡Œæ–‡å­—ç®€è¿°æäº¤çš„æ›´æ”¹å†…å®¹</p><p>â— ç¬¬äºŒè¡Œï¼šç©ºè¡Œ</p><p>â— ç¬¬ä¸‰è¡Œä»¥åï¼šè®°è¿°æ›´æ”¹çš„åŸå› å’Œè¯¦ç»†å†…å®¹</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200218142052540.png" alt="image-20200218142052540"></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend :ä¿®æ”¹ä¸Šä¸€æ¡æäº¤æ—¶å†™çš„ä¿¡æ¯</span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°ä»“åº“æäº¤-æ¨é€-åˆ°è¿œç¨‹ä»“åº“ï¼š"><a href="#æœ¬åœ°ä»“åº“æäº¤-æ¨é€-åˆ°è¿œç¨‹ä»“åº“ï¼š" class="headerlink" title="æœ¬åœ°ä»“åº“æäº¤(æ¨é€)åˆ°è¿œç¨‹ä»“åº“ï¼š"></a>æœ¬åœ°ä»“åº“æäº¤(æ¨é€)åˆ°è¿œç¨‹ä»“åº“ï¼š</h3><center>git push</center><p><strong>æƒ…å†µä¸€ï¼š</strong></p><p>æ³¨æ„ï¼Œåˆ†æ”¯æ¨é€é¡ºåºçš„å†™æ³•æ˜¯&lt;æ¥æºåœ°&gt;:&lt;ç›®çš„åœ°&gt;ï¼Œæ‰€ä»¥git pullæ˜¯&lt;è¿œç¨‹åˆ†æ”¯&gt;:&lt;æœ¬åœ°åˆ†æ”¯&gt;ï¼Œè€Œgit pushæ˜¯&lt;æœ¬åœ°åˆ†æ”¯&gt;:&lt;è¿œç¨‹åˆ†æ”¯&gt;ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;è¿œç¨‹ä»“åº“å&gt; &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt;</span><br></pre></td></tr></table></figure><p><strong>æƒ…å†µäºŒï¼šï¼ˆæ¨èï¼‰</strong></p><p>å¦‚æœçœç•¥è¿œç¨‹åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€ä¸ä¹‹å­˜åœ¨â€è¿½è¸ªå…³ç³»â€çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;è¿œç¨‹ä»“åº“åå­—&gt; &lt;å°†æœ¬åœ°çš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼ˆæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„åå­—ä¸€æ ·ï¼‰&gt;</span><br><span class="line"></span><br><span class="line">å¦‚ï¼šgit push origin master</span><br><span class="line">ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼Œå°†æœ¬åœ°çš„masteråˆ†æ”¯æ¨é€åˆ°originä¸»æœºçš„masteråˆ†æ”¯ã€‚å¦‚æœåè€…ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚</span><br></pre></td></tr></table></figure><p><strong>æƒ…å†µä¸‰ï¼š</strong></p><p>ä¸‹é¢å‘½ä»¤å°†æœ¬åœ°çš„<code>master</code>åˆ†æ”¯æ¨é€åˆ°<code>origin</code>è¿œç¨‹ä»“åº“ï¼ŒåŒæ—¶æŒ‡å®š<code>origin</code>ä¸ºé»˜è®¤ä»“åº“ï¼Œåé¢å°±å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ä½¿ç”¨<code>git push</code>äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u &lt;è¿œç¨‹ä»“åº“åå­—&gt; &lt;å°†æœ¬åœ°çš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼ˆæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„åå­—ä¸€æ ·ï¼‰&gt;</span><br></pre></td></tr></table></figure><p><strong>æƒ…å†µå››ï¼š</strong></p><p>å¦‚æœçœç•¥æœ¬åœ°åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºåˆ é™¤æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ï¼Œå› ä¸ºè¿™ç­‰åŒäºæ¨é€ä¸€ä¸ªç©ºçš„æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push origin :&lt;è¿œç¨‹åˆ†æ”¯&gt;</span><br><span class="line"></span><br><span class="line"># ç­‰åŒäº:git push origin --<span class="keyword">delete</span> master</span><br></pre></td></tr></table></figure><h2 id="è·å–æœ€æ–°çš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼š"><a href="#è·å–æœ€æ–°çš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼š" class="headerlink" title="è·å–æœ€æ–°çš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼š"></a>è·å–æœ€æ–°çš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ï¼š</h2><p>åŠ å…¥åœ¨è¿œç¨‹ä»“åº“ä¸­çš„ä¸€ä¸ªåˆ†æ”¯ä¸­çš„å†…å®¹æ›´æ–°äº†ï¼Œè€Œæœ¬åœ°çš„è¿™ä¸ªåˆ†æ”¯ï¼ˆå’Œè¿œç¨‹çš„è¿™ä¸ªåˆ†æ”¯åå­—ç›¸åŒï¼‰ä¸æ˜¯æœ€æ–°çš„ï¼Œå¯ä»¥ç”¨<code>git pull</code>æ¥åŒæ­¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;è¿œç¨‹ä»“åº“å&gt; &lt;éœ€è¦æ›´æ–°çš„åˆ†æ”¯ï¼ˆè¿™ä¸ªåˆ†æ”¯åï¼šæœ¬åœ°çš„å’Œè¿œç¨‹çš„åå­—ä¸€æ ·ï¼‰&gt;</span><br></pre></td></tr></table></figure><p>å¦‚ï¼š</p><p><code>git pull origin feature-D</code>ï¼Œè¡¨ç¤ºï¼šä»è¿œç¨‹ä»“åº“<code>origin</code>ä¸­çš„â€œ<code>feature-D</code>â€åˆ†æ”¯è¿›è¡Œå¯¹æœ¬åœ°çš„åˆ†æ”¯â€œ<code>feature-D</code>â€æ›´æ–°ã€‚</p><h2 id="æŸ¥çœ‹æäº¤å†å²ï¼š"><a href="#æŸ¥çœ‹æäº¤å†å²ï¼š" class="headerlink" title="æŸ¥çœ‹æäº¤å†å²ï¼š"></a>æŸ¥çœ‹æäº¤å†å²ï¼š</h2><ul><li><p><code>git log</code> æŸ¥çœ‹æäº¤ï¼ˆcommitï¼‰å†å²ï¼ˆä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ï¼‰ã€‚</p><p>â€‹ å¦‚æœå«Œè¾“å‡ºä¿¡æ¯å¤ªå¤šï¼Œçœ‹å¾—çœ¼èŠ±ç¼­ä¹±çš„ï¼Œå¯ä»¥è¯•è¯•åŠ ä¸Š<code>--pretty=oneline</code>å‚æ•°ï¼Œå³ï¼š<code>git log --pretty=oneline</code></p></li></ul><blockquote><ul><li><p><code>git log &lt;filename&gt;</code> ï¼šæ˜¾ç¤ºç‰¹å®šæ–‡ä»¶(filename)çš„æäº¤å†å²</p></li><li><p><code>git log -p</code> ï¼šæ–‡ä»¶çš„å‰åå·®åˆ«å°±ä¼šæ˜¾ç¤ºåœ¨æäº¤ä¿¡æ¯ä¹‹å</p></li><li><p><code>git log -p &lt;filename&gt;</code> ï¼šåªæŸ¥çœ‹ â€œfilenameâ€æ–‡ä»¶çš„æäº¤æ—¥ å¿—ä»¥åŠæäº¤å‰åçš„å·®åˆ«ã€‚</p></li><li><p><code>git log --graph</code>ï¼šä»¥å›¾è¡¨å½¢å¼æŸ¥çœ‹åˆ†æ”¯ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼š</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200222002143874.png" alt="image-20200222002143874"></p></blockquote><ul><li><code>git reflog</code> æŸ¥çœ‹å†å²çš„æ¯ä¸€æ¬¡çš„å‘½ä»¤ï¼ˆä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ï¼‰ã€‚</li></ul><h2 id="è‡ªå®šä¹‰Git"><a href="#è‡ªå®šä¹‰Git" class="headerlink" title="è‡ªå®šä¹‰Git:"></a>è‡ªå®šä¹‰Git:</h2><h3 id="ä¿®æ”¹GITé»˜è®¤ç¼–è¾‘å™¨ï¼š"><a href="#ä¿®æ”¹GITé»˜è®¤ç¼–è¾‘å™¨ï¼š" class="headerlink" title="ä¿®æ”¹GITé»˜è®¤ç¼–è¾‘å™¨ï¼š"></a>ä¿®æ”¹GITé»˜è®¤ç¼–è¾‘å™¨ï¼š</h3><p>GITé»˜è®¤ç¼–è¾‘å™¨ä¸ºViï¼Œå‡å¦‚æˆ‘æƒ³ç”¨<code>Notepad++</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitconfig--globalcore.editor&quot;Notepad++&quot;&#x2F;&#x2F;è®¾ç½®Editorä½¿ç”¨Notepad++</span><br></pre></td></tr></table></figure><h3 id="Gitæ˜¾ç¤ºé¢œè‰²ï¼š"><a href="#Gitæ˜¾ç¤ºé¢œè‰²ï¼š" class="headerlink" title="Gitæ˜¾ç¤ºé¢œè‰²ï¼š"></a>Gitæ˜¾ç¤ºé¢œè‰²ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global color.ui true</span><br></pre></td></tr></table></figure><h1 id="-1"><a href="#-1" class="headerlink" title="##################################################"></a>##################################################</h1><h1 id="å­¦ä¹ å»–é›ªå³°æ•™å­¦ä¸­çš„é—®é¢˜ï¼š"><a href="#å­¦ä¹ å»–é›ªå³°æ•™å­¦ä¸­çš„é—®é¢˜ï¼š" class="headerlink" title="å­¦ä¹ å»–é›ªå³°æ•™å­¦ä¸­çš„é—®é¢˜ï¼š"></a>å­¦ä¹ å»–é›ªå³°æ•™å­¦ä¸­çš„é—®é¢˜ï¼š</h1><p>1ã€ä¸æ•™å­¦æ­¥éª¤ä¸­çš„å‘½ä»¤åŒºåˆ«äºï¼šâ€œâ€“â€</p><p>ï¼ˆ1ï¼‰<code>git diff head --readme.txt</code>ï¼š</p><p>é—®é¢˜ï¼šåœ¨æˆ‘è‡ªå·±ç”µè„‘ä¸Šé¢è¿è¡Œæ²¡ååº”ï¼Ÿ</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200112221142249.png" alt="image-20200112221142249"></p><p><strong>è§£å†³ï¼š</strong></p><p>è¿è¡Œ<code>ï¼šgit diff head readme.txt</code>,å³å»æ‰é‚£ä¸ªâ€œâ€“â€ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200112221407621.png" alt="image-20200112221407621"></p><p>ï¼ˆ2ï¼‰<code>git checkout --readme.txt</code></p><p>é—®é¢˜ï¼šåœ¨äºæˆ‘çš„ç”µè„‘ä¸Šå¤šäº†â€œâ€“â€ä¼šè¿è¡Œå¤±è´¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200112222013881.png" alt="image-20200112222013881"></p><p>è§£å†³ï¼šå»æ‰â€œâ€“â€ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200112222046360.png" alt="image-20200112222046360"></p><hr><h1 id="GitHubä½¿ç”¨æŠ€å·§"><a href="#GitHubä½¿ç”¨æŠ€å·§" class="headerlink" title="GitHubä½¿ç”¨æŠ€å·§"></a><a href="https://www.zhihu.com/question/20084458" target="_blank" rel="noopener">GitHubä½¿ç”¨æŠ€å·§</a></h1><h2 id="æœç´¢ï¼š"><a href="#æœç´¢ï¼š" class="headerlink" title="æœç´¢ï¼š"></a>æœç´¢ï¼š</h2><h3 id="1ï¼‰ã€åœ¨ä¸åŒåœ°æ–¹æœç´¢"><a href="#1ï¼‰ã€åœ¨ä¸åŒåœ°æ–¹æœç´¢" class="headerlink" title="1ï¼‰ã€åœ¨ä¸åŒåœ°æ–¹æœç´¢"></a>1ï¼‰ã€åœ¨ä¸åŒåœ°æ–¹æœç´¢</h3><h4 id="1ã€æŒ‰ç…§nameæœç´¢"><a href="#1ã€æŒ‰ç…§nameæœç´¢" class="headerlink" title="1ã€æŒ‰ç…§nameæœç´¢"></a>1ã€<strong>æŒ‰ç…§<code>name</code>æœç´¢</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:name &lt;something&gt;    &#x2F;&#x2F;å‡è®¾æƒ³æœç´¢çš„ä¸œè¥¿å«ï¼šsomething</span><br></pre></td></tr></table></figure><h4 id="2ã€æŒ‰ç…§readmeæœç´¢"><a href="#2ã€æŒ‰ç…§readmeæœç´¢" class="headerlink" title="2ã€æŒ‰ç…§readmeæœç´¢"></a>2ã€æŒ‰ç…§<code>readme</code>æœç´¢</h4><p>ä¹Ÿå¯ä»¥æŒ‰ç…§<code>readme.md</code>ä¸­åŒ…å«<something>çš„æŸ¥æ‰¾é¡¹ç›®ï¼š</something></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:readme &lt;something&gt;   &#x2F;&#x2F;å‡è®¾æƒ³æœç´¢çš„ä¸œè¥¿å«ï¼šsomething</span><br></pre></td></tr></table></figure><h4 id="3ã€æŒ‰ç…§descriptinæœç´¢"><a href="#3ã€æŒ‰ç…§descriptinæœç´¢" class="headerlink" title="3ã€æŒ‰ç…§descriptinæœç´¢"></a>3ã€æŒ‰ç…§<code>descriptin</code>æœç´¢</h4><p>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å­¦ä¹ <something>çš„é¡¹ç›®ï¼Œæˆ‘ä»¬æœç´¢é¡¹ç›®æè¿°(description)é‡Œé¢åŒ…å«<something>çš„é¡¹ç›®:</something></something></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:description &lt;something&gt;   &#x2F;&#x2F;å‡è®¾æƒ³æœç´¢çš„ä¸œè¥¿å«ï¼šsomething</span><br></pre></td></tr></table></figure><h4 id="4ã€ç›´æ¥æœç´¢"><a href="#4ã€ç›´æ¥æœç´¢" class="headerlink" title="4ã€ç›´æ¥æœç´¢"></a>4ã€ç›´æ¥æœç´¢</h4><p>ç›´æ¥åœ¨æœç´¢æ ä¸­æœç´¢ï¼šåŠ å…¥æƒ³æœç´¢ä¸<code>CJSON</code>æœ‰å…³çš„å†…å®¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200219151224327.png" alt="image-20200219151224327"></p><h3 id="2ï¼‰ã€æ·»åŠ çº¦æŸæ¡ä»¶"><a href="#2ï¼‰ã€æ·»åŠ çº¦æŸæ¡ä»¶" class="headerlink" title="2ï¼‰ã€æ·»åŠ çº¦æŸæ¡ä»¶"></a>2ï¼‰ã€æ·»åŠ çº¦æŸæ¡ä»¶</h3><h4 id="staræ•°é‡"><a href="#staræ•°é‡" class="headerlink" title="staræ•°é‡"></a><strong><code>star</code>æ•°é‡</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stars: &gt; 500     &#x2F;&#x2F; star æ•°é‡å¤§äº500çš„é¡¹ç›®</span><br><span class="line">stars: 10..20    &#x2F;&#x2F; star æ•°é‡åœ¨10-20ä¹‹é—´çš„ä»“åº“</span><br></pre></td></tr></table></figure><h4 id="forkæ•°é‡"><a href="#forkæ•°é‡" class="headerlink" title="forkæ•°é‡"></a><code>fork</code>æ•°é‡</h4><p>åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ç…§forkçš„æ•°é‡æ¥è¿›è¡Œæœç´¢:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:name React  forks:&gt;3000</span><br></pre></td></tr></table></figure><hr><h4 id="languageç¼–ç¨‹è¯­è¨€"><a href="#languageç¼–ç¨‹è¯­è¨€" class="headerlink" title="languageç¼–ç¨‹è¯­è¨€"></a><code>language</code>ç¼–ç¨‹è¯­è¨€</h4><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language:python   &#x2F;&#x2F;æ¯”å¦‚ï¼ŒæŠŠè¯­è¨€é™åˆ¶ä¸ºPython</span><br></pre></td></tr></table></figure><h4 id="ä»“åº“pushçš„æ—¶é—´"><a href="#ä»“åº“pushçš„æ—¶é—´" class="headerlink" title="ä»“åº“pushçš„æ—¶é—´"></a>ä»“åº“<code>push</code>çš„æ—¶é—´</h4><p>å‡å¦‚åœ¨è¿™äº›é¡¹ç›®é‡Œé¢ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾åˆ°æœ€è¿‘æ‰æ›´æ–°çš„é¡¹ç›®ï¼Œæ„æ€æ˜¯æ›´æ–°æ—¶é—´å°±åœ¨æœ€è¿‘ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pushed:&gt;2020-01-01  &#x2F;&#x2F;é¡¹ç›®çš„æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´é™åˆ¶åˆ°2020-01-01ä¹‹å</span><br></pre></td></tr></table></figure><hr><h4 id="ä»“åº“æŒæœ‰è€…"><a href="#ä»“åº“æŒæœ‰è€…" class="headerlink" title="ä»“åº“æŒæœ‰è€…"></a>ä»“åº“æŒæœ‰è€…</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userï¼š&lt;username&gt;</span><br></pre></td></tr></table></figure><h4 id="ä»“åº“å¤§å°"><a href="#ä»“åº“å¤§å°" class="headerlink" title="ä»“åº“å¤§å°"></a>ä»“åº“å¤§å°</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">size:&gt;&#x3D;5000 &#x2F;&#x2F; ä»“åº“å¤§äº5000KBçš„ä»“åº“</span><br></pre></td></tr></table></figure><h4 id="ä»“åº“createæ—¶é—´"><a href="#ä»“åº“createæ—¶é—´" class="headerlink" title="ä»“åº“createæ—¶é—´"></a>ä»“åº“<code>create</code>æ—¶é—´</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">created:&gt;2019-01-01     &#x2F;&#x2F; 2019å¹´ä»¥ååˆ›å»ºçš„ä»“åº“</span><br></pre></td></tr></table></figure><h4 id="licenseåè®®"><a href="#licenseåè®®" class="headerlink" title="licenseåè®®"></a><code>license</code>åè®®</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">license:apache-2.0  &#x2F;&#x2F; ä½¿ç”¨ apache-2.0 åè®®çš„ä»“åº“</span><br></pre></td></tr></table></figure><h4 id="ç»„ç»‡æœºæ„ä»£ç "><a href="#ç»„ç»‡æœºæ„ä»£ç " class="headerlink" title="ç»„ç»‡æœºæ„ä»£ç "></a>ç»„ç»‡æœºæ„ä»£ç </h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org:spring-cloud  &#x2F;&#x2F; åˆ—å‡ºorg çš„ spring-cloud  ä»“åº“</span><br></pre></td></tr></table></figure><h3 id="3ï¼‰ã€ç»„åˆæœç´¢"><a href="#3ï¼‰ã€ç»„åˆæœç´¢" class="headerlink" title="3ï¼‰ã€ç»„åˆæœç´¢"></a>3ï¼‰ã€ç»„åˆæœç´¢</h3><p>å°†1ï¼‰å’Œ2ï¼‰ä¸­å¯ä»¥éšæœºç»„åˆè¿›è¡Œç²¾ç¡®æœç´¢,æ¯”å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:description &lt;something&gt; language:python  &#x2F;&#x2F;å°†ç¼–ç¨‹è¯­è¨€é™åˆ¶ä¸ºpython</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:readme &lt;something&gt; stars:&gt;3000 forks:&gt;3000</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">in:description å¾®æœåŠ¡ language:python pushed:&gt;2020-01-01</span><br><span class="line">&#x2F;*pushed:&gt;2020-01-01çš„æ„æ€æ˜¯æˆ‘ä»¬æŠŠé¡¹ç›®çš„æœ€åæ›´æ–°æ—¶é—´é™åˆ¶åˆ°2020-01-01*&#x2F;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">in:name React  forks:&gt;3000</span><br></pre></td></tr></table></figure><p>ç­‰ç­‰</p><h2 id="å¥‡ç‰¹æœç´¢ï¼š"><a href="#å¥‡ç‰¹æœç´¢ï¼š" class="headerlink" title="å¥‡ç‰¹æœç´¢ï¼š"></a>å¥‡ç‰¹æœç´¢ï¼š</h2><h3 id="awesomeæœç´¢"><a href="#awesomeæœç´¢" class="headerlink" title="awesomeæœç´¢"></a><code>awesome</code>æœç´¢</h3><p><strong>1ã€awesome-awesomeæœç´¢</strong></p><p>ç›´æ¥ä½¿ç”¨<code>awesome-awesome</code>å¯ä»¥æœç´¢å‡ºå¾ˆå¤šä¼˜è´¨é¡¹ç›®ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awesome-awesome</span><br></pre></td></tr></table></figure><p><strong>2ã€<code>awesome name</code>æœç´¢</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awesome &lt;name&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LearnCpp chapterO</title>
      <link href="/archives/67343d3.html"/>
      <url>/archives/67343d3.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp chapterO</red></p></center><center><red>https://www.learncpp.com</red></center><p>æœªå®Œå¾…ç»­~~</p><a id="more"></a><h2 id="O-1-Bit-flags-and-bit-manipulation-via-std-bitset"><a href="#O-1-Bit-flags-and-bit-manipulation-via-std-bitset" class="headerlink" title="O.1 Bit flags and bit manipulation via std::bitset"></a>O.1 Bit flags and bit manipulation via std::bitset</h2><p>åœ¨ç°ä»£è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­ï¼Œæœ€å°çš„å¯å¯»å€å†…å­˜å•å…ƒæ˜¯<strong>å­—èŠ‚</strong>ã€‚ç”±äºæ‰€æœ‰å¯¹è±¡éƒ½éœ€è¦æœ‰å”¯ä¸€çš„å†…å­˜åœ°å€ï¼Œè¿™æ„å‘³ç€å¯¹è±¡çš„å¤§å°å¿…é¡»è‡³å°‘ä¸ºä¸€ä¸ªå­—èŠ‚ã€‚å¯¹äºå¤§å¤šæ•°å˜é‡ç±»å‹ï¼Œè¿™æ˜¯å¯ä»¥çš„ã€‚<strong>ç„¶è€Œï¼Œå¯¹äºå¸ƒå°”å€¼ï¼Œè¿™æœ‰ç‚¹æµªè´¹</strong>ã€‚å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ç§çŠ¶æ€:çœŸ(1)ï¼Œæˆ–å‡(0)ã€‚è¿™ä¸€ç»„çŠ¶æ€åªéœ€è¦å­˜å‚¨ä¸€ä½ã€‚ç„¶è€Œï¼Œå¦‚æœä¸€ä¸ªå˜é‡å¿…é¡»è‡³å°‘æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸€ä¸ªå­—èŠ‚æ˜¯8ä½ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªå¸ƒå°”å€¼ä½¿ç”¨1ä½ï¼Œè€Œå…¶ä»–7ä½ä¸ä½¿ç”¨ã€‚</p><hr><ul><li><p><strong>ä½æ“ä½œï¼šbit manipulation</strong></p><p>åœ¨å¯¹è±¡å†…éƒ¨ï¼Œä¿®æ”¹å•ä¸ªbitçš„è¿‡ç¨‹ï¼Œå«ä½æ“ä½œã€‚</p><blockquote><p>ä½æ“ä½œåœ¨åŠ å¯†å’Œå‹ç¼©ç®—æ³•ä¸­ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</p></blockquote></li><li><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡è§†ä¸ºå•ä¸ªä½çš„é›†åˆï¼Œè€Œä¸æ˜¯å°†å…¶è§†ä¸ºæŒæœ‰å•ä¸ªå€¼çš„å¯¹è±¡ã€‚å½“å¯¹è±¡çš„ä¸ªåˆ«ä½ç”¨ä½œå¸ƒå°”å€¼æ—¶ï¼Œè¿™äº›ä½ç§°ä¸º<strong>ä½æ ‡å¿—ï¼šbit flag</strong>ã€‚</p><blockquote><p>åœ¨è®¡ç®—ä¸­ï¼Œæ ‡å¿—æ˜¯ä½œä¸ºæŸä¸ªå‡½æ•°æˆ–è¿›ç¨‹çš„ä¿¡å·çš„å€¼ã€‚ç±»ä¼¼åœ°ï¼Œåœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œé‚®ç®±æ ‡å¿—ç”¨äºæŒ‡ç¤ºé‚®ç®±ä¸­æœ‰å†…å®¹ï¼Œå› æ­¤ä¸å¿…æ‰“å¼€é‚®ç®±è¿›è¡Œæ£€æŸ¥ã€‚</p></blockquote><p>ä¸ºäº†å®šä¹‰ä¸€ç»„ä½æ ‡å¿—ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨é€‚å½“å¤§å°çš„æ— ç¬¦å·æ•´æ•°(8ä½ã€16ä½ã€32ä½ç­‰ç­‰ï¼Œè¿™å–å†³äºæˆ‘ä»¬æœ‰å¤šå°‘ä¸ªæ ‡å¿—)ï¼Œæˆ–è€…std::bitsetã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt; //for std::bitset</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; mybitset &#123;&#125;; <span class="comment">//8 bits in size means room for 8 flags</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>ä½æ“ä½œ</strong>æ˜¯å°‘æ•°å‡ ç§<strong>åº”è¯¥æ˜ç¡®ä½¿ç”¨æ— ç¬¦å·æ•´æ•°(æˆ–std::bitset)çš„æ“ä½œ</strong>ä¹‹ä¸€ã€‚</p></blockquote></li></ul><hr><ul><li><p><strong>ä½ç¼–å·å’Œä½çš„ä½ç½®ï¼šBit numbering and bit positions</strong></p><p>ç»™å®šä¸€ä¸ªbits åºåˆ—ï¼Œé€šå¸¸ä»å³åˆ°å·¦å¼€å§‹è¿›è¡Œç¼–å·(ç¼–å·çš„å¼€å¤´æ˜¯0ï¼Œä¸æ˜¯1)ã€‚æ¯ä¸€ä¸ªæ•°å­—è¡¨ç¤ºä¸€ä¸ª<strong><em>bit positon</em>ï¼šä½çš„ä½ç½®</strong>ã€‚egï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">76543210  Bit position</span><br><span class="line">00000101  Bit sequence</span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>é€šè¿‡<code>std::bitset</code>æ“ä½œä½</strong></p><p>åœ¨ <a href="https://www.learncpp.com/cpp-tutorial/literals/" target="_blank" rel="noopener">4.12 â€“ Literals</a>ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨<code>std::bitset</code>æ¥è¾“å‡ºäºŒè¿›åˆ¶å½¢å¼çš„ç»“æœã€‚ç°åœ¨æˆ‘ä»¬æ¥ä»‹ç»<code>std::bitset</code>çš„å…¶ä»–åŠŸèƒ½ï¼š</p><p><code>std::bitset</code>æä¾›äº†4ä¸ªå…³é”®çš„åŠŸèƒ½ï¼Œå¯¹åšä½æ“ä½œå¾ˆæœ‰ç”¨:</p><ul><li><p><code>text()</code>ï¼šå…è®¸æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªä½æ˜¯0è¿˜æ˜¯1ï¼›</p></li><li><p><code>set()</code>ï¼šå…è®¸æˆ‘ä»¬å°†ä¸€ä¸ª ä½(bit)è®¾ç½®æˆ onï¼Œå³å°†å…¶è®¾ç½®ä¸º1ï¼›</p></li><li><p><code>reset()</code>ï¼šå…è®¸æˆ‘ä»¬å°†ä¸€ä¸ª ä½(bit)è®¾ç½®æˆ offï¼Œå³å°†å…¶è®¾ç½®ä¸º 0ï¼›</p></li><li><p><code>flip()</code>ï¼šå…è®¸æˆ‘ä»¬å°†ä¸€ä¸ª ä½(bit) ç”±0è®¾ç½®ä¸º1ï¼Œæˆ–è€…ç”±1è®¾ç½®ä¸º0ï¼›</p><blockquote><p>è¿™äº›å‡½æ•°ä¸­çš„æ¯ä¸€ä¸ªéƒ½å¸¦æœ‰ä¸€ä¸ªä½ä½ç½®å‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡ç¤ºæˆ‘ä»¬å°†è¦æ“ä½œçš„ä½ çš„ä½ç½®ã€‚</p></blockquote></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; bits&#123;<span class="number">0b0000'0101</span>&#125;; <span class="comment">//we need 8 bits, start with bit pattern 0000 0101</span></span><br><span class="line">    <span class="built_in">bit</span>.<span class="built_in">set</span>(<span class="number">3</span>); <span class="comment">//set bit position 3 to 1 (now we have 0000 1101)</span></span><br><span class="line">    <span class="built_in">bit</span>.flip(<span class="number">4</span>); <span class="comment">//flip bit 4(now we have 0001 1101)</span></span><br><span class="line">    <span class="built_in">bit</span>.reset(<span class="number">4</span>); <span class="comment">//set bit 4 back to 0 (now we have 0000 1101)</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"All the bits: "</span>&lt;&lt;bits&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"bit 3 has valude: "</span> &lt;&lt;<span class="built_in">bit</span>.test(<span class="number">3</span>) &lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>:;<span class="built_in">cout</span> &lt;&lt;<span class="string">"bit 4 has valud: "</span>&lt;&lt;<span class="built_in">bit</span>.test(<span class="number">4</span>) &lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********è¾“å‡ºç»“æœ********/</span></span><br><span class="line">All the bits: <span class="number">00001101</span></span><br><span class="line"><span class="built_in">bit</span> <span class="number">3</span> has valude: <span class="number">1</span></span><br><span class="line"><span class="built_in">bit</span> <span class="number">4</span> has valude: <span class="number">0</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="O-2-ä½æ“ä½œç¬¦"><a href="#O-2-ä½æ“ä½œç¬¦" class="headerlink" title="O.2 ä½æ“ä½œç¬¦"></a>O.2 ä½æ“ä½œç¬¦</h2><p>C++æä¾›äº†<strong>â€œä½æ“ä½œç¬¦(bitwise operator)â€</strong>ï¼š</p><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">left shift</td><td align="left">&lt;&lt;</td><td align="left">x &lt;&lt; y</td><td align="left">all bits in x shifted left y bits</td></tr><tr><td align="left">right shift</td><td align="left">&gt;&gt;</td><td align="left">x &gt;&gt; y</td><td align="left">all bits in x shifted right y bits</td></tr><tr><td align="left">bitwise NOT</td><td align="left">~</td><td align="left">~x</td><td align="left">all bits in x flipped</td></tr><tr><td align="left">bitwise AND</td><td align="left">&amp;</td><td align="left">x &amp; y</td><td align="left">each bit in x AND each bit in y</td></tr><tr><td align="left">bitwise OR</td><td align="left">|</td><td align="left">x | y</td><td align="left">each bit in x OR each bit in y</td></tr><tr><td align="left">bitwise XOR</td><td align="left">^</td><td align="left">x ^ y</td><td align="left">each bit in x XOR each bit in y</td></tr></tbody></table><blockquote><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä¸»è¦ä½¿ç”¨4ä½äºŒè¿›åˆ¶å€¼ã€‚è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿å’Œä¿æŒä¾‹å­ç®€å•ã€‚åœ¨å®é™…çš„ç¨‹åºä¸­ï¼Œä½¿ç”¨çš„ä½çš„æ•°é‡æ˜¯åŸºäºå¯¹è±¡çš„å¤§å°(ä¾‹å¦‚ï¼Œä¸€ä¸ª2å­—èŠ‚çš„å¯¹è±¡å°†å­˜å‚¨16ä½)ã€‚</p><p>ä¸ºäº†å¯è¯»æ€§ï¼Œæˆ‘ä»¬è¿˜å°†åœ¨ä»£ç ç¤ºä¾‹ä¹‹å¤–çœç•¥0bå‰ç¼€(ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨0101è€Œä¸æ˜¯0b0101)ã€‚</p></blockquote><hr><ul><li><p><strong>ä½æ“ä½œç¬¦ï¼š<code>&lt;&lt;</code>å·¦ç§»ã€<code>&gt;&gt;</code>å³ç§»</strong></p><p>æŒ‰ä½å·¦ç§»(&lt;&lt;)æ“ä½œç¬¦å°†ä½ç§»åˆ°å·¦è¾¹ã€‚å·¦æ“ä½œæ•°æ˜¯è¦ç§»ä½çš„ä½çš„è¡¨è¾¾å¼ï¼Œè€Œå³æ“ä½œæ•°æ˜¯è¦å·¦ç§»çš„ä½çš„æ•´æ•°ã€‚</p><blockquote><p>å¦‚ï¼š<code>x&lt;&lt;1</code>è¡¨ç¤ºï¼Œå°†å˜é‡xå·¦ç§»ä¸€ä¸ªä½ç½®ã€‚ä»å³è¾¹ç§»è¿›æ¥çš„æ–°ä½æ¥å—ä¸€ä¸ª å€¼0ã€‚</p><p>egï¼Œ</p><p><code>0011&lt;&lt;1</code> æ˜¯ 0110</p><p><code>0011&lt;&lt;2</code> æ˜¯ 1100</p><p><code>0011&lt;&lt;3</code> æ˜¯ 1000</p></blockquote><p>åŒç†ï¼ŒæŒ‰ä½å³ç§»(&gt;&gt;)æ“ä½œç¬¦åŸç†ä¹Ÿä¸€æ ·ï¼š</p><blockquote><p><code>1100&gt;&gt;1</code> æ˜¯ 0110</p><p><code>1100&gt;&gt;2</code> æ˜¯ 0011</p><p><code>1100&gt;&gt;3</code> æ˜¯ 0001</p></blockquote><hr><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;4&gt; x&#123;<span class="number">0b1100</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;x&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (x&gt;&gt;<span class="number">1</span>) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">//å³ç§»ä¸€ä¸ªä½ç½®ï¼Œç»“æœæ˜¯0110</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (x&lt;&lt;<span class="number">1</span>) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">//å·¦ç§»ä¸€ä¸ªä½ç½®ï¼Œç»“æœæ˜¯1000</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>ï¼›</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******ç»“æœ******/</span></span><br><span class="line"><span class="number">1100</span></span><br><span class="line"><span class="number">0110</span></span><br><span class="line"><span class="number">1000</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>ä½æ“ä½œï¼šNOT <code>~</code></strong></p><p>è¿™ä¸ªæ“ä½œç¬¦åŠŸèƒ½å°±æ˜¯å°†æ¯ä¸ªä½çš„æ•°ç”±0å˜ä¸º1ï¼Œæˆ–ç”±1å˜ä¸º0ï¼š</p><blockquote><p>å¦‚ï¼š<code>~0100</code> æ˜¯ 1011ï¼›<code>~0000 0100</code> æ˜¯ 1111 1011</p></blockquote><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œè™½ç„¶ï¼š0100 å’Œ000 0100æ˜¯ä¸€æ ·çš„ï¼Œå°±åƒåè¿›åˆ¶çš„7å’Œ07ä¸€æ ·ï¼›ä½†æ˜¯ç»è¿‡<code>~</code>æ“ä½œç¬¦ä¹‹åï¼Œå®ƒä»¬ä½æ•°ä¸ä¸€æ ·ï¼Œå°±ä¼šäº§ç”Ÿä¸ä¸€æ ·çš„ç»“æœã€‚</p></li></ul><hr><ul><li><p><strong>ä½æ“ä½œï¼šOR <code>|</code></strong></p><p>å®ƒçš„å½¢å¼æ˜¯å¯¹ä¸¤ä¸ªè¡¨è¾¾å¼è¿›è¡Œæ¯ä¸ªä½ä¸Šçš„æˆ–è¿ç®—ï¼Œå¦‚ï¼š<code>0b0101 | 0b0110</code>ã€‚æ›´åŠ ç›´è§‚çš„å½¢å¼ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 1 0 1 OR</span><br><span class="line">0 1 1 0</span><br><span class="line">---------   &#x2F;&#x2F;ç»“æœä¸º</span><br><span class="line">0 1 1 1</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (<span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123;<span class="number">0b0101</span>&#125; | <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123;<span class="number">0b0110</span>&#125;);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********ç»“æœ********/</span></span><br><span class="line"><span class="number">0111</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå¯è¿›è¡Œå¤šä¸ªè¡¨è¾¾å¼çš„è¿ç®—ï¼Œå¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0 1 1 1 OR</span><br><span class="line">0 0 1 1 OR</span><br><span class="line">0 0 0 1</span><br><span class="line">--------</span><br><span class="line">0 1 1 1</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åªè¦å¯¹åº”çš„åˆ—æœ‰1ï¼Œå®ƒçš„ç»“æœä¸­å¯¹åº”çš„é‚£ä¸€åˆ—å°±æ˜¯1</span><br></pre></td></tr></table></figure><p>å®ƒå†™æˆç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (<span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123; <span class="number">0b0111</span> &#125; | <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123; <span class="number">0b0011</span> &#125; | <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123; <span class="number">0b0001</span> &#125;);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********ç»“æœ*********/</span></span><br><span class="line"><span class="number">0111</span></span><br></pre></td></tr></table></figure></blockquote></li></ul><hr><ul><li><p><strong>ä½æ“ä½œï¼šAND <code>&amp;</code></strong></p><p>å®ƒçš„å½¢å¼ä¸ºï¼š<code>0b0101 &amp; 0b0110</code>,æ›´åŠ ç›´è§‚çš„å½¢å¼ï¼ˆä¹Ÿå¯ä»¥æœ‰å¤šä¸ªè¡¨è¾¾å¼ä¸€èµ·è¿ç®—ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 1 0 1 AND</span><br><span class="line">0 1 1 0</span><br><span class="line">--------</span><br><span class="line">0 1 0 0</span><br></pre></td></tr></table></figure><blockquote><p>æ¯ä¸€åˆ—ä¸­åªæœ‰å…¨éƒ¨ä¸º1æ—¶ï¼Œç»“æœä¸­å¯¹åº”çš„åˆ—æ‰æ˜¯1.</p></blockquote><p>ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (<span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123; <span class="number">0b0001</span> &#125; &amp; <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123; <span class="number">0b0011</span> &#125; &amp; <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;<span class="number">4</span>&gt;&#123; <span class="number">0b0111</span> &#125;);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›´è§‚çš„è¡¨ç¤ºä¸ºï¼š</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> AND</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> AND</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line">--------  <span class="comment">//ç»“æœä¸º</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>ä½æ“ä½œï¼šXOR <code>^</code></strong></p><p>å®ƒçš„å½¢å¼ä¸ºï¼š<code>0b0001 ^ 0b0011 ^ 0b0111</code></p><p>æ›´åŠ ç›´è§‚çš„çœ‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 1 XOR</span><br><span class="line">0 0 1 1 XOR</span><br><span class="line">0 1 1 1</span><br><span class="line">--------</span><br><span class="line">0 1 0 1</span><br></pre></td></tr></table></figure><blockquote><p>æ¯ä¸€åˆ—å¦‚æœæœ‰<strong>å¥‡æ•°ä¸ª1</strong>ï¼Œåˆ™ç»“æœä¸­å¯¹åº”çš„åˆ—å°±æ˜¯1ï¼›å¦åˆ™å°±æ˜¯0.</p></blockquote></li></ul><hr><ul><li><p><strong>ä½çš„èµ‹å€¼æ“ä½œç¬¦</strong></p><p>ä¸ç®—æœ¯èµ‹å€¼è¿ç®—ç¬¦ç›¸ä¼¼ï¼ŒC++æä¾›ä½çš„èµ‹å€¼æ“ä½œç¬¦ï¼Œä¸ºäº†æ–¹ä¾¿ä¿®æ”¹å˜é‡ï¼š</p><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">Left shift assignment</td><td align="left">&lt;&lt;=</td><td align="left">x &lt;&lt;= y</td><td align="left">Shift x left by y bits</td></tr><tr><td align="left">Right shift assignment</td><td align="left">&gt;&gt;=</td><td align="left">x &gt;&gt;= y</td><td align="left">Shift x right by y bits</td></tr><tr><td align="left">Bitwise OR assignment</td><td align="left">|=</td><td align="left">x |= y</td><td align="left">Assign x | y to x</td></tr><tr><td align="left">Bitwise AND assignment</td><td align="left">&amp;=</td><td align="left">x &amp;= y</td><td align="left">Assign x &amp; y to x</td></tr><tr><td align="left">Bitwise XOR assignment</td><td align="left">^=</td><td align="left">x ^= y</td><td align="left">Assign x ^ y to x</td></tr></tbody></table><p>æ¯”å¦‚ï¼Œ<code>x= x&gt;&gt;1</code>ï¼Œå¯ä»¥å†™æˆï¼š<code>x&gt;&gt;=1</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;4&gt; bits&#123;<span class="number">0b0100</span>&#125;;</span><br><span class="line">    bits &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; bits;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ*********/</span></span><br><span class="line"><span class="number">0010</span></span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>æ€»ç»“ï¼š</strong></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LearnCpp chapter5</title>
      <link href="/archives/b6a3dbf1.html"/>
      <url>/archives/b6a3dbf1.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp chapter5</red></p></center><center><red>https://www.learncpp.com</red></center><a id="more"></a><h2 id="5-1-æ“ä½œç¬¦ä¼˜å…ˆçº§-amp-ç»“åˆå¾‹"><a href="#5-1-æ“ä½œç¬¦ä¼˜å…ˆçº§-amp-ç»“åˆå¾‹" class="headerlink" title="5.1 æ“ä½œç¬¦ä¼˜å…ˆçº§ &amp; ç»“åˆå¾‹"></a>5.1 æ“ä½œç¬¦ä¼˜å…ˆçº§ &amp; ç»“åˆå¾‹</h2><center>Operator precedence and associativity</center><p>ä¸‹é¢æ˜¯<strong>æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ åŠ ç»“åˆå¾‹</strong></p><blockquote><p>ã€noteã€‘</p><ol><li>ä¸‹é¢è¡¨æ ¼çš„æ“ä½œç¬¦ä¼˜å…ˆçº§ï¼š<strong>level 1æ˜¯æœ€é«˜ä¼˜å…ˆçº§ï¼›level 17 ä¼˜å…ˆçº§æœ€ä½</strong></li><li>ç»“åˆå¾‹ï¼š<ul><li><strong>L-&gt;R</strong>ï¼šå³ï¼Œä»å·¦å‘å³ç»“åˆ</li><li><strong>R-&gt;L</strong> ï¼šå³ã€‚ä»å³å‘å·¦ç»“åˆ</li></ul></li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter5/image-20200403103620634.png" alt="1~8 level"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter5/image-20200403103654067.png" alt="9~17 level"></p><hr><p>æ³¨æ„ä¸€ä¸ª<strong>è¿ç­‰å·åˆ°è¡¨è¾¾å¼</strong>ï¼š</p><p><strong><code>x=y=z;</code>ç”±ä¸Šè¡¨å¯çŸ¥ï¼Œè¯¥è¡¨è¾¾å¼å…¶å®æ˜¯è¿™æ ·çš„ï¼š<code>x=(y=z);</code></strong></p><hr><h2 id="5-2-ç®—æ•°è¿ç®—ç¬¦"><a href="#5-2-ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="5.2 ç®—æ•°è¿ç®—ç¬¦"></a>5.2 ç®—æ•°è¿ç®—ç¬¦</h2><center>Arithmetic operators</center><ul><li><p><strong>ä¸€å…ƒæ“ä½œç¬¦(<em>Unary arithmetic operators</em></strong>)ï¼š<strong><code>+</code>ã€<code>-</code>ï¼š</strong></p><blockquote><p><strong>unary minus</strong>ï¼šè¿”å› æ“ä½œæ•°ä¹˜ä»¥-1 ä¹‹åçš„å€¼ã€‚</p><p><strong>unary plus</strong>ï¼šè¿”å› æ“ä½œæ•°æœ¬èº«ã€‚</p><p>è¿™ä¸¤ä¸ªæ“ä½œç¬¦éƒ½åº”è¯¥æ”¾åœ¨æ“ä½œæ•°çš„å‰é¢(e.g. -x , è€Œä¸æ˜¯ - x)</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter5/image-20200403130245848.png" alt="ä¸€å…ƒæ“ä½œç¬¦ + -"></p><p>eg: <code>x=5 - -3;</code>.ç¬¬ä¸€ä¸ªå‡å·è¡¨ç¤ºäºŒå…ƒæ“ä½œç¬¦ï¼Œå‡æ³•ï¼›ç¬¬äºŒä¸ªå‡å·è¡¨ç¤ºä¸€å…ƒæ“ä½œç¬¦ã€‚</p></li></ul><hr><ul><li><p><strong>äºŒå…ƒè¿ç®—ç¬¦ï¼š<em>Binary arithmetic operators</em></strong></p><p>äºŒå…ƒæ“ä½œç¬¦æœ‰å·¦ã€å³ ä¸¤ä¸ª<strong>æ“ä½œæ•°(operand)</strong>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter5/image-20200403130913816.png" alt="äºŒå…ƒæ“ä½œç¬¦"></p></li></ul><hr><ul><li><p><strong>æ•´æ•°ä¸æµ®ç‚¹æ•° çš„é™¤æ³•</strong></p><ol><li><p>å·¦å³ä¸¤ä¸ªæ“ä½œæ•°<strong>è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯ æµ®ç‚¹å‹å€¼</strong>ï¼Œå®ƒä»¬çš„è¿ç®—ç»“æœä¾ç„¶æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹çš„å€¼ã€‚</p><blockquote><p>For example, <code>7.0 / 4 = 1.75</code>, <code>7 / 4.0 = 1.75</code>ã€<code>7.0 / 4.0 = 1.75</code></p></blockquote></li><li><p>åšæœ‰<strong>ä¸¤ä¸ªæ“ä½œæ•°å‡ä¸º æ•´å‹å€¼</strong>ï¼Œå®ƒçš„è¿ç®—ç»“æœä¾ç„¶æ˜¯ æ•´å‹å€¼ã€‚</p><blockquote><p>For example, <code>7 / 4 = 1</code></p></blockquote></li></ol></li></ul><hr><ul><li><p><strong>ç”¨<code>static_cast&lt;&gt;</code>å¯¹æ•´æ•°è¿›è¡Œæµ®ç‚¹é™¤æ³•</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;<span class="number">7</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> y&#123;<span class="number">4</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"int/int="</span>&lt;&lt;x/y&lt;&lt;<span class="string">"\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"double / int = "</span>&lt;&lt;<span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(x)/y&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"int / double = "</span>&lt;&lt;x/ <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(y)&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"double / double = "</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(x) / <span class="keyword">static_cast</span>&lt;<span class="keyword">double</span>&gt;(y)&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*****ç»“æœ*****/</span></span><br><span class="line"><span class="keyword">int</span> / <span class="keyword">int</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">double</span> / <span class="keyword">int</span> = <span class="number">1.75</span></span><br><span class="line"><span class="keyword">int</span> / <span class="keyword">double</span> = <span class="number">1.75</span></span><br><span class="line"><span class="keyword">double</span> / <span class="keyword">double</span> = <span class="number">1.75</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>é™¤ä»¥<code>0</code></strong></p><p>å¦‚æœé™¤ä»¥0(æˆ–è€… 0.0)å°†ä¼šä½¿ç¨‹åºå´©æºƒã€‚å› ä¸ºè¿™ä¸ªç»“æœåœ¨æ•°å­¦ä¸­æ˜¯æ²¡æœ‰å®šä¹‰çš„ã€‚</p></li></ul><hr><ul><li><p><strong>èµ‹å€¼æ“ä½œç¬¦</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter5/image-20200403133616428.png" alt="èµ‹å€¼æ“ä½œç¬¦"></p></li></ul><hr><h2 id="5-3-å–æ¨¡-amp-å¹‚è¿ç®—"><a href="#5-3-å–æ¨¡-amp-å¹‚è¿ç®—" class="headerlink" title="5.3 å–æ¨¡ &amp; å¹‚è¿ç®—"></a>5.3 å–æ¨¡ &amp; å¹‚è¿ç®—</h2><ul><li><p><strong>å–æ¨¡æ“ä½œç¬¦ï¼šThe modulus operator</strong></p><p><strong><em>å–æ¨¡æ“ä½œç¬¦*ï¼Œåˆç§° *å–ä½™æ“ä½œç¬¦</em></strong>ã€‚</p><blockquote><p>ã€noteã€‘ï¼š<u><strong>å–ä½™è¿ç®—ç»“æœçš„ç¬¦å·ï¼Œåªå’Œç¬¬ä¸€ä¸ªæ“ä½œæ•°ç›¸ä¸€è‡´ã€‚</strong></u></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123; <span class="number">6</span> &#125;, y&#123; <span class="number">-4</span> &#125;; <span class="comment">//ç¬¬ä¸€ä¸ªæ“ä½œæ•°ç¬¦å·ä¸º æ­£</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x%y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> z&#123; <span class="number">-6</span> &#125;, w&#123; <span class="number">4</span> &#125;; <span class="comment">//ç¬¬ä¸€ä¸ªæ“ä½œæ•°ç¬¦å·ä¸º è´Ÿ</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; z%w ;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="built_in">std</span>::numeric_limits &lt;<span class="built_in">std</span>::streamsize&gt;::<span class="built_in">max</span>(), <span class="string">'\n'</span> );</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter5/image-20200403134914381.png" alt="å–ä½™ç»“æœçš„ç¬¦å·ä¸â€œè¢«é™¤æ•°â€çš„ç¬¦å·ç›¸åŒ"></p></blockquote></li></ul><hr><ul><li><p><strong>å¹‚è¿ç®—ç¬¦<code>^</code></strong></p><p>æ‚¨å°†æ³¨æ„åˆ°<code>^</code>è¿ç®—ç¬¦(åœ¨æ•°å­¦ä¸­é€šå¸¸ç”¨äºè¡¨ç¤ºæ±‚å¹‚)æ˜¯c++ä¸­çš„ä½<strong>XORæ“ä½œ</strong>ã€‚åœ¨C++ä¸­ä¸åŒ…å«â€œå¹‚è¿ç®—æ“ä½œç¬¦â€ã€‚å¦‚æœè¦ç”¨ï¼Œå°±éœ€è¦åŠ ä¸Š<strong>å¤´æ–‡ä»¶<code>cmath</code></strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">double</span> x&#123; <span class="built_in">std</span>::<span class="built_in">pow</span>(<span class="number">3.0</span>, <span class="number">4.0</span>)&#125;; <span class="comment">//3 to the 4th power(3çš„4æ¬¡æ–¹)</span></span><br></pre></td></tr></table></figure><blockquote><p>ã€Noteã€‘æ³¨æ„ï¼Œ<strong>pow()å‡½æ•°çš„å‚æ•°(å’Œè¿”å›å€¼)æ˜¯doubleç±»å‹çš„</strong>ã€‚æ‰€ä»¥ï¼Œå°±ç®—ä¼ å…¥çš„æ˜¯æ•´æ•°ç±»å‹çš„ï¼Œå®ƒçš„è®¡ç®—è¿˜æ˜¯ä¼šæœ‰è¯¯å·®çš„(å› ä¸ºæµ®ç‚¹æ•°è®¡ç®—æœ¬èº«å°±ä¼šæœ‰è¯¯å·®)</p></blockquote><hr><p>æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³å¯¹æ•´æ•°è¿›è¡Œå¹‚è¿ç®—ï¼Œå¯ä»¥è‡ªå·±è®¾è®¡å‡½æ•°ï¼Œä½¿å…¶ç»“æœæ¯”è¾ƒç²¾ç¡®ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdint&gt; //for std::int_fast64_t</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//note: exp(å¹‚æ•°) ä¸èƒ½æ˜¯è´Ÿæ•°[å› ä¸ºç”¨çš„æ˜¯whileå¾ªç¯]</span></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="keyword">int_fast64_t</span> <span class="title">powint</span> <span class="params">(<span class="keyword">int</span> base, <span class="keyword">int</span> <span class="built_in">exp</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">int_fast64_t</span> result &#123;<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">exp</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">exp</span> &amp; <span class="number">1</span>)</span><br><span class="line">            result *= base;</span><br><span class="line">        <span class="built_in">exp</span> &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        base *= base;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;powint(<span class="number">7</span>,<span class="number">12</span>); <span class="comment">//7çš„12æ¬¡å¹‚</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="5-4-é€’å¢-é€’å‡æ“ä½œç¬¦"><a href="#5-4-é€’å¢-é€’å‡æ“ä½œç¬¦" class="headerlink" title="5.4 é€’å¢/é€’å‡æ“ä½œç¬¦"></a>5.4 é€’å¢/é€’å‡æ“ä½œç¬¦</h2><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">Prefix increment (pre-increment)</td><td align="left">++</td><td align="left">++x</td><td align="left">Increment x, then return x</td></tr><tr><td align="left">Prefix decrement (pre-decrement)</td><td align="left">â€“â€“</td><td align="left">â€“â€“x</td><td align="left">Decrement x, then return x</td></tr><tr><td align="left">Postfix increment (post-increment)</td><td align="left">++</td><td align="left">x++</td><td align="left">Copy x, then increment x, then return the copy</td></tr><tr><td align="left">Postfix decrement (post-decrement)</td><td align="left">â€“â€“</td><td align="left">xâ€“â€“</td><td align="left">Copy x, then decrement x, then return the copy</td></tr></tbody></table><hr><ul><li><p><strong>å‰¯ä½œç”¨ï¼šside effects</strong></p><center>c++ä¸å®šä¹‰å‡½æ•°å‚æ•°æˆ–æ“ä½œç¬¦æ“ä½œæ•°çš„æ±‚å€¼é¡ºåºã€‚</center><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x+y;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> valude = add(x, ++x); <span class="comment">//ç»“æœæ˜¯5+6,è¿˜æ˜¯6+6?</span></span><br><span class="line">    <span class="comment">//è¿™å–å†³äºç¼–è¯‘å™¨è®¡ç®—å‡½æ•°å‚æ•°çš„é¡ºåº</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;value; <span class="comment">// value could be 11 or 12, depending on how the above line evaluates!</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ã€å‰¯ä½œç”¨ã€‘ï¼š<strong>c++æ²¡æœ‰å®šä¹‰å‡½æ•°å‚æ•°æ±‚å€¼çš„é¡ºåºã€‚</strong></p><p>è¿™ç§å°±ä¼šäº§ç”Ÿä¸ç¡®å®šæ€§ï¼Œå› ä¸ºè¿˜è¦<strong>å–å†³äºç¼–è¯‘å™¨å¯¹å‡½æ•°çš„å‚æ•°è®¡ç®—çš„é¡ºåº</strong>ã€‚æ‰€ä»¥ï¼Œä¸åŒçš„ç¼–è¯‘å™¨å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚</p><p>æ‰€ä»¥ï¼Œç»“æœå¯èƒ½ä¸ºï¼š11 æˆ–è€… 12</p></blockquote></li></ul><hr><h2 id="5-5-é€—å·â€œ-â€-amp-æ¡ä»¶-è¿ç®—ç¬¦"><a href="#5-5-é€—å·â€œ-â€-amp-æ¡ä»¶-è¿ç®—ç¬¦" class="headerlink" title="5.5 é€—å·â€œ,â€ &amp; æ¡ä»¶ è¿ç®—ç¬¦"></a>5.5 é€—å·â€œ<code>,</code>â€ &amp; æ¡ä»¶ è¿ç®—ç¬¦</h2><h3 id="é€—å·æ“ä½œç¬¦"><a href="#é€—å·æ“ä½œç¬¦" class="headerlink" title="é€—å·æ“ä½œç¬¦"></a>é€—å·æ“ä½œç¬¦</h3><center>é€—å·æ“ä½œç¬¦é€‚ç”¨äºforå¾ªç¯ï¼Œå…¶ä»–æƒ…å†µä¸æ¨èç”¨</center><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">Comma</td><td align="left">,</td><td align="left">x, y</td><td align="left">Evaluate x then y, returns value of y</td></tr></tbody></table><p><strong>comma operator (,)</strong>ï¼šå…è®¸æ‚¨åœ¨å…è®¸å•ä¸ªè¡¨è¾¾å¼çš„æƒ…å†µä¸‹è®¡ç®—å¤šä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚<strong>é€—å·è¿ç®—ç¬¦å¯¹å·¦æ“ä½œæ•°æ±‚å€¼ï¼Œç„¶åå¯¹å³æ“ä½œæ•°æ±‚å€¼ï¼Œ<u>ç„¶åè¿”å›å³æ“ä½œæ•°çš„ç»“æœ</u></strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> y&#123;<span class="number">2</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt; (++x, ++y); <span class="comment">//å…ˆè®¡ç®—å·¦æ“ä½œç¬¦ï¼Œåœ¨è®¡ç®—å³æ“ä½œç¬¦ï¼Œä½†æ˜¯è¿”å›å³æ“ä½œç¬¦çš„ç»“æœ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******ç»“æœ**********/</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><hr><ul><li><p><strong>é€—å·æ“ä½œç¬¦æ˜¯æ‰€æœ‰æ“ä½œç¬¦ä¸­æœ€ä½çš„</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">z = (a,b); <span class="comment">//è®¡ç®—(a,b)ï¼Œç„¶åå°†è¿”å›çš„ç»“æœèµ‹å€¼ç»™z</span></span><br><span class="line">z = a , b; <span class="comment">//ç”±äºâ€œ=â€æ“ä½œç¬¦ä¼˜å…ˆäºâ€œ,â€æ“ä½œç¬¦ï¼Œæ‰€ä»¥ï¼Œå…ˆè®¡ç®—â€œz=aâ€;ç„¶ååœ¨è®¡ç®—bï¼Œè®¡ç®—å®Œä¹‹åï¼Œbæ²¡ç”¨å°±è¢«æŠ›å¼ƒäº†</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>é€—å·ç”¨ä½œåˆ†éš”ç¬¦æ—¶ï¼Œå®ƒæ­¤æ—¶ä»£è¡¨çš„ä¸æ˜¯æ“ä½œç¬¦</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// Comma used to separate parameters in function definition</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    add(x, y); <span class="comment">// Comma used to separate arguments in function call</span></span><br><span class="line">    int z(3), w(5); // Comma used to separate multiple variables being defined on the same line (don't do this)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="æ¡ä»¶æ“ä½œç¬¦"><a href="#æ¡ä»¶æ“ä½œç¬¦" class="headerlink" title="æ¡ä»¶æ“ä½œç¬¦"></a>æ¡ä»¶æ“ä½œç¬¦</h3><p>æ¡ä»¶æ“ä½œç¬¦æ˜¯ä¸€ä¸ª <strong>ä¸‰å…ƒæ“ä½œç¬¦</strong></p><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">Conditional</td><td align="left">? :</td><td align="left">c ? x : y</td><td align="left">If c is nonzero (true) then evaluate x, otherwise evaluate y</td></tr></tbody></table><p>å½¢å¼ï¼š<code>(condition) ? expression1 : expression2;</code></p><blockquote><p>å½“<code>condition</code>çš„ç»“æœæ˜¯æ­£ç¡®çš„(æˆ–è€…éé›¶æ•°å­—)ï¼Œå°±æ‰§è¡Œ<code>expression1</code>ï¼Œå¦åˆ™ï¼Œæ‰§è¡Œ<code>expression2</code></p></blockquote><hr><ul><li><p><strong>ç”±äºæ¡ä»¶æ“ä½œç¬¦ä¼˜å…ˆçº§è¾ƒä½ï¼Œæœ‰æ—¶éœ€è¦æ‹¬å·</strong></p><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (x&gt;y) ? x : y;</span><br><span class="line"><span class="comment">//ç”±äºâ€œ&lt;&lt;â€çš„ä¼˜å…ˆçº§é«˜äºâ€œæ¡ä»¶æ“ä½œç¬¦â€,æ‰€ä»¥ï¼Œç­‰åŒäºä»¥ä¸‹å½¢å¼ï¼š</span></span><br><span class="line">(<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (x&gt;y)) ? x : y;</span><br><span class="line"><span class="comment">//æƒ³è¦æŒ‰ç…§æˆ‘ä»¬è®¾è®¡çš„æ­£ç¡®æ‰§è¡Œï¼Œåˆ™éœ€è¦é€‚å½“åŠ ä¸Šæ‹¬å·</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;((x&gt;y) ? x : y);</span><br></pre></td></tr></table></figure></li></ul><hr><p>ã€æ³¨æ„ã€‘ä¸åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡åœ¨å‡½æ•°ç»“æŸæ—¶æ­»äº¡éå¸¸ç›¸ä¼¼ï¼Œåœ¨ifæˆ–elseè¯­å¥ä¸­å®šä¹‰çš„å˜é‡åœ¨ifæˆ–elseè¯­å¥ç»“æŸæ—¶æ­»äº¡ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬è¯•å›¾æ‰“å°å®ƒæ—¶ï¼Œç±»å¤§å°å·²ç»è¢«ç ´åäº†ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> inBigClassroom &#123; <span class="literal">false</span> &#125;;</span><br><span class="line">    <span class="keyword">if</span> (inBigClassroom)</span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> classSize &#123; <span class="number">30</span> &#125;;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">const</span> <span class="keyword">int</span> classSize &#123; <span class="number">20</span> &#125;;</span><br><span class="line">    <span class="comment">//æ­¤æ—¶ï¼Œif/elseå·²ç»æ‰§è¡Œç»“æŸï¼Œæ‰€ä»¥ï¼Œå…¶å†…éƒ¨å®šä¹‰çš„å˜é‡classSizeä¹Ÿå·²ç»è¢«é”€æ¯</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The class size is: "</span> &lt;&lt; classSize; <span class="comment">//å› ä¸ºclassSizeè¢«é”€æ¯ï¼Œæ‰€ä»¥ä¼šç¼–è¯‘å‡ºé”™</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><ul><li><p><strong>æ¡ä»¶ç¼–è¯‘çš„ä¸¤ä¸ªè¡¨è¾¾å¼çš„ç±»å‹</strong></p><p>æ¡ä»¶ç¼–è¯‘çš„ä¸¤ä¸ªè¡¨è¾¾å¼ï¼Œ<strong>è¦ä¹ˆå…·æœ‰ç›¸åŒçš„ç±»å‹</strong>ï¼›<strong>è¦ä¹ˆç¬¬äºŒä¸ªè¡¨è¾¾å¼çš„ç±»å‹å¯ä»¥è½¬åŒ–ä¸ºç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; (x != <span class="number">5</span> ? x : <span class="string">"x is 5"</span>); <span class="comment">// won't compile</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å› ä¸ºï¼Œè¡¨è¾¾å¼1ï¼šx æ˜¯integer ç±»å‹ï¼›è¡¨è¾¾å¼2ï¼š"x is 5"æ˜¯stringç±»å‹ã€‚æ‰€ä»¥è¡¨è¾¾å¼2è¦è½¬æ¢ä¸ºè¡¨è¾¾å¼1çš„ç±»å‹ï¼Œä½†æ˜¯è½¬æ¢å¤±è´¥ã€‚æ‰€ä»¥ç¼–è¯‘å°±ä¸æˆåŠŸ</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="5-6-å…³ç³»è¿ç®—ç¬¦-amp-æµ®ç‚¹æ•°çš„æ¯”è¾ƒ"><a href="#5-6-å…³ç³»è¿ç®—ç¬¦-amp-æµ®ç‚¹æ•°çš„æ¯”è¾ƒ" class="headerlink" title="5.6 å…³ç³»è¿ç®—ç¬¦ &amp; æµ®ç‚¹æ•°çš„æ¯”è¾ƒ"></a>5.6 å…³ç³»è¿ç®—ç¬¦ &amp; æµ®ç‚¹æ•°çš„æ¯”è¾ƒ</h2><h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h3><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">Greater than</td><td align="left">&gt;</td><td align="left">x &gt; y</td><td align="left">true if x is greater than y, false otherwise</td></tr><tr><td align="left">Less than</td><td align="left">&lt;</td><td align="left">x &lt; y</td><td align="left">true if x is less than y, false otherwise</td></tr><tr><td align="left">Greater than or equals</td><td align="left">&gt;=</td><td align="left">x &gt;= y</td><td align="left">true if x is greater than or equal to y, false otherwise</td></tr><tr><td align="left">Less than or equals</td><td align="left">&lt;=</td><td align="left">x &lt;= y</td><td align="left">true if x is less than or equal to y, false otherwise</td></tr><tr><td align="left">Equality</td><td align="left">==</td><td align="left">x == y</td><td align="left">true if x equals y, false otherwise</td></tr><tr><td align="left">Inequality</td><td align="left">!=</td><td align="left">x != y</td><td align="left">true if x does not equal y, false otherwise</td></tr></tbody></table><blockquote><p>è¿™äº›æ“ä½œç¬¦çš„å€¼åˆ†åˆ«ä¸ºå¸ƒå°”å€¼true(1)å’Œfalse(0)ã€‚</p></blockquote><hr><h3 id="æµ®ç‚¹æ•°çš„æ¯”è¾ƒ"><a href="#æµ®ç‚¹æ•°çš„æ¯”è¾ƒ" class="headerlink" title="æµ®ç‚¹æ•°çš„æ¯”è¾ƒ"></a>æµ®ç‚¹æ•°çš„æ¯”è¾ƒ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> d1&#123; <span class="number">100.0</span> - <span class="number">99.99</span> &#125;; <span class="comment">// should equal 0.01 ?</span></span><br><span class="line">    <span class="keyword">double</span> d2&#123; <span class="number">10.0</span> - <span class="number">9.99</span> &#125;; <span class="comment">// should equal 0.01 ?</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (d1 == d2)</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"d1 == d2"</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (d1 &gt; d2)</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"d1 &gt; d2"</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (d1 &lt; d2)</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"d1 &lt; d2"</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/****ç»“æœ*****/</span></span><br><span class="line">d1 &gt; d2</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æˆ‘ä»¬çš„è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œd1 = 0.0100000000000005116 è€Œ d2 = 0.0099999999999997868.</p><blockquote><p>ã€Noteã€‘ï¼šåœ¨ä¸¤ä¸ªæµ®ç‚¹æ•°éå¸¸æ¥è¿‘æ—¶ï¼Œå¦‚æœä½¿ç”¨<code>==</code>å’Œ<code>!=</code>å¯¹æµ®ç‚¹æ•°ä¹‹é—´æ¯”è¾ƒï¼Œç»“æœä¼šä¸å¤ªå‡†ç¡®ã€‚</p></blockquote><hr><ul><li><p><strong>ä½¿ç”¨<code>epsilon</code>å‡†ç¡®æ¯”è¾ƒæµ®ç‚¹æ•°</strong></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>epsilon</code>æ¥ç›¸å¯¹å‡†ç¡®çš„æ¯”è¾ƒä¸¤ä¸ª è¶³å¤Ÿæ¥è¿‘çš„ æµ®ç‚¹å‹æ•°å€¼ã€‚</p><blockquote><p><code>epsilon</code>ï¼šé€šå¸¸è¢«å®šä¹‰ä¸ºä¸€ä¸ªå°çš„æ­£æ•°(å¦‚ï¼Œ0.00000001ï¼Œå³1e-8)</p></blockquote><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ¯”è¾ƒä¸¤ä¸ªâ€close enoughâ€çš„æµ®ç‚¹æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; //for std::abs()</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//epsilon is an absolute value</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isAlmostEqual</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> epsilon)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//if the distance between a and b is less than epsilon, then a and b are "close enough"</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">std</span>::<span class="built_in">abs</span>(a-b) &lt;= epsilon;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶è¿™ä¸ªå‡½æ•°å¯ä»¥å·¥ä½œï¼Œä½†å®ƒä¸æ˜¯å¾ˆå¥½ã€‚0.00001çš„epsilonå€¼å¯¹äº1.0å·¦å³çš„è¾“å…¥æ˜¯åˆé€‚çš„ï¼Œå¯¹äº0.0000001å·¦å³çš„è¾“å…¥æ˜¯å¤ªå¤§äº†ï¼Œå¯¹äº10,000è¿™æ ·çš„è¾“å…¥æ˜¯å¤ªå°äº†ã€‚è¿™æ„å‘³ç€æ¯æ¬¡æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©ä¸€ä¸ªé€‚åˆæˆ‘ä»¬è¾“å…¥çš„ã€‚å¦‚æœæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬è¦æ ¹æ®è¾“å…¥çš„æ¯”ä¾‹æ¥ç¼©æ”¾ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿®æ”¹å‡½æ•°æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><p><strong>æ”¹è¿›1ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; //std::abs</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; //std::max</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//return true if the difference between a and b is within epsilon</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">approximatelyEqual</span><span class="params">(<span class="keyword">double</span> a,<span class="keyword">double</span> b, <span class="keyword">double</span> epsilon)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">std</span>::<span class="built_in">abs</span>(a-b) &lt;= ( <span class="built_in">std</span>::<span class="built_in">max</span>( <span class="built_in">std</span>::<span class="built_in">abs</span>(a),<span class="built_in">std</span>::<span class="built_in">abs</span>(b) ) * epsilon ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>epsilon</code>ä¸å†æ˜¯ä¸€ä¸ªç»å¯¹å€¼ï¼Œ<strong>ç°åœ¨æ˜¯ç›¸å¯¹äºaæˆ–bå¤§å°çš„é‡çº§</strong>ã€‚</p></blockquote><p><strong>å†æ”¹è¿›2ã€æ¨èã€‘</strong>ï¼š</p><p><strong>å½“æµ®ç‚¹æ•°è¶³å¤Ÿæ¥è¿‘äº0æ—¶</strong>ï¼Œä¸Šé¢çš„æ–¹æ³•è¿˜æ˜¯ä¸å¤ªè¡Œçš„ã€‚</p><blockquote><p>æ”¹è¿›æ–¹æ³•å°±æ˜¯ï¼š<strong>åŒæ—¶ä½¿ç”¨ç›¸å¯¹å€¼å’Œç»å¯¹å€¼</strong>ï¼š</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// return true if the difference between a and b is less than absEpsilon, or within relEpsilon percent of the larger of a and b</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">approximatelyEqualAbsRel</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> absEpsilon, <span class="keyword">double</span> relEpsilon)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Check if the numbers are really close -- needed when comparing numbers near zero.</span></span><br><span class="line">    <span class="keyword">double</span> diff&#123; <span class="built_in">std</span>::<span class="built_in">abs</span>(a - b) &#125;;</span><br><span class="line">    <span class="keyword">if</span> (diff &lt;= absEpsilon)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Otherwise fall back to Knuth's algorithm(ç›¸å¯¹å€¼æ–¹æ³•ï¼Œå³â€œæ”¹è¿›1â€çš„æ–¹æ³•)</span></span><br><span class="line">    <span class="keyword">return</span> (diff &lt;= (<span class="built_in">std</span>::<span class="built_in">max</span>(<span class="built_in">std</span>::<span class="built_in">abs</span>(a), <span class="built_in">std</span>::<span class="built_in">abs</span>(b)) * relEpsilon));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ£€æŸ¥aå’Œbåœ¨ç»å¯¹å€¼ä¸Šæ˜¯å¦æ¥è¿‘ï¼Œè¿™å¤„ç†äº†aå’Œbéƒ½æ¥è¿‘äºé›¶çš„æƒ…å†µã€‚<strong>absEpsilonå‚æ•°åº”è¯¥è®¾ç½®ä¸ºéå¸¸å°çš„å€¼(ä¾‹å¦‚1e-12)</strong>ã€‚å¦‚æœå¤±è´¥äº†ï¼Œæˆ‘ä»¬å°±å›åˆ°Knuthçš„ç®—æ³•ï¼Œå³ï¼Œä½¿ç”¨ç›¸å¯¹çš„epsilonã€‚</p></blockquote></li></ul><p>å®Œæ•´çš„ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt; //std::max</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;     //std::abs</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœaå’Œbä¹‹é—´çš„å·®å€¼åœ¨aå’Œbä¹‹é—´è¾ƒå¤§å€¼çš„ç™¾åˆ†ä¹‹å‡ å†…ï¼Œåˆ™è¿”å›true</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">approximatelyEqual</span><span class="params">(<span class="keyword">double</span> a,<span class="keyword">double</span> b,<span class="keyword">double</span> epsilon)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">std</span>::<span class="built_in">abs</span>(a-b) &lt;= (<span class="built_in">std</span>::<span class="built_in">max</span>(<span class="built_in">std</span>::<span class="built_in">abs</span>(a), <span class="built_in">std</span>::<span class="built_in">abs</span>(b)) * epsilon ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é’ˆå¯¹äºæ¥è¿‘äº0 çš„æµ®ç‚¹æ•°çš„æ¯”è¾ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">approximatelyEqualAbsRel</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b,<span class="keyword">double</span> absEpsilon, <span class="keyword">double</span> relEspilon)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//check if the numbers are really close -- need when comparing numbers near zero.</span></span><br><span class="line">    <span class="keyword">double</span> diff &#123;<span class="built_in">std</span>::<span class="built_in">abs</span>(a-b)&#125;;</span><br><span class="line">    <span class="keyword">if</span> (diff &lt;= absEpsilon)</span><br><span class="line">        <span class="keyword">return</span> ture;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//otherwise fall back to ç›¸å¯¹å€¼æ³•</span></span><br><span class="line">    <span class="keyword">return</span> (diff &lt;= (<span class="built_in">std</span>::<span class="built_in">max</span>(<span class="built_in">std</span>::<span class="built_in">abs</span>(a), <span class="built_in">std</span>::<span class="built_in">abs</span>(b)) * relEspilon));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//a is really close to 1.0, but has rounding errors</span></span><br><span class="line">    <span class="keyword">double</span> a&#123;<span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span> + <span class="number">0.1</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; approximatelyEqual(a, <span class="number">1.0</span>, <span class="number">1e-8</span>);<span class="comment">//compare "almost 1.0" to 1.0</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; approximatelyEqual(a<span class="number">-1.0</span>, <span class="number">0.0</span>, <span class="number">1e-8</span>); <span class="comment">//compare "almost 0.0" to 0.0</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; approximatelyEqualAbsRel(a<span class="number">-1.0</span>, <span class="number">0.0</span>, <span class="number">1e-12</span>, <span class="number">1e-8</span>) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// compare "almost 0.0" to 0.0</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********ç»“æœ*********/</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹å‡ºï¼Œ<strong>åœ¨å¯¹äºæ¥è¿‘äº0çš„æµ®ç‚¹æ•°ï¼Œä¸ 0.0æ¯”è¾ƒæ—¶ã€‚<code>approximatelyEqualAbsRel</code>è¦æ›´åŠ å‡†ç¡®ã€‚</strong></p></blockquote><p><strong>ä½¿ç”¨<code>approximatelyEqualAbsRel</code>æ–¹æ³•ï¼Œå°±å¯ä»¥è§£å†³å¤§å¤šæ•°æƒ…å†µ</strong>ã€‚å®ƒä¹Ÿæ¶µç›–äº†<code>approximatelyEqual</code>å‡½æ•°çš„åŠŸèƒ½ã€‚</p><hr><h2 id="5-7-é€»è¾‘æ“ä½œç¬¦"><a href="#5-7-é€»è¾‘æ“ä½œç¬¦" class="headerlink" title="5.7 é€»è¾‘æ“ä½œç¬¦"></a>5.7 é€»è¾‘æ“ä½œç¬¦</h2><table><thead><tr><th align="left">Operator</th><th align="left">Symbol</th><th align="left">Form</th><th align="left">Operation</th></tr></thead><tbody><tr><td align="left">Logical NOT</td><td align="left">!</td><td align="left">!x</td><td align="left">true if x is false, or false if x is true</td></tr><tr><td align="left">Logical AND</td><td align="left">&amp;&amp;</td><td align="left">x &amp;&amp; y</td><td align="left">true if both x and y are true, false otherwise</td></tr><tr><td align="left">Logical OR</td><td align="left">||</td><td align="left">x || y</td><td align="left">true if either x or y are true, false otherwise</td></tr></tbody></table><hr><ul><li><p><strong>NOTï¼šï¼</strong></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>NOT æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å¾ˆé«˜ï¼Œåœ¨level 3</strong>ã€‚æ‰€ä»¥ï¼Œä½ å¾ˆæœ‰å¯èƒ½ä¼šçŠ¯è¿™ç§é”™è¯¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;<span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> y&#123;<span class="number">7</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(!x&gt;y) <span class="comment">//æ­£ç¡®å†™æ³•ï¼šif (!(x&gt;y))</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"x is not greater than y\n"</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"x is equal to or greater than y\n"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ************/</span></span><br><span class="line">x is equal to <span class="keyword">or</span> greater than y</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œç»“æœä¸æ­£ç¡®ã€‚åœ¨è¿™é‡Œå°±æ˜¯å› ä¸ºï¼Œ<code>if(!x&gt;y)</code>ä¸­ï¼Œç”±äº<code>!</code>ä¼˜å…ˆçº§é«˜äº<code>&gt;</code>ã€‚æ‰€ä»¥ï¼Œå…ˆè®¡ç®—â€œ!xâ€ï¼Œå…¶å®ï¼Œå°±ç›¸å½“äºï¼š<code>if ( (!x) &gt; y )</code></p></li></ul><hr><ul><li><p><strong>ANDï¼š &amp;&amp;</strong></p><ul><li><p>å¦‚æœé€»è¾‘æ“ä½œç¬¦<code>&amp;&amp;</code>è¦è¿”å›â€œtrueâ€ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ“ä½œæ•°éƒ½å¿…é¡»æ˜¯â€˜trueâ€™ï¼›</p></li><li><p>ä½†å¦‚æœ<code>&amp;&amp;</code>è¿”å›æ˜¯â€œfalseâ€ï¼Œåªè¦æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯â€˜falseâ€™å³å¯ã€‚</p><blockquote><p>ç‰¹æ®Šçš„ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯â€˜falseâ€™çš„è¯ï¼Œå°±ä¸ä¼šå†ç»§ç»­çœ‹åé¢æ“ä½œç¬¦æ˜¯â€˜falseâ€™è¿˜æ˜¯â€˜trueâ€™ï¼Œå³å›¾ç­¾ç»ˆæ­¢äº†ã€‚è¿™ç§æƒ…å†µå«åšï¼šâ€œ<strong>short circuit evaluation</strong>â€</p></blockquote></li></ul><p>ç›¸ä¼¼çš„ï¼Œé€»è¾‘æ“ä½œç¬¦ æˆ–<code>||</code>ï¼Œå¦‚æœè¦è¿”å›â€œtrueâ€çš„è¯ï¼Œä¹Ÿæ˜¯åªè¦æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯â€˜trueâ€™å³å¯ã€‚</p></li></ul><hr><blockquote><p><strong>é€»è¾‘æ“ä½œç¬¦<code>&amp;&amp;</code>çš„ä¼˜å…ˆçº§é«˜äº<code>||</code></strong>ï¼Œæ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨å¦‚ï¼š<code>value1 || value2 &amp;&amp; value3</code>æ—¶ï¼Œè¦æ›´åŠ å°å¿ƒï¼Œ<strong>ä½¿ç”¨æ‹¬å·æ‰ä¼šæ›´åŠ å®‰å…¨</strong>ã€‚</p></blockquote><hr><ul><li><p><strong>å¾·æ‘©æ ¹å®šå¾‹ï¼šDe Morganâ€™s law</strong></p><p>å¾·æ‘©æ ¹å®šå¾‹å‘Šè¯‰æˆ‘ä»¬ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨é€»è¾‘æ“ä½œç¬¦<code>!</code>ï¼š</p><p><code>!(x &amp;&amp; y)</code> ç­‰åŒäº <code>!x || !y</code></p><p><code>!(x || y)</code>ç­‰åŒäº <code>!x &amp;&amp; !y</code></p><blockquote><p>æ¢å¥è¯è¯´ï¼Œå½“æ‚¨åˆ†å‘é€»è¾‘NOTæ—¶ï¼Œæ‚¨è¿˜éœ€è¦è½¬æ¢ä¸ºé€»è¾‘ANDé€»è¾‘ORï¼Œåä¹‹äº¦ç„¶!</p></blockquote></li></ul><hr><ul><li><p><strong>é€»è¾‘æ“ä½œç¬¦ï¼Œå¼‚æˆ–<code>XOR</code></strong></p><table><thead><tr><th align="left">Left operand</th><th align="left">Right operand</th><th align="left">Result</th></tr></thead><tbody><tr><td align="left">false</td><td align="left">false</td><td align="left">false</td></tr><tr><td align="left">false</td><td align="left">true</td><td align="left">true</td></tr><tr><td align="left">true</td><td align="left">false</td><td align="left">true</td></tr><tr><td align="left">true</td><td align="left">true</td><td align="left">false</td></tr></tbody></table></li></ul><blockquote><p>å³ï¼Œ<strong>çœŸå‡ ä¸º çœŸ</strong>ï¼Œ<strong>å…¶ä»–ç»“æœéƒ½æ˜¯ å‡</strong></p></blockquote><p>C++æ²¡æœ‰æä¾›ä¸“é—¨æä¾› å¼‚æˆ–æ“ä½œç¬¦ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š</p><ol><li><p><strong>å½“æ“ä½œæ•°æ˜¯å¸ƒå°”å‹</strong>çš„ï¼Œå³trueï¼Œfalseï¼Œè€Œä¸æ˜¯integerï¼Œå¯ä»¥ä½¿ç”¨<code>!=</code>æ¥å®ç°å¼‚æˆ–ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a != b) <span class="comment">//a XOR b ,å‡å®šaã€bæ˜¯booleans</span></span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line"><span class="comment">//å¤šä¸ªæ“ä½œæ•°</span></span><br><span class="line"><span class="keyword">if</span> (a != b != c != d)  <span class="comment">// a XOR b XOR c XOR d, assuming a, b, c, and d are Booleans</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure></li><li><p><strong>å½“æ“ä½œæ•°ä¸æ˜¯å¸ƒå°”å‹</strong>æ—¶ï¼Œ<strong>ä½¿ç”¨<code>static_cast</code>è½¬åŒ–ä¸ºbool</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span>&gt;(a) != <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span>&gt;(b) != <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span>&gt;(c)) <span class="comment">// a XOR b XOR c XOR d, for any type that can be converted to bool</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾(æ€»)</title>
      <link href="/archives/3ae1bc73.html"/>
      <url>/archives/3ae1bc73.html</url>
      
        <content type="html"><![CDATA[<center><red>è®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾</red></center><a id="more"></a><h1 id="å‚è€ƒæ–‡ç« -ï¼š"><a href="#å‚è€ƒæ–‡ç« -ï¼š" class="headerlink" title="###å‚è€ƒæ–‡ç« ###ï¼š"></a>###å‚è€ƒæ–‡ç« ###ï¼š</h1><p>*<em>è®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ *</em>ï¼š</p><p>ç¬”è®°ï¼š<a href="https://www.cnblogs.com/livil/p/10155073.html" target="_blank" rel="noopener">https://www.cnblogs.com/livil/p/10155073.html</a> å’Œ<a href="https://zhuanlan.zhihu.com/p/103505933" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/103505933</a> æˆ– <a href="https://www.imooc.com/article/271502" target="_blank" rel="noopener">https://www.imooc.com/article/271502</a></p><p>å­—å¹•ï¼š<a href="https://github.com/1c7/Crash-Course-Computer-Science-Chinese/blob/master/(å­—å¹•)å…¨40é›†ä¸­è‹±å­—å¹•æ–‡æœ¬" target="_blank" rel="noopener">https://github.com/1c7/Crash-Course-Computer-Science-Chinese/blob/master/(å­—å¹•)å…¨40é›†ä¸­è‹±å­—å¹•æ–‡æœ¬</a></p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/5c2dbf8e0001443913279329.jpg" alt="5c2dbf8e0001443913279329" style="zoom:150%"><h1 id="2ã€ç”µå­è®¡ç®—æœº"><a href="#2ã€ç”µå­è®¡ç®—æœº" class="headerlink" title="2ã€ç”µå­è®¡ç®—æœº"></a>2ã€ç”µå­è®¡ç®—æœº</h1><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/1528749-20181221121908992-643367848.png" alt="img" style="zoom:200%"><h1 id="3ã€å¸ƒå°”é€»è¾‘å’Œé€»è¾‘é—¨"><a href="#3ã€å¸ƒå°”é€»è¾‘å’Œé€»è¾‘é—¨" class="headerlink" title="3ã€å¸ƒå°”é€»è¾‘å’Œé€»è¾‘é—¨"></a>3ã€å¸ƒå°”é€»è¾‘å’Œé€»è¾‘é—¨</h1><p>è®¡ç®—æœºæœ€æ—©æ˜¯æœºç”µè®¾å¤‡ï¼Œä¸€èˆ¬ç”¨åè¿›åˆ¶è®¡æ•°ã€‚ä¹Ÿæœ‰ä¸€äº›æ˜¯ä¸‰è¿›åˆ¶ã€äº”è¿›åˆ¶çš„ã€‚ã€ä¹Ÿå°±æ˜¯xè¿›åˆ¶è¡¨ç¤ºæœ‰xç§çŠ¶æ€ã€‚ã€‘</p><p>äºŒè¿›åˆ¶ä¸­çš„ 1æˆ–0 å«åšï¼šä½ï¼ˆbitï¼‰ï¼›1å­—èŠ‚ï¼ˆbyteï¼‰=8ä½(bits)</p><h1 id="5ã€ç®—æ•°é€»è¾‘å•å…ƒï¼ˆALUï¼‰"><a href="#5ã€ç®—æ•°é€»è¾‘å•å…ƒï¼ˆALUï¼‰" class="headerlink" title="5ã€ç®—æ•°é€»è¾‘å•å…ƒï¼ˆALUï¼‰"></a>5ã€ç®—æ•°é€»è¾‘å•å…ƒï¼ˆALUï¼‰</h1><p>ï¼šæ˜¯è®¡ç®—æœºçš„æ•°å­¦å¤§è„‘ï¼Œæ˜¯è®¡ç®—æœºé‡Œè´Ÿè´£è¿ç®—çš„ç»„ä»¶ã€‚</p><blockquote><p>ALUæœ‰2ä¸ªå•å…ƒï¼š1ä¸ª<strong>ç®—æ•°å•å…ƒ</strong>å’Œ1ä¸ª<strong>é€»è¾‘å•å…ƒ</strong>ã€‚</p><p>ç®—æ•°å•å…ƒï¼šè´Ÿè´£è®¡ç®—æœºé‡Œçš„æ‰€æœ‰æ•°å­—æ“ä½œã€‚å¦‚åŠ å‡æ³•ã€‚</p></blockquote><h2 id="1ï¼‰ç®—æ•°å•å…ƒ"><a href="#1ï¼‰ç®—æ•°å•å…ƒ" class="headerlink" title="1ï¼‰ç®—æ•°å•å…ƒ"></a>1ï¼‰ç®—æ•°å•å…ƒ</h2><h3 id="åŠåŠ å™¨-A-half-adder"><a href="#åŠåŠ å™¨-A-half-adder" class="headerlink" title="(åŠåŠ å™¨)A half adder:"></a>(åŠåŠ å™¨)A half adder:</h3><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200220151049446.png" alt="image-20200220151049446" style="zoom:150%"><p>åŠåŠ å™¨å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200211204327584.png" alt="image-20200211204327584"></p><p>å°†å…¶æŠ½è±¡åŒ–ï¼ŒæŠŠâ€œæŠŠå‡æœŸâ€å°è£…æˆä¸€ä¸ªå•ç‹¬ç»„ä»¶ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200211204510442.png" alt="image-20200211204510442"></p><h3 id="å…¨åŠ å™¨ï¼ˆFull-Adderï¼‰"><a href="#å…¨åŠ å™¨ï¼ˆFull-Adderï¼‰" class="headerlink" title="å…¨åŠ å™¨ï¼ˆFull Adderï¼‰:"></a>å…¨åŠ å™¨ï¼ˆFull Adderï¼‰:</h3><p>å¦‚æœæƒ³è¦å¤„ç†å¤šä½äºŒè¿›åˆ¶æ•°åŠ æ³•æ—¶ï¼Œå°±éœ€è¦<strong>å…¨åŠ å™¨ï¼ˆFull Adderï¼‰</strong>ï¼Œå› ä¸ºåŠåŠ å™¨è®¡ç®—å®Œå½“å‰ä½çš„ç»“æœåï¼Œä¼šè¾“å‡ºè¿›ä½ï¼Œæ„å‘³ç€è®¡ç®—ä¸‹ä¸€ä½çš„ç»“æœæ—¶ï¼Œè¦å°†ä¸¤ä¸ªè¾“å…¥ä»¥åŠå‰ä¸€ä½çš„è¿›ä½ç›¸åŠ ã€‚æˆ‘ä»¬å¯ä»¥å¾—åˆ°<strong>å…¨åŠ å™¨</strong>çš„çœŸå€¼è¡¨ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-f41514f0f20020dd462462f3d58bbcc4_r.jpg" alt="preview"></p><center>å…¨åŠ å™¨çœŸå€¼è¡¨</center>![image-20200211205005097](https://longlongqin.gitee.io/image_save/images/assets/image-20200211205005097.png)<p>æˆ‘ä»¬è¿™é‡Œå¯ä»¥ä½¿ç”¨åŠåŠ å™¨æ¥å®ç°å…¨åŠ å™¨ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªåŠåŠ å™¨ç»“æœå½“åšæ˜¯INPUT A å’ŒINPUT Bç›¸åŠ åçš„ç»“æœï¼Œç„¶åå°†SUMå½“åšæ˜¯æ–°çš„INPUT Aï¼Œè€ŒPRE CARRYå½“åšæ˜¯æ–°çš„INPUT Bè¾“å…¥åˆ°æ–°çš„åŠåŠ å™¨ä¸­ï¼Œå¯ä»¥å‘ç°å…¶SUMç»“æœå’Œå…¨åŠ å™¨SUMç»“æœç›¸åŒã€‚è€Œå…¨åŠ å™¨çš„CARRYåªè¦å¯¹è¿™ä¸¤ä¸ªåŠåŠ å™¨çš„CARRYè¿›è¡ŒORè¿ç®—å°±å¯ä»¥äº†ã€‚ï¼ˆ<strong>æ³¨æ„ï¼š</strong>è¿™ä¸¤ä¸ªåŠåŠ å™¨ä¸ä¼šåŒæ—¶å‡ºç°è¿›ä½ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-cd2bf02b43475d66ab37e88a47df4eb2_hd.jpg" alt="img"></p><p>åŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¨åŠ å™¨è¿›è¡ŒæŠ½è±¡ï¼Œå¾—åˆ°ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªè¾“å…¥å’Œä¸¤ä¸ªè¾“å‡ºçš„ç‹¬ç«‹éƒ¨ä»¶ã€‚</p><p>ç”±æ­¤æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸¤ä¸ª8ä½æ•°å­—ç›¸åŠ ï¼Œè¡¨ç¤ºä¸ºAå’ŒB:</p><ol><li>å¯¹Aå’ŒBçš„ç¬¬ä¸€ä½è¿›è¡Œç›¸åŠ æ—¶ï¼Œç”±äºä¸å­˜åœ¨è¿›ä½ï¼Œæ‰€ä»¥å€¼ä½¿ç”¨ä¸€ä¸ªåŠåŠ å™¨å°±èƒ½å®ç°ï¼Œè¿™ä¸ªåŠåŠ å™¨çš„SUMå°±ä¸ºè¯¥ä½çš„ç»“æœï¼ŒCARRYå°±ä¸ºè¿›ä½ã€‚</li><li>åç»­çš„7ä½äºŒè¿›åˆ¶ç›¸åŠ ï¼Œç”±äºæ¯ä¸€ä¸ªéƒ½æ¶‰åŠäº†ä¸Šä¸€ä½çš„è¿›ä½ï¼Œæ‰€ä»¥åç»­éœ€è¦7ä¸ªå…¨åŠ å™¨ï¼Œå¹¶ä¸”æ¯ä¸ªå…¨åŠ å™¨çš„CARRYè¦è¿æ¥åˆ°ä¸‹ä¸€ä¸ªå…¨åŠ å™¨çš„è¾“å…¥ï¼Œè€Œæ¯ä¸ªå…¨åŠ å™¨çš„SUMå°±ä¸ºè¯¥ä½çš„ç»“æœã€‚</li><li>æœ€åä¸€ä¸ªå…¨åŠ å™¨æœ‰CARRYçš„è¾“å‡ºï¼Œå¦‚æœè¯¥CARRYä¸º1ï¼Œå°±è¡¨ç¤ºç›¸åŠ ç»“æœå¤ªå¤§äº†ï¼Œè¶…å‡ºäº†8ä½ï¼Œæ‰€ä»¥å‡ºç°äº†<strong>æº¢å‡ºï¼ˆoverflowï¼‰</strong>ã€<strong>æº¢å‡ºï¼š</strong>ä¸€èˆ¬æ¥è¯´ â€œæº¢å‡ºâ€ çš„æ„æ€æ˜¯, ä¸¤ä¸ªæ•°å­—çš„å’Œå¤ªå¤§äº†ï¼Œè¶…è¿‡äº†ç”¨æ¥è¡¨ç¤ºçš„ä½æ•°ï¼Œè¿™ä¼šå¯¼è‡´é”™è¯¯å’Œä¸å¯é¢„æœŸçš„ç»“æœã€‚ã€‘ã€‚</li></ol><p>ç”±æ­¤ï¼Œæˆ‘ä»¬å°±æ„å»ºå‡ºäº†ä¸€ä¸ª<strong>8ä½åŠ æ³•å™¨ï¼ˆ8-bit adderï¼‰</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-232e40f98a8adcf998b256bfe5c52bae_hd.jpg" alt="img"></p><p>é€šè¿‡è¿æ¥1ä¸ªåŠåŠ å™¨å’Œn-1ä¸ªå…¨åŠ å™¨ï¼Œå°±èƒ½æ„å»ºnä½åŠ æ³•å™¨ã€‚é€šè¿‡å åŠ æ›´å¤šçš„åŠ æ³•å™¨ï¼Œèƒ½å¤Ÿé¿å…æº¢å‡ºçš„å‡ºç°ï¼Œä½†æ˜¯ä¼šå‡ºç°æ›´å¤šçš„é€»è¾‘é—¨ï¼Œè€Œä¸”æ¯æ¬¡è¿›ä½éƒ½è¦ä¸€äº›æ—¶é—´ï¼Œè€Œè®¡ç®—æ˜¯ä¸²è¡Œçš„ï¼Œæ‰€ä»¥æ¶ˆè€—çš„æ—¶é—´ä¹Ÿè¶Šé•¿ï¼Œåˆ°å¦‚ä»Šçš„æ¯ç§’å‡ åäº¿æ¬¡è¿ç®—æ—¶å°±ä¼šé€ æˆå½±å“ï¼Œæ‰€ä»¥ç°ä»£è®¡ç®—æœºç”¨çš„åŠ æ³•ç”µè·¯æœ‰æ‰€ä¸åŒï¼Œç§°ä¸º<strong>è¶…å‰è¿›ä½åŠ æ³•å™¨ï¼ˆCarry-Look-Ahead Adderï¼‰ã€‚</strong></p><p><strong>ALUé€šå¸¸æ”¯æŒä»¥ä¸‹æ“ä½œï¼š</strong>åŠ æ³•ã€å¸¦è¿›ä½çš„åŠ æ³•ã€å‡æ³•ã€å¸¦å€Ÿä½çš„å‡æ³•ã€å–åã€å¢1ã€å‡1ã€æ•°å­—æ— æ”¹å˜é€šè¿‡ã€‚è¿™äº›æ“ä½œä¹Ÿæ˜¯ç”±é€»è¾‘é—¨æ„æˆçš„ã€‚<strong>æ³¨æ„ï¼š</strong>ç®€å•çš„ALUå¹¶==ä¸==æ”¯æŒä¹˜æ³•ï¼Œè€Œæ˜¯æŠŠä¹˜æ³•ç”¨å¤šæ¬¡åŠ æ³•æ¥å®ç°ï¼Œè€Œæ›´å¥½çš„å¤„ç†å™¨æœ‰ä¸“é—¨åšä¹˜æ³•çš„ç®—æ•°å•å…ƒã€‚</p><h2 id="2ï¼‰é€»è¾‘å•å…ƒ"><a href="#2ï¼‰é€»è¾‘å•å…ƒ" class="headerlink" title="2ï¼‰é€»è¾‘å•å…ƒ"></a>2ï¼‰é€»è¾‘å•å…ƒ</h2><p><strong>é€»è¾‘å•å…ƒï¼š</strong>æ‰§è¡Œé€»è¾‘æ“ä½œï¼Œæ¯”å¦‚ANDã€ORå’ŒNOTæ“ä½œï¼Œä¹Ÿèƒ½åšç®€å•çš„æ•°å€¼æµ‹è¯•ï¼Œæ¯”å¦‚æ•°å­—æ˜¯ä¸æ˜¯è´Ÿæ•°ã€‚</p><p>å¯¹æ•´ä¸ª8ä½ALUè¿›è¡ŒæŠ½è±¡ï¼Œç”¨ä¸€ä¸ªç‰¹æ®Šçš„Vå½¢ç¬¦å·è¿›è¡Œè¡¨ç¤ºã€‚å…¶ä¸­æœ‰ä¸¤ä¸ª<strong>8ä½è¾“å…¥</strong>ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ª4ä½<strong>æ“ä½œç ï¼ˆOperation Codeï¼‰</strong>æ¥å‘Šè¯‰ALUå¯¹è¾“å…¥æ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œæ¯”å¦‚1000è¡¨ç¤ºåŠ æ³•å‘½ä»¤ï¼Œ1100è¡¨ç¤ºå‡æ³•å‘½ä»¤ï¼Œç„¶åæœ‰ä¸€ä¸ª<strong>8ä½è¾“å‡º</strong>ã€‚åŒæ—¶ALUä¼šè¾“å‡ºä¸€ç³»åˆ—1ä½<strong>æ ‡å¿—ï¼ˆFLAGï¼‰</strong>ï¼Œæ¥è¡¨ç¤ºç‰¹å®šçŠ¶æ€ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥è®¡ç®—A-Bï¼Œç„¶åé€šè¿‡ZEROæ¥åˆ¤æ–­ç»“æœæ˜¯å¦ä¸ºé›¶æ¥åˆ¤æ–­Aä¸Bæ˜¯å¦ç›¸ç­‰ï¼Œé€šè¿‡NEGATIVEæ¥åˆ¤æ–­Aæ˜¯å¦å°äºBï¼›ç„¶åOVERFLOWè¿æ¥åˆ°åŠ æ³•å™¨çš„è¿›ä½ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å‡ºç°æº¢å‡ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-324be370be80687e69aeb12d8173dccd_hd.jpg" alt="img"></p><hr><h1 id="6ã€å¯„å­˜å™¨-amp-å†…å­˜"><a href="#6ã€å¯„å­˜å™¨-amp-å†…å­˜" class="headerlink" title="6ã€å¯„å­˜å™¨&amp;å†…å­˜"></a>6ã€å¯„å­˜å™¨&amp;å†…å­˜</h1><p>ä¸ŠèŠ‚ä¸­ä»‹ç»çš„ALUè¿›è¡Œè®¡ç®—åå¾—åˆ°çš„ç»“æœéœ€è¦å¯¹å…¶è¿›è¡Œå­˜å‚¨ï¼Œå¯èƒ½è¿˜è¦è¿›è¡Œå¤šä¸ªè¿ç»­æ“ä½œï¼Œè¿™å°±éœ€è¦ç”¨åˆ°è®¡ç®—æœºå†…å­˜äº†ã€‚è®¡ç®—æœºä½¿ç”¨çš„æ˜¯<strong>éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRandom Access Memory, RAMï¼‰</strong>ï¼Œå…¶åªèƒ½åœ¨<u>æœ‰ç”µ</u>çš„æƒ…å†µä¸‹å­˜å‚¨ä¸œè¥¿ã€‚å¦ä¸€ç§å­˜å‚¨ç§°ä¸º<strong>æŒä¹…å­˜å‚¨ï¼ˆPersistent Memoryï¼‰</strong>ï¼Œç”µæºå…³é—­æ—¶æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œå®ƒç”¨æ¥å­˜å…¶ä»–ä¸œè¥¿ã€‚</p><blockquote><p>éšæœºå­˜å–å­˜å‚¨å™¨(RAM)ï¼šåªèƒ½åœ¨æœ‰ç”µçš„æ—¶å€™å­˜å‚¨ä¸œè¥¿ã€‚ã€ <strong>å†…å­˜</strong>çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼šå¯ä»¥éšæ—¶è®¿é—®ä»»ä½•ä½ç½®ã€‚æ‰€ä»¥å«â€œ<strong>éšæœºå­˜å–å­˜å‚¨å™¨(RAM)</strong>â€ã€‘</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213205406365.png" alt="image-20200213205406365"></p><blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212233032303.png" alt="image-20200212233032303">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212233049692.png" alt="image-20200212233049692">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212233107576.png" alt="image-20200212233107576"></p></blockquote><p>æ”¾å…¥æ•°æ®çš„åŠ¨ä½œå«â€œ<strong>å†™å…¥</strong>â€ï¼Œæ‹¿å‡ºæ•°æ®çš„åŠ¨ä½œå«â€œ<strong>è¯»å–</strong>â€ã€‚</p><p>è¿™ä¸€èŠ‚ä¸­é¦–å…ˆæ„å»ºèƒ½å¤Ÿå­˜å‚¨1ä½çš„å­˜å‚¨å™¨ï¼Œç„¶åå¯¹å…¶æ‰©å±•æ¥å¾—åˆ°å†…å­˜æ¨¡å—ã€‚</p><p>ä¹‹å‰æ„å»ºçš„éƒ½æ˜¯å•å‘ç”µè·¯ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥æ„å»ºå›å‘ç”µè·¯ï¼ŒæŠŠè¾“å‡ºè¿å›è¾“å…¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-81c6dd82241ba3a7de60809922f4e8f7_hd.jpg" alt="img"></p><blockquote><p>1ã€å½“å°†ORé—¨æ„å»ºæˆå›å‘ç”µè·¯æ—¶ï¼Œå¯ä»¥åˆ†æå…¶ç”µè·¯ç‰¹æ€§ï¼š</p><ul><li>Aå’ŒBåˆå§‹ä¸º0æ—¶ï¼Œè¾“å‡ºç»“æœä¸º0</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://pic1.zhimg.com/80/v2-3dd54ae2c78016bfd6eba69be1f34e98_hd.jpg" alt="img"></p><center>å­˜å‚¨0çš„ç”µè·¯</center>- å°†Aä¿®æ”¹ä¸º1æ—¶ï¼Œè¾“å‡ºç»“æœä¸º1ï¼Œæ­¤æ—¶Bçš„è¾“å…¥å°±å˜ä¸ºäº†1ã€‚éšåè¾“å‡ºå§‹ç»ˆä¿æŒä¸º1ï¼Œä¸è®ºAå¦‚ä½•å˜åŒ–ã€‚<p>æ‰€ä»¥è¿™ä¸ªç”µè·¯èƒ½å¤Ÿæ°¸ä¹…è®°å½•1ï¼Œå¹¶ä¸”æ— æ³•å°†1å˜å›0ã€‚</p><p>2ã€åŒç†å¯ä»¥åˆ†æä¸‹ANDé—¨æ„å»ºæˆå›å‘ç”µè·¯æ—¶çš„ç‰¹ç‚¹</p><ul><li><p>Aå’ŒBåˆå§‹åŒ–ä¸º1ï¼Œåˆ™è¾“å‡ºç»“æœä¸º1</p></li><li><p>å°†Aä¿®æ”¹ä¸º0æ—¶ï¼Œè¾“å‡ºç»“æœä¸º0ï¼Œæ­¤æ—¶Bçš„è¾“å…¥å°±å˜æˆäº†0ã€‚éšåè¾“å…¥å§‹ç»ˆä¿æŒä¸º0ï¼Œæ— è®ºAå¦‚ä½•å˜åŒ–ã€‚</p></li></ul><p>æ‰€ä»¥è¿™ä¸ªç”µè·¯èƒ½å¤Ÿæ°¸ä¹…è®°å½•0ï¼Œå¹¶ä¸”æ— æ³•å°†0å˜å›1ã€‚</p></blockquote><p>æ‰€ä»¥æˆ‘ä»¬å°±å¾—åˆ°äº†èƒ½å¤Ÿå­˜å‚¨1å’Œ0çš„ç”µè·¯ï¼Œä¸ºäº†å¾—åˆ°æœ‰ç”¨çš„Memoryï¼Œéœ€è¦å°†ä¸¤ä¸ªç”µè·¯ç»“åˆèµ·æ¥ï¼Œå¯ä»¥å¾—åˆ°<strong>AND-ORé”å­˜å™¨ï¼ˆAND-OR Latchï¼‰</strong>ï¼Œä¸Šæ–¹çš„æ˜¯SETè¾“å…¥ï¼Œä¸‹æ–¹çš„æ˜¯RESETè¾“å…¥ï¼Œå½“SET=1ã€RESET=0ï¼Œå°±èƒ½å°†è¾“å‡ºè®¾ç½®ä¸º1ï¼Œå½“RESET=1ï¼Œå°±èƒ½å°†è¾“å‡ºè®¾ç½®ä¸º0ï¼Œå½“SET=0ã€RESET=0ï¼Œåˆ™è¾“å‡ºæœ€åæ”¾å…¥çš„å†…å®¹ã€‚ç”±æ­¤èƒ½å¤Ÿå­˜å‚¨1ä½çš„ä¿¡æ¯ï¼ˆè¯¥ä¿¡æ¯å­˜å‚¨åœ¨ORé—¨ä¸Šæ–¹çš„è¾“å…¥ç”µæä¸­ï¼‰ï¼</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200220160959766.png" alt="image-20200220160959766"></p><p>è¿™å«â€é”å­˜â€, å› ä¸ºå®ƒâ€é”å®šâ€äº†ä¸€ä¸ªå€¼ï¼Œæ”¾å…¥æ•°æ®çš„åŠ¨ä½œå« â€œå†™å…¥â€ ï¼Œæ‹¿å‡ºæ•°æ®çš„åŠ¨ä½œå« â€œè¯»å–â€ã€‚</p><p>å¯¹å…¶è¿›è¡ŒSETå’ŒRESETè¿›è¡Œåˆå¹¶ï¼Œå¹¶æ·»åŠ å…¶ä»–é—¨æ§å•å…ƒï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ª<strong>é—¨é”ï¼ˆGATE LATCHï¼‰</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212230438229.png" alt="image-20200212230438229"></p><center>é—¨é”</center>å…¶ä¸­DATE INPUTè¡¨ç¤ºæ•°æ®è¾“å…¥ï¼ŒWRITE ENABLEè¡¨ç¤ºå…è®¸å†™å…¥çº¿ï¼Œç”¨æ¥æ§åˆ¶æ˜¯å¦ä¿å­˜å½“å‰è¾“å…¥çš„æ•°æ®ã€‚å¯¹è¿™ä¸ªç”µè·¯è¿›è¡Œåˆ†æã€‚<p>å¯ä»¥å°†é—¨é”è¿›è¡Œ<u>æŠ½è±¡</u>ï¼Œå¾—åˆ°ä¸€ä¸ªèƒ½å¤Ÿå­˜å‚¨<strong>ä¸€ä¸ªbit</strong>çš„éƒ¨ä»¶ã€‚å½“å…è®¸å†™å…¥çº¿ä¸º0æ—¶ï¼Œè¾“å‡ºä¿æŒä¸å˜ï¼Œå½“å…è®¸å†™å…¥çº¿ä¸º1æ—¶ï¼Œè¾“å‡ºå°±æ˜¯æ•°æ®è¾“å…¥ï¼Œå¹¶ä¸”èƒ½å¤Ÿå°†æ•°æ®è¾“å…¥è¿›è¡Œå­˜å‚¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212230837936.png" alt="image-20200212230837936"></p><center>é—¨é”çš„æŠ½è±¡</center>å¦‚æœæˆ‘ä»¬å¹¶æ’8ä¸ªé”å­˜å™¨ï¼Œå°±èƒ½å­˜å‚¨8ä½ä¿¡æ¯ã€‚ä¸€ç»„è¿™æ ·çš„é”å­˜å™¨ç§°ä¸º**å¯„å­˜å™¨ï¼ˆRegisterï¼‰**ï¼Œå¯„å­˜å™¨èƒ½å¤Ÿå­˜ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—çš„ä½æ•°ç§°ä¸ºå¯„å­˜å™¨çš„**ä½å®½ï¼ˆWidthï¼‰**ã€‚<p>å†™å…¥å¯„å­˜å™¨ä¹‹å‰ï¼Œè¦å…ˆå¯åŠ¨é‡Œé¢æ‰€æœ‰çš„é”å­˜å™¨ï¼Œå¯ä»¥å°†æ‰€æœ‰é”å­˜å™¨çš„å…è®¸å†™å…¥çº¿éƒ½è¿æ¥åœ¨ä¸€èµ·ï¼ŒæŠŠå®ƒè®¾ä¸º1ï¼Œç„¶åç”¨8æ¡æ•°æ®çº¿å‘é€æ•°æ®ï¼Œç„¶åå°†å…è®¸å†™å…¥çº¿è®¾å›0ï¼Œå°±èƒ½å°†8ä½æ•°æ®å­˜å‚¨åœ¨å¯„å­˜å™¨ä¸­ã€‚</p><blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212231015481.png" alt="image-20200212231015481"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212231043071.png" alt="image-20200212231043071"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212231125590.png" alt="image-20200212231125590"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212231159981.png" alt="image-20200212231159981"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212231218808.png" alt="image-20200212231218808">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200212231232434.png" alt="image-20200212231232434"></p></blockquote><h2 id="å¯„å­˜å™¨ï¼š"><a href="#å¯„å­˜å™¨ï¼š" class="headerlink" title="å¯„å­˜å™¨ï¼š"></a>å¯„å­˜å™¨ï¼š</h2><p>ä¸Šé¢æ˜¯åªèƒ½å­˜å‚¨1bitçš„â€œ<strong>é”å­˜å™¨</strong>â€ï¼Œå¦‚æœæˆ‘ä»¬å¹¶æ’æ”¾8ä¸ªé”å­˜å™¨ï¼Œå°±å¯ä»¥å­˜8ä½(bits)ä¿¡æ¯ã€‚</p><p>ä¸€ç»„è¿™æ ·çš„é”å­˜å™¨å«åšâ€œ<strong>å¯„å­˜å™¨</strong>â€ã€‚</p><p>1ã€<strong>ä½å®½</strong></p><p>å¯„å­˜å™¨èƒ½å­˜ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—æœ‰å¤šå°‘ä½ï¼Œå«åšâ€œ<strong>ä½å®½</strong>â€ã€‚</p><p>$æ—©æœŸç”µè„‘ç”¨8ä½å¯„å­˜å™¨ï¼Œç„¶åæ˜¯16ä½ã€32ä½ã€‚å¦‚ä»Šéƒ½æœ‰64ä½å®½çš„å¯„å­˜å™¨ã€‚$</p><blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213201814518.png" alt="image-20200213201814518">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213201940951.png" alt="image-20200213201940951">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213202116937.png" alt="image-20200213202116937">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213202136340.png" alt="image-20200213202136340"></p><p>æ‰€ä»¥ï¼Œå¦‚64ä½çš„å¯„å­˜å™¨åªéœ€è¦129æ¡çº¿å°±å¯ä»¥äº†ã€‚ã€64æ¡æ˜¯â€œæ•°æ®è¾“å…¥çº¿â€ã€â€œ64æ¡æ•°æ®è¾“å‡ºçº¿â€ã€â€œä¸€æ¡å¯ç”¨å†™å…¥çº¿â€ã€‘ã€‚</p><p>å¦‚æœè¦å­˜256ä½ï¼Œå°±éœ€è¦513æ¡çº¿ã€‚å‡å°‘çº¿æ•°çš„æ–¹æ³•å°±æ˜¯ï¼š<strong>çŸ©é˜µ</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213202534237.png" alt="image-20200213202534237">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213202641868.png" alt="image-20200213202641868"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213202711027.png" alt="image-20200213202711027"></p><p>æ‰€ä»¥ï¼Œå¯¹äºä¸€ä¸ª256ä½çš„å­˜å‚¨ï¼šåªéœ€è¦35æ¡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213202942105.png" alt="image-20200213202942105">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213203005839.png" alt="image-20200213203005839"></p><p>å¦‚æœæƒ³è¦è®¿é—®ç‰¹å®šçš„é”å­˜å™¨ï¼ˆå³å¯»æ‰¾å…¶åœ°å€ï¼‰ï¼Œï¼ˆç”±äºè¡Œæ•°å’Œåˆ—æ•°å‡åªæœ‰16ï¼Œæ‰€ä»¥å‡å¯ä»¥ç”¨4ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºã€‚ï¼‰å°±æœ‰è¡Œå·å’Œåˆ—å·æ¥å¯¹åº”ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213203515940.png" alt="image-20200213203515940">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213203551017.png" alt="image-20200213203551017">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213203634252.png" alt="image-20200213203634252">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213203648070.png" alt="image-20200213203648070"></p><blockquote><p><strong>å¤šè·¯å¤ç”¨å™¨</strong>ï¼šæœ‰ä¸åŒå¤§å°ã€‚é€šå¸¸åŒ…å«ä¸€å®šæ•°ç›®çš„æ•°æ®è¾“å…¥ï¼Œæœ‰ä¸€ä¸ªå•ç‹¬çš„è¾“å‡ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213203948627.png" alt="image-20200213203948627"></p></blockquote><p>æŠŠ256ä½å†…å­˜å½“æˆä¸€ä¸ªæ•´ä½“ï¼ŒæŠ½è±¡åŒ–ä¸€ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204207689.png" alt="image-20200213204207689">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204308742.png" alt="image-20200213204308742">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204324322.png" alt="image-20200213204324322"></p><p>ä¸€ä¸ª256ä½å†…å­˜ä¹Ÿä¸èƒ½åšä»€ä¹ˆå¤§äº‹ï¼Œæ‰€ä»¥ç»§ç»­æ‰©å¤§ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204433307.png" alt="image-20200213204433307">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204508271.png" alt="image-20200213204508271">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204556045.png" alt="image-20200213204556045">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204731314.png" alt="image-20200213204731314">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204837880.png" alt="image-20200213204837880"></p><p>å†æ¬¡ï¼Œçœ‹æˆä¸€ä¸ªæ•´ä½“ï¼š</p><p>ä¸‹å›¾ä¸­ï¼šæˆ‘ä»¬æœ‰256ä¸ªåœ°å€ï¼Œæ¯ä¸ªåœ°å€èƒ½è¯»æˆ–å†™ä¸€ä¸ª8ä½(bit)çš„å€¼ã€‚<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213204931499.png" alt="image-20200213204931499">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213205132085.png" alt="image-20200213205132085">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213205150693.png" alt="image-20200213205150693">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213205208450.png" alt="image-20200213205208450">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213205234980.png" alt="image-20200213205234980">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200213205253990.png" alt="image-20200213205253990"></p></blockquote><p>è¿™ä¸€èŠ‚ç”¨é”å­˜å™¨åšäº†ä¸€å—<strong>é™æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆStatic Random-Access Memoryï¼ŒSRAMï¼‰</strong>ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–ç±»å‹çš„RAMï¼Œæ¯”å¦‚DRAMã€é—ªå­˜å’ŒNVRAMï¼Œå®ƒä»¬çš„åŠŸèƒ½å’ŒSRAMç›¸ä¼¼ï¼Œä½†æ˜¯ä½¿ç”¨ä¸åŒçš„ç”µè·¯å­˜æ”¾å•ä¸ªä½ã€‚ä½†æ˜¯æ ¹æœ¬ä¸Šï¼Œè¿™äº›æŠ€æœ¯éƒ½æ˜¯çŸ©é˜µå±‚å±‚åµŒå¥—æ¥å­˜å‚¨å¤§é‡ä¿¡æ¯ã€‚</p><h1 id="7ã€ä¸­å¤®å¤„ç†å™¨-CPU"><a href="#7ã€ä¸­å¤®å¤„ç†å™¨-CPU" class="headerlink" title="7ã€ä¸­å¤®å¤„ç†å™¨(CPU)"></a>7ã€ä¸­å¤®å¤„ç†å™¨(CPU)</h1><p>CPUè´Ÿè´£æ‰§è¡Œç¨‹åºï¼Œç¨‹åºç”±ä¸€ä¸ªä¸ªæ“ä½œç»„æˆï¼Œè¿™äº›æ“ä½œå«â€œæŒ‡ä»¤(instruction)â€ã€‚</p><p>å¦‚æœæ˜¯<strong>æ•°å­¦æŒ‡ä»¤</strong>ï¼Œæ¯”å¦‚åŠ å‡ï¼ŒCPUä¼šè®©ALUè¿›è¡Œæ•°å­¦è¿ç®—ã€‚å¦‚æœæ˜¯<strong>å†…å­˜æŒ‡ä»¤</strong>ï¼ŒCPUä¼šå’Œå†…å­˜é€šä¿¡ï¼Œç„¶åè¯»å†™å€¼ã€‚</p><h1 id="9ã€é«˜çº§CPUè®¾è®¡"><a href="#9ã€é«˜çº§CPUè®¾è®¡" class="headerlink" title="9ã€é«˜çº§CPUè®¾è®¡"></a>9ã€é«˜çº§CPUè®¾è®¡</h1><p>RAMæ˜¯CPUä¹‹å¤–çš„ç‹¬ç«‹ç»„ä»¶ï¼Œæ„å‘³ç€æ•°æ®è¦ç”¨çº¿æ¥ä¼ é€’ï¼Œè¿™ä¸ªçº¿å«åšâ€œ<strong>æ€»çº¿ï¼ˆBUSï¼‰</strong>â€ã€‚</p><p>$æ€»çº¿å¯èƒ½åªæœ‰å‡ å˜ç±³ï¼Œè™½ç„¶ç”µä¿¡å·ä¼ è¾“é€Ÿåº¦æ¥è¿‘å…‰é€Ÿï¼Œä½†æ˜¯CPUæ¯ç§’å¯ä»¥å¤„ç†ä¸Šäº¿æ¡æŒ‡ä»¤ï¼Œå¾ˆå°çš„å»¶è¿Ÿä¹Ÿä¼šé€ æˆé—®é¢˜ã€‚$</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214194800104.png" alt="image-20200214194800104">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214195130456.png" alt="image-20200214195130456"></p><h2 id="æå‡æ€§èƒ½æ–¹æ³•ä¸€ï¼šç¼“å­˜"><a href="#æå‡æ€§èƒ½æ–¹æ³•ä¸€ï¼šç¼“å­˜" class="headerlink" title="æå‡æ€§èƒ½æ–¹æ³•ä¸€ï¼šç¼“å­˜"></a>æå‡æ€§èƒ½æ–¹æ³•ä¸€ï¼šç¼“å­˜</h2><p>ä¸€æ¡â€œä»å†…å­˜è¯»æ•°æ®â€çš„æŒ‡ä»¤å¯èƒ½éœ€è¦å¤šä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè€Œæ­¤æ—¶CPUç©ºç­‰æ•°æ®ã€‚è§£å†³å»¶è¿Ÿçš„æ–¹æ³•ä¹‹ä¸€æ˜¯ç»™CPUåŠ ä¸€ç‚¹RAM,å«ï¼šâ€œ<strong>ç¼“å­˜(Cache)</strong>â€ã€‚å› ä¸ºå¤„ç†å™¨çš„ç©ºé—´ä¸å¤§ï¼Œæ‰€ä»¥ç¼“å­˜ä¸€èˆ¬åªæœ‰KBæˆ–MBï¼Œè€ŒRAMéƒ½æ˜¯GBèµ·æ­¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214195534052.png" alt="image-20200214195534052"></p><p>ç¼“å­˜æé«˜äº†é€Ÿåº¦ï¼šå½“CPUä»RAMæ‹¿æ•°æ®æ—¶ï¼ŒRAMä¸ç”¨ä¼ ä¸€ä¸ªï¼Œå¯ä»¥ä¼ ä¸€æ‰¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214195800275.png" alt="image-20200214195800275"></p><p>è™½ç„¶èŠ±çš„æ—¶é—´å¤šä¸€ç‚¹ï¼Œä½†æ•°æ®å¯ä»¥å­˜åœ¨ç¼“å­˜ã€‚è¿™å¾ˆå®ç”¨ï¼Œå› ä¸ºæ•°æ®å¸¸å¸¸æ˜¯ä¸€ä¸ªä¸ªæŒ‰é¡ºåºå¤„ç†ã€‚æ¯”å¦‚ï¼šç®—é¤å…çš„å½“æ—¥æ”¶å…¥æ—¶ï¼Œå…ˆå–RAMåœ°å€ä¸º100 çš„äº¤æ˜“é¢ï¼ŒRAMä¸å…¶åªç»™ä¸€ä¸ªå€¼ï¼Œä¸å¦‚ç›´æ¥ç»™ä¸€æ‰¹å€¼ï¼ŒæŠŠåœ°å€ä¸º100~200çš„æ•°æ®éƒ½å¤åˆ¶åˆ°ç¼“å­˜ä¸­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214200104046.png" alt="image-20200214200104046"></p><p>å½“å¤„ç†å™¨è¦ä¸‹ä¸€ä¸ªäº¤æ˜“é¢ï¼ˆåœ°å€ä¸º101çš„ï¼‰æ—¶ï¼Œç¼“å­˜å°±ä¼šå‘Šè¯‰å¤„ç†å™¨ï¼šâ€œæˆ‘å·²ç»æœ‰è¿™ä¸ªæ•°æ®äº†ï¼Œç°åœ¨å°±ç»™ä½ â€ã€‚å°±ä¸ç”¨å†å»RAMå–æ•°æ®äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214200354398.png" alt="image-20200214200354398">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214200419065.png" alt="image-20200214200419065"></p><p>å½“æƒ³è¦çš„æ•°æ®å·²ç»åœ¨ç¼“å­˜ä¸­æ—¶ï¼Œè¿™ç§çŠ¶æ€å«â€œ<strong>ç¼“å­˜å‘½ä¸­</strong>ï¼ˆCache Hitï¼‰â€ï¼›å¦‚æœä¸åœ¨ï¼Œåˆ™å«â€œ<strong>ç¼“å­˜æœªå‘½ä¸­ï¼ˆCache Missï¼‰</strong>â€ã€‚</p><p>ç¼“å­˜ä¹Ÿå¯ä»¥å½“ä¸´æ—¶ç©ºé—´ï¼Œå­˜ä¸€äº›ä¸­é—´å€¼ï¼Œé€‚åˆé•¿çš„æˆ–è€…å¤æ‚çš„è¿ç®—ã€‚ç»§ç»­é¤é¦†çš„ä¾‹å­ï¼šå‡è®¾CPUç®—å®Œäº†ä¸€å¤©çš„é”€å”®é¢ï¼Œæƒ³æŠŠç»“æœå­˜åˆ°åœ°å€ä¸º150çš„åœ°æ–¹ã€‚å°±åƒä¹‹å‰ï¼Œæ•°æ®ä¸æ˜¯ç›´æ¥å­˜åˆ°RAMä¸­ï¼Œè€Œæ˜¯å­˜åœ¨ç¼“å­˜ä¸­ã€‚è¿™æ ·ä¸ä½†å­˜èµ·æ¥å¿«ä¸€äº›ã€å¦‚æœè¿˜è¦æ¥ç€è®¡ç®—ï¼Œå–å€¼ä¹Ÿä¼šå¿«ä¸€äº›ã€‚</p><p>ä½†æ˜¯è¿™ä¼šå¯¼è‡´ï¼šç¼“å­˜å’ŒRAMä¸­çš„æ•°æ®ä¸ä¸€è‡´ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214201154364.png" alt="image-20200214201154364"></p><p>å› æ­¤ç¼“å­˜é‡Œæ¯å—ç©ºé—´æœ‰ä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œå«ï¼šâ€œ<strong>è„ä½ï¼ˆDirty Bitï¼‰</strong>â€ã€‚</p><p>åŒæ­¥ä¸€èˆ¬å‘ç”Ÿåœ¨ï¼šå½“ç¼“å­˜æ»¡äº†è€ŒCPUåˆéœ€è¦ç¼“å­˜çš„æ—¶å€™ã€‚åœ¨æ¸…ç†ç¼“å­˜è…¾å‡ºç©ºé—´ä¹‹å‰ï¼Œä¼šå…ˆæ£€æŸ¥â€œè„ä½â€ï¼Œå¦‚æœæ˜¯â€œè„â€çš„è¯ï¼Œåœ¨åŠ è½½æ–°å†…å®¹ä¹‹å‰ï¼Œä¼šæŠŠæ•°æ®å†™å›RAMã€‚</p><p>![æ¼”ç¤º (3)](<a href="https://longlongqin.gitee.io/image_save/images/assets/æ¼”ç¤º" target="_blank" rel="noopener">https://longlongqin.gitee.io/image_save/images/assets/æ¼”ç¤º</a> (3).gif)</p><h2 id="æå‡æ€§èƒ½æ–¹æ³•äºŒï¼šâ€œæŒ‡ä»¤æµæ°´çº¿â€"><a href="#æå‡æ€§èƒ½æ–¹æ³•äºŒï¼šâ€œæŒ‡ä»¤æµæ°´çº¿â€" class="headerlink" title="æå‡æ€§èƒ½æ–¹æ³•äºŒï¼šâ€œæŒ‡ä»¤æµæ°´çº¿â€"></a>æå‡æ€§èƒ½æ–¹æ³•äºŒï¼šâ€œæŒ‡ä»¤æµæ°´çº¿â€</h2><blockquote><p>æŒ‡ä»¤æµæ°´çº¿ï¼šinstruction pipelining</p></blockquote><p>ä¾‹å¦‚ï¼šå¦‚æœä½ æƒ³è¦æ´—ä¸€æ•´ä¸ªçš„åºŠå•ï¼Œä½†åªæœ‰ä¸€ä¸ªæ´—è¡£æœºå’Œä¸€ä¸ªçƒ˜å¹²æœºã€‚</p><blockquote><p>é€‰æ‹©ä¸€ï¼šæŒ‰é¡ºåºï¼Œå…ˆæ”¾æ´—è¡£æœºæ´—30åˆ†é’Ÿï¼Œç„¶ååœ¨çƒ˜å¹²æœº30åˆ†é’Ÿã€‚å…±è®¡1å°æ—¶ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214203334316.png" alt="image-20200214203334316"></p><p>é€‰æ‹©äºŒï¼šåƒä¸€ä¸­ä¸€æ ·ï¼Œå…ˆæ”¾ä¸€æ‰¹åºŠå•åˆ°æ´—è¡£æœº30åˆ†é’Ÿï¼Œç„¶åæŠŠå®ƒæ”¾åˆ°çƒ˜å¹²æœºä¸­ã€‚ä½†æ˜¯è¿™æ—¶å€™è¦ç­‰30åˆ†é’Ÿæ‰èƒ½çƒ˜å¹²ã€‚æ­¤æ—¶ï¼Œå¯ä»¥æ”¾å¦ä¸€æ‰¹åºŠå•åˆ° æ´—è¡£æœºï¼ˆæ­¤æ—¶ï¼Œæ´—è¡£æœºï¼Œçƒ˜å¹²æœºåœ¨åŒæ—¶å·¥ä½œï¼‰ï¼Œä¾æ¬¡ï¼Œç›´åˆ°æ´—å®Œæ‰€æœ‰åºŠå•ã€‚æ•ˆç‡æ˜¯ä¸€çš„2å€ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214203636909.png" alt="image-20200214203636909"></p></blockquote><p>å¤„ç†å™¨ä¹Ÿå¯ä»¥è¿™æ ·è®¾è®¡ï¼ŒCPUæ˜¯æŒ‰é¡ºåºå¤„ç†çš„ï¼š<strong>(è¯»)å–æŒ‡(ä»¤)â€”â€”&gt;è§£ç â€”â€”&gt;æ‰§è¡Œ</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214203831692.png" alt="image-20200214203831692"></p><p>ä¸æ–­é‡å¤ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214203857837.png" alt="image-20200214203857837"></p><p>ä½†æ˜¯æ¯ä¸ªé˜¶æ®µéƒ½æ˜¯ç”¨çš„CPUçš„ä¸åŒéƒ¨åˆ†ï¼Œæ„å‘³ç€å¯ä»¥å¹¶è¡Œå¤„ç†ï¼šâ€œæ‰§è¡Œâ€ä¸€ä¸ªæŒ‡ä»¤æ—¶ï¼ŒåŒæ—¶â€œè§£ç â€ä¸‹ä¸€ä¸ªæŒ‡ä»¤ï¼ŒåŒæ—¶ï¼Œâ€œè¯»å–â€ä¸‹ä¸‹æ¡æŒ‡ä»¤ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214204249010.png" alt="image-20200214204249010"></p><p>è¿™æ ·çš„æµæ°´çº¿ï¼Œæ¯ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸæ‰§è¡Œ1ä¸ªæŒ‡ä»¤ï¼Œååé‡ä¹˜3.</p><p>ä½†æ˜¯ï¼Œå’Œç¼“å­˜ä¸€æ ·ï¼Œè¿™ä¹Ÿä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼š</p><blockquote><p>é—®é¢˜1ï¼šæŒ‡ä»¤ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214204538900.png" alt="image-20200214204538900">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214204559995.png" alt="image-20200214204559995"></p><p>å› æ­¤æµæ°´çº¿å¤„ç†å™¨ï¼Œè¦å…ˆå¼„æ¸…æ¥š<em>æ•°æ®ä¾èµ–æ€§</em>ã€‚å¿…è¦æ—¶åœæ­¢æµæ°´çº¿ï¼Œé¿å…å‡ºé—®é¢˜ã€‚é«˜ç«¯çš„CPUï¼Œä¼šæœ€å°åŒ–æµæ°´çº¿çš„åœå·¥æ—¶é—´ï¼Œè¿™å«â€œ<strong>ä¹±åºæ‰§è¡Œ</strong>â€ã€‚</p><p>é—®é¢˜äºŒï¼šâ€œæ¡ä»¶è·³è½¬â€ï¼Œæ¯”å¦‚ä¹‹å‰çš„JUMP NEGATIVEï¼ˆç±»ä¼¼å¾ªç¯è·³è½¬ï¼‰ã€‚è¿™äº›æŒ‡ä»¤ä¼šæ”¹å˜ç¨‹åºçš„æ‰§è¡Œæµã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205017629.png" alt="image-20200214205017629">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205037500.png" alt="image-20200214205037500"></p><p>ç©ºç­‰ä¼šé€ æˆå»¶è¿Ÿã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205050629.png" alt="image-20200214205050629"></p><p>â€‹ æŠ€å·§ï¼šâ€œ<strong>æ¨æµ‹æ‰§è¡Œ</strong>â€</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205158772.png" alt="image-20200214205158772">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205214800.png" alt="image-20200214205214800">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205239401.png" alt="image-20200214205239401"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205303755.png" alt="image-20200214205303755">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205314350.png" alt="image-20200214205314350">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205323242.png" alt="image-20200214205323242">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205340699.png" alt="image-20200214205340699"></p><p>ä¸ºäº†å°½å¯èƒ½å‡å°‘æ¸…ç©ºæµæ°´çº¿çš„æ¬¡æ•°ï¼ŒCPUå‚å•†å¼€å‘å¤æ‚çš„æ–¹æ³•ï¼šâ€œ<strong>åˆ†æ”¯é¢„æµ‹</strong>â€ã€‚ç°åœ¨è¿™ç§çŒœæµ‹çš„æ­£ç¡®ç‡è¶…è¿‡90%ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205504704.png" alt="image-20200214205504704"></p><p>åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼ŒCPUåœ¨ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå®Œæˆä¸€ä¸ªæŒ‡ä»¤ã€‚ä½†æ˜¯â€œ<strong>è¶…æ ‡é‡å¤„ç†å™¨</strong>â€çš„å‡ºç°ï¼Œä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå¯ä»¥å®Œæˆå¤šä¸ªæŒ‡ä»¤ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200214205918942.png" alt="image-20200214205918942"></p><p>ç”¨â€œ<strong>å¤šæ ¸å¤„ç†å™¨</strong>â€ã€åŒæ ¸ã€å››æ ¸å¤„ç†å™¨ï¼šæ„æ€æ˜¯ä¸€ä¸ªCPUèŠ¯ç‰‡é‡Œï¼Œæœ‰å¤šä¸ªç‹¬ç«‹çš„å¤„ç†å•å…ƒï¼Œâ€çœ‹èµ·æ¥å°±åƒæœ‰å¤šä¸ªç‹¬ç«‹çš„CPUâ€ã€‚ä½†å› ä¸ºä»–ä»¬æ•´åˆç´§å¯†ï¼Œå¯ä»¥å…±äº«ä¸€äº›èµ„æºå¦‚ï¼Œç¼“å­˜ï¼Œä½¿å¾—å¤šæ ¸å¯ä»¥åˆä½œè¿ç®—ã€‚ã€‘ã€‚å½“å¤šæ ¸ä¸å¤Ÿæ—¶ï¼Œå¯ä»¥ç”¨å¤šä¸ªCPUã€‚</p></blockquote><h1 id="10ã€æ—©æœŸçš„è®¡ç®—æœºç¼–ç¨‹"><a href="#10ã€æ—©æœŸçš„è®¡ç®—æœºç¼–ç¨‹" class="headerlink" title="10ã€æ—©æœŸçš„è®¡ç®—æœºç¼–ç¨‹"></a>10ã€æ—©æœŸçš„è®¡ç®—æœºç¼–ç¨‹</h1><p>â€‹ ä¹‹å‰çš„ç¨‹åºæ˜¯ç”¨<strong>æ’çº¿æ¿</strong>ç¼–ç¨‹ï¼Œåˆ°åæ¥ï¼ˆ1940å¹´ä»£æ™šæœŸåˆ°1950å¹´ä»£åˆï¼‰<strong>å†…å­˜</strong>çš„ä»·æ ¼ä¸‹é™ï¼Œå®¹é‡ä¸Šå‡ï¼Œä½¿å¾—ç¨‹åºå­˜å…¥å†…å­˜å˜å¾—å¯è¡Œã€‚ç¨‹åºå­˜å…¥å†…å­˜ä¸­æ˜“äºä¿®æ”¹ã€æ–¹ä¾¿CPUå¿«é€Ÿè¯»å–ï¼Œè¿™ç±»æœºå™¨å«åšï¼šâ€œ<strong>å­˜å‚¨ç¨‹åºè®¡ç®—æœºï¼ˆStored-program Computersï¼‰</strong>â€ã€‚å†…å­˜è¶³å¤Ÿæ—¶ï¼Œè¿˜å¯ä»¥å­˜å‚¨ç¨‹åºéœ€è¦çš„æ•°æ®ï¼ˆåŒ…æ‹¬è¿è¡Œæ—¶äº§ç”Ÿçš„æ•°æ®ï¼‰ã€‚è¿™ç§å°†ç¨‹åºå’Œæ•°æ®å­˜å‚¨åœ¨ä¸€èµ·çš„å­˜å‚¨ç»“æ„ï¼Œå«â€œ<strong>å†¯è¯ºä¾æ›¼ç»“æ„</strong>â€ã€‚</p><p>â€‹ å†¯è¯ºä¾æ›¼è®¡ç®—æœºçš„æ ‡å¿—æ˜¯ï¼Œä¸€ä¸ªå¤„ç†å™¨ï¼ˆæœ‰ç®—æ•°é€»è¾‘å•å…ƒï¼‰+æ•°æ®å¯„å­˜å™¨+æŒ‡ä»¤å¯„å­˜å™¨+æŒ‡ä»¤åœ°å€å¯„å­˜å™¨+å†…å­˜ï¼ˆè´Ÿè´£å­˜æ•°æ®å’ŒæŒ‡ä»¤ï¼‰ã€‚</p><h1 id="11ã€ç¼–ç¨‹è¯­è¨€å‘å±•å²"><a href="#11ã€ç¼–ç¨‹è¯­è¨€å‘å±•å²" class="headerlink" title="11ã€ç¼–ç¨‹è¯­è¨€å‘å±•å²"></a>11ã€ç¼–ç¨‹è¯­è¨€å‘å±•å²</h1><p>â€‹ è®¡ç®—æœºåªèƒ½å¤„ç†äºŒè¿›åˆ¶ï¼Œå…¶å®ï¼Œâ€œ<strong>æœºå™¨è¯­è¨€ï¼ˆMachine Languageï¼‰</strong>â€æˆ–â€œ<strong>æœºå™¨ç ï¼ˆMachine Codeï¼‰</strong>â€ã€‚åœ¨è®¡ç®—æœºæ—©èµ·ï¼Œè¿˜å¿…é¡»è¦ç”¨æœºå™¨ç  äº›å¥½åƒå‘¢ä¾›éœ€ï¼Œä¸€èˆ¬ä¼šå…ˆå¯¹ç¨‹åºè¿›è¡Œé«˜å±‚æ¬¡çš„åŠŸèƒ½æè¿°ï¼Œç§°ä¸ºâ€œ<strong>ä¼ªä»£ç ï¼ˆPseudo-codeï¼‰</strong>â€ï¼Œåªæ˜¯åŠ©äºç¨‹åºå‘˜ç†è§£æ— æ³•è®©è®¡ç®—æœºè¿è¡Œï¼Œç„¶åæ ¹æ®æŒ‡ä»¤è¡¨å°†ä¼ªä»£ç è½¬æ¢æˆäºŒè¿›åˆ¶æœºå™¨ç ï¼Œç„¶åå°†æœºå™¨ç é€å…¥è®¡ç®—æœºä¸­è¿è¡Œã€‚</p><p>â€‹ åœ¨1940-1950å¹´ï¼Œç¨‹åºå‘˜å¼€å‘å‡ºä¸€ç§æ–°è¯­è¨€ï¼Œæ›´å¯è¯»ã€æ›´é«˜å±‚æ¬¡ï¼Œæ¯ä¸ªæ“ä½œç åˆ†é…ä¸€ä¸ªç®€å•åå­—ï¼Œç§°ä¸º<strong>åŠ©è®°ç¬¦ï¼ˆMnemonicsï¼‰</strong>ï¼ŒåŠ©è®°ç¬¦åè·Ÿæ•°æ®ï¼Œå½¢æˆå®Œæ•´çš„æŒ‡ä»¤ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200215202238984.png" alt="image-20200215202238984"></p><p>æ‰€ä»¥ä¸å…¶å†™0å’Œ1çš„æœºå™¨ç ï¼Œç¨‹åºå‘˜å¯ä»¥ç›´æ¥å†™â€œLOAD_A 14â€ï¼Œè¿™ä¸ªè¯­è¨€ç§°ä¸º<strong>æ±‡ç¼–è¯­è¨€ï¼ˆAssembly Languageï¼‰</strong>ã€‚å½“ç„¶è®¡ç®—æœºæ— æ³•ç†è§£â€œLOAD_A 14â€ï¼Œæ‰€ä»¥ç¨‹åºå‘˜ä»¬å†™äº†ä¸€ä¸ªç¨‹åºæ¥å°†æ–‡å­—æŒ‡ä»¤è‡ªåŠ¨è½¬æ¢æˆäºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œè¿™ä¸ªç¨‹åºç§°ä¸º<strong>æ±‡ç¼–å™¨ï¼ˆAssemblerï¼‰</strong>ï¼Œ$æ±‡ç¼–å™¨è¯»å–æ±‡ç¼–è¯­è¨€å†™çš„ç¨‹åºï¼Œç„¶åè½¬æ¢æˆæœºå™¨ç $ã€‚</p><p>éšç€å‘å±•ï¼Œæ±‡ç¼–å™¨æœ‰è¶Šæ¥è¶Šå¤šçš„åŠŸèƒ½ä½¿å¾—ç¼–ç¨‹æ›´åŠ å®¹æ˜“ï¼Œå…¶ä¸­ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯è‡ªåŠ¨åˆ†æJUMPåœ°å€ã€‚å¦‚ä¸‹å›¾ï¼ŒJUMPåé¢è·Ÿçš„æ˜¯å†…å­˜ä¸­çš„çœŸå®åœ°å€ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä¸Šæ–¹å¯¹ç¨‹åºè¿›è¡Œä¿®æ”¹ï¼Œåˆ™åé¢çš„æ‰€æœ‰åœ°å€éƒ½ä¼šæ”¹å˜ã€‚æ‰€ä»¥<u>æ±‡ç¼–å™¨ä¸ç”¨å›ºå®šè·³è½¬åœ°å€</u>ï¼Œè€Œæ˜¯è®©ä½ æ’å…¥å¯è·³è½¬çš„æ ‡ç­¾ï¼Œå½“ç¨‹åºä¼ å…¥æ±‡ç¼–å™¨ï¼Œæ±‡ç¼–å™¨å°±ä¼šè‡ªå·±æ¨ç®—å‡ºè·³è½¬åœ°å€ï¼Œè¿™æ ·å°±ç¨‹åºå‘˜å°±æ— åºè¿‡åˆ†å…³æ³¨ç»†èŠ‚ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-c044bd0bbaf2c1bc95398ca38ea36153_hd.jpg" alt="img"></p><p>â€‹ $æ±‡ç¼–ä»£ç ä¾‹å­$</p><p>æ±‡ç¼–åªæ˜¯ä¿®é¥°äº†ä¸€ä¸‹æœºå™¨ç ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ<u>ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤å¯¹åº”ä¸€æ¡æœºå™¨æŒ‡ä»¤</u>ï¼Œæ‰€ä»¥æ±‡ç¼–ç å’Œåº•å±‚ç¡¬ä»¶è¿æ¥å¾ˆå¯†åˆ‡ï¼Œç¨‹åºå‘˜ä»éœ€è¦æ€è€ƒä½¿ç”¨ä»€ä¹ˆå¯„å­˜å™¨å’Œå†…å­˜åœ°å€ã€‚ä¸ºäº†é‡Šæ”¾ç”µè„‘çš„æ½œåŠ›ï¼Œéœæ™®è®¾è®¡äº†ä¸€ä¸ªé«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå«åšArithmetic Language Version 0ï¼Œç®€ç§°A0ã€‚ä¸€è¡Œé«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå¯èƒ½ä¼šè½¬æ¢æˆå‡ åæ¡äºŒè¿›åˆ¶æŒ‡ä»¤ã€‚ä¸ºæ­¤åšåˆ°è¿™ç§å¤æ‚è½¬æ¢ï¼Œéœæ™®åœ¨1952å¹´åˆ›é€ äº†ç¬¬ä¸€ä¸ª<strong>ç¼–è¯‘å™¨ï¼ˆCompilerï¼‰</strong>ï¼Œç¼–è¯‘å™¨ä¸“é—¨æŠŠé«˜çº§è¯­è¨€è½¬æ¢æˆä½çº§è¯­è¨€ï¼ˆæ¯”å¦‚æ±‡ç¼– æˆ– æœºå™¨ç ï¼‰ã€‚ç”±æ­¤ï¼Œé«˜çº§ç¼–ç¨‹è¯­è¨€å°±ä¸ç”¨ç®¡å¯„å­˜å™¨æˆ–å†…å­˜ä½ç½®ï¼Œç¼–è¯‘å™¨ä¼šè§£å†³è¿™äº›ç»†èŠ‚ã€‚</p><p>åœ¨1950å¹´ï¼Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€å’Œç¼–è¯‘å™¨åªèƒ½è¿è¡Œåœ¨ä¸€ç§è®¡ç®—æœºä¸­ï¼Œå¦‚æœæ›´æ¢è®¡ç®—æœºï¼Œå°±è¦é‡å†™æ‰€æœ‰ä»£ç ï¼Œå› æ­¤1959å¹´å¼€å‘ä¸€ç§é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥åœ¨ä¸åŒæœºå™¨ä¸Šé€šç”¨ï¼Œæœ€åè¯ç”Ÿäº†ä¸€é—¨é«˜çº§ã€æ˜“äºä½¿ç”¨çš„è¯­è¨€<strong>æ™®é€šé¢å‘å•†ä¸šè¯­è¨€ï¼ˆCommon Business-Oriented Languageï¼ŒCOBOLï¼‰</strong>ã€‚ä¸ºäº†å…¼å®¹ä¸åŒåº•å±‚ç¡¬ä»¶ï¼Œæ¯ä¸ªè®¡ç®—æœºæ¶æ„éœ€è¦ä¸€ä¸ªCOBOLç¼–è¯‘å™¨ï¼Œç”±æ­¤æ— è®ºè¿è¡Œçš„è®¡ç®—æœºæ˜¯ä»€ä¹ˆï¼Œè¿™äº›ç¼–è¯‘å™¨å¯ä»¥æ¥æ”¶ç›¸åŒçš„COBOLä»£ç ã€‚å¦‚ä»Šå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½æ˜¯å¦‚æ­¤ï¼Œä¸å¿…æ¥è§¦CPUç‰¹æœ‰çš„æ±‡ç¼–ç å’Œæœºå™¨ç ã€‚</p><h1 id="12ã€ç¼–ç¨‹åŸç†-è¯­å¥å’Œå‡½æ•°"><a href="#12ã€ç¼–ç¨‹åŸç†-è¯­å¥å’Œå‡½æ•°" class="headerlink" title="12ã€ç¼–ç¨‹åŸç†-è¯­å¥å’Œå‡½æ•°"></a>12ã€ç¼–ç¨‹åŸç†-è¯­å¥å’Œå‡½æ•°</h1><p><code>a=5;</code>æ˜¯ä¸€ä¸ªç¼–ç¨‹è¯­è¨€çš„<strong>è¯­å¥</strong>ã€‚</p><p>ç¨‹åºç”±ä¸€ä¸ªä¸ªæŒ‡ä»¤ç»„æˆã€‚</p><h1 id="13ã€ç®—æ³•å…¥é—¨"><a href="#13ã€ç®—æ³•å…¥é—¨" class="headerlink" title="13ã€ç®—æ³•å…¥é—¨"></a>13ã€ç®—æ³•å…¥é—¨</h1><p><strong>ç®—æ³•</strong>ï¼š<strong>è§£å†³é—®é¢˜çš„å…·ä½“æ­¥éª¤ã€‚</strong></p><h1 id="14ã€æ•°æ®ç»“æ„"><a href="#14ã€æ•°æ®ç»“æ„" class="headerlink" title="14ã€æ•°æ®ç»“æ„"></a>14ã€æ•°æ®ç»“æ„</h1><p>æ•°æ®æ˜¯ä»¥ä»€ä¹ˆå½¢å¼å­˜åœ¨å†…å­˜é‡Œå‘¢ï¼Ÿ<strong>æˆ‘ä»¬å¸Œæœ›æ•°æ®æ˜¯ç»“æ„åŒ–çš„ï¼Œæ–¹ä¾¿è¯»å–</strong>ï¼Œç”±æ­¤å‘æ˜äº†æ•°æ®ç»“æ„ã€‚</p><h2 id="14-1-æ•°ç»„Array"><a href="#14-1-æ•°ç»„Array" class="headerlink" title="14.1 æ•°ç»„Array"></a>14.1 æ•°ç»„Array</h2><p>ä¸€ä¸ªå˜é‡åªèƒ½å­˜å‚¨ä¸€ä¸ªå€¼ï¼Œè€Œä¸€ä¸ªæ•°ç»„å˜é‡èƒ½å¤Ÿä¿å­˜å¤šä¸ªåŒç±»å‹å€¼ï¼Œå¹¶ä¸”æ•°ç»„çš„å€¼æ˜¯ä¸€ä¸ªä¸ªè¿ç»­å­˜åœ¨å†…å­˜ä¸­çš„ã€‚</p><p>ä¸ºäº†å–å‡ºæ•°ç»„ä¸­çš„æŸä¸ªå€¼ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸€ä¸ª<strong>ä¸‹æ ‡ï¼ˆIndexï¼‰</strong>ã€‚å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ•°ç»„çš„ä¸‹æ ‡éƒ½ä»0å¼€å§‹ã€‚ä¸‹å›¾æ˜¯æ•°ç»„ä¿å­˜åœ¨å†…å­˜ä¸­çš„å½¢å¼ï¼Œä¸ºäº†ç®€å•ï¼Œå‡è®¾ç¼–è¯‘å™¨ä»å†…å­˜åœ°å€1000å¼€å§‹ä¿å­˜æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å†…å®¹å°±åƒå›¾ä¸­é‚£æ ·é¡ºåºä¿å­˜åœ¨å†…å­˜ä¸­ã€‚å®šä¹‰è¯¥æ•°ç»„å˜é‡ä¸º<code>j</code>ï¼Œåˆ™<code>j[0]</code>ä¼šå–å†…å­˜åœ°å€1000çš„æ•°æ®æ¥è·å¾—ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œ <code>j[5]</code> åˆ™ä¼šå»å†…å­˜åœ°å€1000åŠ 5ä¸ªåç§»é‡å¾—åˆ°å†…å­˜åœ°å€1005ä¸­ä¿å­˜çš„æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-05e5d5a5004692369a9475bf3d6f886a_hd.jpg" alt="img"></p><p><strong>ç¼ºç‚¹ï¼š</strong>åˆ›å»ºæ•°ç»„æ—¶å°±è¦å›ºå®šå¤§å°ï¼Œä¸èƒ½åŠ¨æ€å¢åŠ å¤§å°ï¼Œå¹¶ä¸”æ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œåœ¨ä¸­é—´æ’å…¥ä¸€ä¸ªå€¼å¾ˆå›°éš¾ã€‚</p><h3 id="14-2-å­—ç¬¦ä¸²String"><a href="#14-2-å­—ç¬¦ä¸²String" class="headerlink" title="14.2 å­—ç¬¦ä¸²String"></a>14.2 å­—ç¬¦ä¸²String</h3><p>ç±»ä¼¼äºæ•°ç»„ï¼Œå…¶å®å°±æ˜¯å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ç­‰æ„æˆçš„æ•°ç»„ã€‚æˆ‘ä»¬åœ¨ç¬¬4èŠ‚ä¸­æœ‰è®¨è®ºäº†è®¡ç®—æœºæ€ä¹ˆå­˜å‚¨å­—ç¬¦çš„ï¼Œé€šè¿‡ASCIIæˆ–è€…Unicodeç¼–ç ï¼Œå°†å­—ç¬¦è½¬æ¢ä¸ºå¯¹åº”çš„äºŒè¿›åˆ¶æ•°ã€‚</p><p>å†™ä»£ç æ—¶ï¼Œå¯ä»¥ç›´æ¥ç”¨å¼•å·æ‹¬èµ·æ¥æ„å»ºå­—ç¬¦ä¸²<code>j=&quot;Hello World&quot;</code>ï¼Œ å…¶åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼å¦‚ä¸‹å›¾ã€‚<strong>æ³¨æ„ï¼š</strong>å­—ç¬¦ä¸²åœ¨å†…å­˜ä¸­ä»¥<strong>äºŒè¿›åˆ¶0</strong>ç»“å°¾ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²ç»“å°¾ï¼Œç”¨æ¥ç»™åˆ«çš„å‡½æ•°æŒ‡ç¤ºä»€ä¹ˆæ—¶å€™å­—ç¬¦ä¸²ç»“æŸäº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-b8b2ba66353be16cf7a7c96f744c9879_hd.jpg" alt="img"></p><h3 id="14-3-çŸ©é˜µMatrix"><a href="#14-3-çŸ©é˜µMatrix" class="headerlink" title="14.3 çŸ©é˜µMatrix"></a>14.3 çŸ©é˜µMatrix</h3><p>ä¹‹å‰ä¿å­˜çš„éƒ½æ˜¯ä¸€ç»´æ•°ç»„ï¼Œä½†æ˜¯åƒç”µå­è¡¨æ ¼æˆ–å±å¹•åƒç´ ï¼Œéƒ½éœ€è¦ä¿å­˜äºŒç»´ä¿¡æ¯ï¼Œæ‰€ä»¥è¿™é‡Œå°±éœ€è¦ç”¨åˆ°çŸ©é˜µã€‚</p><p>å¯ä»¥å°†çŸ©é˜µçœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚ä¸€ä¸ª3x3çŸ©é˜µï¼Œ ç›¸å½“äºå°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º3çš„æ•°ç»„ï¼Œè€Œè¿™ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åˆæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º3çš„æ•°ç»„ã€‚çŸ©é˜µä¿å­˜åœ¨å†…å­˜ä¸­çš„å½¢å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯<u>è¡Œä¼˜å…ˆå­˜å‚¨</u>ï¼Œå³ä¼˜å…ˆå°†çŸ©é˜µçš„æ¯ä¸€è¡Œä¿å­˜åœ¨å†…å­˜çš„ç›¸é‚»ä½ç½®ï¼Œå½“ä¸€è¡Œä¿å­˜å®Œåï¼Œå†ä¿å­˜ä¸‹ä¸€è¡Œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-45786350b76ab13bf59f20d2d2a0f432_hd.jpg" alt="img"></p><center>çŸ©é˜µä¾‹å­</center>![img](https://longlongqin.gitee.io/image_save/images/assets/v2-f4e8c5b992abea5477f71fcf39702a68_hd.jpg)<center>å†…å­˜ä¸­çš„çŸ©é˜µ</center>ä¸ºäº†è·å–ä¸€ä¸ªå€¼ï¼Œéœ€è¦ä¸¤ä¸ªå°æ ‡ï¼Œæ¯”å¦‚`j[2][1]`è¡¨ç¤ºä»å†…å­˜åœ°å€1000åç§»`2*3+1=7`ä½ç½®ï¼Œå¾—åˆ°å…ƒç´ 12ã€‚è¿™é‡Œåç§»é‡çš„è®¡ç®—æ–¹æ³•æ˜¯`è¡Œç´¢å¼•*åˆ—å…ƒç´ ä¸ªæ•°+åˆ—ç´¢å¼•`ã€‚<p>æˆ‘ä»¬ä¸ä»…èƒ½æ„å»ºäºŒç»´çŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä»»æ„ç»´åº¦çš„çŸ©é˜µã€‚</p><h3 id="14-4-ç»“æ„ä½“Struct"><a href="#14-4-ç»“æ„ä½“Struct" class="headerlink" title="14.4 ç»“æ„ä½“Struct"></a>14.4 ç»“æ„ä½“Struct</h3><p>ç›®å‰æˆ‘ä»¬åªå°†å•ä¸ªæ•°å­—æˆ–å­—ç¬¦å­˜åœ¨æ•°ç»„æˆ–çŸ©é˜µä¸­ï¼Œåœ¨æ•°ç»„ä¸­ä¿å­˜çš„éƒ½æ˜¯ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚<u>å¦‚æœæˆ‘ä»¬æƒ³æŠŠå‡ ä¸ªæœ‰å…³ç³»çš„å˜é‡å­˜å‚¨åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”è¿™äº›å˜é‡éƒ½æ˜¯ä¸åŒç±»å‹çš„</u>ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ç»“æ„ä½“ã€‚</p><p>â€¦..</p><h1 id="16ã€è½¯ä»¶å·¥ç¨‹"><a href="#16ã€è½¯ä»¶å·¥ç¨‹" class="headerlink" title="16ã€è½¯ä»¶å·¥ç¨‹"></a>16ã€è½¯ä»¶å·¥ç¨‹</h1><p>ä¸ºäº†å†™å¤§å‹ç¨‹åºï¼Œç¨‹åºå‘˜ç”¨å„ç§å·¥å…·å’Œæ–¹æ³•ï¼Œæ‰€æœ‰è¿™äº›å½¢æˆäº†è½¯ä»¶å·¥ç¨‹å­¦ç§‘ã€‚</p><p>å°†å¤§é¡¹ç›®åˆ†è§£æˆå°<strong>å‡½æ•°</strong>å¯ä»¥è®©å¾ˆå¤šäººåŒæ—¶å·¥ä½œï¼Œç”±æ­¤ä»–ä»¬æ— éœ€å…³å¿ƒæ•´ä¸ªé¡¹ç›®ï¼Œåªè¦å…³å¿ƒè‡ªå·±çš„å‡½æ•°å°±å¥½äº†ã€‚</p><p>ä½†æ˜¯è¿™ç§æŠ½è±¡ç¨‹åº¦è¿˜æ˜¯ä¸å¤Ÿï¼Œå¤§å‹é¡¹ç›®ä¸­å¯èƒ½è¿˜æ˜¯ä¼šå­˜åœ¨å¤§é‡çš„å‡½æ•°ï¼Œå› æ­¤éœ€è¦å°†å‡½æ•°æ‰“åŒ…æˆå±‚çº§ï¼Œå°†ç›¸å…³ä»£ç æ”¾åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…æˆ<strong>å¯¹è±¡ï¼ˆObjectï¼‰</strong>ã€‚æ¯”å¦‚æ±½è½¦è½¯ä»¶ä¸­ï¼Œå¯èƒ½æœ‰å‡ ä¸ªå’Œå®šé€Ÿå·¡èˆªæœ‰å…³çš„å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åŒ…è£…ä¸€ä¸ªâ€œå®šé€Ÿå·¡èˆªå¯¹è±¡â€æ¥æ‰“åŒ…è¿™äº›å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ›´è¿›ä¸€æ­¥ï¼Œâ€œå®šé€Ÿå·¡èˆªâ€åªæ˜¯å¼•æ“è½¯ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œå¯èƒ½è¿˜æœ‰â€œç«èŠ±å¡ç‚¹ç«â€ã€â€œç‡ƒæ²¹æ³µâ€å’Œâ€œæ•£çƒ­å™¨â€ç­‰ç­‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªâ€œå¼•æ“å¯¹è±¡â€æ¥æ‰“åŒ…æ‰€æœ‰å­å¯¹è±¡ï¼Œå¹¶ä¸”é™¤äº†å­å¯¹è±¡ï¼Œå¼•æ“å¯¹è±¡è¿˜ä¼šåŒ…å«è‡ªå·±çš„å‡½æ•°ï¼Œæ¯”å¦‚â€œå¼€å…³å¼•æ“â€ï¼Œä¹Ÿä¼šæœ‰è‡ªå·±çš„å˜é‡ï¼Œæ¯”å¦‚æ±½è½¦è¡Œé©¶é‡Œç¨‹æ•°ã€‚æ€»çš„æ¥è¯´ï¼Œå¯¹è±¡å¯ä»¥åŒ…å«å…¶ä»–å¯¹è±¡ã€å‡½æ•°å’Œå˜é‡ã€‚ç„¶åå½“ä½ æƒ³è°ƒç”¨ä¸€ä¸ªæ¯”è¾ƒåº•å±‚å¯¹è±¡çš„å‡½æ•°æ—¶ï¼Œåªéœ€è¦å±‚å±‚å‘ä¸‹è°ƒç”¨å°±è¡Œï¼Œæ¯”å¦‚<code>Car.Engine.CruiseControl.setCruiseSpeed(55)</code>ã€‚è¿™ç§å°†å‡½æ•°æ‰“åŒ…æˆå¯¹è±¡çš„æ€æƒ³ç§°ä¸º<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆObject Oriented Programmingï¼‰</strong>ã€‚ç›¸åŒçš„æƒ³æ³•éƒ½æ˜¯é€šè¿‡å°è£…ç»„ä»¶æ¥éšè—å¤æ‚åº¦ã€‚</p><p>æŠŠå¤§å‹è½¯ä»¶æ‹†æˆä¸€ä¸ªä¸ªæ›´å°å•å…ƒï¼Œä¼šæ›´é€‚åˆå›¢é˜Ÿåˆä½œã€‚ä½†æ˜¯å„ä¸ªå›¢é˜Ÿä¹‹é—´çš„ä»£ç æ˜¯ç›¸äº’äº¤ç»‡çš„ï¼Œæ¯”å¦‚å›¢é˜ŸAå®ç°çš„æŸä¸ªå‡½æ•°éœ€è¦å›¢é˜ŸBçš„ä»£ç æ”¯æŒï¼Œå› æ­¤å›¢é˜Ÿéœ€è¦<strong>æ–‡æ¡£ï¼ˆDocumentationï¼‰</strong>æ¥å¸®åŠ©ç†è§£ä»£ç éƒ½åšä»€ä¹ˆï¼Œä»¥åŠå®šä¹‰å¥½çš„<strong>ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆApplication Programming Interfaceï¼ŒAPIï¼‰</strong>ã€‚è¿™æ ·ï¼Œå³ä½¿ç¨‹åºå‘˜ä¸çŸ¥é“å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œä¹Ÿèƒ½ç›´æ¥ä½¿ç”¨APIè°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚å¹¶ä¸”APIèƒ½æ§åˆ¶å“ªäº›å‡½æ•°å’Œæ•°æ®æ˜¯å¯¹å¤–å¼€æ”¾çš„ï¼Œå“ªäº›æ˜¯ä»…ä¾›å¯¹è±¡å†…éƒ¨ä½¿ç”¨çš„ï¼Œé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€å¯ä»¥æŒ‡å®šå‡½æ•°æ—¶<code>public</code>æˆ–<code>private</code>æ¥è®¾ç½®æƒé™ï¼Œé¿å…ç”¨æˆ·è°ƒç”¨é”™äº†å‡½æ•°é€ æˆbugã€‚å¦‚æœæ ‡å¿—ä¸ºprivateï¼Œè¡¨ç¤ºåªæœ‰åŒä¸€ä¸ªå¯¹è±¡å†…çš„å…¶ä»–å‡½æ•°èƒ½è°ƒç”¨å®ƒï¼Œ æ‰€ä»¥åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåªæœ‰å†…éƒ¨å‡½æ•°æ¯”å¦‚<code>setRPM</code>èƒ½å¤Ÿè°ƒç”¨ <code>fireSparkPlug</code>å‡½æ•°ï¼Œå¹¶ä¸”ç”±äº<code>setRPM</code>å‡½æ•°æ˜¯publicçš„ï¼Œæ‰€ä»¥å…¶ä»–å¯¹è±¡å¯ä»¥è°ƒç”¨å®ƒã€‚</p><blockquote><p><strong>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒï¼š</strong>éšè—å¤æ‚åº¦ï¼Œé€‰æ‹©æ€§çš„å…¬å¸ƒåŠŸèƒ½ã€‚</p></blockquote><p>ç°ä»£è½¯ä»¶å¼€å‘è€…ä¼šä½¿ç”¨ä¸“é—¨çš„å·¥å…·æ¥å†™ä»£ç ï¼Œå·¥å…·é‡Œé›†æˆäº†å¾ˆå¤šåŠŸèƒ½å¸®åŠ©å†™ä»£ç ã€æ•´ç†ã€ç¼–è¯‘å’Œæµ‹è¯•ï¼Œè¿™äº›è½¯ä»¶ç§°ä¸º<strong>é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIntegrated Development Environmentsï¼ŒIDEï¼‰</strong>ã€‚</p><p>ç¨‹åºå‘˜ä¸€ä¸ªé‡è¦çš„å·¥ä½œéƒ¨åˆ†æ˜¯ç»™ä»£ç å†™æ–‡æ¡£ï¼Œä¸€èˆ¬æ”¾åœ¨ä¸€ä¸ªå«<code>README</code>çš„æ–‡ä»¶ä¸­ï¼Œ æ–‡æ¡£ä¹Ÿèƒ½ç›´æ¥å†™æˆæ³¨é‡Šæ”¾åœ¨æºä»£ç ä¸­ã€‚</p><p>é™¤äº†IDEï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦è½¯ä»¶å¸®åŠ©å›¢é˜Ÿåä½œï¼Œç§°ä¸º<strong>æºä»£ç ç®¡ç†ï¼ˆSource Controlï¼‰</strong>ã€‚æ¯”è¾ƒå¤§å‹çš„å…¬å¸ä¼šå°†ä»£ç æ”¾åœ¨ä¸€ä¸ªä¸­å¿ƒæœåŠ¡å™¨ä¸Šï¼Œç§°ä¸º<strong>ä»£ç ä»“åº“ï¼ˆCode Repositoryï¼‰</strong>ã€‚å½“ç¨‹åºå‘˜æƒ³æ”¹ä¸€æ®µä»£ç æ—¶ï¼Œå¯ä»¥check outè·å¾—ä»£ç ï¼Œç„¶åå¼€å‘è€…åœ¨è‡ªå·±ç”µè„‘ä¸Šç¼–è¾‘ä»£ç ï¼Œå½“ä»£ç æ²¡æœ‰é—®é¢˜ï¼Œæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡æ—¶ï¼Œå°±èƒ½å°†ä»£ç æ”¾å›ä»£ç ä»“åº“äº†ï¼Œç§°ä¸º<strong>æäº¤ï¼ˆCommitï¼‰</strong>ã€‚å½“ä»£ç è¢«check outï¼Œå¹¶ä¸”å¯èƒ½è¢«æ”¹è¿‡äº†ï¼Œå…¶ä»–å¼€å‘è€…å°±ä¸ä¼šåŠ¨è¿™æ®µä»£ç ï¼Œé¿å…ä»£ç å†²çªå’Œé‡å¤åŠ³åŠ¨ã€‚ä»£ç çš„ä¸»ç‰ˆæœ¬ï¼ˆmasterï¼‰åº”è¯¥æ€»æ˜¯ç¼–è¯‘æ­£å¸¸ï¼Œå°½å¯èƒ½å°‘bugã€‚å¹¶ä¸”æºä»£ç ç®¡ç†å¯ä»¥è·Ÿè¸ªæ‰€æœ‰å˜åŒ–ï¼Œå½“å‡ºç°bugæ—¶ï¼Œå…¨éƒ¨æˆ–éƒ¨åˆ†ä»£ç å¯ä»¥<strong>å›æ»šï¼ˆRolled Backï¼‰</strong>åˆ°ä¹‹å‰çš„ç¨³å®šç‰ˆæœ¬ï¼Œå¹¶ä¸”ä¹Ÿèƒ½è®°å½•ä¸‹ä»£ç ä¿®æ”¹è€…ã€‚</p><p>æµ‹è¯•ä»£ç ä¸€èˆ¬ç”±ä¸ªäººæˆ–å°å›¢é˜Ÿå®Œæˆï¼Œæµ‹è¯•å¯ç»Ÿç§°ä¸º<strong>è´¨é‡ä¿è¯æµ‹è¯•ï¼ˆQuality Assurance Testingï¼ŒQAï¼‰</strong>ã€‚<strong>â€œalpha versionâ€</strong>è½¯ä»¶ä¸€èˆ¬å¾ˆç²—ç³™ï¼Œé”™è¯¯å¾ˆå¤šï¼Œç»å¸¸åªåœ¨å…¬å¸å†…éƒ¨æ“ä½œï¼Œè€Œ<strong>â€œbeta versionâ€</strong>è½¯ä»¶æŒ‡çš„æ˜¯è½¯ä»¶æ¥è¿‘å®Œæˆï¼Œä½†ä¸æ˜¯å®Œå…¨æµ‹è¯•é€šè¿‡ï¼Œå…¬å¸æœ‰æ—¶ä¼šå‘å…¬ä¼—å‘å¸ƒbetaç‰ˆï¼Œä»¥å¸®åŠ©å‘ç°é—®é¢˜ï¼Œç”¨æˆ·å°±åƒå…è´¹çš„QAå›¢é˜Ÿã€‚</p><h1 id="17ã€é›†æˆç”µè·¯-amp-æ‘©å°”å®šå¾‹"><a href="#17ã€é›†æˆç”µè·¯-amp-æ‘©å°”å®šå¾‹" class="headerlink" title="17ã€é›†æˆç”µè·¯&amp;æ‘©å°”å®šå¾‹"></a>17ã€é›†æˆç”µè·¯&amp;æ‘©å°”å®šå¾‹</h1><p>è¿‡å»è®¡ç®—æœºçš„é£é€Ÿå‘å±•ï¼Œå¼ºçƒˆä¾èµ–äºç¡¬ä»¶çš„å‘å±•ã€‚</p><p>å¤§çº¦1940å¹´ä»£-1960å¹´ä»£ä¸­æœŸï¼Œè®¡ç®—æœºéƒ½ç”±ç‹¬ç«‹éƒ¨ä»¶ç»„æˆï¼Œç§°ä¸º<strong>åˆ†ç«‹å…ƒä»¶ï¼ˆDiscrete Componentsï¼‰</strong>ï¼Œç„¶åä¸åŒç»„ä»¶å†ç”¨çº¿è¿åœ¨ä¸€èµ·ã€‚æ¯”å¦‚ENIACæœ‰1ä¸‡7åƒå¤šä¸ªçœŸç©ºç®¡ï¼Œ7ä¸‡ä¸ªç”µé˜»ï¼Œ1ä¸‡ä¸ªç”µå®¹ï¼Œ7åƒä¸ªäºŒæç®¡ï¼Œ5ç™¾ä¸‡ä¸ªæ‰‹å·¥ç„Šç‚¹ã€‚å¦‚æœæƒ³è¦æå‡æ€§èƒ½ï¼Œå°±è¦åŠ æ›´å¤šéƒ¨ä»¶ï¼Œè¿™å°±å¯¼è‡´äº†æ›´å¤šæ›´å¤æ‚çš„ç”µçº¿ï¼Œè¿™ä¸ªç§°ä¸º<strong>æ•°å­—æš´æ”¿ï¼ˆTyranny of Numbersï¼‰</strong>é—®é¢˜ã€‚</p><p>åˆ°1950å¹´ä»£ä¸­æœŸï¼Œæ™¶ä½“ç®¡å¼€å§‹å•†ä¸šåŒ–ï¼Œå¼€å§‹ç”¨äºè®¡ç®—æœºä¸­ï¼Œæ™¶ä½“ç®¡æ¯”ç”µå­ç®¡æ›´å°æ›´å¿«æ›´å¯é ï¼Œä½†æ™¶ä½“ç®¡ä¾ç„¶æ˜¯åˆ†ç«‹å…ƒä»¶ã€‚1959å¹´ï¼ŒIBMæŠŠ709è®¡ç®—æœºä»åŸæœ¬çš„ç”µå­ç®¡å…¨éƒ¨æ¢æˆæ™¶ä½“ç®¡ï¼Œè¯ç”Ÿäº†IBM 7090ï¼Œé€Ÿåº¦å¿«6å€ï¼Œä»·æ ¼åªæœ‰ä¸€åŠã€‚æ™¶ä½“ç®¡æ ‡å¿—ç€è®¡ç®—æœº2.0æ—¶ä»£çš„åˆ°æ¥ï¼Œä½†æ˜¯æ™¶ä½“ç®¡çš„å‡ºç°è¿˜æ˜¯æ²¡æœ‰è§£å†³æ•°å­—æš´æ”¿çš„é—®é¢˜ï¼Œæœ‰åå‡ ä¸‡ä¸ªç‹¬ç«‹å…ƒä»¶çš„è®¡ç®—æœºä¸ä½†éš¾è®¾è®¡ï¼Œè€Œä¸”éš¾ç”Ÿäº§ã€‚</p><h2 id="é›†æˆç”µè·¯ï¼ˆIntegrated-Circuitsï¼ŒICï¼‰ï¼š"><a href="#é›†æˆç”µè·¯ï¼ˆIntegrated-Circuitsï¼ŒICï¼‰ï¼š" class="headerlink" title="é›†æˆç”µè·¯ï¼ˆIntegrated Circuitsï¼ŒICï¼‰ï¼š"></a>é›†æˆç”µè·¯ï¼ˆIntegrated Circuitsï¼ŒICï¼‰ï¼š</h2><p>åˆ°1960å¹´ä»£ï¼Œè¿™ä¸ªé—®é¢˜çš„ä¸¥é‡æ€§è¾¾åˆ°é¡¶ç‚¹ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯å¼•å…¥ä¸€å±‚æ–°æŠ½è±¡ï¼Œå°è£…å¤æ‚æ€§ã€‚çªç ´æ€§è¿›å±•åœ¨1958å¹´ï¼Œä¸å…¶æŠŠå¤šä¸ªç‹¬ç«‹éƒ¨ä»¶ç”¨ç”µçº¿è¿èµ·æ¥ï¼Œæ‹¼è£…å‡ºè®¡ç®—æœºï¼Œæˆ‘ä»¬æŠŠå¤šä¸ªç»„ä»¶åŒ…åœ¨ä¸€èµ·ï¼Œå˜æˆä¸€ä¸ªæ–°çš„ç‹¬ç«‹ç»„ä»¶ï¼Œè¿™ä¸ªç§°ä¸º<strong>é›†æˆç”µè·¯ï¼ˆIntegrated Circuitsï¼ŒICï¼‰</strong>ã€‚å‡ ä¸ªæœˆåï¼Œä»™ç«¥åŠå¯¼ä½“å°±è®©é›†æˆç”µè·¯å˜æˆç°å®ï¼Œä¹‹å‰ä½¿ç”¨é”—æ¥åšé›†æˆç”µè·¯ï¼Œä½†æ˜¯é”—å¾ˆç¨€å°‘ä¸”ä¸ç¨³å®šï¼Œä»™ç«¥åŠå¯¼ä½“ä½¿ç”¨<strong>ç¡…</strong>ï¼Œå› ä¸ºç¡…çš„è•´è—é‡ä¸°å¯Œï¼Œä¹Ÿæ›´ç¨³å®šå¯é ã€‚</p><p>èµ·åˆï¼Œä¸€ä¸ªICåªæœ‰å‡ ä¸ªæ™¶ä½“ç®¡ï¼Œä½†æ˜¯ä¹Ÿè¶³ä»¥å°†é€»è¾‘é—¨å°è£…æˆç‹¬ç«‹ç»„ä»¶ï¼Œå¯ä»¥ç»„åˆå‡ºæ— æ•°ç§è®¾è®¡ï¼Œä½†æ˜¯æœ€ç»ˆè¿˜æ˜¯è¦è¿èµ·æ¥ï¼Œåˆ›é€ å‡ºæ›´å¤§æ›´å¤æ‚çš„ç”µè·¯ï¼Œæ¯”å¦‚è®¡ç®—æœºã€‚æ‰€ä»¥åˆ›é€ å‡ºäº†<strong>å°åˆ·ç”µè·¯æ¿ï¼ˆPrinted Circuit Boardsï¼ŒPCBï¼‰</strong>ï¼Œå¯ä»¥å¤§è§„æ¨¡ç”Ÿäº§ï¼Œæ— éœ€ç„Šæ¥æˆ–ç”¨ä¸€å †çº¿ï¼Œå®ƒé€šè¿‡èš€åˆ»é‡‘å±çº¿çš„æ–¹å¼å°†é›¶ä»¶è¿æ¥åˆ°ä¸€èµ·ã€‚æŠŠPCBå’ŒICç»“åˆä½¿ç”¨ï¼Œå¯ä»¥å¤§å¹…å‡å°‘ç‹¬ç«‹ç»„ä»¶å’Œç”µçº¿ï¼Œä½†åšåˆ°ç›¸åŒçš„åŠŸèƒ½ï¼Œè€Œä¸”æ›´å°æ›´ä¾¿å®œæ›´å¯é ã€‚</p><p>ä¸è¿‡å³ä½¿ç»„ä»¶å†å°ï¼Œå¡5ä¸ªä»¥ä¸Šçš„æ™¶ä½“ç®¡è¿˜æ˜¯å¾ˆå›°éš¾ï¼Œä¸ºäº†å®ç°æ›´å¤æ‚è®¾è®¡ï¼Œå‡ºç°äº†å…¨æ–°çš„åˆ¶ä½œå·¥è‰ºâ€”â€”<strong>å…‰åˆ»ï¼ˆPhotolithographyï¼‰</strong>ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç”¨å…‰æŠŠå¤æ‚å›¾æ¡ˆå°åˆ°ææ–™ä¸Šï¼Œæ¯”å¦‚åŠå¯¼ä½“ã€‚å®ƒåªæœ‰å‡ ä¸ªåŸºç¡€æ“ä½œï¼Œä½†æ˜¯å¯ä»¥åˆ¶ä½œå‡ºå¤æ‚ç”µè·¯ã€‚</p><blockquote><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬ä»ä¸€ç‰‡ç¡…å¼€å§‹ï¼Œç§°ä¸º<strong>æ™¶åœ†ï¼ˆWaferï¼‰</strong>ï¼Œé•¿å¾—å’Œè–„é¥¼å¹²ä¸€æ ·ã€‚å¹¶ä¸”ç¡…æ˜¯åŠå¯¼ä½“ï¼Œæœ‰æ—¶å¯¼ç”µæœ‰æ—¶ä¸å¯¼ç”µï¼Œæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶å¯¼ç”µæ—¶æœºï¼Œæ‰€ä»¥ç¡…æ˜¯åšæ™¶ä½“ç®¡çš„ç»ä½³ææ–™ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æ™¶åœ†åšåŸºç¡€ï¼ŒæŠŠå¤æ‚é‡‘å±ç”µè·¯æ”¾ä¸Šå»ï¼Œæ¥é›†æˆæ‰€æœ‰ä¸œè¥¿ã€‚</li><li>åœ¨ç¡…ç‰‡é¡¶éƒ¨åŠ ä¸€å±‚è–„è–„çš„<strong>æ°§åŒ–å±‚ï¼ˆOxide Layerï¼‰</strong>ä½œä¸ºä¿æŠ¤å±‚ï¼Œç„¶ååŠ ä¸€å±‚ç‰¹æ®ŠåŒ–å­¦å“ç§°ä¸º<strong>å…‰åˆ»èƒ¶ï¼ˆPhotoresistï¼‰</strong>ï¼Œå…‰åˆ»èƒ¶è¢«å…‰ç…§å°„åï¼Œå°±å˜å¾—å¯æº¶ï¼Œå¯ä»¥ç”¨ä¸€ç§ç‰¹æ®ŠåŒ–å­¦è¯å‰‚æ´—æ‰ã€‚ç„¶åæˆ‘ä»¬ä¼šåœ¨å…‰åˆ»èƒ¶ä¸ŠåŠ ä¸€å±‚<strong>å…‰æ©è†œï¼ˆPhotomaskï¼‰</strong>ï¼Œå½“ç”¨å¼ºå…‰ç…§å°„æ—¶ï¼ŒæŒ¡ä½å…‰çš„éƒ¨åˆ†å…‰åˆ»èƒ¶å°±ä¸ä¼šå˜åŒ–ï¼Œè€Œå…‰ç…§å°„åˆ°çš„åœ°æ–¹ï¼Œå…‰åˆ»èƒ¶å°±ä¼šå‘ç”ŸåŒ–å­¦å˜åŒ–ï¼Œæ´—æ‰å˜åŒ–çš„å…‰åˆ»èƒ¶åï¼Œå°±ä¼šæš´éœ²å‡ºéƒ¨åˆ†æ°§åŒ–å±‚ã€‚ç„¶åé€šå¸¸ç”¨é…¸èƒ½æ´—æ‰æ°§åŒ–å±‚æš´éœ²å‡ºçš„éƒ¨åˆ†ï¼Œå°±èƒ½èš€åˆ»åˆ°ç¡…å±‚ã€‚ç„¶åå†ç”¨å¦ä¸€ç§åŒ–å­¦è¯•å‰‚æ¸…æ´—æ‰å‰©ä½™çš„å…‰åˆ»èƒ¶ï¼Œè¿™æ ·åªå‰©ä¸‹æ°§åŒ–å±‚å’Œæ™¶åœ†äº†ã€‚æˆ‘ä»¬æƒ³ä¿®æ”¹ç¡…æš´éœ²å‡ºæ¥çš„åŒºåŸŸï¼Œè®©å®ƒä»¬å¯¼ç”µæ€§æ›´å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<strong>æºæ‚ï¼ˆDopingï¼‰</strong>ï¼Œé€šè¿‡å°†ç£·æ¸—é€è¿›æš´éœ²çš„ç¡…ï¼Œæ¥æ”¹å˜ç”µå­¦æ€§è´¨ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-43b8796ff46c3bf12da90361caf3a74b_hd.jpg" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-b19ae3a9f85fb157495ee4a2a986c4b1_hd.jpg" alt="img"></p><ul><li>æˆ‘ä»¬è¿˜éœ€è¦å‡ è½®å…‰åˆ»æ³•æ¥åšæ™¶ä½“ç®¡ã€‚è¿˜æ˜¯å åŠ ä¸Šæ°§åŒ–å±‚ã€å…‰åˆ»èƒ¶å’Œæ–°çš„å…‰æ©è†œï¼Œè¿™æ ·å°±èƒ½åœ¨æºæ‚åŒºåŸŸä¸Šæ–¹å¼€ç¼ºå£ï¼Œç„¶åè¿›è¡Œæ¸…æ´—èš€åˆ»ï¼Œå†ç”¨å¦ä¸€ç§å…ƒç´ è¿›è¡Œæºæ‚ï¼ŒæŠŠç¡…è½¬æ¢æˆå¦ä¸€ç§å½¢å¼ã€‚ä¸ºäº†æ§åˆ¶æ·±åº¦ï¼Œæ—¶æœºå¾ˆé‡è¦ï¼Œä¸è¦è¶…è¿‡ä¹‹å‰æºæ‚çš„åŒºåŸŸï¼Œè¿™æ ·æ‰€æœ‰éœ€è¦çš„ç»„ä»¶éƒ½æœ‰äº†ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-0261b1e130471a85ebaea8f5df038bab_hd.jpg" alt="img"></p><ul><li>æœ€åï¼Œåœ¨æ°§åŒ–å±‚ä¸Šåšé€šé“ï¼Œè¿™æ ·å¯ä»¥ç”¨ç»†å°é‡‘å±å¯¼çº¿è¿æ¥ä¸åŒæ™¶ä½“ç®¡ã€‚é¦–å…ˆç”¨å…‰åˆ»èƒ¶å’Œå…‰æ©è†œï¼Œåœ¨æ°§åŒ–å±‚ä¸Šèš€åˆ»å‡ºå°é€šé“ã€‚ç„¶åç”¨æ–°çš„å¤„ç†æ–¹æ³•ç§°ä¸º<strong>é‡‘å±åŒ–ï¼ˆMetalizationï¼‰</strong>ï¼Œåœ¨æ°§åŒ–å±‚ä¸Šæ”¾ä¸€å±‚è–„è–„çš„é‡‘å±ï¼Œæ¯”å¦‚é“æˆ–é“œï¼Œå†åŠ ä¸Šå…‰åˆ»èƒ¶å’Œå…‰æ©è†œï¼Œç„¶åèæ‰æš´éœ²çš„å…‰åˆ»èƒ¶ï¼Œæš´éœ²å‡ºé‡‘å±ã€‚æœ€ç»ˆæ¸…æ´—ï¼Œåªä¿ç•™æ™¶åœ†ã€æ°§åŒ–å±‚å’Œé‡‘å±åŒ–ï¼Œè¿™æ ·å°±åšå‡ºäº†ä¸€ä¸ªæ™¶ä½“ç®¡ã€‚å®ƒæœ‰ä¸‰æ ¹çº¿åˆ†åˆ«è¿æ¥ç€ç¡…çš„ä¸‰ä¸ªä¸åŒåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸçš„æºæ‚æ–¹å¼ä¸åŒï¼Œè¿™ä¸ªå«<strong>åŒæå‹æ™¶ä½“ç®¡ï¼ˆBipolar Junction Transistorï¼‰</strong>ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-b2d6dce62f3352d950dc12e238fc0099_hd.jpg" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-f099fd3eea9861f0ef822f76299e616c_hd.jpg" alt="img"></p><center>æ™¶ä½“ç®¡</center></blockquote><p>ç›¸åŒæ–¹æ³•ï¼Œå…‰åˆ»å¯ä»¥åœ¨ä¸€ç‰‡ç¡…ä¸Šåˆ¶ä½œå…¶ä»–ç”µå­å…ƒä»¶ï¼Œæ¯”å¦‚ç”µé˜»ç”µå®¹ï¼Œè€Œä¸”ç›¸äº’è¿æ¥çš„ç”µè·¯ä¹Ÿåšå¥½äº†ã€‚</p><p><strong>å¹¶ä¸”é€šè¿‡è°ƒèŠ‚å…‰æ©è†œå’Œå…‰æºä¹‹é—´çš„è·ç¦»</strong>ï¼Œå…‰å¯ä»¥æŠ•å°„æˆä»»æ„è§’åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…‰æ©è†œèšç„¦åˆ°æå°çš„åŒºåŸŸï¼Œåˆ¶ä½œå‡ºéå¸¸ç²¾ç»†çš„ç»†èŠ‚ï¼Œè¿™æ ·ä¸€ç‰‡æ™¶åœ†å°±èƒ½åšå‡ºå¾ˆå¤šICï¼Œæ•´å—éƒ½åšå®Œåï¼Œå°±å¯ä»¥åˆ‡å‰²ç„¶ååŒ…è¿›å¾®å‹èŠ¯ç‰‡ä¸­ï¼ŒèŠ¯ç‰‡çš„æ ¸å¿ƒéƒ½æ˜¯ä¸€å°ç‰‡ICã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-77dbe69c1ca5bcacd2c735dccfe11c7a_hd.jpg" alt="img"></p><p>éšç€å…‰åˆ»æŠ€æœ¯å‘å±•ï¼Œæ™¶ä½“ç®¡å˜å°ï¼Œå¯†åº¦å˜é«˜ã€‚1960å¹´åˆï¼ŒICå¾ˆå°‘èƒ½è¶…è¿‡5ä¸ªæ™¶ä½“ç®¡ï¼Œä½†åˆ°äº†1960å¹´ä¸­æœŸï¼Œå¸‚åœºä¸Šå·²ç»å¼€å§‹å‡ºç°è¶…è¿‡100ä¸ªæ™¶ä½“ç®¡çš„ICã€‚</p><h2 id="æ‘©å°”å®šå¾‹ï¼ˆMooreâ€™s-Lawï¼‰"><a href="#æ‘©å°”å®šå¾‹ï¼ˆMooreâ€™s-Lawï¼‰" class="headerlink" title="æ‘©å°”å®šå¾‹ï¼ˆMooreâ€™s Lawï¼‰:"></a>æ‘©å°”å®šå¾‹ï¼ˆMooreâ€™s Lawï¼‰:</h2><p>1965å¹´ï¼Œæˆˆç™»Â·æ‘©å°”çœ‹åˆ°äº†å‘å±•è¶‹åŠ¿ï¼Œæå‡º<strong>æ‘©å°”å®šå¾‹ï¼ˆMooreâ€™s Lawï¼‰</strong>ï¼š<strong>æ¯ä¸¤å¹´å·¦å³ï¼Œå¾—ç›Šäºææ–™å’Œåˆ¶é€ æŠ€æœ¯çš„å‘å±•ï¼ŒåŒæ ·å¤§å°çš„ç©ºé—´ï¼Œèƒ½å¡è¿›ä¸¤å€é‡çš„æ™¶ä½“ç®¡ã€‚</strong></p><p>æ™¶ä½“ç®¡æ›´å°å¯†åº¦æ›´é«˜ï¼Œè¦ç§»åŠ¨çš„ç”µè·é‡å°±è¶Šå°‘ï¼Œèƒ½å¿«é€Ÿåˆ‡æ¢çŠ¶æ€ï¼Œè€—ç”µæ›´å°‘ã€‚å¹¶ä¸”ç”µè·¯æ›´ç´§å‡‘ï¼Œæ„å‘³ç€ä¿¡å·å»¶è¿Ÿæ›´ä½ï¼Œå¯¼è‡´æ—¶é’Ÿé€Ÿåº¦æ›´å¿«ã€‚</p><p>é›†æˆç”µè·¯çš„å‡ºç°ï¼Œå°¤å…¶æ˜¯ç”¨æ¥åšå¾®å¤„ç†å™¨ï¼Œå¼€å¯äº†<strong>è®¡ç®—æœº3.0æ—¶ä»£</strong>ã€‚</p><p>åˆ°äº†2010å¹´ï¼Œä¸€ä¸ªICä¸­æœ‰10äº¿ä¸ªæ™¶ä½“ç®¡ã€‚ä¸ºäº†è¾¾åˆ°è¿™ç§å¯†åº¦ï¼Œå…‰åˆ»çš„åˆ†è¾¨ç‡ä»å¤§çº¦ä¸€ä¸‡çº³ç±³ï¼Œå‘å±•åˆ°å¦‚ä»Šçš„14çº³ç±³ã€‚</p><p>ç°ä»£å·¥ç¨‹å¸ˆè®¾è®¡ç”µè·¯æ—¶ï¼Œä¸æ˜¯æ‰‹å·¥ä¸€ä¸ªä¸ªè®¾è®¡æ™¶ä½“ç®¡çš„ï¼Œä»1970å¹´ä»£å¼€å§‹ï¼Œ<strong>è¶…å¤§è§„æ¨¡é›†æˆï¼ˆVery-large-scale Integrationï¼ŒVLSIï¼‰</strong>è½¯ä»¶ç”¨æ¥è‡ªåŠ¨ç”ŸæˆèŠ¯ç‰‡è®¾è®¡ã€‚ç”¨æ¯”å¦‚<strong>é€»è¾‘ç»¼åˆï¼ˆLogic Synthesisï¼‰</strong>å¯ä»¥æ”¾ä¸€æ•´ä¸ªé«˜çº§ç»„ä»¶ï¼Œæ¯”å¦‚å†…å­˜ç¼“å­˜ï¼Œè½¯ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆç”µè·¯ï¼Œåšåˆ°å°½å¯èƒ½é«˜æ•ˆï¼Œè®¸å¤šäººè®¤ä¸ºè¿™æ˜¯<strong>è®¡ç®—æœº4.0æ—¶ä»£</strong>çš„å¼€å§‹ã€‚</p><p><u>ä½†æ˜¯æ‘©å°”å®šå¾‹ç°åœ¨è¿æ¥äº†ç»ˆç»“ï¼Œè¿›ä¸€æ­¥åšå°ï¼Œä¼šè¿æ¥ä¸¤ä¸ªé—®é¢˜ï¼š</u></p><ol><li>ç”¨å…‰æ©è†œæŠŠå›¾æ¡ˆå¼„åˆ°æ™¶åœ†ä¸Šï¼Œå› ä¸ºå…‰çš„æ³¢é•¿ï¼Œç²¾åº¦å·²ç»åˆ°è¾¾æé™ã€‚æ‰€ä»¥ç§‘å­¦å®¶åœ¨ç ”åˆ¶æ³¢é•¿æ›´çŸ­çš„å…‰æºï¼ŒæŠ•å°„æ›´å°çš„å½¢çŠ¶ã€‚</li><li>å½“æ™¶ä½“ç®¡éå¸¸å°ï¼Œç”µæä¹‹é—´å¯èƒ½åªè·ç¦»å‡ ä¸ªåŸå­ï¼Œç”µå­å°±ä¼šè·³è¿‡é—´éš™ï¼Œç§°ä¸º<strong>é‡å­éš§é“è´¯ç©¿ï¼ˆQuantum Tunnelingï¼‰</strong>ï¼Œç”±æ­¤æ™¶ä½“ç®¡å°±ä¸èƒ½æ­£å¸¸å·¥ä½œäº†ã€‚</li></ol><h1 id="18ã€æ“ä½œç³»ç»Ÿ"><a href="#18ã€æ“ä½œç³»ç»Ÿ" class="headerlink" title="18ã€æ“ä½œç³»ç»Ÿ"></a>18ã€æ“ä½œç³»ç»Ÿ</h1><p>40 50å¹´ä»£çš„ç”µè„‘ï¼Œæ¯æ¬¡åªèƒ½è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œç¨‹åºå‘˜åœ¨æ‰“å­”çº¸ä¸Šå†™ç¨‹åºï¼Œç„¶åå†æ”¾å…¥è®¡ç®—æœºä¸­è¿›è¡Œè®¡ç®—ï¼Œä¸€å¼€å§‹è®¡ç®—æœºé€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œé€šå¸¸ä¸€ä¸ªç¨‹åºéœ€è¦è¿è¡Œå‡ å¤©æ—¶é—´ï¼Œæ‰€ä»¥æ”¾ç¨‹åºçš„æ—¶é—´è¿˜èƒ½å¿å—ã€‚ä½†æ˜¯éšç€è®¡ç®—æœºè¿ç®—é€Ÿåº¦çš„å‘Šè¯‰å‘å±•åï¼Œæ”¾ç¨‹åºçš„æ—¶é—´æ¯”ç¨‹åºè¿è¡Œæ—¶é—´è¿˜è¦é•¿ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ç§æ–¹å¼ï¼Œè®©è®¡ç®—æœºè‡ªåŠ¨è¿è¡Œï¼Œäºæ˜¯è¯ç”Ÿäº†<strong>æ“ä½œç³»ç»Ÿï¼ˆOperation Systemsï¼ŒOSï¼‰</strong>ã€‚</p><p><strong>æ“ä½œç³»ç»Ÿå…¶å®ä¹Ÿæ˜¯ç¨‹åº</strong>ï¼Œ<u>ä½†å®ƒæœ‰æ“ä½œç¡¬ä»¶çš„ç‰¹æ®Šæƒé™ï¼Œå¯ä»¥è¿è¡Œå’Œç®¡ç†å…¶ä»–ç¨‹åº</u>ã€‚æ“ä½œç³»ç»Ÿä¸€èˆ¬æ˜¯å¼€æœºç¬¬ä¸€ä¸ªå¯åŠ¨çš„ç¨‹åºï¼Œç„¶åå…¶ä»–æ‰€æœ‰ç¨‹åºéƒ½ç”±æ“ä½œç³»ç»Ÿå¯åŠ¨ã€‚ä»1950å¹´ä»£å¼€å§‹æœ‰æ“ä½œç³»ç»Ÿï¼Œé‚£æ—¶è®¡ç®—æœºå¼€å§‹å˜å¾—æ›´åŠ å¼ºå¤§ï¼Œ ç¬¬ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸»è¦åŠ å¼ºäº†ç¨‹åºåŠ è½½æ–¹å¼ï¼Œå–ä»£äº†æ‰‹å·¥åŠ è½½ç¨‹åºçš„è¿‡ç¨‹ã€‚</p><p>ä¹‹å‰åªèƒ½ä¸€æ¬¡ç»™ä¸€ä¸ªç¨‹åºï¼Œç°åœ¨å¯ä»¥ä¸€æ¬¡å¤šä¸ªç¨‹åºï¼Œå½“è®¡ç®—æœºè¿è¡Œå®Œä¸€ä¸ªç¨‹åºåï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œä¸‹ä¸€ä¸ªç¨‹åºï¼Œè¿™æ ·å°±ä¸ç”¨æµªè´¹æ—¶é—´æ‰¾ä¸‹ä¸€ä¸ªç¨‹åºçš„çº¸å¡ï¼Œè¿™ç§°ä¸º<strong>æ‰¹å¤„ç†ï¼ˆBatch Processingï¼‰</strong>ã€‚</p><p>éšç€è®¡ç®—æœºçš„å‘å±•ï¼Œè®¡ç®—æœºå‡ºç°åœ¨å¤§å­¦å’Œæ”¿åºœåŠå…¬å®¤ï¼Œäººä»¬å¼€å§‹åˆ†äº«è½¯ä»¶ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜ã€‚åœ¨å“ˆä½›1å·å’ŒENIACé‚£ä¸ªæ—¶ä»£ï¼Œè®¡ç®—éƒ½æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œç¨‹åºå‘˜åªéœ€è¦ç»™ç‰¹å®šä¸€å°æœºå™¨å†™ä»£ç ï¼Œå…¶ä¸­å¤„ç†å™¨ã€è¯»å¡å™¨å’Œæ‰“å°æœºéƒ½æ˜¯å·²çŸ¥å¹¶ä¸”ä¸ä¼šæ”¹å˜çš„ã€‚ä½†æ˜¯éšç€è®¡ç®—æœºè¶Šæ¥è¶Šæ™®éï¼Œè®¡ç®—æœºé…ç½®å¹¶ä¸æ€»æ˜¯ç›¸åŒçš„ï¼Œæ¯”å¦‚è®¡ç®—æœºå¯èƒ½æœ‰ç›¸åŒçš„CPUä½†æ˜¯ä¸åŒçš„æ‰“å°æœºç­‰ç­‰ï¼Œè¿™æ ·ç¨‹åºå‘˜ä¸ä»…è¦æ‹…å¿ƒç¨‹åºï¼Œè¿˜è¦æ‹…å¿ƒç¨‹åºæ€ä¹ˆå’Œä¸åŒå‹å·çš„æ‰“å°æœºè¿›è¡Œäº¤äº’ï¼Œä»¥åŠè®¡ç®—æœºè¿ç€çš„å…¶ä»–è®¾å¤‡ï¼Œç»Ÿç§°ä¸º<strong>å¤–éƒ¨è®¾å¤‡ï¼ˆPeripheralsï¼‰</strong>ã€‚å’Œæ—©æœŸçš„å¤–éƒ¨è®¾å¤‡äº¤äº’æ˜¯éå¸¸åº•å±‚çš„ï¼Œç¨‹åºå‘˜éœ€è¦äº†è§£è®¾å¤‡çš„ç¡¬ä»¶ç»†èŠ‚ï¼Œä½†æ˜¯ç¨‹åºå‘˜åˆå¾ˆå°‘èƒ½æ‹¿åˆ°æ‰€æœ‰å‹å·çš„è®¾å¤‡æ¥æµ‹è¯•ä»£ç ã€‚æ‰€ä»¥ä¸€èˆ¬æ˜¯é˜…è¯»æ‰‹å†Œç„¶åå°½å¯èƒ½ç¼–å†™ä»£ç ã€‚</p><p>æ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°å†™è½¯ä»¶ï¼Œ<em>æ“ä½œç³»ç»Ÿå°±å……å½“è½¯ä»¶å’Œç¡¬ä»¶ä¹‹é—´çš„åª’ä»‹</em>ã€‚æ›´å…·ä½“çš„ï¼Œæ“ä½œç³»ç»Ÿæä¾›APIæ¥æŠ½è±¡ç¡¬ä»¶ï¼Œå«<strong>è®¾å¤‡é©±åŠ¨ç¨‹åºï¼ˆDevice Driversï¼‰</strong>ã€‚è¿™æ ·ç¨‹åºå‘˜å¯ä»¥é€šè¿‡æ ‡å‡†åŒ–æœºåˆ¶å’Œ<strong>è¾“å…¥è¾“å‡ºç¡¬ä»¶ï¼ˆInput &amp; Outputï¼ŒI/Oï¼‰</strong>è¿›è¡Œäº¤äº’ï¼Œè€Œæ— éœ€å…³æ³¨ç¡¬ä»¶å‹å·ä»¥åŠå…·ä½“ç¡¬ä»¶ç»†èŠ‚ã€‚</p><p>åˆ°1950å¹´ä»£æœ«å°¾ï¼Œç”µè„‘å·²ç»è¿è¡Œéå¸¸å¿«äº†ï¼Œå¤„ç†å™¨ç»å¸¸éœ€è¦ç­‰å¾…è¾ƒæ…¢çš„æœºæ¢°è®¾å¤‡ï¼ˆæ¯”å¦‚æ‰“å°æœºå’Œè¯»å¡å™¨ï¼‰ï¼Œç¨‹åºå°±é˜»å¡åœ¨I/Oä¸Šï¼Œè€Œå¤„ç†å™¨ä»€ä¹ˆéƒ½æ²¡æœ‰è¿›è¡Œå¤„ç†ã€‚è‹±å›½æ›¼å½»æ–¯ç‰¹å¤§å­¦å¼€å§‹ç ”å‘ä¸–ç•Œä¸Šç¬¬ä¸€å°è¶…çº§è®¡ç®—æœºAtlasï¼Œç”±äºæœºå™¨è¿ç®—éå¸¸å¿«ï¼Œæ‰€ä»¥éœ€è¦ä¸€ç§æ–¹å¼æ¥å°½å¯èƒ½åˆ©ç”¨æ›´å¤šçš„ç®—åŠ›ã€‚ä»–ä»¬äº1962å¹´å¹´è®¾è®¡äº†ä¸€ä¸ªç¨‹åºå«Atlas Supervisorï¼Œ<u>ä½¿å¾—æ“ä½œç³»ç»Ÿä¸ä»…èƒ½è¿›è¡Œæ‰¹å¤„ç†ï¼Œå¹¶ä¸”é€šè¿‡<strong>è°ƒåº¦ï¼ˆSchedulingï¼‰</strong>è¿˜èƒ½åœ¨å•ä¸ªCPUä¸ŠåŒæ—¶è¿è¡Œå‡ ä¸ªç¨‹åºã€‚</u></p><blockquote><p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦è°ƒç”¨printå‡½æ•°è®©Atlasæ‰“å°ä¸€ä¸ªå˜é‡å€¼ï¼Œç”±äºæ‰“å°æœºæ¯”CPUæ…¢å¾ˆå¤šï¼Œæ‰€ä»¥printå‡½æ•°éœ€è¦è¿è¡Œæ¯”è¾ƒé•¿çš„æ—¶é—´ã€‚ä¸å…¶ç­‰å¾…æ‰“å°æœºå®Œæˆæ‰“å°ï¼ŒAtlasä¼šå°†è¯¥ç¨‹åºè¿›è¡Œä¼‘çœ ï¼Œç„¶åè¿è¡Œå…¶ä»–ç­‰å¾…çš„å¹¶ä¸”å¯è¿è¡Œçš„ç¨‹åºã€‚æœ€ç»ˆå½“æ‰“å°æœºæ‰“å°å®Œåï¼Œä¼šæŠ¥å‘Šç»™Atlasï¼Œåˆ™Atlasä¼šå°†ä¹‹å‰çš„ç¨‹åºæ ‡è®°ä¸ºâ€œå¯è¿è¡Œâ€çŠ¶æ€ï¼Œç„¶ååœ¨æŸä¸ªæ—¶åˆ»ä¼šå®‰æ’ç»™CPUç»§ç»­è¿è¡Œprintå‡½æ•°ä¸‹ä¸€è¡Œä»£ç ã€‚ç”±æ­¤ï¼ŒAtlasèƒ½å¤Ÿåœ¨CPUä¸Šè¿è¡Œä¸€ä¸ªç¨‹åºï¼ŒåŒæ—¶å¦ä¸€ä¸ªç¨‹åºåœ¨æ‰“å°æ•°æ®ï¼ˆè¿™é‡Œæ˜¯è®©æ‰“å°æœºè‡ªå·±åœ¨æ‰“å°ï¼Œæ‰€ä»¥æ— éœ€CPUè¿›è¡Œå‚ä¸ï¼‰ï¼ŒåŒæ—¶å¦ä¸€ä¸ªç¨‹åºè¯»æ•°æ®ï¼ˆè¿™é‡Œåªéœ€è¦ä½¿ç”¨è¯»å¡å™¨ï¼Œä¸éœ€è¦CPUï¼‰ã€‚</p></blockquote><p>Atlasé…æœ‰4å°è¯»å–å™¨ã€4å°æ‰“å°æœºå’Œ8ä¸ªç£å¸¦é©±åŠ¨å™¨ã€‚ä½¿å¤šä¸ªç¨‹åºå¯ä»¥åŒæ—¶è¿è¡Œï¼Œåœ¨å•ä¸ªCPUä¸Šå…±äº«æ—¶é—´ã€‚æ“ä½œç³»ç»Ÿçš„è¿™ç§èƒ½åŠ›ç§°ä¸º<strong>å¤šä»»åŠ¡å¤„ç†ï¼ˆMultitaskingï¼‰</strong>ã€‚ä½†æ˜¯åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºå­˜åœ¨ä¸€ä¸ª<strong>é—®é¢˜</strong>ï¼Œæ¯ä¸ªç¨‹åºéƒ½ä¼šå ç”¨ä¸€äº›å†…å­˜ï¼Œå½“åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç¨‹åºåï¼Œæˆ‘ä»¬ä¸èƒ½ä¸¢å¤±è¿™äº›å†…å­˜ä¸­çš„æ•°æ®ã€‚<strong>æ‰€ä»¥æˆ‘ä»¬ç»™æ¯ä¸ªç¨‹åºåˆ†é…ä¸“å±å†…å­˜å—</strong>ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¡ç®—æœºä¸€å…±æœ‰10000ä¸ªå†…å­˜åœ°å€ï¼Œç„¶åç¨‹åºAåˆ†é…åˆ°äº†0-999çš„å†…å­˜åœ°å€ï¼Œç¨‹åºBåˆ†é…åˆ°1000åˆ°1999ï¼Œä»¥æ­¤ç±»æ¨ã€‚å¦‚æœä¸€ä¸ªç¨‹åºè¯·æ±‚æ›´å¤šå†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå°±ä¼šå†³å®šæ˜¯å¦åŒæ„ï¼Œå¦‚æœåŒæ„ï¼Œå°±è¦å†³å®šåˆ†é…å“ªäº›å†…å­˜å—ï¼Œè¿™å°±ä½¿å¾—ç¨‹åºAå¯èƒ½ä¼šåˆ†é…åˆ°éè¿ç»­çš„å†…å­˜å—ï¼Œä½¿å¾—ç¨‹åºå‘˜èƒ½éš¾è¿›è¡Œè·Ÿè¸ªã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-352e87bdb554469c2ed3a5c8a26956bf_hd.jpg" alt="img"></p><center>å†…å­˜ä¸­ç¨‹åºåˆ†é…</center>**å¤„ç†åˆ†é…çš„å†…å­˜ä¸è¿ç»­çš„æƒ…å†µ--åŠ¨æ€å†…å­˜åˆ†é…**<p>$å¦‚æœåŒæ„ï¼Œå°±è¦å†³å®šåˆ†é…å“ªäº›å†…å­˜å—ï¼Œè¿™å°±ä½¿å¾—ç¨‹åºAå¯èƒ½ä¼šåˆ†é…åˆ°éè¿ç»­çš„å†…å­˜å—ï¼Œä½¿å¾—ç¨‹åºå‘˜èƒ½éš¾è¿›è¡Œè·Ÿè¸ªã€‚$</p><p>ä¸ºäº†éšè—è¿™ç§å¤æ‚æ€§ï¼Œæ“ä½œç³»ç»Ÿä¼šæŠŠå†…å­˜åœ°å€è¿›è¡Œè™šæ‹ŸåŒ–ï¼Œç§°ä¸º<strong>è™šæ‹Ÿå†…å­˜ï¼ˆVirtual Memoryï¼‰</strong>ã€‚ç¨‹åºå¯ä»¥å‡å®šå†…å­˜æ€»æ˜¯ä»åœ°å€0å¼€å§‹ï¼Œè€Œå®é™…çš„ç‰©ç†ä½ç½®ï¼Œè¢«æ“ä½œç³»ç»Ÿéšè—å’ŒæŠ½è±¡äº†ã€‚ä»¥ç¨‹åºBä¸ºä¾‹ï¼Œå®ƒåˆ†é…äº†å†…å­˜åœ°å€1000åˆ°1999ï¼Œä½†æ˜¯å¯¹äºç¨‹åºBè€Œè¨€ï¼Œå®ƒèƒ½çœ‹åˆ°çš„åœ°å€æ˜¯0åˆ°999ï¼Œæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜ä¹‹é—´çš„æ˜ å°„ï¼Œæ‰€ä»¥ç¨‹åºBè¦åœ°å€42ï¼Œå®é™…éœ€è¦ç‰©ç†åœ°å€1042ã€‚å¯¹äºç¨‹åºAï¼Œå®ƒè¢«åˆ†é…äº†åˆ†æ•£çš„ç‰©ç†å†…å­˜å—ï¼Œä½†æ˜¯ç¨‹åºAå¹¶ä¸çŸ¥é“ï¼Œå®ƒæ‰€èƒ½çœ‹åˆ°çš„æ˜¯è¿ç»­çš„ä»0åˆ°1999çš„åœ°å€ï¼Œå½“ç¨‹åºAè¯»å†…å­˜åœ°å€999æ—¶ï¼Œä¼šè¢«æ˜ å°„åˆ°ç‰©ç†åœ°å€999ï¼Œè€Œå½“ç¨‹åºAè¯»å†…å­˜åœ°å€1000ï¼Œåˆ™ä¼šè¢«æ˜ å°„åˆ°ç‰©ç†åœ°å€2000ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-ab782154333eb8168c2a4d3da20a9895_hd.jpg" alt="img"></p><center>è™šæ‹Ÿå†…å­˜ä¾‹å­</center>è¿™ç§æœºåˆ¶ä½¿å¾—ç¨‹åºçš„å†…å­˜å¤§å°å¯ä»¥çµæ´»å¢å‡ï¼Œç§°ä¸º**åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆDynamic Memory Allocationï¼‰**ã€‚å¯¹ç¨‹åºè€Œè¨€ï¼Œå†…å­˜çœ‹èµ·æ¥æ˜¯è¿ç»­çš„ï¼Œä¸ºæ“ä½œç³»ç»ŸåŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºæä¾›äº†æå¤§çš„çµæ´»æ€§ï¼Œç¨‹åºå‘˜åªéœ€è¦æ ¹æ®è¿ç»­çš„è™šæ‹Ÿå†…å­˜åœ°å€è¿›è¡Œç¼–ç¨‹ï¼Œæ— éœ€è€ƒè™‘ç¨‹åºåœ¨å®é™…ç‰©ç†å†…å­˜ä¸­ä¸è¿ç»­çš„ç‰©ç†å†…å­˜å—ã€‚<p>åŒæ—¶ç»™æ¯ä¸ªç¨‹åºåˆ†é…ä¸€ä¸ªä¸“ç”¨çš„å†…å­˜å—ï¼Œå¯ä»¥ä½¿å¾—éš”ç¦»èµ·æ¥æ›´æ–¹ä¾¿ã€‚å¦‚æœä¸€ä¸ªç¨‹åºå‡ºé”™äº†ï¼Œåœ¨å†…å­˜ä¸­èƒ¡ä¹±å†™æ•°æ®ï¼Œå®ƒåªèƒ½åœ¨è‡ªå·±åˆ†é…çš„å†…å­˜å—ä¸­è¿›è¡Œæ“ä½œï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–ç¨‹åºçš„æ•°æ®ï¼Œè¿™ä¸ªç§°ä¸º<strong>å†…å­˜ä¿æŠ¤ï¼ˆMemory Protectionï¼‰</strong>ã€‚è¿™å¯¹äºé˜²æ­¢æ¶æ„è½¯ä»¶æ˜¯å¦æœ‰æ•ˆã€‚Atlasæ˜¯ç¬¬ä¸€å°æä¾›è™šæ‹Ÿå†…å­˜å’Œå†…å­˜ä¿æŠ¤åŠŸèƒ½çš„æ“ä½œç³»ç»Ÿã€‚</p><p>åˆ°1970å¹´ä»£ï¼Œå¤§å­¦ä¼šè´­ä¹°ç”µè„‘ç»™å­¦ç”Ÿä½¿ç”¨ï¼Œæ­¤æ—¶è®¡ç®—æœºä¸ä»…èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºï¼Œè¿˜èƒ½è®©å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®ã€‚å¤šä¸ªç”¨æˆ·ä½¿ç”¨<strong>ç»ˆç«¯ï¼ˆTerminalï¼‰</strong>æ¥è®¿é—®è®¡ç®—æœºï¼ˆè¿™é‡Œçš„ç»ˆç«¯åªæœ‰é”®ç›˜å’Œå±å¹•ï¼Œç„¶åè¿æ¥åˆ°è®¡ç®—æœºï¼‰ï¼Œç»ˆç«¯æœ¬èº«å¹¶ä¸å…·æœ‰å¤„ç†èƒ½åŠ›ã€‚è¿™æ ·è®¡ç®—æœºä¸ä»…è¦èƒ½å¤„ç†å¤šä¸ªç¨‹åºï¼Œè¿˜è¦å¤„ç†å¤šä¸ªç”¨æˆ·ï¼Œä¸ºäº†ç¡®ä¿å…¶ä¸­ä¸€äººä¸ä¼šå æ»¡è®¡ç®—æœºèµ„æºï¼Œå¼€å‘äº†<strong>åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼ˆTime-Sharingï¼‰</strong>ï¼ŒæŒ‡çš„æ˜¯æ¯ä¸ªç”¨æˆ·åªèƒ½ç”¨ä¸€å°éƒ¨åˆ†å¤„ç†å™¨ã€å†…å­˜ç­‰ï¼Œå› ä¸ºè®¡ç®—æœºå¾ˆå¿«ï¼Œæ‰€ä»¥å³ä½¿åªæœ‰ä¸€å°éƒ¨åˆ†èµ„æºï¼Œä¹Ÿè¶³ä»¥å®Œæˆå¾ˆå¤šä»»åŠ¡ã€‚</p><p>æ—©æœŸåˆ†æ—¶æ“ä½œç³»ç»Ÿä¸­ï¼Œæœ€æœ‰å½±å“åŠ›çš„æ˜¯1969å¹´å‘å¸ƒçš„Multicsï¼Œå®ƒæ˜¯ç¬¬ä¸€ä¸ªä»è®¾è®¡æ—¶å°±è€ƒè™‘åˆ°å®‰å…¨æ€§çš„æ“ä½œç³»ç»Ÿã€‚å¼€å‘äººå‘˜ä¸å¸Œæœ›æ¶æ„ç”¨æˆ·è®¿é—®ä¸è¯¥è®¿é—®çš„æ•°æ®ï¼Œè¿™ä½¿å¾—æ“ä½œç³»ç»Ÿçš„å¤æ‚åº¦è¿œè¶…å½“æ—¶çš„å¹³å‡æ°´å¹³ï¼Œé€šå¸¸å†…å­˜çš„ä¸€åŠéƒ½è¦ç”¨æ¥è¿è¡Œæ“ä½œç³»ç»Ÿï¼Œè¿™ç§è¿‡åº¦è®¾è®¡ä½¿å¾—Multicsæœªèƒ½è·å¾—å•†ä¸šæˆåŠŸã€‚æ‰€ä»¥ç ”ç©¶å‘˜ä»¬é‡æ–°æ‰“é€ äº†ä¸€ä¸ªæ“ä½œç³»ç»ŸUnixï¼Œä»–ä»¬æƒ³æŠŠæ“ä½œç³»ç»Ÿåˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p><blockquote><ol><li>æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œæ¯”å¦‚å†…å­˜ç®¡ç†ï¼Œå¤šä»»åŠ¡å’Œè¾“å…¥è¾“å‡ºå¤„ç†ï¼Œè¿™ä¸ªç§°ä¸º<strong>å†…æ ¸ï¼ˆKernelï¼‰</strong>ã€‚</li><li>ä¸€äº›æœ‰ç”¨çš„å·¥å…·ï¼Œä½†æ˜¯ä»–ä»¬ä¸æ˜¯å†…æ ¸çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ç¨‹åºå’Œè¿è¡Œåº“ã€‚</li></ol></blockquote><p>ç´§å‡‘çš„å†…æ ¸æ„å‘³ç€åŠŸèƒ½æ²¡æœ‰ä¹‹å‰é‚£ä¹ˆå…¨é¢ã€‚å½“å†…æ ¸å‡ºç°å´©æºƒæ—¶ï¼ŒMulticsæœ‰å¾ˆå¤šæ“ä½œæ¥è¿›è¡Œæ¢å¤ï¼Œä½†æ˜¯Unixæ˜¯æ²¡æœ‰åŠæ³•æ¢å¤çš„ï¼Œä¼šç›´æ¥è°ƒç”¨ä¸€ä¸ªpanicå‡½æ•°ï¼Œæœ€åˆåªèƒ½æ— é™å¾ªç¯æ‰“å°panicã€‚è¿™ç§ç®€å•æ€§æ„å‘³ç€Unixå¯ä»¥å†æ›´ä¾¿å®œçš„ç¡¬ä»¶ä¸Šè¿è¡Œã€‚1971å¹´å‘å¸ƒä¹‹åï¼Œå°±æœ‰äººå†™äº†ä¸åŒç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨ï¼Œç”šè‡³æ–‡å­—å¤„ç†å™¨ï¼Œä½¿å¾—Unixè¿…é€Ÿæˆä¸º1970-80å¹´ä»£æœ€æµè¡Œçš„æ“ä½œç³»ç»Ÿä¹‹ä¸€ã€‚</p><p>åˆ°1980å¹´ä»£æ—©æœŸï¼Œä¸ªäººç”µè„‘é€æ¸å‡ºç°ï¼Œè¿™äº›ç”µè„‘æ¯”å¤§å‹ä¸»æœºç®€å•å¾ˆå¤šï¼Œä¸»æœºä¸€èˆ¬åœ¨å¤§å­¦ã€å…¬å¸å’Œæ”¿åºœï¼Œå› æ­¤æ“ä½œç³»ç»Ÿä¹Ÿè¦å˜å¾—ç®€å•ã€‚äº1981å¹´å¾®è½¯å‘å¸ƒçš„ç£ç›˜æ“ä½œç³»ç»ŸMS-DOSåªæœ‰160kbï¼Œè™½ç„¶ç¼ºå°‘å¤šä»»åŠ¡å’Œä¿æŠ¤å†…å­˜è¿™æ ·çš„åŠŸèƒ½ï¼Œæ„å‘³ç€ç¨‹åºç»å¸¸ä½¿ç³»ç»Ÿå´©æºƒï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥é‡å¯ã€‚å³ä½¿åœ¨1985å¹´å‘å¸ƒçš„æ—©æœŸwindosï¼Œä¹Ÿä¸€æ ·ç¼ºå°‘å†…å­˜ä¿æŠ¤åŠŸèƒ½ï¼Œå½“ç¨‹åºé”™è¯¯æ—¶ï¼Œå°±ä¼šå‡ºç°è“å±ã€‚</p><p>ç°ä»£çš„æ“ä½œç³»ç»ŸåŒ…å«äº†<strong>å¤šä»»åŠ¡</strong>ã€<strong>è™šæ‹Ÿå†…å­˜</strong>å’Œ<strong>å†…å­˜ä¿æŠ¤æœºåˆ¶</strong>ï¼Œå› æ­¤å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºã€‚</p><h1 id="19ã€å†…å­˜-amp-å­˜å‚¨ä»‹è´¨"><a href="#19ã€å†…å­˜-amp-å­˜å‚¨ä»‹è´¨" class="headerlink" title="19ã€å†…å­˜&amp;å­˜å‚¨ä»‹è´¨"></a>19ã€å†…å­˜&amp;å­˜å‚¨ä»‹è´¨</h1><p>ä¸€èˆ¬æ¥è¯´ï¼Œç”µè„‘<strong>å†…å­˜</strong>æ˜¯<strong>éæ°¸ä¹…æ€§çš„ï¼ˆNon-Permanentï¼‰</strong>ï¼Œå¦‚æœç”µè„‘å…³æœºï¼Œåˆ™å†…å­˜ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä¸¢å¼ƒï¼Œæ‰€ä»¥å†…å­˜å«<strong>æ˜“å¤±æ€§å­˜å‚¨å™¨ï¼ˆVolatile Memoryï¼‰</strong>ï¼Œè¿˜å­˜åœ¨å¦ä¸€ç§<strong>å­˜å‚¨å™¨ï¼ˆStorageï¼‰</strong>ï¼Œå­˜å‚¨å™¨ï¼ˆstorageï¼‰å’Œå†…å­˜ï¼ˆmemoryï¼‰å­˜åœ¨ä¸€å®šçš„ä¸åŒã€‚ä»»ä½•å†™å…¥storageçš„æ•°æ®ï¼Œå°±ä¼šä¸€ç›´ä¿å­˜ï¼Œç›´åˆ°è¢«è¦†ç›–æˆ–åˆ é™¤ï¼Œæ–­ç‚¹ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œç§°ä¸º<strong>éæ˜“å¤±æ€§ï¼ˆNon-volatileï¼‰</strong>ã€‚è¿‡å»æ˜¯æ˜“å¤±æ€§çš„é€Ÿåº¦å¿«ï¼Œéæ˜“å¤±æ€§çš„é€Ÿåº¦æ…¢ï¼Œä½†éšç€æŠ€æœ¯å‘å±•ï¼Œä¸¤è€…çš„å·®å¼‚è¶Šæ¥è¶Šå°ã€‚</p><p>æœ€æ—©çš„å­˜å‚¨ä»‹è´¨æ˜¯æ‰“å­”çº¸å¡ä»¥åŠæ‰“å­”çº¸å¸¦ï¼Œåˆ°1940å¹´ä»£ï¼Œçº¸å¡æ ‡å‡†æ˜¯80åˆ—x12è¡Œï¼Œèƒ½å¤Ÿå­˜å‚¨960ä½æ•°æ®ã€‚çº¸å¡ç”¨äº†åå‡ å¹´ï¼Œå› ä¸ºä¸ç”¨ç”µè€Œä¸”ä¾¿å®œè€ç”¨ï¼Œä½†æ˜¯è¯»å–é€Ÿåº¦è¾ƒæ…¢ï¼Œåªèƒ½å†™å…¥ä¸€æ¬¡ï¼Œå¯¹äºå­˜ä¸´æ—¶å€¼ï¼Œçº¸å¡ä¸å¥½ç”¨ï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤§æ›´çµæ´»çš„å­˜å‚¨æ–¹å¼ã€‚</p><h2 id="å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼š"><a href="#å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼š" class="headerlink" title="å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼š"></a>å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼š</h2><p>1944å¹´æ—¶ï¼Œå‡ºç°äº†<strong>å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼ˆDelay Line Memoryï¼‰</strong>ã€‚<strong>åŸç†</strong>ï¼šå‡è®¾ä½ æœ‰ä¸€ä¸ªè£…æ»¡æ¶²ä½“ï¼ˆå¦‚æ°´é“¶ï¼‰çš„ç®¡å­ï¼Œç®¡å­ä¸€ç«¯æ”¾ç€æ‰¬å£°å™¨ï¼Œå¦ä¸€ç«¯æ”¾ç€éº¦å…‹é£ï¼Œå½“æ‰¬å£°å™¨å‘å‡ºè„‰å†²æ—¶ï¼Œå°±ä¼šåœ¨ç®¡å­å†…äº§ç”Ÿå‹åŠ›æ³¢ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åå‹åŠ›æ³¢ä¼šä¼ é€’åˆ°éº¦å…‹é£ï¼Œç„¶åéº¦å…‹é£å°†å‹åŠ›æ³¢è½¬æ¢ä¸ºç”µä¿¡å·ï¼Œé€šè¿‡åœ¨éº¦å…‹é£åé¢æ¥ä¸€ä¸ª<strong>æ”¾å¤§å™¨ï¼ˆAMPLIFIERï¼‰</strong>ï¼Œç„¶åè¿å›æ‰¬å£°å™¨ï¼Œæˆ‘ä»¬å°±èƒ½ç”¨å‹åŠ›æ³¢çš„ä¼ æ’­å»¶è¿Ÿæ¥å­˜å‚¨æ•°æ®ã€‚å‡è®¾æœ‰å‹åŠ›æ³¢ä»£è¡¨1ï¼Œæ²¡æœ‰ä»£è¡¨0ï¼Œæ‰¬å£°å™¨å‘å‡ºä¸€ç³»åˆ—å‹åŠ›æ³¢ï¼Œå› ä¸ºä¼ æ’­å»¶æ—¶çš„åŸå› ï¼Œè¿™äº›å‹åŠ›æ³¢ä¼šå­˜åœ¨ç®¡å­å†…ï¼Œå½“æ’å‡»åˆ°éº¦å…‹é£åï¼Œåˆä¼šé€šè¿‡æ‰¬å£°å™¨é‡æ–°å›åˆ°ç®¡å­ï¼Œæ‰€ä»¥å°±èƒ½å°†æ•°æ®ä¿å­˜åœ¨ç®¡å­å†…ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200222172929235.png" alt="image-20200222172929235"></p><p>åœ¨1949å¹´çš„EDVACè®¡ç®—æœºä¸­ä½¿ç”¨äº†å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼Œæ€»å…±æœ‰128æ¡å»¶è¿Ÿçº¿ï¼Œæ¯æ¡èƒ½å­˜352ä½ï¼Œä¸€å…±èƒ½ä¿å­˜45000ä½ã€‚è¿™ä½¿å¾—EDVACæˆä¸ºæœ€æ—©çš„<strong>å­˜å‚¨ç¨‹åºè®¡ç®—æœº</strong>ä¹‹ä¸€ã€‚</p><h3 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h3><p>ä½†å»¶è¿Ÿçº¿å­˜å‚¨å™¨çš„<strong>ç¼ºç‚¹</strong>æ˜¯ï¼Œæ¯ä¸ªæ—¶åˆ»åªèƒ½è¯»ä¸€ä½æ•°æ®ï¼Œå¦‚æœæƒ³è®¿é—®ä¸€ä¸ªç‰¹å®šçš„ä½ï¼Œå°±è¦ç­‰å¾…å®ƒä»å¾ªç¯ä¸­å‡ºç°ï¼Œæ‰€ä»¥åˆè¢«ç§°ä¸º<strong>é¡ºåºå­˜å‚¨å™¨Sequential Memoryï¼‰</strong>æˆ–è€…<strong>å¾ªç¯å­˜å‚¨å™¨ï¼ˆCyclic-Access Memoryï¼‰</strong>ã€‚è€Œæˆ‘ä»¬æƒ³è¦<strong>éšæœºå­˜å–å­˜å‚¨å™¨ï¼ˆRandom Access Memoryï¼‰</strong>ï¼Œå¯ä»¥éšæ—¶è®¿é—®ä»»ä½•ä½ç½®ã€‚å¹¶ä¸”å¢åŠ å†…å­˜å¯†åº¦ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå¦‚æœè¦å°†å‹åŠ›æ³¢å˜å¾—æ›´ç´§å¯†ï¼Œå°±ä¼šä½¿å…¶æ··åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥å‡ºç°äº†å…¶ä»–ç±»å‹çš„å»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼Œæ¯”å¦‚<strong>ç£è‡´ä¼¸ç¼©å»¶è¿Ÿå­˜å‚¨å™¨ï¼ˆMagnetostrictive Delay Linesï¼‰</strong>ï¼Œå®ƒé€šè¿‡é‡‘å±çº¿çš„æŒ¯åŠ¨æ¥ä»£è¡¨æ•°æ®ã€‚</p><h2 id="ç£èŠ¯å­˜å‚¨å™¨ï¼š"><a href="#ç£èŠ¯å­˜å‚¨å™¨ï¼š" class="headerlink" title="ç£èŠ¯å­˜å‚¨å™¨ï¼š"></a>ç£èŠ¯å­˜å‚¨å™¨ï¼š</h2><p>ä½†æ˜¯å»¶è¿Ÿçº¿å­˜å‚¨å™¨åœ¨1950å¹´ä»£ä¸­æœŸå°±è¿‡æ—¶äº†ã€‚å› ä¸ºå‡ºç°äº†æ–°æŠ€æœ¯ï¼Œäºæ˜¯å‡ºç°äº†ï¼Œ<strong>ç£èŠ¯å­˜å‚¨å™¨ï¼ˆMagnetic Core Memoryï¼‰</strong>ï¼Œå®ƒç”¨äº†ç¯çŠ¶ç£åœˆï¼Œå¦‚æœç»™ç£èŠ¯ç»•ä¸Šç”µçº¿å¹¶æ–½åŠ ç”µæµï¼Œå°±èƒ½å°†å…¶ç£åŒ–åœ¨ä¸€ä¸ªæ–¹å‘ï¼Œå¦‚æœå…³æ‰ç”µæµï¼Œç£èŠ¯è¿˜ä¼šä¿æŒç£åŒ–ï¼Œå¦‚æœæ–½åŠ äº†ç›¸åæ–¹å‘çš„ç”µæµï¼Œåˆ™ç£åŒ–æ–¹å‘ä¼šç¿»è½¬ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½é€šè¿‡ç£åŒ–æ–¹å‘æ¥å­˜å‚¨0å’Œ1ï¼Œå°±èƒ½ç”¨æ¥å­˜å‚¨1ä½ã€‚é€šè¿‡å°†ç£èŠ¯æ’åˆ—æˆç½‘æ ¼çŠ¶ï¼Œæœ‰çº¿è·¯è´Ÿè´£é€‰æ‹©è¡Œå’Œåˆ—ï¼Œä¹Ÿæœ‰ç”µçº¿è´¯ç©¿æ¯ä¸ªç£èŠ¯ï¼Œç”¨äºè¯»å†™1ä½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-c8e58ebec8d54b77be564e81463cd7de_hd.jpg" alt="img"></p><center>ç£èŠ¯å­˜å‚¨å™¨</center>å¦‚æœè¦å­˜çš„æ•°æ®è¶…è¿‡1bitï¼Œå°±éœ€è¦æŠŠç£èŠ¯å­˜å‚¨å™¨æ’åˆ—æˆç½‘æ ¼ï¼š<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200222173626986.png" alt="image-20200222173626986"></p><p>1953å¹´éº»çœç†å·¥çš„Whirlwind1è®¡ç®—æœºç¬¬ä¸€æ¬¡å¤§è§„æ¨¡ä½¿ç”¨ç£èŠ¯å†…å­˜ï¼Œç£èŠ¯æ’åˆ—ä½¿ç”¨32x32ï¼Œç”¨äº†16å—æ¿å­ï¼Œå¤§çº¦èƒ½å­˜å‚¨16000ä½ã€‚ä¸åƒå»¶è¿Ÿçº¿å­˜å‚¨å™¨ï¼Œç£èŠ¯å­˜å‚¨å™¨èƒ½éšæ—¶è®¿é—®ä»»ä½•ä¸€ä½ï¼Œå› æ­¤ä»1950å¹´ä»£ä¸­æœŸæˆä¸ºä¸»æµï¼Œæµè¡Œäº†20å¤šå¹´ï¼Œå°†å­˜å‚¨æˆæœ¬ä»1ç¾å…ƒ1ä½é™ä½åˆ°äº†1ç¾åˆ†å·¦å³ã€‚</p><h2 id="ç£å¸¦ï¼š"><a href="#ç£å¸¦ï¼š" class="headerlink" title="ç£å¸¦ï¼š"></a>ç£å¸¦ï¼š</h2><p>åˆ°1951å¹´ï¼ŒUNIVACç”µè„‘æ¨å‡ºäº†ä¸€ç§æ–°å­˜å‚¨â€”â€”<strong>ç£å¸¦ï¼ˆMagnetic Tapeï¼‰</strong>ã€‚ç£å¸¦æ˜¯çº¤è–„æŸ”è½¯çš„ä¸€é•¿æ¡å·åœ¨è½´ä¸Šçš„ç£æ€§å¸¦å­ï¼Œç£å¸¦å¯ä»¥åœ¨<strong>ç£å¸¦é©±åŠ¨å™¨</strong>å†…å‰åç§»åŠ¨ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªç¼ ç»•äº†ç”µçº¿çš„<strong>å†™å¤´ï¼ˆWrite Headï¼‰</strong>ï¼Œé€šè¿‡ç”µæµæ¥äº§ç”Ÿç£åœºï¼Œå¯¼è‡´ç£å¸¦çš„ä¸€å°éƒ¨åˆ†è¢«ç£åŒ–ï¼Œç”µæµæ–¹å‘å†³å®šäº†ææ€§ï¼Œä»£è¡¨1å’Œ0ã€‚åŒæ ·è¿˜æœ‰ä¸€ä¸ªè¯»å¤´ï¼ˆRead Headï¼‰ï¼Œå¯ä»¥éç ´ååœ°æ£€æµ‹ææ€§æ¥ç¡®å®šæ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-1d9ac11988c8c3e7e54dc2c032bc21a4_hd.jpg" alt="img"></p><h3 id="ç¼ºç‚¹ï¼š-1"><a href="#ç¼ºç‚¹ï¼š-1" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h3><p>ç£å¸¦çš„ä¸»è¦ç¼ºç‚¹æ˜¯è®¿é—®é€Ÿåº¦ï¼Œç£å¸¦æ˜¯è¿ç»­çš„ï¼Œå¿…é¡»å€’å¸¦æˆ–å¿«è¿›åˆ°ç‰¹å®šä½ç½®ã€‚</p><p>50 60å¹´ä»£å‡ºç°äº†ç±»ä¼¼çš„æŠ€æœ¯<strong>ç£é¼“å­˜å‚¨å™¨ï¼ˆMagnetic Drum Memoryï¼‰</strong>,æœ‰ä¸€ä¸ªé‡‘å±åœ†ç®¡ï¼Œç›–æ»¡äº†ç£æ€§ææ–™æ¥è®°å½•æ•°æ®ï¼Œåœ†ç®¡ä¼šæŒç»­æ—‹è½¬ï¼Œå‘¨å›´æœ‰æ•°åä¸ªè¯»å†™å¤´ï¼Œç­‰åœ†ç®¡è½¬åˆ°äº†æ­£ç¡®çš„ä½ç½®ï¼Œè¯»å†™å¤´å°±ä¼šè¯»æˆ–å†™æ•°æ®ã€‚</p><p>ä½†åˆ°äº†1970å¹´ä»£ç£é¼“å­˜å‚¨å™¨å°±ä¸å†ç”Ÿäº§äº†ï¼Œä½†æ˜¯ç£é¼“å¯¼è‡´äº†<strong>ç¡¬ç›˜ï¼ˆHard Disk Drivesï¼‰</strong>çš„å‘å±•ï¼Œç£ç›˜çš„å¥½å¤„æ˜¯è–„ï¼Œå¯ä»¥å åœ¨ä¸€èµ·æ¥æä¾›æ›´å¤šè¡¨é¢ç§¯æ¥å­˜å‚¨æ•°æ®ã€‚è¦è®¿é—®æŸä¸ªç‰¹å®šä½ï¼Œä¸€ä¸ªè¯»å†™ç£å¤´ä¼šä¸Šä¸‹ç§»åŠ¨ï¼Œæ‰¾åˆ°æ­£ç¡®çš„ç£ç›˜ï¼Œç„¶åç£å¤´ä¼šæ»‘è¿›å»ï¼Œå°±å’Œç£é¼“å­˜å‚¨å™¨ä¸€æ ·ï¼Œç£ç›˜ä¹Ÿä¼šé«˜é€Ÿæ—‹è½¬ï¼Œæ‰€ä»¥è¯»å†™å¤´è¦ç­‰åˆ°æ­£ç¡®çš„éƒ¨åˆ†æ—‹è½¬è¿‡æ¥ï¼Œè¿™ä¸ªç§°ä¸º<strong>å¯»é“æ—¶é—´ï¼ˆSeek Timeï¼‰</strong>ã€‚</p><p>ä»¥ä¸‹æ˜¯<strong>å†…å­˜å±‚æ¬¡ç»“æ„ï¼ˆMemory Hierarchyï¼‰</strong>ï¼Œæœ‰ä¸€å°éƒ¨åˆ†é«˜é€Ÿä¸”æ˜‚è´µçš„å†…å­˜ï¼Œä¸€éƒ¨åˆ†ç¨æ…¢ä¸”ç›¸å¯¹ä¾¿å®œçš„å†…å­˜ï¼Œè¿˜æœ‰æ›´æ…¢ä¸”æ›´ä¾¿å®œçš„å†…å­˜ï¼Œè¿™ç§æ··åˆå¯ä»¥åœ¨æˆæœ¬å’Œé€Ÿåº¦ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200222174311987.png" alt="image-20200222174311987"></p><p>å…¶æ¬¡è¿˜æœ‰<strong>è½¯ç›˜ï¼ˆFloppy Diskï¼‰</strong>ï¼Œé™¤äº†ç£ç›˜æ˜¯è½¯çš„ï¼Œå…¶ä»–éƒ½ä¸€æ ·ã€‚</p><p>åé¢å‡ºç°çš„<strong>å…‰ç›˜ï¼ˆCompact Diskï¼ŒCDï¼‰</strong>ä»¥åŠDVDï¼Œå®ƒä»¬ä¸ä½¿ç”¨ç£æ€§æ¥ä¿å­˜æ•°æ®ï¼Œè€Œæ˜¯ä½¿ç”¨è¡¨é¢çš„å°å‘æ¥é€ æˆå…‰çš„ä¸åŒåå°„ï¼Œé€šè¿‡å…‰å­¦ä¼ æ„Ÿå™¨æ•è·å¹¶è§£ç ä¸º1å’Œ0ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200222174429795.png" alt="image-20200222174429795"></p><center>å…‰ç›˜è¡¨é¢</center>å¦‚ä»Šæˆæœ¬ä¸‹é™äº†æ›´å¤šçš„å­˜å‚¨æŠ€æœ¯åœ¨æœ**å›ºæ€ï¼ˆSolid Stateï¼‰**å‰è¿›ï¼Œ**æœºæ¢°ç¡¬ç›˜ï¼ˆhard disk driveï¼ŒHDDï¼‰**è¢«**å›ºæ€ç¡¬ç›˜ï¼ˆSolid State Driveï¼ŒSSDï¼‰**é€æ¸ä»£æ›¿ã€‚ç”±äºSSDæ²¡æœ‰æœºæ¢°æ´»åŠ¨éƒ¨ä»¶ï¼Œé‡Œé¢éƒ½æ˜¯é›†æˆç”µè·¯ã€‚å› ä¸ºä¸å­˜åœ¨æœºæ¢°æ´»åŠ¨ï¼Œæ‰€ä»¥ç£å¤´ä¸ç”¨ç­‰ç£ç›˜æ—‹è½¬ï¼Œæ‰€ä»¥å›ºæ€é€Ÿåº¦å¿«å¾ˆå¤šï¼Œä½†æ˜¯ä»ç„¶æ¯”RAMæ…¢å¾ˆå¤šï¼Œ<u>æ‰€ä»¥ç°ä»£è®¡ç®—æœºä»ç„¶ä½¿ç”¨å­˜å‚¨å±‚æ¬¡ç»“æ„</u>ã€‚<h1 id="20ã€æ–‡ä»¶ç³»ç»Ÿ"><a href="#20ã€æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="20ã€æ–‡ä»¶ç³»ç»Ÿ"></a>20ã€æ–‡ä»¶ç³»ç»Ÿ</h1><p>ä¸Šä¸€èŠ‚ä¸­ä»‹ç»çš„æ•°æ®å­˜å‚¨ã€‚å­˜å‚¨å™¨å¯ä»¥åœ¨æ–­ç”µçŠ¶æ€ä¸‹é•¿æ—¶é—´å­˜ä¸Šä¸‡äº¿ä½ï¼Œæ‰€ä»¥éå¸¸é€‚åˆç”¨æ¥å­˜ä¸€æ•´å—æœ‰å…³ç³»çš„<u>æ•°æ®</u>ï¼ˆæˆ–è€…ç§°ä¸º<strong>æ–‡ä»¶ï¼ˆFilesï¼‰</strong>ï¼‰ï¼Œæ¯”å¦‚æ–‡æœ¬æ–‡ä»¶ã€éŸ³ä¹æ–‡ä»¶ã€ç…§ç‰‡å’Œè§†é¢‘ã€‚è¿™ä¸€èŠ‚å°†è®¨è®ºæ–‡ä»¶æ˜¯ä»€ä¹ˆä»¥åŠè®¡ç®—æœºæ˜¯æ€ä¹ˆç®¡ç†æ–‡ä»¶çš„ã€‚</p><p>éšæ„æ’åˆ—æ–‡ä»¶çš„æ•°æ®æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æŒ‰æ ¼å¼æ’åˆ—ä¼šæ›´å¥½ï¼Œè¿™ä¸ªç§°ä¸º<strong>æ–‡ä»¶æ ¼å¼ï¼ˆFile Formatï¼‰</strong>ã€‚</p><p>é¦–å…ˆçœ‹ä¸€ä¸ªæœ€ç®€å•çš„æ–‡ä»¶æ ¼å¼â€”â€”<strong>æ–‡æœ¬æ–‡ä»¶ï¼ˆTxt Fileï¼Œtxtï¼‰</strong>ã€‚å°±åƒå…¶ä»–æ–‡ä»¶ä¸€æ ·ï¼Œæ–‡æœ¬æ–‡ä»¶åªæ˜¯ä¸€é•¿ä¸²äºŒè¿›åˆ¶æ•°ï¼Œå¯ä»¥é€šè¿‡ASCIIç¼–ç å°†å…¶è§£ç æˆå¯¹åº”æ–‡æœ¬ã€‚</p><h2 id="æ³¢å½¢æ–‡ä»¶ï¼š"><a href="#æ³¢å½¢æ–‡ä»¶ï¼š" class="headerlink" title="æ³¢å½¢æ–‡ä»¶ï¼š"></a>æ³¢å½¢æ–‡ä»¶ï¼š</h2><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223201711965.png" alt="image-20200223201711965"></p><center>æ³¢å½¢æ–‡ä»¶ï¼ˆWAVï¼‰</center>**æ³¢å½¢æ–‡ä»¶ï¼ˆWave Fileï¼ŒWAVï¼‰**ç”¨äºå­˜éŸ³é¢‘æ•°æ®ã€‚åœ¨æ­£ç¡®è¯»å–æ•°æ®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€äº›ä¿¡æ¯æ¯”å¦‚ç ç‡ï¼Œä»¥åŠæ˜¯å•å£°é“è¿˜æ˜¯ç«‹ä½“å£°ï¼Œè¿™ç§æè¿°æ•°æ®çš„æ•°æ®ç§°ä¸º**å…ƒæ•°æ®ï¼ˆMeta Dataï¼‰**ã€‚å…ƒæ•°æ®ä¿å­˜åœ¨æ–‡ä»¶å¼€å¤´ï¼Œåœ¨å®é™…æ•°æ®ä¹‹å‰ï¼Œå› æ­¤ä¹Ÿå«**æ–‡ä»¶å¤´ï¼ˆHeaderï¼‰**ã€‚ä»¥ä¸‹æ˜¯WAVæ–‡ä»¶çš„å‰44ä¸ªå­—èŠ‚ï¼Œæœ‰äº›éƒ¨åˆ†ä¼šæ ¹æ®æ•°æ®è¿›è¡Œå˜åŒ–ã€‚<p>[^å…ƒæ•°æ®]: <strong>å…ƒæ•°æ®</strong>ï¼ˆ<strong>Metadata</strong>ï¼‰ï¼Œåˆç§°<strong>ä¸­ä»‹æ•°æ®</strong>ã€<strong>ä¸­ç»§æ•°æ®</strong>ï¼Œä¸ºæè¿°<a href="https://baike.baidu.com/item/æ•°æ®/5947370" target="_blank" rel="noopener">æ•°æ®</a>çš„æ•°æ®ï¼ˆdata about dataï¼‰ï¼Œä¸»è¦æ˜¯æè¿°æ•°æ®<a href="https://baike.baidu.com/item/å±æ€§/1405051" target="_blank" rel="noopener">å±æ€§</a>ï¼ˆpropertyï¼‰çš„<a href="https://baike.baidu.com/item/ä¿¡æ¯/111163" target="_blank" rel="noopener">ä¿¡æ¯</a>ï¼Œç”¨æ¥æ”¯æŒå¦‚æŒ‡ç¤ºå­˜å‚¨ä½ç½®ã€<a href="https://baike.baidu.com/item/å†å²/360" target="_blank" rel="noopener">å†å²</a>æ•°æ®ã€<a href="https://baike.baidu.com/item/èµ„æº/9089683" target="_blank" rel="noopener">èµ„æº</a>æŸ¥æ‰¾ã€æ–‡ä»¶è®°å½•ç­‰åŠŸèƒ½ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223201307602.png" alt="image-20200223201307602"></p><center>WAVæ ¼å¼çš„æ•°æ®çš„å…ƒæ•°æ®</center>è€ŒéŸ³é¢‘æ•°æ®å°±ç´§è·Ÿåœ¨å…ƒæ•°æ®ä¹‹åï¼Œä¹Ÿæ˜¯ä¸€é•¿ä¸²äºŒè¿›åˆ¶æ•°ï¼Œè¿™äº›æ•°å­—ä»£è¡¨æ¯ç§’æ•è·å¤šæ¬¡çš„å£°éŸ³å¹…åº¦ã€‚éº¦å…‹é£é¦–å…ˆä¼šå¯¹å£°éŸ³è¿›è¡Œæ¯ç§’ä¸Šåƒæ¬¡é‡‡æ ·ï¼Œæ¯æ¬¡é‡‡æ ·å¯ä»¥ç”¨ä¸€ä¸ªæ•°å­—è¡¨ç¤ºï¼Œå£°å‹è¶Šé«˜æ•°å­—è¶Šå¤§ï¼Œç§°ä¸º**æŒ¯å¹…(Amplitude)**ï¼Œè¿™å°±æ˜¯WAVæ–‡ä»¶ä¸­å­˜å‚¨çš„æ•°æ®ã€‚æ’­æ”¾å£°éŸ³æ—¶ï¼Œæ‰¬å£°å™¨å°±ä¼šäº§ç”Ÿç›¸åŒçš„æ³¢å½¢ã€‚<h2 id="ä½å›¾-Bitmap"><a href="#ä½å›¾-Bitmap" class="headerlink" title="ä½å›¾(Bitmap)"></a>ä½å›¾(Bitmap)</h2><p>å†æ¥è°ˆè°ˆ<strong>ä½å›¾</strong>ï¼Œå…¶åç¼€ä¸ºbmpï¼Œç”¨äºä¿å­˜å›¾ç‰‡ã€‚ã€‚è®¡ç®—æœºä¸­ï¼Œå›¾ç‰‡ç”±å¤šä¸ª<strong>åƒç´ (Pixel)</strong>æ–¹å—ç»„æˆï¼Œæ¯ä¸ªåƒç´ ç”±ä¸‰ç§é¢œè‰²ç»„æˆï¼šçº¢ã€ç»¿ã€è“ï¼Œå«<strong>â€œåŠ è‰²ä¸‰åŸè‰²â€</strong>ï¼Œæ··åˆåœ¨ä¸€èµ·èƒ½äº§ç”Ÿå…¶ä»–é¢œè‰²ã€‚ç±»ä¼¼äºWAVæ–‡ä»¶ï¼ŒBMPæ–‡ä»¶å¼€å¤´ä¹Ÿæ˜¯å…ƒæ•°æ®ï¼Œæœ‰å›¾ç‰‡å®½åº¦ã€å›¾ç‰‡é«˜åº¦å’Œé¢œè‰²æ·±åº¦ç­‰ç­‰ã€‚ç°åœ¨å‡è®¾å›¾ç‰‡å®½é«˜å‡ä¸º4ä¸ªåƒç´ ï¼Œé¢œè‰²æ·±åº¦ä¸º24ï¼Œä¹Ÿå°±æ˜¯8ä½(bit)çº¢è‰²ã€8ä½ç»¿è‰²å’Œ9ä½è“è‰²ï¼Œåˆ™æ¯ä¸ªé¢œè‰²æœ‰0-255ç¨‹åº¦ï¼Œç„¶åä¾æ¬¡ä¿å­˜æ¯ä¸ªä½ç½®çš„ä¸‰åŸè‰²æ•°å€¼ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223202632500.png" alt="image-20200223202632500"></p><center>ä½å›¾çš„å…ƒæ•°æ®</center>![image-20200223203327886](https://longlongqin.gitee.io/image_save/images/assets/image-20200223203327886.png)<center>ä½å›¾çš„æ•°æ®</center>é€šè¿‡ä»¥ä¸Šä¾‹å­ï¼Œå¯ä»¥çŸ¥é“ï¼Œæ–‡ä»¶åº•å±‚éƒ½æ˜¯äºŒè¿›åˆ¶æ•°ï¼Œä¸ºäº†çŸ¥é“æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Œæ–‡ä»¶æ ¼å¼å°±ååˆ†é‡è¦ã€‚<h2 id="è®¡ç®—æœºå¦‚ä½•å­˜å‚¨æ–‡ä»¶ï¼š"><a href="#è®¡ç®—æœºå¦‚ä½•å­˜å‚¨æ–‡ä»¶ï¼š" class="headerlink" title="è®¡ç®—æœºå¦‚ä½•å­˜å‚¨æ–‡ä»¶ï¼š"></a>è®¡ç®—æœºå¦‚ä½•å­˜å‚¨æ–‡ä»¶ï¼š</h2><p>æœ€ç®€å•å­˜å‚¨å¤šä¸ªæ–‡ä»¶çš„æ–¹æ³•æ˜¯å°†æ–‡ä»¶<strong>è¿ç»­å­˜å‚¨</strong>ï¼Œä½†æ˜¯è¿™æ ·æ€ä¹ˆçŸ¥é“æ–‡ä»¶å¼€å¤´å’Œç»“å°¾åœ¨å“ªå‘¢ï¼Ÿå­˜å‚¨å™¨å¹¶æ²¡æœ‰æ–‡ä»¶çš„æ¦‚å¿µï¼Œå®ƒåªæ˜¯ç”¨æ¥å­˜å‚¨å¤§é‡äºŒè¿›åˆ¶æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç‰¹æ®Šæ–‡ä»¶æ¥è®°å½•å…¶ä»–æ–‡ä»¶çš„ä½ç½®ï¼Œè¿™é‡Œç§°ä¸º<strong>ç›®å½•æ–‡ä»¶ï¼ˆDirectory Fileï¼‰</strong>ï¼Œå®ƒé€šå¸¸ä¿å­˜åœ¨å­˜å‚¨å™¨æœ€å¼€å¤´ï¼Œæ–¹ä¾¿å¯»æ‰¾ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-46682a86deaa95c83bba62ae802f8120_hd.png" alt="img"></p><center>storage</center>åœ¨ç›®å½•æ–‡ä»¶ä¸­ï¼Œå­˜æœ‰å…¶å®ƒæ‰€æœ‰æ–‡ä»¶çš„åå­—ï¼Œæ ¼å¼ä¸º`æ–‡ä»¶å+ç‚¹+æ‰©å±•å`ï¼Œ æ‰©å±•åæœ‰åŠ©äºå¾—çŸ¥æ–‡ä»¶ç±»å‹ã€‚ç›®å½•æ–‡ä»¶è¿˜ä¿å­˜äº†æ–‡ä»¶çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚åˆ›å»ºæ—¶é—´ã€æœ€åä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶æ‰€æœ‰è€…ã€æ˜¯å¦èƒ½è¯»å†™ï¼Œæœ€é‡è¦çš„æ˜¯è®°å½•äº†æ–‡ä»¶èµ·å§‹ä½ç½®å’Œé•¿åº¦ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223203721221.png" alt="image-20200223203721221"></p><center>ç›®å½•æ–‡ä»¶</center>å¦‚æœè¦æ·»åŠ ã€åˆ é™¤æ–‡ä»¶æˆ–è€…æ›´æ”¹æ–‡ä»¶åï¼Œå¿…é¡»æ›´æ–°æ•´ä¸ªç›®å½•æ–‡ä»¶ã€‚<p>ç›®å½•æ–‡ä»¶ä»¥åŠå¯¹ç›®å½•æ–‡ä»¶çš„ç®¡ç†ï¼Œæ˜¯æœ€åŸºæœ¬çš„<strong>æ–‡ä»¶ç³»ç»Ÿï¼ˆFile Systemï¼‰</strong>çš„ä¾‹å­ï¼Œæ–‡ä»¶ç³»ç»Ÿä¸“é—¨è´Ÿè´£ç®¡ç†æ–‡ä»¶ã€‚åˆšåˆšçš„ä¾‹å­å«<strong>å¹³é¢æ–‡ä»¶ç³»ç»Ÿï¼ˆFlat File Systemï¼‰</strong>ï¼Œå› ä¸ºæ‰€æœ‰æ–‡ä»¶éƒ½åœ¨åŒä¸€å±‚æ¬¡ã€‚å­˜åœ¨ä¸€ä¸ª<strong>ç¼ºç‚¹</strong>ï¼šå½“æˆ‘ä»¬æƒ³è¦å¯¹ä¸­é—´æ–‡ä»¶å¢åŠ æ•°æ®æ—¶ï¼Œå°±ä¼šè¦†ç›–åç»­æ–‡ä»¶çš„æ•°æ®ã€‚æ‰€ä»¥ç°ä»£æ–‡ä»¶ç³»ç»Ÿä¼šåšä¸¤ä¸ªå¤„ç†ï¼š</p><ol><li>å°†ç©ºé—´åˆ’åˆ†æˆä¸€å—å—ï¼Œä¼šå‡ºç°ä¸€äº›<strong>é¢„ç•™ç©ºé—´ï¼ˆSlack Spaceï¼‰</strong>ï¼Œå¯ä»¥æ–¹ä¾¿æ”¹åŠ¨ã€‚åŒæ—¶æ–‡ä»¶æ•°æ®éƒ½å¯¹é½åˆ°äº†ç›¸åŒå¤§å°ï¼Œå¯ä»¥æ–¹ä¾¿ç®¡ç†ã€‚ä½¿ç”¨è¿™ç§æ–¹æ¡ˆï¼Œç›®å½•æ–‡ä»¶å°±è¦è®°å½•æ–‡ä»¶åœ¨å“ªäº›å—ä¸­ã€‚</li></ol><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223204243036.png" alt="image-20200223204243036"></p><ol start="2"><li>æ‹†åˆ†æ–‡ä»¶ä¿å­˜åœ¨å¤šä¸ªå—ä¸­ã€‚å‡è®¾todo.txtæ–‡ä»¶ä¸­åŠ äº†ä¸€äº›æ•°æ®ï¼Œä½¿å¾—æ–‡ä»¶å¤ªå¤§æ— æ³•å­˜åœ¨ä¸€ä¸ªå—ä¸­ï¼Œåˆ™æ–‡ä»¶ç³»ç»Ÿä¼šåˆ†é…ä¸€ä¸ªæ²¡ä½¿ç”¨çš„å—æ¥å®¹çº³é¢å¤–çš„æ•°æ®ï¼Œ<u>åˆ™ç›®å½•æ–‡ä»¶å¯¹æ¯ä¸ªæ–‡ä»¶å°±ä¼šè®°å½•ä¸æ­¢ä¸€ä¸ªå—ï¼Œè€Œæ˜¯å¤šä¸ªå—</u>ã€‚é€šè¿‡åˆ†é…å—ï¼Œæ–‡ä»¶å°±å¯ä»¥è½»æ¾å¢åŠ å‡å°ã€‚å¦‚æœæƒ³è¦åˆ é™¤carrie.bmpï¼Œåªè¦åœ¨ç›®å½•æ–‡ä»¶ä¸­åˆ é™¤å¯¹åº”è®°å½•å°±è¡Œï¼Œè®©è¿™ä¸€å—ç©ºé—´å˜æˆå¯ç”¨çš„ï¼Œè¿™æ ·å°±ä¸éœ€è¦è¿›è¡Œæ“¦é™¤ï¼Œåªéœ€è¦ç›´æ¥åˆ é™¤è®°å½•å°±è¡Œã€‚<strong>åœ¨é‚£ä¸€å—è¢«æ–°æ•°æ®è¦†ç›–ä¹‹å‰ï¼Œæ•°æ®è¿˜æ˜¯ä¿å­˜åœ¨åŸå¤„çš„ã€‚æ‰€ä»¥æ¢å¤åˆ é™¤æ•°æ®æ˜¯æœ‰å¯èƒ½çš„ã€‚</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223204550449.png" alt="image-20200223204550449"></p><p>å½“æ–‡ä»¶è¿‡å¤§ï¼Œä¿å­˜åœ¨è‹¥å¹²ä¸ªå—ä¸­ï¼Œè¿™ä¸ªç§°ä¸º<strong>ç¢ç‰‡ï¼ˆFragmentationï¼‰</strong>ï¼Œç¢ç‰‡æ˜¯å¢åˆ æ”¹æ–‡ä»¶å¯¼è‡´çš„ï¼Œæ— æ³•é¿å…ï¼Œä½†æ˜¯ä¼šé€ æˆæ€§èƒ½ä¸‹é™ã€‚è§£å†³æ–¹æ³•æ˜¯é€šè¿‡<strong>ç¢ç‰‡æ•´ç†ï¼ˆDefragmentationï¼‰</strong>ï¼Œè®¡ç®—æœºä¼šå°†æ•°æ®æ¥å›ä¸€å®šï¼Œæ’åˆ—æˆæ­£ç¡®çš„é¡ºåºï¼Œå°±èƒ½å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œè¯»å†™ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223204701481.png" alt="image-20200223204701481"></p><center>ç¢ç‰‡æ•´ç†å‰</center>![image-20200223204733889](https://longlongqin.gitee.io/image_save/images/assets/image-20200223204733889.png)<center>ç¢ç‰‡æ•´ç†å</center>éšç€å®¹é‡çˆ†ç‚¸å¼å¢é•¿ï¼Œæ–‡ä»¶æ•°é‡é£é€Ÿå¢åŠ ï¼Œå¹³é¢æ–‡ä»¶ç³»ç»Ÿé€æ¸åº”ä»˜ä¸æ¥ï¼Œæ‰€ä»¥å‡ºç°äº†**åˆ†å±‚æ–‡ä»¶ç³»ç»Ÿï¼ˆHirerarchical File Systemï¼‰**ï¼Œè¿™é‡Œæœ€å¤§çš„å˜åŒ–å°±æ˜¯æ¯ä¸ªæ–‡ä»¶å¤¹ä¸­éƒ½æœ‰ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå¹¶ä¸”ç›®å½•æ–‡ä»¶ä¸ä»…è¦æŒ‡å‘æ–‡ä»¶ï¼Œè¿˜è¦æŒ‡å‘ç›®å½•ï¼Œè¿˜éœ€è¦å¢åŠ é¢å¤–çš„å…ƒæ•°æ®æ¥åŒºåˆ†æ–‡ä»¶å’Œç›®å½•ã€‚<p><strong>ä¼˜ç‚¹</strong>ï¼šè¿™ç§æ–‡ä»¶ç³»ç»Ÿä¸ä»…å¯ä»¥åšå‡ºæ— é™æ·±çš„æ–‡ä»¶å¤¹ï¼Œä¹Ÿå¯ä»¥è®©æˆ‘ä»¬å¾ˆè½»æ¾åœ°ç§»åŠ¨æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç§»åŠ¨ä»»ä½•æ•°æ®å—ï¼Œåªéœ€è¦åœ¨ä¸¤ä¸ªç›®å½•æ–‡ä»¶ä¸­åˆ å¢è®°å½•å°±è¡Œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200223204831349.png" alt="image-20200223204831349"></p><center>åˆ†å±‚æ–‡ä»¶</center>æ–‡ä»¶ç³»ç»Ÿä½¿æˆ‘ä»¬ä¸å¿…å…³å¿ƒæ–‡ä»¶åœ¨ç£ç›˜ä¸­çš„å…·ä½“ä½ç½®ã€‚<h1 id="21ã€å‹ç¼©"><a href="#21ã€å‹ç¼©" class="headerlink" title="21ã€å‹ç¼©"></a>21ã€å‹ç¼©</h1><p>ä¹‹å‰ä»‹ç»äº†æ–‡ä»¶æ ¼å¼ï¼Œå¦‚ä½•ç¼–ç æ–‡å­—ã€å£°éŸ³å’Œå›¾ç‰‡ï¼Œä½†æ˜¯å®ƒä»¬çš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œæˆ‘ä»¬å¸Œæœ›æ–‡ä»¶èƒ½å°ä¸€ç‚¹ï¼Œè¿™æ ·å°±èƒ½ä¿å­˜å¤§é‡æ–‡ä»¶ï¼ŒåŒæ—¶ä¼ è¾“ä¹Ÿä¼šå¿«ä¸€äº›ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯<strong>å‹ç¼©ï¼ˆCompressionï¼‰</strong>ï¼ŒæŠŠæ•°æ®å ç”¨çš„ç©ºé—´å‹å¾—æ›´å°ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦ç”¨æ›´å°‘çš„bitæ¥è¡¨ç¤ºæ•°æ®ã€‚</p><p>ä»¥å‹ç¼©å›¾ç‰‡ä¸ºä¾‹ï¼Œå›¾ç‰‡ä¸€èˆ¬å­˜æˆä¸€é•¿ä¸²åƒç´ å€¼ï¼Œä¸ºäº†çŸ¥é“ä¸€è¡Œåœ¨å“ªé‡Œç»“æŸï¼Œå›¾åƒè¦æœ‰å…ƒæ•°æ®ï¼Œå†™æ˜å°ºå¯¸ç­‰å±æ€§ã€‚æ¯ä¸ªåƒç´ çš„é¢œè‰²æ˜¯ä¸‰åŸè‰²çš„ç»„åˆï¼Œæ¯ä¸ªé¢œè‰²ç”¨ä¸€ä¸ªå­—èŠ‚ä¿å­˜ï¼Œæ•°å­—èŒƒå›´æ˜¯0~255ï¼ˆä¸€ä¸ªå­—èŠ‚=8 bitsï¼Œ2^8^=256ï¼‰ï¼Œç”±æ­¤ä¸€å¼ <code>4*4</code>ï¼ˆ16ä¸ªåƒç´ ï¼‰å¤§å°çš„å›¾åƒï¼Œå…¶ä¸­æ¯ä¸ªåƒç´ 3ä¸ªå­—èŠ‚ã€‚åˆ™è¿™ä¸ªå›¾ç‰‡éœ€è¦<code>4*4*3=</code>48å­—èŠ‚ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200226140325517.png" alt="image-20200226140325517"></p><p>â€”ã€‹å­˜æˆä¸€é•¿ä¸²åƒç´ å€¼ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/image-20200226151330368.png" alt="image-20200226151330368"></p><center>å›¾ç‰‡ä¸€èˆ¬å­˜æˆä¸€é•¿ä¸²åƒç´ å€¼</center>![img](https://longlongqin.gitee.io/image_save/images/assets/v2-202fff7eae740ec4451258a92c96eda0_720w.jpg)<center>å‰äº”ä¸ªåƒç´ çš„è¡¨ç¤º</center>## æ— æŸå‹ç¼©ï¼š<p>ä¸€ç§å‹ç¼©æ–¹æ³•æ˜¯å‡å°‘é‡å¤ä¿¡æ¯ï¼Œæœ€ç®€å•çš„æ–¹æ³•å«<strong>æ¸¸ç¨‹ç¼–ç ï¼ˆRun-Length Encodingï¼‰</strong>ï¼Œé€‚åˆç»å¸¸å‡ºç°ç›¸åŒå€¼çš„æ–‡ä»¶ã€‚æ¯”å¦‚ä¸Šå›¾ä¸­æœ‰7ä¸ªè¿ç»­ç›¸åŒçš„é»„è‰²åƒç´ å—ï¼Œæˆ‘ä»¬å¯ä»¥æ’å…¥ä¸€ä¸ªé¢å¤–å­—èŠ‚æ¥è¡¨ç¤º7ä¸ªè¿ç»­é»„è‰²åƒç´ ï¼Œç„¶ååˆ æ‰åé¢é‡å¤çš„æ•°æ®ã€‚ä¸ºäº†è®©è®¡ç®—æœºåˆ†è¾¨å“ªäº›å­—èŠ‚æ—¶é•¿åº¦ï¼Œé‚£äº›å­—èŠ‚æ˜¯é¢œè‰²ï¼Œæ ¼å¼éœ€è¦ä¿æŒä¸€è‡´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™æ‰€æœ‰åƒç´ å‰é¢éƒ½æ ‡ä¸Šé•¿åº¦ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ç°åœ¨åªéœ€è¦24ä¸ªå­—èŠ‚ï¼Œå¹¶ä¸”ä¸æŸå¤±ä»»ä½•ä¿¡æ¯ã€‚è¿™ä¸ªæ–¹æ³•ç§°ä¸º<strong>æ— æŸå‹ç¼©ï¼ˆLossless Compressionï¼‰</strong>ï¼Œæ²¡æœ‰ä¸¢å¤±ä»»ä½•æ•°æ®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-315b1a99dd4902cb5d8a9c9d7a81cde1_720w.png" alt="img"></p><center>æ¸¸ç¨‹ç¼–ç </center>å¦ä¸€ç§æ— æŸå‹ç¼©æ–¹æ³•å«åš**DFTBA**ï¼Œå®ƒç”¨æ›´ç´§å‡‘çš„æ–¹å¼æ¥è¡¨ç¤ºæ•°æ®å—ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå­—å…¸ï¼Œæ¥ä¿å­˜ä»£ç å’Œæ•°æ®ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚æˆ‘ä»¬å¯ä»¥å°†å›¾åƒçœ‹æˆä¸€å—ä¸€å—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸ªåƒç´ ï¼Œä¸ºäº†ç®€å•ï¼Œæˆ‘ä»¬å°†2ä¸ªåƒç´ å½“æˆä¸€ä¸ªå—ï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹å›¾çš„4ä¸ªåƒç´ å¯¹ï¼Œæˆ‘ä»¬ä¼šå¯¹äº›åƒç´ å¯¹ç”Ÿæˆ**ç´§å‡‘ä»£ç ï¼ˆCompact Codesï¼‰**ã€‚è¿™äº›å—å‡ºç°é¢‘ç‡ä¸åŒï¼Œæˆ‘ä»¬é€šè¿‡éœå¤«æ›¼æ ‘çš„æ–¹æ³•å¯¹æ¯ä¸€ç§æƒ…å†µè¿›è¡Œç¼–ç ï¼Œä½¿å¾—é¢‘ç‡æœ€é«˜çš„å—ä»£ç æœ€çŸ­ã€‚ç„¶åæˆ‘ä»¬å°±èƒ½é€šè¿‡codeä»£æ›¿å—æ¥å¯¹å›¾åƒè¿›è¡Œå‹ç¼©ã€‚è¿™ä¸ªä¾‹å­ä¸­å°†48å­—èŠ‚çš„æ•°æ®å‹ç¼©æˆäº†14ä½ï¼Œä½†æ˜¯åŒæ ·ä¹Ÿè¦æŠŠå­—å…¸ä¿å­˜ä¸‹æ¥ï¼Œæ‰€ä»¥è¿˜éœ€è¦å°†å­—å…¸åŠ åˆ°æ•°æ®å‰é¢ï¼Œæ‰€ä»¥æ€»å…±æœ‰30å­—èŠ‚ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-e40dfa25fd9f55ddb49ac3c558b2415f_720w.jpg" alt="img"></p><center>ä½¿ç”¨éœå¤«æ›¼æ ‘ç”Ÿæˆçš„å—çš„ç¼–ç </center>![img](https://longlongqin.gitee.io/image_save/images/assets/v2-557e83d3f9b5d120457fb8fe3fc9df87_720w.png)<center>å‹ç¼©ç»“æœ</center>![img](https://longlongqin.gitee.io/image_save/images/assets/v2-e688a0f2a014255ed2e3c9ba38855ed5_720w.png)<center>åŠ ä¸Šå­—å…¸åçš„å‹ç¼©ç»“æœ</center>## æœ‰æŸå‹ç¼©ï¼š<p>â€œæ¶ˆé™¤å†—ä½™â€å’Œâ€œä½¿ç”¨æ›´ç´§å‡‘è¡¨ç¤ºæ–¹æ³•â€é€šå¸¸ä¼šç»„åˆèµ·æ¥ä¸€èµ·ä½¿ç”¨ï¼Œå‡ ä¹æ‰€æœ‰æ— æŸå‹ç¼©æ ¼å¼éƒ½ç”¨åˆ°å®ƒä»¬ã€‚</p><p>æ— æŸå‹ç¼©å¯¹äºæ–‡æœ¬æ•°æ®ååˆ†é‡è¦ï¼Œä½†æ˜¯æœ‰å…¶ä»–ä¸€äº›æ•°æ®å³ä½¿ä¸¢å¤±äº†ä¸€éƒ¨åˆ†ä¹Ÿä¸ä¼šé€ æˆå¾ˆå¤§å½±å“ï¼Œé€šå¸¸ä¼šä¸¢å¤±äººä»¬æ— æ³•æ³¨æ„åˆ°çš„ä¿¡æ¯ï¼Œå¤§éƒ¨åˆ†<strong>æœ‰æŸå‹ç¼©æŠ€æœ¯ï¼ˆLossy Compressionï¼‰</strong>éƒ½ç”¨åˆ°äº†è¿™ç‚¹ã€‚</p><p>ä»¥å£°éŸ³ä¸ºä¾‹ï¼Œäººç±»å¬åŠ›å¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œæœ‰äº›é¢‘ç‡æˆ‘ä»¬å¯ä»¥æ•è·ï¼Œä½†æ˜¯ç±»ä¼¼äºè¶…å£°æ³¢è¿™ç±»çš„é¢‘ç‡æˆ‘ä»¬æ ¹æœ¬å¬ä¸è§ï¼Œæ‰€ä»¥å½•åˆ¶éŸ³ä¹æ—¶ï¼Œè¶…å£°æ³¢æ•°æ®æ˜¯å¯ä»¥ä¸¢å¼ƒçš„ï¼Œå…¶æ¬¡äººç±»å¯¹äººå£°ååˆ†æ•æ„Ÿï¼Œæ‰€ä»¥åº”è¯¥å°½å¯èƒ½ä¿æŒåŸæ ·ã€‚<strong>æœ‰æŸéŸ³é¢‘å‹ç¼©ï¼ˆLossy Audio Compressorsï¼‰</strong>é€šè¿‡ä¸åŒç²¾åº¦ç¼–ç ä¸åŒé¢‘æ®µï¼Œè¿™æ ·äººç±»å¬ä¸å‡ºä»€ä¹ˆåŒºåˆ«ï¼Œä¹Ÿä¸ä¼šæ˜æ˜¾å½±å“ä½“éªŒã€‚æ¯”å¦‚ç”µè¯ä¸­ä¹Ÿç”¨åˆ°äº†è¿™ä¸ªæŠ€æœ¯ï¼Œè¿™å°±ä½¿å¾—åœ¨ç”µè¯ä¸­çš„å£°éŸ³å’Œç°å®ä¸­æœ‰æ‰€å·®åˆ«ï¼Œç”¨è¿‡è¿™ä¸ªæŠ€æœ¯æ‰ä½¿å¾—æ›´å¤šäººåŒæ—¶æ‰“ç”µè¯ã€‚å¦‚æœç½‘é€Ÿå˜æ…¢ï¼Œå‹ç¼©ç®—æ³•å°±ä¼šåˆ æ‰æ›´å¤šçš„æ•°æ®ã€‚å‹ç¼©éŸ³é¢‘æ–‡ä»¶MP3å’Œæ²¡å‹ç¼©éŸ³é¢‘æ–‡ä»¶WAVæˆ–FLACå¤§å°å¯ä»¥ç›¸å·®10å€ã€‚</p><p>è¿™ç§åˆ é™¤äººç±»æ— æ³•æ„ŸçŸ¥çš„æ•°æ®çš„æ–¹æ³•ç§°ä¸º<strong>æ„ŸçŸ¥ç¼–ç ï¼ˆPerceptual Codingï¼‰</strong>ã€‚è¿™ä¹Ÿæ˜¯å„ç§æœ‰æŸå‹ç¼©å›¾åƒæ ¼å¼çš„åŸºç¡€ï¼Œæ¯”å¦‚JPEGï¼Œäººç±»çš„è§†è§‰ç³»ç»Ÿä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œæˆ‘ä»¬æ¯”è¾ƒå–„äºçœ‹åˆ°å°–é”çš„å¯¹æ¯”ï¼Œæ¯”å¦‚ç‰©ä½“çš„è¾¹ç¼˜ï¼Œä½†æˆ‘ä»¬æ— æ³•çœ‹å‡ºé¢œè‰²çš„ç»†å¾®å˜åŒ–ã€‚JPEGç”±æ­¤å°†å›¾åƒåˆ†è§£æˆ8x8å¤§å°çš„åƒç´ å—ï¼Œç„¶ååˆ æ‰å¤§é‡é«˜é¢‘ç©ºé—´æ•°æ®ã€‚æ¯”å¦‚ä»¥ä¸‹è¿™å¼ å›¾ç‰‡ï¼Œå…¶ä¸­ä¸€ä¸ª8x8åƒç´ ï¼Œç”±äºæ¯ä¸ªåƒç´ éƒ½æœ‰ç»†å¾®å·®å¼‚ï¼Œæ‰€ä»¥æ— æŸå‹ç¼©æŠ€æœ¯å¾ˆéš¾å¯¹å…¶å‹ç¼©ï¼Œä½†æ˜¯äººçœ¼å¾ˆéš¾çœ‹å‡ºè¿™äº›ç»†å¾®å·®åˆ«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ é™¤å¾ˆå¤šåƒç´ å€¼ï¼Œè¿™æ ·åªå 10%çš„åŸå§‹æ•°æ®ï¼Œå¹¶ä¸”å›¾åƒçœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-0dcede4590c5d2552a8fe9e4d5a45c95_720w.jpg" alt="img"></p><center>åŸå›¾ï¼›8x8åŸå§‹åƒç´ å—ï¼›8x8å‹ç¼©åƒç´ å—ï¼›å‹ç¼©å›¾åƒ</center>è§†é¢‘åªæ˜¯ä¸€é•¿ä¸²è¿ç»­å›¾ç‰‡ï¼Œæ‰€ä»¥å›¾ç‰‡çš„å¾ˆå¤šæ–¹é¢ä¹Ÿé€‚ç”¨äºè§†é¢‘ï¼Œä½†è§†é¢‘ä¹Ÿå¯ä»¥åšä¸€äº›å°æŠ€å·§ï¼Œå› ä¸ºå¸§ä¸å¸§ä¹‹é—´æœ‰å¾ˆå¤šç›¸åŒçš„åƒç´ ï¼Œç§°ä¸º**æ—¶é—´å†—ä½™ï¼ˆTemporal Redundancyï¼‰**ã€‚æˆ‘ä»¬ä¸éœ€æ¯ä¸€å¸§éƒ½ä¿å­˜è¿™äº›åƒç´ ï¼Œå¯ä»¥åªä¿å­˜å˜åŒ–äº†çš„éƒ¨åˆ†ã€‚æ›´é«˜çº§çš„è§†é¢‘å‹ç¼©æ ¼å¼ä¼šæ›´è¿›ä¸€æ­¥ï¼Œä»–ä»¬æ‰¾å‡ºå¸§å’Œå¸§ä¹‹é—´ç›¸ä¼¼çš„è¡¥ä¸ï¼Œç„¶åå¯¹ä»–ä»¬åº”ç”¨ç®€å•å˜æ¢ï¼Œæ¯”å¦‚ç§»åŠ¨ã€æ—‹è½¬ã€å˜äº®å’Œå˜æš—ï¼Œè¿™æ ·å°±ä¸ç”¨é‡å¤ä¿å­˜è¿™äº›ç›¸ä¼¼çš„è¡¥ä¸ï¼Œç›´æ¥å¯¹å…¶è¿›è¡Œå˜æ¢å°±è¡Œã€‚MPEG-4è§†é¢‘æ˜¯å¸¸è§çš„æ ‡å‡†ï¼Œå¯ä»¥æ¯”åŸæ–‡ä»¶å°20å€åˆ°200å€ã€‚ä½†æ˜¯å½“å‹ç¼©å¤ªä¸¥é‡æ—¶ï¼Œæ²¡æœ‰è¶³å¤Ÿç©ºé—´æ›´æ–°è¡¥ä¸å†…çš„åƒç´ ï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-759970de261a610b53e2e652fc6f572c_720w.jpg" alt="img"></p><center>è¿‡åº¦å‹ç¼©é€ æˆçš„é”™è¯¯</center># 23ã€å±å¹•&2Då›¾åƒæ˜¾ç¤º<p>æ—©æœŸçš„æ–‡æœ¬ä»»åŠ¡é€šè¿‡æ‰“å°æœºæ˜¾ç¤ºï¼Œå› ä¸ºå±å¹•åˆ†è¾¨ç‡è¾ƒä½ï¼Œæ— æ³•æ˜¾ç¤ºæ¸…æ™°çš„æ–‡å­—ï¼Œè€Œå°†è®¡ç®—ç»“æœçš„æ–‡å­—æ‰“å°åœ¨çº¸ä¸Šï¼Œæœ‰æ›´é«˜çš„å¯¹æ¯”åº¦å’Œåˆ†è¾¨ç‡ï¼Œå±å¹•ä¸€èˆ¬åªç”¨äºè·Ÿè¸ªç¨‹åºçš„è¿è¡Œæƒ…å†µï¼Œæ¯”å¦‚å¯„å­˜å™¨çš„å€¼ï¼Œå¯ä»¥èŠ‚çº¦çº¸ï¼Œå¹¶ä¸”å±å¹•æ›´æ–°å¾ˆå¿«ï¼Œå¯¹ä¸´æ—¶å€¼å¾ˆåŒ¹é…ã€‚</p><p>æœ€æ—©æœ€æœ‰å½±å“åŠ›çš„æ˜¯<strong>é˜´æå°„çº¿ç®¡ï¼ˆCathode Ray Tubeï¼ŒCRTï¼‰</strong>ï¼ŒåŸç†æ˜¯å°†ç”µå­å‘å°„åˆ°æœ‰ç£·å…‰ä½“æ¶‚å±‚çš„å±å¹•ä¸Šï¼Œå½“ç”µå­æ’å‡»æ¶‚å±‚æ—¶ï¼Œä¼šå‘å…‰å‡ åˆ†ä¹‹ä¸€ç§’ã€‚å¹¶ä¸”å› ä¸ºç”µå­æ˜¯å¸¦ç”µç²’å­ï¼Œæ‰€ä»¥è·¯å¾„å¯ä»¥é€šè¿‡ç£åœºè¿›è¡Œæ§åˆ¶ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-739424da713eed4b346efb1dc7543358_720w.jpg" alt="img"></p><center>CRT</center>è¿™æ ·å°±æœ‰ä¸¤ç§æ–¹æ³•æ¥ç»˜åˆ¶å›¾å½¢ï¼š<ol><li>å¼•å¯¼ç”µå­æŸæç»˜å‡ºå½¢çŠ¶ï¼Œç§°ä¸º<strong>çŸ¢é‡æ‰«æï¼ˆVector Scanningï¼‰</strong>ã€‚å› ä¸ºå‘å…‰åªæŒç»­ä¸€å°ä¼šå„¿ï¼Œå¦‚æœé‡å¤é€Ÿåº¦è¶³å¤Ÿå¿«ï¼Œå°±èƒ½å¾—åˆ°æ¸…æ™°çš„å›¾åƒã€‚</li><li>ç¬¬äºŒç§æ–¹æ³•æ˜¯æŒ‰ç…§å›ºå®šè·¯å¾„ï¼Œä¸€è¡Œè¡Œä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³ä¸æ–­é‡å¤ï¼Œåªåœ¨ç‰¹å®šçš„ç‚¹æ‰“å¼€ç”µå­æŸæ¥ç»˜åˆ¶å›¾å½¢ã€‚è¿™ç§æ–¹æ³•ç§°ä¸º<strong>å…‰æ …æ‰«æï¼ˆRaster Scanningï¼‰</strong>ã€‚ç”¨è¿™ç§æ–¹æ³•å¯ä»¥ç”¨å¾ˆå¤šå°çº¿æ®µç»˜åˆ¶å›¾å½¢ï¼Œç”šè‡³æ–‡å­—ã€‚</li></ol><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-ec5217cfd4e2ebb1de1126112a830c20_720w.jpg" alt="img"></p><center>çŸ¢é‡æ‰«æå’Œå…‰æ …æ‰«æ</center>éšç€å±å¹•çš„å‘å±•ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ¸…æ™°çš„ç‚¹ï¼Œç§°ä¸º**åƒç´ ï¼ˆPixelï¼‰**ã€‚**æ¶²æ™¶æ˜¾ç¤ºå™¨ï¼ˆLiquid Crystal Displayï¼ŒLCDï¼‰**ä¹Ÿä½¿ç”¨å…‰æ …æ‰«æï¼Œæ¯ç§’æ›´æ–°å¤šæ¬¡åƒç´ é‡Œçº¢ç»¿è“çš„é¢œè‰²ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-818d25d7f9bfa6d121e602a746837223_720w.jpg" alt="img"></p><center>LCD</center>ä½†æ˜¯æ—©æœŸè®¡ç®—æœºä¸ä½¿ç”¨åƒç´ ï¼Œå› ä¸ºå†…å­˜ä¸­éœ€è¦ä¿å­˜åƒç´ å¯¹åº”çš„å€¼ï¼Œä½¿å…¶å ç”¨å¤ªå¤šå†…å­˜ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›ç‰¹æ®ŠæŠ€å·§æ¥æ¸²æŸ“å›¾å½¢ï¼ŒçŸ¥é“å†…å­˜å‘å±•åˆ°è¶³å¤Ÿç”¨çš„åœ°æ­¥ã€‚<p>æ‰€ä»¥æ—©æœŸè®¡ç®—æœºä¸ä¿å­˜å¤§é‡åƒç´ å€¼ï¼Œè€Œæ˜¯ç›´æ¥ä¿å­˜ç¬¦å·ï¼Œå…¶ä¸­80x25ä¸ªç¬¦å·æ˜¯æœ€ç»å…¸çš„ï¼Œè‹¥å¹²æ¯ä¸ªå­—ç¬¦ç”¨8ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œä¸€å…±ä¹Ÿæ‰16000ä½ã€‚ä¸ºæ­¤ï¼Œéœ€è¦ç‰¹æ®Šçš„ç¡¬ä»¶æ¥ä»å†…å­˜è¯»å–å­—ç¬¦ï¼Œè½¬æ¢æˆå…‰æ …å›¾å½¢ï¼Œè¿™æ ·æ‰èƒ½æ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œè¿™ä¸ªç§°ä¸º<strong>å­—ç¬¦ç”Ÿæˆå™¨ï¼ˆCharacter Generatorï¼‰</strong>ï¼ŒåŸºæœ¬ç®—æ˜¯ç¬¬ä¸€ä»£æ˜¾å¡ã€‚</p><p>æ˜¾å¡å†…éƒ¨æœ‰ä¸€å°å—<strong>åªè¯»å­˜å‚¨å™¨ï¼ˆRead Only Memoryï¼ŒROMï¼‰</strong>å­˜ç€æ¯ä¸ªå­—ç¬¦çš„å›¾å½¢ï¼Œç§°ä¸º<strong>ç‚¹é˜µå›¾æ¡ˆï¼ˆDot Matrix Patterï¼‰</strong>ã€‚å¦‚æœæ˜¾å¡çœ‹åˆ°æŸä¸ªå­—ç¬¦å¯¹åº”çš„äºŒè¿›åˆ¶ä»£ç ï¼Œå®ƒå°±ä¼šæŠŠè¯¥å­—ç¬¦çš„ç‚¹é˜µå›¾æ¡ˆé€šè¿‡å…‰æ …æ‰«æçš„æ–¹å¼æ˜¾ç¤ºåœ¨å±å¹•çš„é€‚å½“ä½ç½®ã€‚ä¸ºäº†æ˜¾ç¤ºï¼Œå­—ç¬¦ç”Ÿæˆå™¨ä¼šè®¿é—®å†…å­˜ä¸­ä¸€å—ç‰¹æ®ŠåŒºåŸŸï¼Œè¿™å—åŒºåŸŸä¸“ä¸ºå›¾å½¢ä¿ç•™ï¼Œç§°ä¸º<strong>å±å¹•ç¼“å†²åŒºï¼ˆScreen Bufferï¼‰</strong>ï¼Œç¨‹åºæƒ³æ˜¾ç¤ºæ–‡å­—æ—¶ï¼Œå°±ç›´æ¥ä¿®æ”¹ä¿å­˜åœ¨è¿™ä¸ªåŒºåŸŸçš„å€¼å°±è¡Œã€‚å­—ç¬¦ç”Ÿæˆå™¨è¿™ç§æ–¹æ¡ˆç”¨çš„å†…å­˜å¾ˆå°‘ï¼Œä½†åªèƒ½ç”»å­—ç¬¦åˆ°å±å¹•ä¸Šï¼Œæ— æ³•ç»˜åˆ¶ä»»æ„å½¢çŠ¶ã€‚</p><p>ä¼ ç»Ÿçš„ASCIIç¼–ç çš„å­—ç¬¦é›†å¤ªå°ï¼Œåšä¸äº†å¾ˆå¤æ‚çš„äº‹æƒ…ï¼Œå› æ­¤å¯¹ASCIIè¿›è¡Œæ‰©å±•å¢åŠ æ›´å¤šçš„æ–°å­—ç¬¦ï¼Œæ¯”å¦‚ç”¨äºDOSçš„IBM CP437å­—ç¬¦é›†ï¼Œæœ‰äº›ç³»ç»Ÿè¿˜ä¼šç”¨é¢å¤–çš„bitæ¥å®šä¹‰å­—ä½“é¢œè‰²å’ŒèƒŒæ™¯é¢œè‰²ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-9d82eef96cc809355690e396d46873bf_720w.jpg" alt="img"></p><center>IBM CP437å­—ç¬¦é›†</center>ä¸ºäº†ç»˜åˆ¶ä»»æ„å½¢çŠ¶ï¼ŒåŒæ—¶ä¸ä¼šå ç”¨å¤ªå¤šå†…å­˜ï¼Œå°±è¦ä½¿ç”¨CRTä¸Šçš„**çŸ¢é‡æ¨¡å¼**ã€‚æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ç”±ä¸€ç³»åˆ—çº¿æ¡ç»„æˆçš„ï¼Œå®Œå…¨ä¸éœ€è¦æœ‰æ–‡æœ¬çš„æ¦‚å¿µï¼Œå¦‚æœè¦æ˜¾ç¤ºæ–‡å­—ï¼Œç›´æ¥ç”¨ç”»çº¿çš„å½¢å¼è¿›è¡Œæ˜¾ç¤ºã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ—©æœŸé€‚é‡æ˜¾ç¤ºç³»ç»ŸVectrexçš„å‘½ä»¤ä¸ºä¾‹<ol><li>é¦–å…ˆä½¿ç”¨RESETå‘½ä»¤æ¥æ¸…ç©ºå±å¹•ï¼Œ åŒæ—¶å°†ç”µå­æªçš„ç»˜å›¾ç‚¹ç§»åŠ¨åˆ°åæ ‡(0,0)ï¼Œä¹Ÿå°±æ˜¯å±å¹•å·¦ä¸Šè§’ï¼Œå¹¶å°†çº¿çš„äº®åº¦è®¾ä¸º0ã€‚</li><li>è°ƒç”¨MOVE_TO 50 50ï¼Œå°±ä¼šå°†ç»˜å›¾ç‚¹ç§»åŠ¨åˆ°åæ ‡(50,50)ã€‚ç„¶åä½¿ç”¨INTENSITY 100å°†å¼ºåº¦è®¾ä¸º100ï¼Œ ç„¶ååå¤è°ƒç”¨ä»¥ä¸Šå‘½ä»¤å°±ä¼šç»˜åˆ¶å‡ºå¯¹åº”å›¾å½¢ã€‚</li></ol><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://longlongqin.gitee.io/image_save/images/assets/v2-4820ddaa8ce054742f05ea0afbbabab9_720w.jpg" alt="img"></p><p>è¿™äº›å‘½ä»¤ä¹Ÿå°±å 160ä½ï¼Œæ¯”ç›´æ¥ä¿å­˜ä¸€ä¸ªåƒç´ çŸ©é˜µå¥½å¾ˆå¤šã€‚</p><p>ç±»ä¼¼äºä¹‹å‰çš„å­—ç¬¦ç”Ÿæˆå™¨æŠŠå†…å­˜é‡Œçš„å­—ç¬¦è½¬æ¢æˆå›¾å½¢ä¸€æ ·ï¼Œè¿™äº›çŸ¢é‡æŒ‡ä»¤ä¹Ÿä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œé€šè¿‡<strong>çŸ¢é‡å›¾å½¢å¡ï¼ˆVector Graphics Cardï¼‰</strong>ç”»åœ¨å±å¹•ä¸Šã€‚ç„¶åé€šè¿‡æ•°ç™¾ä¸ªå‘½ä»¤æŒ‰åºä¿å­˜åœ¨å±å¹•ç¼“å†²åŒºä¸­ï¼Œå°±èƒ½ç»˜åˆ¶å‡ºååˆ†å¤æ‚çš„å›¾å½¢ã€‚å¹¶ä¸”å› ä¸ºè¿™äº›çŸ¢é‡éƒ½åœ¨å†…å­˜ä¸­ï¼Œç¨‹åºå°±å¯ä»¥æ›´æ–°è¿™äº›å€¼ï¼Œè®©å›¾å½¢éšæ—¶é—´è¿›è¡Œå˜åŒ–ï¼Œå°±å‡ºç°äº†åŠ¨ç”»ã€‚</p><p>1962å¹´è¯ç”Ÿçš„Sketchpadæ˜¯ä¸€ä¸ªå·¨å¤§çš„é‡Œç¨‹ç¢‘ï¼Œå®ƒæ˜¯ä¸€ä¸ªäº¤äº’å¼å›¾å½¢ç•Œé¢ï¼Œç”¨äºè®¡ç®—æœºè¾…åŠ©è®¾è®¡ï¼ˆCADï¼‰ï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä¸ªå®Œæ•´çš„å›¾å½¢ç¨‹åºã€‚ä¸ºäº†ä¸å›¾å½¢ç•Œé¢è¿›è¡Œäº¤äº’ï¼ŒSketchpadä½¿ç”¨äº†è¾“å…¥è®¾å¤‡â€”â€”<strong>å…‰ç¬”</strong>ï¼Œå°±æ˜¯ä¸€ä¸ªæœ‰çº¿è¿ç€ç”µè„‘çš„è§¦æ§ç¬”ï¼Œç¬”å°–ç”¨å…‰çº¿ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥æ£€æµ‹åˆ°æ˜¾ç¤ºå™¨çš„åˆ·æ–°ï¼Œå¹¶ä¸”é€šè¿‡åˆ¤æ–­åˆ·æ–°æ—¶é—´ï¼Œç”µè„‘ä¹Ÿå¯ä»¥çŸ¥é“ç¬”æ‰€åœ¨çš„ä½ç½®ã€‚ä½¿ç”¨å…‰ç¬”å’Œå„ç§æŒ‰é’®ï¼Œç”¨æˆ·å¯ä»¥ç”»çº¿å’Œå…¶ä»–å„ç§ç®€å•å›¾æ¡ˆã€‚</p><p><u>æœ€æ—©çœŸæ­£ä½¿ç”¨åƒç´ çš„è®¡ç®—æœºå’Œæ˜¾ç¤ºå™¨å‡º</u>ç°äº1960å¹´ä»£æœ«ã€‚å†…å­˜ä¸­çš„ä½å¯¹åº”å±å¹•ä¸Šçš„åƒç´ ï¼Œç§°ä¸º<strong>ä½å›¾æ˜¾ç¤ºï¼ˆBitmapped Displayï¼‰</strong>ï¼Œé€šè¿‡å¯¹åƒç´ çš„æ§åˆ¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®Œå…¨ç»˜åˆ¶ä»»æ„çš„å›¾å½¢ã€‚å¯ä»¥å°†å›¾å½¢æƒ³è±¡æˆæ˜¯ä¸€ä¸ªå·¨å¤§åƒç´ å€¼çŸ©é˜µï¼Œä¹‹å‰è®¡ç®—æœºå°†åƒç´ æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ä¸€ä¸ªç‰¹æ®ŠåŒºåŸŸï¼Œç§°ä¸º<strong>å¸§ç¼“å†²åŒºï¼ˆFrame Bufferï¼‰</strong>ï¼Œä½†æ˜¯åæ¥ä¿å­˜åœ¨ç‰¹æ®Šçš„é«˜é€Ÿ<strong>è§†é¢‘å†…å­˜ï¼ˆVideo RAMï¼ŒVRAMï¼‰</strong>ä¸­ï¼Œè¿™ä¸ªVRAMæ˜¯åœ¨æ˜¾å¡ä¸Šï¼Œè¿™æ ·è®¿é—®é€Ÿåº¦æ›´å¿«ã€‚</p><p>åœ¨ä¸€ä¸ªåˆ†è¾¨ç‡æ˜¯60x35çš„8ä½ç°åº¦å±å¹•ä¸Šï¼Œæˆ‘ä»¬å¯ç”¨çš„é¢œè‰²èŒƒå›´æ˜¯0åˆ°255ã€‚å¦‚æœæˆ‘ä»¬æƒ³æŠŠ(10,10)å¤„çš„åƒç´ è®¾ä¸ºç™½è‰²ï¼Œå¯ä»¥ä½¿ç”¨frambuffer [10] [10]=255ï¼Œ å¦‚æœæˆ‘ä»¬æƒ³è¦ä»(30,0)åˆ°(30,35)ç”»ä¸€æ¡ç›´çº¿ï¼Œå¯ä»¥ä½¿ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FOR y&#x3D;0 TO 35</span><br><span class="line">    framebuffer[30][y]&#x3D;255</span><br><span class="line">NEXT</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç›¸åŒæ–¹æ³•ï¼Œé€šè¿‡ä¿®æ”¹åƒç´ å€¼å°±å¯ä»¥ç»˜åˆ¶ä»»æ„å›¾åƒã€‚å¹¶ä¸”ç¨‹åºå¯ä»¥æ“çºµå¸§ç¼“å†²åŒºå†…çš„åƒç´ æ•°æ®ï¼Œæ¥å®ç°äº¤äº’å¼å›¾å½¢ã€‚</p><h1 id="28ã€è®¡ç®—æœºç½‘ç»œ"><a href="#28ã€è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="28ã€è®¡ç®—æœºç½‘ç»œ"></a>28ã€è®¡ç®—æœºç½‘ç»œ</h1><p>ç¬¬ä¸€ä¸ªè®¡ç®—æœºç½‘ç»œå‡ºç°åœ¨1950-1960å¹´ä»£ï¼Œé€šå¸¸åœ¨å…¬å¸æˆ–ç ”ç©¶å®¤å†…éƒ¨ä½¿ç”¨ï¼Œæ–¹ä¾¿ä¿¡æ¯äº¤æ¢ï¼Œç§°ä¸º<strong>çƒé‹ç½‘ç»œï¼ˆSneakernetï¼‰</strong>ï¼Œç¬¬äºŒä¸ªå¥½å¤„åœ¨äºå…±äº«ç‰©ç†èµ„æºï¼Œæ¯”å¦‚ï¼Œä¸å…¶æ¯å°ç”µè„‘é…ä¸€å°æ‰“å°æœºï¼Œä¸å¦‚å¤§å®¶å…±äº«ä¸€å°è”ç½‘çš„æ‰“å°æœºã€‚å¹¶ä¸”æ—©æœŸç½‘ç»œä¹Ÿä¼šå…±äº«å­˜å‚¨ç©ºé—´ï¼Œå› ä¸ºä¸ºæ¯å°è®¡ç®—æœºéƒ½é…å­˜å‚¨å™¨å¤ªè¿‡æ˜‚è´µã€‚</p><p>è®¡ç®—æœºè¿‘è·ç¦»æ„æˆçš„å°å‹ç½‘ç»œç§°ä¸º<strong>å±€åŸŸç½‘ï¼ˆLocal Area Networkï¼ŒLANï¼‰</strong>ï¼Œå±€åŸŸç½‘èƒ½å°åˆ°æ˜¯åŒä¸€é—´æˆ¿é—´å†…çš„ä¸¤å°è®¡ç®—æœºï¼Œæˆ–è€…å¤§åˆ°æ ¡å›­å†…çš„ä¸Šåƒå°ç”µè„‘ã€‚</p><p>å°½ç®¡å¼€å‘å’Œéƒ¨ç½²äº†å¾ˆå¤šä¸åŒçš„LANæŠ€æœ¯ï¼Œå…¶ä¸­æœ€è‘—åçš„æ˜¯<strong>â€œä»¥å¤ªç½‘ï¼ˆEthernetï¼‰â€</strong>ï¼Œä»¥å¤ªç½‘çš„æœ€ç®€å•å½¢å¼æ˜¯ï¼šä¸€æ¡ä»¥å¤ªç½‘ç”µçº¿è¿æ¥æ•°å°è®¡ç®—æœºï¼Œå½“ä¸€å°è®¡ç®—æœºè¦ä¼ æ•°æ®ç»™å¦ä¸€å°è®¡ç®—æœºæ—¶å®ƒä»¥<strong>ç”µä¿¡å·</strong>å½¢å¼ï¼Œå°†æ•°æ®ä¼ å…¥ç”µç¼†ä¸­ï¼Œç”±äºç”µç¼†æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥è¿æ¥åœ¨åŒä¸€ä¸ªç½‘ç»œé‡Œçš„å…¶ä»–è®¡ç®—æœºéƒ½èƒ½çœ‹åˆ°æ•°æ®ï¼Œä½†æ˜¯æ‰€æœ‰è®¡ç®—æœºéƒ½ä¸çŸ¥é“è¿™äº›æ•°æ®æ˜¯ç»™è‡ªå·±çš„è¿˜æ˜¯ç»™åˆ«äººçš„ã€‚<u>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜</u>ï¼Œä»¥å¤ªç½‘éœ€è¦æ¯å°è®¡ç®—æœºæœ‰å”¯ä¸€çš„<strong>åª’ä½“è®¿é—®æ§åˆ¶åœ°å€ï¼ˆMedia Access Control Addressï¼ŒMAC Addressï¼‰</strong>ï¼Œç„¶åå°†MACåœ°å€ä½œä¸ºæ•°æ®çš„å‰ç¼€å‘é€åˆ°ç½‘ç»œä¸­ï¼Œæ‰€ä»¥è®¡ç®—æœºåªéœ€è¦ç›‘å¬ä»¥å¤ªç½‘ç”µç¼†ï¼Œåªè¦çœ‹åˆ°è‡ªå·±çš„MACåœ°å€ï¼Œæ‰å»æ¥æ”¶å¤„ç†æ•°æ®ã€‚ç°åœ¨åˆ¶é€ çš„æ¯å°è®¡ç®—æœºéƒ½è‡ªå¸¦å”¯ä¸€çš„MACåœ°å€ï¼Œç”¨äºä»¥å¤ªç½‘å’Œæ— çº¿ç½‘ç»œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://pic4.zhimg.com/80/v2-bd0dfa011a483016ac431b355610fefb_720w.jpg" alt="img"></p><center>ä»¥å¤ªç½‘</center>ä½†æ˜¯å…±äº«è½½ä½“æœ‰ä¸ªå¾ˆå¤§çš„**å¼Šç«¯**ï¼šå½“ç½‘ç»œæµé‡æ¯”è¾ƒå°æ—¶ï¼Œè®¡ç®—æœºå¯ä»¥ç­‰å¾…è½½ä½“æ¸…ç©ºï¼Œç„¶åå†ä¼ è¾“ä»–ä»¬çš„æ•°æ®ã€‚ä½†éšç€ç½‘ç»œæµé‡ä¸Šå‡ï¼Œä¸¤å°è®¡ç®—æœºæƒ³åŒæ—¶å†™å…¥æ•°æ®çš„æ¦‚ç‡ä¹Ÿä¼šä¸Šå‡ï¼Œè¿™ç§°ä¸º**å†²çªï¼ˆCollisionï¼‰**ï¼Œå°±ä¼šä½¿å¾—ä¼ è¾“çš„æ•°æ®æ··ä¹±ã€‚å¹¸å¥½è®¡ç®—æœºèƒ½å¤Ÿç›‘å¬ç”µçº¿é‡Œçš„ä¿¡å·æ¥æ£€æµ‹å†²çªï¼Œæœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯çœ‹åˆ°å†²çªå°±åœæ­¢ä¼ è¾“ï¼Œç­‰å¾…ç½‘ç»œç©ºé—²åå†è¯•ä¸€æ¬¡ï¼Œé—®é¢˜æ˜¯å…¶ä»–è®¡ç®—æœºä¹Ÿæ˜¯è¿™æ ·æ‰“ç®—çš„ï¼Œå…¶ä»–ç­‰å¾…çš„è®¡ç®—æœºå¯èƒ½åœ¨ä»»ä½•åœé¡¿é—´éš™å°±é—¯å…¥å¼€å§‹ä¼ è¾“æ•°æ®ï¼Œè¿™å°±å¯¼è‡´äº†è¶Šæ¥è¶Šå¤šçš„å†²çªã€‚<p>ä»¥å¤ªç½‘çš„<strong>è§£å†³æ–¹æ³•</strong>æ˜¯ï¼šå½“è®¡ç®—æœºæ£€æµ‹åˆ°å†²çªåï¼Œå°±ä¼šåœ¨é‡ä¼ ä¹‹å‰ç­‰å¾…ä¸€å°æ®µæ—¶é—´ï¼ˆå› ä¸ºè¦ä¸¾ä¾‹ï¼Œå‡è®¾æ˜¯ 1 ç§’å¥½äº†ï¼‰ï¼Œå½“ç„¶ å¦‚æœæ‰€æœ‰è®¡ç®—æœºç”¨åŒæ ·çš„ç­‰å¾…æ—¶é—´ æ˜¯ä¸è¡Œçš„ï¼Œå®ƒä»¬ä¼šåœ¨ä¸€ç§’åå†æ¬¡å†²çªã€‚æ‰€ä»¥åŠ å…¥ä¸€ä¸ªéšæœºæ—¶é—´ ä¸€å°è®¡ç®—æœºå¯èƒ½ç­‰1.3ç§’ï¼Œå¦ä¸€å°è®¡ç®—æœºç­‰å¾…1.5ç§’ ã€‚è¦æ˜¯è¿æ°”å¥½ ç­‰1.3ç§’çš„è®¡ç®—æœºä¼šé†’æ¥å‘ç°è½½ä½“æ˜¯ç©ºé—²çš„ ç„¶åå¼€å§‹ä¼ è¾“ ï¼Œå½“1.5ç§’çš„è®¡ç®—æœºé†’æ¥å ä¼šå‘ç°è½½ä½“è¢«å ç”¨ä¼šç­‰å¾…å…¶ä»–è®¡ç®—æœºå®Œæˆ ï¼Œæ¥ç›¸äº’é¿å¼€ã€‚å½“ç„¶è¿™ä¸ªå¹¶ä¸èƒ½å®Œå…¨è§£å†³é—®é¢˜ï¼Œè¿˜éœ€è¦ç”¨åˆ°<strong>å¦ä¸€ä¸ªæŠ€å·§</strong>ã€‚å¦‚æœä¸€å°è®¡ç®—æœºåœ¨ä¼ è¾“æ•°æ®æœŸé—´æ£€æµ‹åˆ°å†²çªï¼Œå°±ç­‰å¾…â€œ1ç§’+éšæœºæ—¶é—´â€ï¼Œä½†æ˜¯å¦‚æœå†æ¬¡å‘ç”Ÿå†²çªï¼Œå°±è¡¨æ˜æœ‰ç½‘ç»œæ‹¥å¡ï¼Œè¿™æ¬¡ä¸ç­‰1ç§’ï¼Œè€Œæ˜¯ç­‰2ç§’ ï¼Œå¦‚æœå†æ¬¡å‘ç”Ÿå†²çª ç­‰4ç§’ ç„¶å8ç§’ 16ç§’ç­‰ç­‰ï¼Œç›´åˆ°æˆåŠŸä¼ è¾“ã€‚å› ä¸ºè®¡ç®—æœºçš„é€€é¿ï¼Œå†²çªæ¬¡æ•°ä¼šå¤§å¹…å‡å°‘ï¼Œä½¿å¾—æ•°æ®èƒ½å¤Ÿå†æ¬¡æµåŠ¨èµ·æ¥ï¼Œç½‘ç»œå°±å˜å¾—é¡ºç•…äº†ã€‚<u>è¿™ç§æŒ‡æ•°çº§å¢åŠ ç­‰å¾…æ—¶é—´çš„æ–¹æ³•</u>ç§°ä¸º<strong>æŒ‡æ•°é€€é¿ï¼ˆExponential Backoffï¼‰</strong>ï¼Œå¾ˆå¤šä»¥å¤ªç½‘å’ŒWiFiéƒ½ç”¨åˆ°è¿™ä¸ªæŠ€æœ¯ã€‚</p><p>ä½†æ˜¯å³ä½¿æœ‰äº†ä»¥ä¸Šçš„æŠ€æœ¯ï¼Œæƒ³ç”¨ä¸€æ ¹ç½‘çº¿è¿æ¥æ•´ä¸ªå¤§å­¦çš„è®¡ç®—æœºè¿˜æ˜¯ä¸å¯èƒ½çš„ï¼Œä¸ºäº†å‡å°‘å†²çªåŒæ—¶æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬<u>éœ€è¦å‡å°‘åŒä¸€è½½ä½“ä¸­è®¾å¤‡çš„æ•°é‡</u>ï¼Œè½½ä½“å’Œå…¶ä¸­çš„è®¾å¤‡æ€»ç§°ä¸º<strong>å†²çªåŸŸï¼ˆCollision Domainï¼‰</strong>ã€‚ä»¥ä¹‹å‰ä»¥å¤ªç½‘ä¸ºä¾‹ï¼Œä¸€æ ¹ç”µç¼†è¿æ¥äº†6å°è®¡ç®—æœºï¼Œè¿™ä¸ªç§°ä¸ºä¸€ä¸ªå†²çªåŸŸã€‚ä¸ºäº†å‡å°‘å†²çªï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<strong>äº¤æ¢æœºï¼ˆSwitchï¼‰</strong>å°†å®ƒæ‹†æˆä¸¤ä¸ªå†²çªåŸŸã€‚äº¤æ¢æœºä½äºä¸¤ä¸ªæ›´å°çš„ç½‘ç»œä¹‹é—´ï¼Œåœ¨å¿…è¦æ—¶æ‰åœ¨ä¸¤ä¸ªç½‘ç»œä¹‹é—´ä¼ è¾“æ•°æ®ï¼Œå¹¶ä¸”äº¤æ¢æœºä¼šè®°å½•ä¸€ä¸ª<strong>åˆ—è¡¨</strong>ï¼Œå†™ç€å“ªä¸ªMACåœ°å€ä½äºå“ªè¾¹ç½‘ç»œï¼Œæ‰€ä»¥å½“MAC Aæƒ³è¦ä¼ æ•°æ®ç»™MAC Cï¼Œäº¤æ¢æœºå°±ä¸ä¼šå°†æ•°æ®ä¼ åˆ°å¦ä¸€è¾¹çš„ç½‘ç»œï¼ŒåŒç†å¦‚æœMAC Eä¼ è¾“æ•°æ®ç»™MAC Fï¼Œäº¤æ¢æœºä¹Ÿä¸ä¼šå°†æ•°æ®ä¼ åˆ°ä¸Šé¢çš„ç½‘ç»œï¼Œè¿™ä½¿å¾—ä¸¤è¾¹çš„ä¼ è¾“èƒ½åŒæ—¶è¿›è¡Œã€‚ä½†æ˜¯å¦‚æœMAC Fæƒ³ä¼ æ•°æ®ç»™Aï¼Œæ•°æ®å°±ä¼šé€šè¿‡äº¤æ¢æœºï¼Œä½¿å¾—ä¸¤ä¸ªç½‘ç»œéƒ½ä¼šè¢«çŸ­æš‚å ç”¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-059e0333f1ad801bb826f3f89afeb0a7_720w.jpg" alt="img"></p><center>ä¸€ä¸ªä»¥å¤ªç½‘ä¸­åŠ å…¥ä¸€ä¸ªäº¤æ¢æœº</center>å³ä½¿æœ€å¤§å‹çš„ç½‘ç»œâ€”â€”**äº’è”ç½‘ï¼ˆInternetï¼‰**ä¹Ÿæ˜¯è¿™æ ·æ„å»ºèµ·æ¥çš„ï¼Œæœ¬è´¨è¿˜æ˜¯å¤šä¸ªè¿åœ¨ä¸€èµ·çš„ç¨å°ä¸€ç‚¹çš„ç½‘ç»œï¼Œä½¿å¾—ä¸åŒç½‘ç»œé—´å¯ä»¥ä¼ é€’æ•°æ®ã€‚è€Œå¤§å‹ç½‘ç»œæœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œä»ä¸€å°ä¸»æœºåˆ°å¦ä¸€å°ä¸»æœºé€šå¸¸æœ‰å¤šæ¡çº¿è·¯ï¼ˆ**è§£å†³çš„ä¸»è¦é—®é¢˜**ï¼‰ï¼Œè¿™å°±å¼•å‡ºäº†å¦ä¸€ä¸ªè¯é¢˜â€”â€”**è·¯ç”±ï¼ˆRoutingï¼‰ï¼ˆç”¨æ¥é€‰æ‹©åˆé€‚è·¯çº¿çš„æ–¹æ³•ï¼‰**ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-618cd9d33b6ca884945143c2d8e3810e_720w.jpg" alt="img"></p><center>å¤§å‹ç½‘ç»œï¼Œä¸¤å°ä¸»æœºä¹‹é—´å­˜åœ¨å¤šæ¡çº¿è·¯</center>è¿æ¥ä¸¤å°ç›¸éš”é¥è¿œçš„è®¡ç®—æœºæˆ–ç½‘ç»œï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ†é…ä¸€æ¡ä¸“é—¨çš„<u>é€šä¿¡çº¿è·¯</u>ï¼Œæ—©æœŸçš„ç”µè¯ç³»ç»Ÿå°±æ˜¯è¿™æ ·è¿ä½œçš„ï¼Œè¿™ç§æ–¹æ³•ç§°ä¸º**ç”µè·¯äº¤æ¢ï¼ˆCircuit Switchingï¼‰**ï¼Œå› ä¸ºæ˜¯å¯¹æ•´ä¸ªç”µè·¯è¿›è¡Œä¿®æ”¹ï¼Œæ¥è¿æ¥åˆ°æ­£ç¡®ç›®çš„åœ°ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•ä¸çµæ´»ä¸”ä»·æ ¼æ˜‚è´µï¼Œå¹¶ä¸”æ€»æœ‰é—²ç½®çš„è·¯çº¿ã€‚ä½†æ˜¯å¥½å¤„æ˜¯ä½ å¯ä»¥æœ€å¤§é™åº¦éšæ„ä½¿ç”¨ï¼Œæ— éœ€å…±äº«ã€‚å› æ­¤å†›é˜Ÿã€é“¶è¡Œå’Œå…¶ä»–ä¸€äº›æœºæ„ä¾ç„¶ä¼šè´­ä¹°ä¸“é—¨çº¿è·¯æ¥è¿æ¥æ•°æ®ä¸­å¿ƒã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229164213580.png" alt="image-20200229164213580"></p><center>ç”µè·¯äº¤æ¢</center>ä¼ è¾“æ•°æ®çš„å¦ä¸€ç§æ–¹æ³•æ˜¯**æŠ¥æ–‡äº¤æ¢ï¼ˆMessage Switchingï¼‰**ï¼Œå°±åƒé‚®æ”¿ç³»ç»Ÿä¸€æ ·ã€‚ä¸åƒä¹‹å‰Aå’ŒBä¹‹é—´æœ‰ä¸€æ¡ä¸“æœ‰çº¿è·¯ï¼Œè¿™é‡Œæ¶ˆæ¯ä¼šç»è¿‡å¥½å‡ ä¸ªç«™ç‚¹ï¼Œå°±ç±»ä¼¼äºé‚®å¯„ä¿¡å°ï¼Œä¿¡å°ä¼šé€šè¿‡ä¸€ä¸ªä¸ªä¸­è½¬ç«™æœ€ç»ˆåˆ°è¾¾æ”¶ä»¶äººæ‰‹ä¸­ï¼Œæ¯ä¸ªç«™ç‚¹éƒ½çŸ¥é“ä¸‹ä¸€ç«™è¦å‘å¾€å“ªé‡Œï¼Œå› ä¸ºç«™ç‚¹éƒ½æœ‰è‡ªå·±ä¸€ä¸ª**è¡¨æ ¼**ï¼Œç”¨æ¥è®°å½•åˆ°è¾¾å„ä¸ªç›®çš„åœ°ï¼Œä¿¡ä»¶è¦å¦‚ä½•ä¼ é€’ã€‚æŠ¥æ–‡äº¤æ¢çš„**å¥½å¤„**æ˜¯ä½ å¯ä»¥ç”¨ä¸åŒçš„è·¯ç”±ï¼Œä½¿å¾—é€šä¿¡æ›´å¯é ã€‚æ¯”å¦‚å¦‚æœå…¶ä¸­ä¸€ä¸ªåŸå¸‚ç”±äºé™é›ªæ— æ³•æ¥æ”¶é‚®ä»¶æ—¶ï¼Œå°±èƒ½æ¢åˆ°å¦ä¸€ä¸ªåŸå¸‚ç»§ç»­ä¼ é€’æ•°æ®ã€‚è¿™é‡Œï¼ŒåŸå¸‚å°±ç›¸å½“äºç½‘ç»œä¸­çš„è·¯ç”±å™¨ä¸€æ ·ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229163941432.png" alt="image-20200229163941432"></p><center>æŠ¥æ–‡äº¤æ¢</center>> äº¤æ¢æœºæ˜¯è¿æ¥è‹¥å¹²ä¸ªä¸»æœºçš„æœºå™¨ï¼Œç”¨æ¥è§£å†³å†²çªåŸŸé—®é¢˜ã€‚ > > è·¯ç”±å™¨æ˜¯è¿æ¥ä¸»æœºã€è·¯ç”±å™¨ã€äº¤æ¢æœºçš„æœºå™¨ï¼Œç”¨æ¥æ„å»ºæ•°æ®ä¼ è¾“çš„çº¿è·¯ã€‚<p>ä¿¡æ¯æ²¿ç€è·¯ç”±è·³è½¬çš„æ¬¡æ•°ç§°ä¸º<strong>è·³æ•°ï¼ˆHop Countï¼‰</strong>ï¼Œé€šè¿‡è®°å½•è·³æ•°ï¼Œå¯ä»¥åˆ†è¾¨å‡ºè·¯ç”±é—®é¢˜ã€‚æ¯”å¦‚å½“è·¯ç”±Aè®¤ä¸ºåˆ°è¾¾ç›®çš„åœ°æœ€å¿«çš„ä¸‹ä¸€ä¸ªè·¯ç”±æ˜¯Bï¼Œå°±å°†ä¿¡æ¯ä¼ é€’ç»™è·¯ç”±Bï¼Œè€Œè·¯ç”±Båˆ™è®¤ä¸ºåˆ°è¾¾ç›®çš„åœ°æœ€å¿«çš„ä¸‹ä¸€ä¸ªè·¯ç”±æ˜¯Aï¼Œåˆå°†ä¿¡æ¯ä¼ é€’å›ç»™äº†è·¯ç”±Aï¼Œè¿™å°±ä½¿å¾—ä¿¡æ¯åœ¨è·¯ç”±Aå’ŒBä¹‹é—´è¸¢çš®çƒï¼Œä½†æ˜¯è¿™ç§é”™è¯¯å¯ä»¥é€šè¿‡åœ¨ä¿¡æ¯ä¸­å®æ—¶è®°å½•çš„è·³æ•°æ¥è§£å†³ï¼Œå¦‚æœæŸæ¡ä¿¡æ¯çš„è·³æ•°å¾ˆå¤§ï¼Œå°±è¯´æ˜è·¯ç”±æœ‰å‡ºé—®é¢˜ï¼Œè¿™ä¸ªç§°ä¸º<strong>è·³æ•°é™åˆ¶ï¼ˆHop Limitï¼‰</strong>ã€‚</p><p>è€ŒæŠ¥æ–‡äº¤æ¢çš„<strong>ç¼ºç‚¹</strong>ä¹‹ä¸€å°±æ˜¯å½“æŠ¥æ–‡è¾ƒå¤§æ—¶ï¼Œä¼šå µå¡ç½‘ç»œï¼Œå› ä¸ºè¿™é‡Œè¦æ±‚å°†<u>æ•´ä¸ªæŠ¥æ–‡</u>ä»ä¸€ä¸ªè·¯ç”±ä¼ åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±åï¼Œæ‰èƒ½ç»§ç»­ä¼ é€’å…¶ä»–æŠ¥æ–‡ï¼Œå½“ä¼ è¾“å¤§æŠ¥æ–‡æ—¶ï¼Œå…¶ä»–æŠ¥æ–‡è¦ä¹ˆç­‰å¾…å®ƒä¼ é€’å®Œï¼Œè¦ä¹ˆé€‰æ‹©å¦ä¸€æ¡æ•ˆç‡è¾ƒä½çš„è·¯çº¿ã€‚<u><strong>è§£å†³</strong></u>æ–¹æ³•å°±æ˜¯å°†å¤§æŠ¥æ–‡åˆ†æˆå¾ˆå¤šå°å—ï¼Œç§°ä¸º<strong>æ•°æ®åŒ…ï¼ˆPacketï¼‰</strong>ã€‚å’ŒæŠ¥æ–‡äº¤æ¢ä¸€æ ·ï¼Œæ¯ä¸ªæ•°æ®åŒ…éƒ½æœ‰ç½‘ç»œä¸­çš„ç›®çš„åœ°å€ï¼Œå› æ­¤è·¯ç”±å™¨çŸ¥é“è¦å‘é€åˆ°å“ªé‡Œï¼Œè¿™ä¸ªåœ°å€çš„å…·ä½“æ ¼å¼ç”±<strong>äº’è”ç½‘åè®®ï¼ˆInternet Protocolï¼ŒIPï¼‰</strong>å®šä¹‰ã€‚æ¯ä¸ªè”ç½‘çš„è®¡ç®—æœºéƒ½éœ€è¦ä¸€ä¸ª<strong>IPåœ°å€ï¼ˆIP Addressï¼‰</strong>ï¼Œä¾‹å¦‚<code>172.217.7.238</code>ã€‚</p><blockquote><p>MACåœ°å€ç”¨æ¥æ ‡è¯†æ¯æ¡è®¡ç®—æœºï¼Œè€ŒIPåœ°å€æ˜¯å¯¹æ•°æ®åŒ…è€Œè¨€çš„ã€‚</p></blockquote><p>è·¯ç”±å™¨ä¼šå¹³è¡¡ä¸å…¶ä»–è·¯ç”±å™¨ä¹‹é—´çš„è´Ÿè½½ï¼Œæ¥ç¡®ä¿ä¼ è¾“å¯ä»¥å¿«é€Ÿå¯é ï¼Œç§°ä¸º<strong>æ‹¥å¡æ§åˆ¶ ï¼ˆCongestion Controlï¼‰</strong>ã€‚æœ‰æ—¶å€™ä¸€ä¸ªæŠ¥æ–‡çš„å¤šä¸ªæ•°æ®åŒ…ä¼šç»è¿‡ä¸åŒçº¿è·¯ï¼Œä½¿å¾—åˆ°è¾¾é¡ºåºä¹Ÿå¯èƒ½ä¸ç›¸åŒï¼Œè¿™å¯¹ä¸€äº›è½¯ä»¶æ¥è¯´æ˜¯å­˜åœ¨é—®é¢˜çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨IPä¹‹ä¸Šè¿˜æœ‰å…¶ä»–åè®®ï¼Œ<u>æ¯”å¦‚TCP/IPå¯ä»¥è§£å†³ä¹±åºé—®é¢˜</u>ã€‚</p><p>å°†æ•°æ®æ‹†åˆ†æˆå¤šä¸ªå°æ•°æ®åŒ…ï¼Œç„¶åé€šè¿‡çµæ´»çš„è·¯ç”±ä¼ é€’ï¼Œéå¸¸é«˜æ•ˆä¸”å®¹é”™ç‡é«˜ï¼Œè¿™ç§æ–¹æ³•ç§°ä¸º<strong>åˆ†ç»„äº¤æ¢ï¼ˆPacket Switchingï¼‰</strong>ã€‚å®ƒçš„å¥½å¤„æ˜¯å¯ä»¥å»ä¸­å¿ƒåŒ–ï¼Œå°±æ²¡æœ‰å•ç‚¹å¤±è´¥é—®é¢˜ã€‚</p><p>å¦‚ä»Šå…¨çƒçš„è·¯ç”±å™¨ååŒå·¥ä½œï¼Œæ‰¾å‡ºæœ€é«˜æ•ˆçš„çº¿è·¯ï¼Œç”¨å„ç§æ ‡å‡†åè®®ä¼ è¾“æ•°æ®ï¼Œæ¯”å¦‚<strong>å› ç‰¹ç½‘æ§åˆ¶ä¿¡æ¯åè®®ï¼ˆInternet Control Message Protocolï¼ŒICMPï¼‰</strong>å’Œ<strong>è¾¹ç•Œç½‘å…³åè®®ï¼ˆBorder Gateway Protocolï¼ŒBGPï¼‰</strong>ã€‚</p><p>ç½‘ç»œæ˜¯ä¸€å †ç®¡å­ç»„æˆçš„å—ï¼Ÿ é¢ ç®—æ˜¯å§ã€‚</p><h1 id="29ã€äº’è”ç½‘"><a href="#29ã€äº’è”ç½‘" class="headerlink" title="29ã€äº’è”ç½‘"></a>29ã€äº’è”ç½‘</h1><p>ä»»æ„è®¡ç®—æœºéƒ½å’Œä¸€ä¸ªå·¨å¤§çš„åˆ†å¸ƒå¼ç½‘ç»œè¿æ¥åœ¨ä¸€èµ·ï¼Œç§°ä¸º<strong>äº’è”ç½‘ï¼ˆInternetï¼‰</strong>ã€‚</p><p>å½“ä½ åœ¨å®¶ä¸­é€šè¿‡è®¡ç®—æœºè§‚çœ‹ç½‘ä¸Šè§†é¢‘æ—¶ï¼Œä½ çš„è®¡ç®—æœºé¦–å…ˆéœ€è¦è¿æ¥åˆ°<strong>å±€åŸŸç½‘LAN</strong>ï¼Œè¿™ä¸ªå±€åŸŸç½‘æ˜¯ç”±å®¶é‡ŒWiFiè·¯ç”±å™¨è¿æ¥çš„æ‰€æœ‰è®¾å¤‡ç»„æˆçš„ã€‚ç„¶åå®¶é‡Œçš„å±€åŸŸç½‘å†é€šè¿‡è·¯ç”±å™¨è¿æ¥åˆ°<strong>å¹¿åŸŸç½‘ï¼ˆWide Area Networkï¼ŒWAN</strong>ï¼‰ï¼Œå¹¿åŸŸç½‘çš„è·¯ç”±å™¨ä¸€èˆ¬å±äºä½ çš„<strong>äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆInternet Service Providerï¼ŒISPï¼‰</strong>ã€‚åœ¨å¹¿åŸŸç½‘é‡Œï¼Œé¦–å…ˆä¼šæœ‰ä¸€ä¸ªåŒºåŸŸæ€§è·¯ç”±å™¨ï¼Œæ¯”å¦‚è¦†ç›–ä½ æ‰€åœ¨è¡—åŒºçš„ä¸€ä¸ªè·¯ç”±å™¨ï¼Œç„¶åè¯¥è·¯ç”±å™¨ä¼šè¿æ¥åˆ°ä¸€ä¸ªæ›´å¤§çš„å¹¿åŸŸç½‘ä¸­ï¼Œæ¯”å¦‚è¦†ç›–ä½ æ‰€åœ¨çš„åŸå¸‚ï¼Œå¯èƒ½å†è·³è·ƒå‡ æ¬¡ï¼Œæœ€ç»ˆä¼šåˆ°è¾¾äº’è”ç½‘ä¸»å¹²ï¼Œä¸€èˆ¬ç”±ä¸€ç¾¤è¶…å¤§å‹ã€å¸¦å®½è¶…é«˜çš„è·¯ç”±å™¨ç»„æˆã€‚</p><blockquote><p>å³é¦–å…ˆä¼šè¿æ¥åˆ°ä½ å®¶é‡Œçš„WiFiè·¯ç”±å™¨æ„å»ºçš„å±€åŸŸç½‘ï¼Œç„¶åè¯¥è·¯ç”±å™¨å†è¿æ¥åˆ°ISPæä¾›çš„å¹¿åŸŸç½‘ä¸­ï¼Œè¯¥å¹¿åŸŸç½‘æ˜¯ç”±å¾ˆå¤šå±‚å±‚é€’è¿›çš„è·¯ç”±å™¨æ„æˆçš„ã€‚</p></blockquote><p>æ¯”å¦‚è¦ä»YouTubeä¸­è·å¾—è§†é¢‘ï¼Œæ•°æ®åŒ…é¦–å…ˆä¼šåˆ°è¾¾äº’è”ç½‘ä¸»å¹²ï¼Œæ²¿ç€ä¸»å¹²åˆ°è¾¾å¯¹åº”ä¿å­˜è¯¥è§†é¢‘æ–‡ä»¶çš„YouTubeæœåŠ¡å™¨ï¼Œå¯èƒ½è¿™é‡Œä¼šè·³4æ¬¡åˆ°è¾¾äº’è”ç½‘ä¸»å¹²ï¼Œç„¶åè·³ä¸¤æ¬¡ç©¿è¿‡äº’è”ç½‘ä¸»å¹²ï¼Œæœ€ç»ˆå†è·³4æ¬¡åˆ°è¾¾YouTubeæœåŠ¡å™¨ï¼Œæ‰€ä»¥æ€»å…±ä¼šè·³è·ƒ10æ¬¡ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>traceroute</code>æ¥çœ‹è·³è·ƒäº†å‡ æ¬¡ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Windowsä¸Šçš„Traceroute</span><br><span class="line">1.æŒ‰å¼€å§‹æŒ‰é’®</span><br><span class="line">2.è¾“å…¥â€œ CMDâ€ï¼Œç„¶åæŒ‰â€œ Enterâ€</span><br><span class="line">3.åœ¨å‘½ä»¤æç¤ºç¬¦ä¸‹ï¼Œé”®å…¥â€œ tracert dftba.comâ€</span><br><span class="line"></span><br><span class="line">åœ¨Macä¸Šçš„Traceroute</span><br><span class="line">1.ç‚¹å‡»â€œè½¬åˆ°â€ä¸‹æ‹‰èœå•</span><br><span class="line">2.ç‚¹å‡»â€œå®ç”¨ç¨‹åºâ€</span><br><span class="line">3.æ‰“å¼€ç»ˆç«¯</span><br><span class="line">4.é”®å…¥â€œ traceroute dftba.comâ€</span><br><span class="line"></span><br><span class="line">Linuxä¸Šçš„Traceroute</span><br><span class="line">1.é€šè¿‡é”®å…¥CTRL + Alt + Tæ‰“å¼€ç»ˆç«¯</span><br><span class="line">2.è¾“å…¥ï¼šâ€œ traceroute dftba.comâ€</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229165556176.png" alt="image-20200229165556176"></p><center>é€šè¿‡tracerouteæŸ¥çœ‹åˆ°dftba.comä¸­è½¬çš„æ¬¡æ•°</center>ç»å†äº†11æ¬¡ä¸­è½¬ã€‚<p>ä½†æ˜¯æ•°æ®åŒ…åˆ°åº•æ˜¯æ€ä¹ˆä¼ é€’è¿‡å»çš„å‘¢ï¼Ÿå¦‚æœä¼ è¾“æ—¶æ•°æ®åŒ…ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€æ—¶ï¼Œæµè§ˆå™¨æ€ä¹ˆçŸ¥é“æœåŠ¡å™¨çš„åœ°å€æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å°±åƒä¸ŠèŠ‚ä»‹ç»çš„ï¼Œäº’è”ç½‘æ˜¯ä¸€ä¸ªå·¨å¤§åˆ†å¸ƒå¼ç½‘ç»œï¼Œå¦‚æœè¦å‘é€çš„æ•°æ®è¾ƒå¤§ï¼Œåˆ†ç»„ä¼ è¾“å°±ä¼šå°†æ•°æ®æ‹†æˆä¸€ä¸ªä¸ªè¾ƒå°çš„æ•°æ®åŒ…è¿›è¡Œä¼ è¾“ã€‚å…¶ä¸­æ•°æ®åŒ…è¦æƒ³åœ¨äº’è”ç½‘ä¸Šè¿›è¡Œä¼ è¾“ï¼Œå°±è¦ç¬¦åˆ<strong>äº’è”ç½‘åè®®ï¼ˆInternet Protocolï¼ŒIPï¼‰</strong>ã€‚ç±»ä¼¼äºé‚®å¯„æ‰‹å†™ä¿¡ä¸€èˆ¬ï¼Œæ¯å°ä¿¡éƒ½éœ€è¦ä¸€ä¸ªåœ°å€ï¼Œå¹¶ä¸”åœ°å€å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”ä¿¡çš„å¤§å°å’Œé‡é‡ä¹Ÿæ˜¯æœ‰é™åˆ¶çš„ï¼Œå¦åˆ™ä¿¡ä»¶å°±æ— æ³•é€è¾¾ã€‚IPæ•°æ®åŒ…ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºIPæ˜¯ä¸€ä¸ªéå¸¸åº•å±‚çš„åè®®ï¼Œæ•°æ®åŒ…çš„å¤´éƒ¨åªåŒ…å«ç›®æ ‡åœ°å€ï¼ˆIPåœ°å€ï¼‰ï¼Œæ„å‘³ç€å½“æ•°æ®åŒ…åˆ°è¾¾å¯¹æ–¹ç”µè„‘æ—¶ï¼Œè®¡ç®—æœºä¸çŸ¥é“è¦æŠŠæ•°æ®åŒ…äº¤ç»™å“ªä¸ªç¨‹åºï¼ˆæ¯”å¦‚QQæˆ–å¾®ä¿¡ï¼‰ï¼Œå› æ­¤éœ€è¦åœ¨IPä¹‹ä¸Šï¼Œå¼€å‘æ›´é«˜çº§çš„åè®®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229170514722.png" alt="image-20200229170514722"></p><center>æ•°æ®åŒ…çš„ç»“æ„</center>æœ€ç®€å•å¸¸è§çš„åè®®ç§°ä¸ºç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocolï¼ŒUDPï¼‰ã€‚UDPä¹Ÿæœ‰å¤´éƒ¨ï¼Œä½äºdata payloadé‡Œé¢ï¼Œåœ¨dataä¹‹å‰ã€‚UDPå¤´éƒ¨é‡Œé¢åŒ…å«äº†å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯**ç«¯å£å·ï¼ˆPort Numberï¼‰**ï¼Œæ¯ä¸ªæƒ³è®¿é—®ç½‘ç»œçš„ç¨‹åºéƒ½è¦å‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€ä¸ªç«¯å£å·ã€‚æ‰€ä»¥å½“æ•°æ®åŒ…åˆ°è¾¾æ—¶ï¼Œæ¥æ”¶æ–¹çš„æ“ä½œç³»ç»Ÿä¼šè¯»å–UDPå¤´éƒ¨é‡Œçš„ç«¯å£å·ï¼Œæ¥ç¡®å®šè¯¥æ•°æ®åŒ…æ˜¯è¦äº¤ç»™å“ªä¸ªè½¯ä»¶çš„ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229170831643.png" alt="image-20200229170831643"></p><center>UDP</center>æ¯”å¦‚ Skype ä¼šç”³è¯·ç«¯å£ 3478ï¼Œå½“ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¾¾æ—¶æ¥æ”¶æ–¹çš„æ“ä½œç³»ç»Ÿä¼šè¯» UDP å¤´éƒ¨ï¼Œè¯»é‡Œé¢çš„ç«¯å£å·å¦‚æœçœ‹åˆ°ç«¯å£å·æ˜¯ 3478ï¼Œå°±æŠŠæ•°æ®åŒ…äº¤ç»™ Skypeã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229171417934.png" alt="image-20200229171417934"></p><center>ç«¯å£å·</center>![image-20200229170954885](assets/image-20200229170954885.png)<blockquote><p>IPåè®®é€šè¿‡IPåœ°å€æŠŠæ•°æ®åŒ…é€åˆ°æ­£ç¡®çš„è®¡ç®—æœºå†…ï¼›UDPé€šè¿‡æ•°æ®åŒ…é‡Œçš„ç«¯å£å·é€åˆ°æ­£ç¡®çš„ç¨‹åºã€‚</p></blockquote><p>åŒæ—¶UDPçš„å¤´éƒ¨ä¸­è¿˜æœ‰<strong>æ ¡éªŒå’Œï¼ˆChecksumï¼‰</strong>ï¼Œé€šè¿‡å¯¹æ•°æ®æ±‚å’Œæ¥æ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®ã€‚å‡è®¾UDPæ•°æ®åŒ…é‡ŒåŸå§‹æ•°æ®æ˜¯<code>89 111 33 32 58 41</code>ï¼Œ æœ€ç®€å•çš„è®¡ç®—æ ¡éªŒå’Œçš„æ–¹å¼å°±æ˜¯ï¼Œåœ¨å‘é€æ•°æ®åŒ…ä¹‹å‰ï¼Œè®¡ç®—æœºä¼šæŠŠæ‰€æœ‰æ•°æ®åŠ åœ¨ä¸€èµ·ï¼Œè®¡ç®—å‡ºæ ¡éªŒå’Œ364ã€‚åœ¨UDPä¸­ï¼Œæ ¡éªŒå’Œæ˜¯ä»¥16ä½å½¢å¼å­˜å‚¨çš„ï¼Œå¦‚æœè®¡ç®—å‡ºæ¥çš„å’Œè¶…è¿‡16ä½èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼ï¼Œåˆ™é«˜ä½æ•°ä¼šè¢«ä¸¢å¼ƒï¼Œåªä¿ç•™ä½ä½ã€‚å½“æ¥æ”¶æ–¹è®¡ç®—æœºæ¥æ”¶åˆ°è¿™ä¸ªæ•°æ®åŒ…æ—¶ï¼Œä¹Ÿä¼šé‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œå¦‚æœè®¡ç®—å‡ºæ¥çš„æ ¡éªŒå’Œå’ŒUDPä¸­ä¿å­˜çš„æ ¡éªŒå’Œç›¸åŒï¼Œä»£è¡¨æ•°æ®æ˜¯æ­£å¸¸çš„ï¼Œå¦åˆ™æ•°æ®æ˜¯å‡ºé”™çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-9211cf69881af0f8ba2e4a8e8b5ce8ee_720w.jpg" alt="img"></p><p>ä½†æ˜¯ï¼ŒUDPä¸æä¾›æ•°æ®ä¿®å¤æˆ–æ•°æ®é‡å‘æœºåˆ¶ï¼Œå½“æ¥æ”¶æ–¹çŸ¥é“æ•°æ®æŸååï¼Œä¸€èˆ¬åªæ˜¯ä¸¢å¼ƒè¿™ä¸ªæ•°æ®åŒ…ã€‚å¹¶ä¸”å½“å‘é€æ–¹ä½¿ç”¨UDPåè®®å‘é€æ•°æ®åŒ…æ—¶ï¼Œæ˜¯æ— æ³•å¾—çŸ¥æ•°æ®åŒ…æ˜¯å¦åˆ°è¾¾ç›®çš„åœ°çš„ã€‚æœ‰äº›ç¨‹åºå¹¶ä¸åœ¨æ„ä»¥ä¸Šé—®é¢˜ï¼Œå› ä¸ºUDPååˆ†ç®€å•ä¸”å¿«é€Ÿã€‚æ¯”å¦‚<u>è§†é¢‘</u>é€šå¸¸ä½¿ç”¨UDPåè®®ï¼Œå½“æ•°æ®åŒ…ä¸¢å¤±æ—¶ï¼Œä¹Ÿå°±é€ æˆè§†é¢‘å¡é¡¿ã€‚</p><p>ä½†æ˜¯æœ‰äº›æ•°æ®ä¸èƒ½æ¥å—æ•°æ®åŒ…ä¸¢å¤±çš„é—®é¢˜ï¼Œæ¯”å¦‚å‘é€ç”µå­é‚®ä»¶æ—¶ï¼Œæ‰€æœ‰æ•°æ®å¿…é¡»åˆ°è¾¾ï¼Œæ‰€ä»¥å°±éœ€è¦<strong>ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTransmission Control Protocolï¼ŒTCPï¼‰</strong>ã€‚å’ŒUDPä¸€æ ·ï¼Œå®ƒçš„å¤´éƒ¨ä¹Ÿä¿å­˜åœ¨æ•°æ®ä¹‹å‰ï¼Œäººä»¬é€šå¸¸å°†<u>IPåè®®å’ŒTCPåè®®</u>ç»Ÿç§°ä¸º<strong>TCP/IPåè®®</strong>ã€‚TCPçš„å¤´éƒ¨ä¸­ä¹ŸåŒ…å«ç«¯å£å·å’Œæ ¡éªŒå’Œï¼Œå¹¶ä¸”TCPåè®®è¿˜æä¾›æ›´é«˜çº§çš„åŠŸèƒ½ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-969988861bec7064179dd4e99b60dbf8_720w.png" alt="img"></p><center>TCP</center>1. TCPçš„æ•°æ®åŒ…æ˜¯<u>æœ‰åºå·</u>çš„ï¼Œä½¿å¾—æ¥æ”¶æ–¹å¯ä»¥é€šè¿‡è¿™ä¸ªåºå·å°†æ•°æ®åŒ…æ’æˆæ­£ç¡®é¡ºåºï¼Œå³ä½¿åˆ°è¾¾æ—¶é—´ä¸åŒã€‚ 2. TCPè¦æ±‚æ¥æ”¶æ–¹çš„ç”µè„‘æ”¶åˆ°æ•°æ®åŒ…å¹¶æ ¡éªŒå’Œæ£€æŸ¥æ— è¯¯åï¼Œéœ€è¦ç»™å‘é€æ–¹å‘é€ä¸€ä¸ª**ç¡®è®¤ç ï¼ˆAcknowledgementï¼ŒACKï¼‰**ï¼Œä»£è¡¨æ•°æ®åŒ…å·²ç»æ­£ç¡®æ¥æ”¶ã€‚å½“å‘é€æ–¹æ¥æ”¶åˆ°ç¡®è®¤ç åï¼Œå°±çŸ¥é“ä¸Šä¸€ä¸ªæ•°æ®åŒ…æˆåŠŸæŠµè¾¾äº†ï¼Œå‘é€æ–¹å°±ä¼šå‘é€ä¸‹ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå¦‚æœè¿™æ¬¡å‘é€æ–¹è¿‡äº†ä¸€æ®µæ—¶é—´æ²¡æœ‰æ¥æ”¶åˆ°ç¡®è®¤ç ï¼Œåˆ™ä¼šé‡æ–°å‘é€ä¸€æ¬¡ã€‚å³ä½¿è¿™é‡Œåªæ˜¯ç”±äºç¡®è®¤ç å»¶è¿Ÿäº†ï¼Œä½¿å¾—æ¥æ”¶æ–¹é‚£é‡Œæœ‰é‡å¤çš„æ•°æ®åŒ…ï¼Œä½†æ˜¯é€šè¿‡åºåˆ—å·ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤é‡å¤çš„æ•°æ®åŒ…ã€‚<p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229171954069.png" alt="image-20200229171954069"></p><p>å¹¶ä¸”æ•°æ®åŒ…å¹¶ä¸ä¼šä¸€ä¸ªä¸ªæ•°æ®åŒ…è¿›è¡Œä¼ è¾“ï¼Œè€Œæ˜¯<strong>åŒæ—¶å‘é€å¤šä¸ªæ•°æ®åŒ…</strong>ï¼ŒåŒæ—¶æ¥æ”¶å¤šä¸ª<strong>ç¡®è®¤ç (ACK)</strong>ï¼Œè¿™å°†å¤§å¤§æé«˜æ•ˆç‡ï¼Œä¸ç”¨æµªè´¹æ—¶é—´ç­‰å¾…ç¡®è®¤ç ã€‚å¹¶ä¸”é€šè¿‡ç¡®è®¤ç çš„æˆåŠŸç‡å’Œæ¥å›æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æµ‹ç½‘ç»œçš„æ‹¥å¡ç¨‹åº¦ï¼ŒTCPé€šè¿‡è¿™ä¸ªä¿¡æ¯ï¼Œæ¥è°ƒæ•´åŒæ—¶å‘åŒ…æ•°é‡æ¥è§£å†³æ‹¥å¡é—®é¢˜ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-061760eadb27bb199a2a917547852efc_720w.jpg" alt="img"></p><p>ç®€è€Œè¨€ä¹‹ï¼ŒTCPå¯ä»¥å¤„ç†ä¹±åºå’Œä¸¢åŒ…é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®æ‹¥å¡æƒ…å†µè‡ªåŠ¨è°ƒæ•´ä¼ è¾“ç‡ã€‚</p><p>ä½†æ˜¯ç”±äºç¡®è®¤ç æ•°æ®åŒ…çš„å­˜åœ¨ï¼Œä½¿å¾—TCPéœ€è¦ä¼ è¾“çš„æ•°æ®åŒ…æ•°é‡ç¿»äº†ä¸€å€ï¼Œå¹¶ä¸”å¹¶æ²¡æœ‰ä¼ è¾“æ›´å¤šä¿¡æ¯ï¼Œè¿™å¯¹æ—¶é—´è¦æ±‚å¾ˆé«˜çš„ç¨‹åºä»£ä»·å¤ªé«˜ï¼Œæ‰€ä»¥è¿™ç±»ç¨‹åºå°±ä¼šä½¿ç”¨UDPåè®®ï¼ˆæ¯”å¦‚å°„å‡»ç±»æ¸¸æˆï¼‰ã€‚</p><p>å½“è®¡ç®—æœºè®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œéœ€è¦ä¸¤ä¸ªä¸œè¥¿<code>ï¼šIPåœ°å€ï¼ˆç›®æ ‡ç½‘ç«™çš„åœ°å€ï¼‰</code>å’Œ <code>ç«¯å£å·ï¼ˆå¯¹åº”äºä½ ä½¿ç”¨çš„è®¡ç®—æœºæµè§ˆå™¨ï¼‰</code>ï¼ˆä¾‹å¦‚ï¼šä¾‹å¦‚ <code>172.217.7.238 çš„ 80 ç«¯å£</code> è¿™æ˜¯è°·æ­Œçš„ IP åœ°å€å’Œç«¯å£å·ï¼‰ã€‚ä½†æ˜¯é€šè¿‡IPåœ°å€è®¿é—®ç½‘ç«™ååˆ†ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥äº’è”ç½‘æä¾›ä¸€ä¸ªç‰¹æ®ŠæœåŠ¡ï¼Œæ¥å°†<strong>åŸŸåï¼ˆDomain Nameï¼‰</strong>å’ŒIPåœ°å€ä¸€ä¸€å¯¹åº”ï¼Œç§°ä¸º<strong>åŸŸåç³»ç»Ÿï¼ˆDimain Name Systemï¼ŒDNSï¼‰</strong>ï¼Œä¸€èˆ¬DNSæœåŠ¡å™¨éƒ½æ˜¯ç”±ISPæä¾›çš„ã€‚å½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç½‘ç«™åŸŸåæ—¶ï¼Œæµè§ˆå™¨å°±ä¼šå»è®¿é—®DNSæœåŠ¡å™¨ï¼ŒDNSå°±ä¼šå»æŸ¥è¡¨ï¼Œå¦‚æœåŸŸåå­˜åœ¨ï¼Œåˆ™ä¼šè¿”å›æµè§ˆå™¨å¯¹åº”IPåœ°å€ï¼Œç„¶åæµè§ˆå™¨å°±ä¼šç»™è¿™ä¸ªIPåœ°å€å‘é€TCPè¯·æ±‚ã€‚</p><p>å› ä¸ºå½“å‰åŸŸåç‰¹åˆ«å¤šï¼Œæ‰€ä»¥DNSä¸ä¼šå°†å…¶ä¿å­˜æˆåˆ—è¡¨å½¢å¼ï¼Œè€Œæ˜¯å°†å…¶ä¿å­˜æˆæ ‘çŠ¶ç»“æ„ã€‚æœ€é¡¶å±‚æ˜¯<strong>é¡¶çº§åŸŸåï¼ˆTop Level Domainï¼ŒTLDï¼‰</strong>ï¼Œæ¯”å¦‚<code>.com</code>å’Œ<code>.gov</code>ï¼›ä¸‹ä¸€å±‚æ˜¯<strong>äºŒçº§åŸŸåï¼ˆSecond Level Domainï¼‰</strong>ï¼Œ æ¯”å¦‚<code>google.com</code>å’Œ<code>dftba.com</code>ï¼›å†ä¸‹ä¸€å±‚æ˜¯<strong>å­åŸŸåï¼ˆSub-domainï¼‰</strong>ï¼Œæ¯”å¦‚<code>images.google.com</code>ç­‰ç­‰ã€‚ç”±äºè¿™ä¸ªæ ‘ç»“æ„ç‰¹åˆ«å¤§ï¼Œå› æ­¤è¿™äº›æ•°æ®åˆ†å¸ƒåœ¨å¾ˆå¤šDNSæœåŠ¡å™¨ä¸Šï¼Œä¸åŒæœåŠ¡å™¨è´Ÿè´£æ ‘çš„ä¸åŒéƒ¨åˆ†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229172611126.png" alt="image-20200229172611126"></p><center>åŸŸç»“æ„<center><p>æ€»ç»“ä¸Šä¸¤èŠ‚ï¼ˆ28ã€29ï¼‰çš„å†…å®¹ï¼Œå…¶å®è®¡ç®—æœºç½‘ç»œåˆ†æˆå¾ˆå¤šå±‚æ¬¡ï¼Œæ¥ä¸‹æ¥ä»æœ€åº•å±‚åˆ°æœ€é«˜å±‚ï¼š</p><ol><li><strong>ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰</strong>ï¼Œæ¯”å¦‚çº¿è·¯ä¸­çš„ç”µä¿¡å·ï¼Œä»¥åŠæ— çº¿ç½‘ç»œä¸­çš„æ— çº¿ä¿¡å·ã€‚</li><li><strong>æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰</strong>è´Ÿè´£æ“æ§ç‰©ç†å±‚ï¼Œå…¶ä¸­åŒ…å«MACåœ°å€ã€å†²çªæ£€æµ‹ã€æŒ‡æ•°å›é€€ä»¥åŠå…¶ä»–ä¸€äº›åº•å±‚åè®®ã€‚</li><li><strong>ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰</strong>è´Ÿè´£å„ç§æŠ¥æ–‡äº¤æ¢å’Œè·¯ç”±æŠ€æœ¯ã€‚</li><li><strong>ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰</strong>è´Ÿè´£åœ¨è®¡ç®—æœºä¹‹é—´è¿›è¡Œç‚¹åˆ°ç‚¹çš„ä¼ è¾“ï¼Œè¿˜ä¼šæ£€æµ‹å’Œä¿®å¤é”™è¯¯ï¼Œæ¯”å¦‚UDPå’ŒTCPåè®®ã€‚</li><li><strong>ä¼šè¯å±‚ï¼ˆSession Layerï¼‰</strong>ä¼šä½¿ç”¨TCPå’ŒUDPæ¥åˆ›å»ºè¿æ¥ï¼Œä¼ é€’ä¿¡æ¯ï¼Œç„¶åå…³æ‰è¿æ¥ã€‚</li></ol><p>ä»¥ä¸Šæ˜¯<strong>å¼€æ”¾å¼ç³»ç»Ÿäº’è”é€šä¿¡å‚è€ƒæ¨¡å‹ï¼ˆOpen System Interconnection modelï¼ŒOSIï¼‰</strong>ä¸‹çš„5å±‚ï¼Œè¿™ä¸ªæ¡†æ¶å°†ç½‘ç»œé€šä¿¡åˆ’åˆ†æˆäº†å¾ˆå¤šå±‚ï¼Œæ¯ä¸€å±‚å¤„ç†å„è‡ªçš„é—®é¢˜ã€‚è¿™ç§æŠ½è±¡å¯ä»¥ä½¿å¾—åˆ†å·¥æ”¹è¿›å¤šä¸ªå±‚ï¼Œè€Œæ— éœ€è€ƒè™‘æ•´ä½“å¤æ‚æ€§ã€‚å¹¶ä¸”OSIè¿˜æœ‰é¢å¤–ä¸¤å±‚ï¼š<strong>è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰</strong>å’Œ<strong>åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰</strong>ï¼Œåœ¨ä¸‹ä¸€èŠ‚ä¸­è¿›è¡Œä»‹ç»ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229172753982.png" alt="image-20200229172753982"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/image-20200229172822261.png" alt="image-20200229172822261"></p><h1 id="30ã€ä¸‡ç»´ç½‘"><a href="#30ã€ä¸‡ç»´ç½‘" class="headerlink" title="30ã€ä¸‡ç»´ç½‘"></a>30ã€ä¸‡ç»´ç½‘</h1><p>å‰ä¸¤èŠ‚ä»‹ç»çš„ä¸œè¥¿å…±åŒç»„æˆäº†äº’è”ç½‘ï¼Œè¿™ä¸€èŠ‚å°†å‘ä¸ŠæŠ½è±¡ä¸€å±‚ï¼Œæ¥è®¨è®º<strong>ä¸‡ç»´ç½‘ï¼ˆWorld Wide Webï¼‰</strong>ã€‚ä¸‡ç»´ç½‘å’Œäº’è”ç½‘çš„æ¦‚å¿µå®Œå…¨ä¸åŒï¼Œä¸‡ç»´ç½‘æ˜¯è¿è¡Œäºäº’è”ç½‘ä¹‹ä¸Šçš„ï¼Œè¿˜æœ‰å…¶ä»–æ¯”å¦‚Skypeã€Instagramç­‰ä¹Ÿæ˜¯è¿è¡Œåœ¨äº’è”ç½‘ä¹‹ä¸Šçš„ã€‚<strong>äº’è”ç½‘æ˜¯ç”¨æ¥ä¼ è¾“æ•°æ®çš„ç®¡é“</strong>ï¼Œå„ç§ç¨‹åºéƒ½ä¼šä½¿ç”¨åˆ°ï¼Œ<u>å…¶ä¸­ä¼ è¾“æœ€å¤šæ•°æ®çš„ç¨‹åºå°±æ˜¯ä¸‡ç»´ç½‘</u>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„ç¨‹åºâ€”â€”<strong>æµè§ˆå™¨ï¼ˆWeb Browserï¼‰</strong>æ¥è®¿é—®ä¸‡ç»´ç½‘ã€‚</p><p>ä¸‡ç»´ç½‘çš„æœ€åŸºæœ¬å•ä½æ˜¯å•ä¸ªé¡µé¢ï¼Œé‡Œé¢åŒ…å«å†…å®¹ï¼Œä¹Ÿæœ‰è®¿é—®å…¶ä»–é¡µé¢çš„é“¾æ¥ï¼Œè¿™äº›é“¾æ¥ç§°ä¸º<strong>è¶…é“¾æ¥ï¼ˆHyperlinkï¼‰</strong>ã€‚è¿™äº›è¶…é“¾æ¥å½¢æˆå·¨å¤§çš„äº’è”ç½‘ç»œï¼Œè¿™ä¹Ÿæ˜¯ä¸‡ç»´ç½‘åå­—çš„ç”±æ¥ã€‚å¹¶ä¸”ç”±äºæ–‡å­—è¶…é“¾æ¥çš„å¼ºå¤§ï¼Œå®ƒæœ‰ä¸€ä¸ªç‰¹æ®Šçš„åå­—â€”â€”<strong>è¶…æ–‡æœ¬ï¼ˆHypertextï¼‰</strong>ã€‚å¦‚ä»Šè¶…æ–‡æœ¬æœ€å¸¸æŒ‡å‘çš„æ˜¯å¦ä¸€ä¸ªé¡µé¢ï¼Œè¿™äº›é¡µé¢ä¼šè¢«è·å–å¹¶ç”±æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“ã€‚</p><p>ä¸ºäº†ä½¿ç½‘é¡µèƒ½å¤Ÿäº’ç›¸è¿æ¥ï¼Œæ¯ä¸ªç½‘é¡µéœ€è¦ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ï¼Œè¿™ä¸ªåœ°å€ç§°ä¸º<strong>ç»Ÿä¸€èµ„æºå®šä½å™¨ï¼ˆUniform Resource Locatorï¼ŒURLï¼‰</strong>ï¼Œæ¯”å¦‚<code>thecrashcourse.com/courses</code>å°±æ˜¯ä¸€ä¸ªé¡µé¢URLã€‚</p><p>å½“ä½ è®¿é—®<code>thecrashcourse.com</code>ç½‘å€æ—¶ï¼Œè®¡ç®—æœºé¦–å…ˆä¼šè¿›è¡ŒDNSæŸ¥è¯¢ï¼Œè¿™é‡Œè¾“å…¥ä¸€ä¸ªåŸŸåï¼Œç„¶åDNSå°±ä¼šè¿”å›ç»™æµè§ˆå™¨å¯¹åº”çš„è®¡ç®—æœºIPåœ°å€ã€‚ç„¶åæµè§ˆå™¨å°±ä¼šæ‰“å¼€ä¸€ä¸ªTCPè¿æ¥åˆ°è¿™ä¸ªIPåœ°å€å¯¹åº”çš„è®¡ç®—æœºä¸Šï¼Œè€Œè¿™ä¸ªè®¡ç®—æœºè¿è¡Œç€ä¸€ä¸ªç‰¹æ®Šçš„è½¯ä»¶â€”â€”<strong>ç½‘ç»œæœåŠ¡å™¨ï¼ˆWeb Serverï¼‰</strong>ï¼Œç½‘ç»œæœåŠ¡å™¨çš„æ ‡å‡†ç«¯å£æ˜¯80ã€‚æ­¤æ—¶ï¼Œä½ çš„è®¡ç®—æœºå°±è¿æ¥åˆ°äº†<code>thecrashcourse.com</code>å¯¹åº”çš„æœåŠ¡å™¨äº†ï¼Œä¸‹ä¸€æ­¥æ˜¯å‘æœåŠ¡å™¨è¯·æ±‚<code>courses</code> é¡µé¢ï¼Œè¿™é‡Œå°±ä¼šç”¨åˆ°<strong>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHypertext Transfer Protocolï¼ŒHTTPï¼‰</strong>ã€‚</p><p>HTTPçš„ç¬¬ä¸€ä¸ªæ ‡å‡†æ˜¯1991å¹´åˆ›å»ºçš„HTTP 0.9ï¼Œåªæœ‰ä¸€ä¸ªæŒ‡ä»¤<code>GET</code> ã€‚å› ä¸ºè¿™é‡Œæˆ‘ä»¬æƒ³è¦è·å–<code>courses</code>é¡µé¢ï¼Œ æˆ‘ä»¬å¯ä»¥ç›´æ¥å‘æœåŠ¡å™¨å‘é€æŒ‡ä»¤<code>GET/courses</code>ï¼Œ è¯¥æŒ‡ä»¤ä»¥ASCIIç¼–ç å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›è¯¥ç½‘å€å¯¹åº”çš„é¡µé¢ï¼Œç„¶åæµè§ˆå™¨å°±ä¼šå°†å…¶æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚å¦‚æœç”¨æˆ·ç‚¹å‡»äº†å¦ä¸€ä¸ªé“¾æ¥ï¼Œè®¡ç®—æœºå°±ä¼šé‡æ–°å‘é€ä¸€ä¸ªGETè¯·æ±‚ã€‚åœ¨ä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼ŒHTTPæ·»åŠ äº†æ–°çš„çŠ¶æ€ç ï¼Œä¼šå°†å…¶æ”¾åœ¨è¯·æ±‚é¡µé¢çš„å‰é¢ï¼Œæ¯”å¦‚çŠ¶æ€ç 200è¡¨ç¤ºç½‘é¡µè¢«æ­£ç¡®æ‰¾åˆ°äº†ï¼ŒçŠ¶æ€ç 400-499ä»£è¡¨å®¢æˆ·ç«¯å‡ºé”™ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-5c297a37758affab1974f221b51a678d_720w.jpg" alt="img"></p><p>å› ä¸ºè¶…æ–‡æœ¬çš„å­˜å‚¨å’Œå‘é€éƒ½æ˜¯ä»¥æ™®é€šæ–‡æœ¬å½¢å¼è¿›è¡Œçš„ï¼Œç¼–ç å¯èƒ½æ˜¯ASCIIæˆ–è€…UTF-8ï¼Œè¿™æ ·å°±æ— æ³•è¡¨æ˜ä»€ä¹ˆæ˜¯é“¾æ¥ï¼Œä»€ä¹ˆåªæ˜¯æ™®é€šçš„æ–‡æœ¬äº†ï¼Œæ‰€ä»¥å¿…é¡»å¼€å‘ä¸€ç§æ ‡è®°æ–¹æ³•ï¼Œå› æ­¤å‡ºç°äº†<strong>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ˆHypertext Markup Languageï¼ŒHTMLï¼‰</strong>ï¼Œç¬¬ä¸€ä»£HTMLåˆ›å»ºäº1990å¹´çš„0.8ç‰ˆæœ¬ï¼Œæœ‰18ç§æŒ‡ä»¤ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="assets/v2-d1f17935f645f06fc006ff22a4d68d4b_720w.jpg" alt="img"></p><center>åˆ¶ä½œä¸€ä¸ªç®€å•çš„ç½‘é¡µ</center>ç»¼ä¸Šï¼Œç½‘ç»œæµè§ˆå™¨å¯ä»¥å’Œç½‘ç»œæœåŠ¡å™¨æ²Ÿé€šï¼Œä¸ä»…è·å–ç½‘é¡µå’Œåª’ä½“ï¼Œå¹¶ä¸”è¿˜è´Ÿè´£æ˜¾ç¤ºã€‚<p>éšç€åæœŸä¸‡ç»´ç½‘æ—¥ç›Šç¹è£ï¼Œäººä»¬è¶Šæ¥è¶Šéœ€è¦æœç´¢ã€‚èµ·åˆäººä»¬ä¼šç»´æŠ¤ä¸€ä¸ªç›®å½•ï¼Œæ¥é“¾æ¥åˆ°å…¶ä»–ç½‘ç«™ï¼Œä½†æ˜¯éšç€ç½‘ç»œè¶Šæ¥è¶Šå¤§ï¼Œäººå·¥ç¼–è¾‘ç›®å½•å˜å¾—å¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥å¼€å‘äº†æœç´¢å¼•æ“ã€‚</p><p>æœ€æ—©çš„æœç´¢å¼•æ“æ˜¯JumpStationï¼Œå®ƒæœ‰3ä¸ªéƒ¨åˆ†ï¼š</p><ol><li><p>é€šè¿‡çˆ¬è™«æ¥å°†æ–°é“¾æ¥æ·»åŠ è¿›è‡ªå·±çš„åˆ—è¡¨ä¸­ã€‚</p></li><li><p>ä¸æ–­æ‰©å¼ çš„ç´¢å¼•ï¼Œç”¨æ¥è®°å½•è®¿é—®è¿‡çš„ç½‘é¡µä¸Šå‡ºç°äº†å“ªäº›è¯ã€‚</p></li><li><p>æŸ¥è¯¢ç´¢å¼•çš„æœç´¢ç®—æ³•ï¼Œæ¯”å¦‚è¾“å…¥äº†æŸä¸ªå…³é”®å­—ï¼Œåˆ™åŒ…å«è¿™ä¸ªå…³é”®å­—çš„ç½‘é¡µå°±ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</p></li></ol><p>æ—©æœŸçš„æœç´¢å¼•æ“çš„æ’åæ–¹å¼ç›´æ¥å–å†³äºæœç´¢è¯åœ¨é¡µé¢ä¸Šçš„å‡ºç°æ¬¡æ•°ï¼Œä½†æ˜¯æœ‰çš„ç½‘é¡µä¼šé€šè¿‡åœ¨é¡µé¢ä¸­é‡å¤è¯¥å…³é”®å­—æ¥æé«˜æ’åã€‚Googleæˆåçš„å¾ˆå¤§åŸå› å°±æ˜¯æå‡ºäº†ä¸€ç§ç®—æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸å…¶ä¿¡ä»»é¡µé¢ä¸Šçš„å†…å®¹ï¼Œæœç´¢å¼•æ“ä¼šçœ‹å…¶ä»–ç½‘é¡µæœ‰æ²¡æœ‰è¿æ¥åˆ°è¿™ä¸ªç½‘é¡µã€‚</p><p>æœ€åæä¸€ä¸ªæ¦‚å¿µâ€”â€”<strong>ç½‘ç»œä¸­ç«‹æ€§ï¼ˆNetwork Neutralityï¼‰</strong>ï¼Œå®ƒæŒ‡çš„æ˜¯è¦å¯¹æ‰€æœ‰æ•°æ®åŒ…éƒ½å¹³ç­‰å¯¹å¾…ï¼Œé€Ÿåº¦å’Œä¼˜å…ˆçº§éƒ½åº”è¯¥ä¸€æ ·ã€‚</p><h1 id="31ã€è®¡ç®—æœºå®‰å…¨"><a href="#31ã€è®¡ç®—æœºå®‰å…¨" class="headerlink" title="31ã€è®¡ç®—æœºå®‰å…¨"></a>31ã€è®¡ç®—æœºå®‰å…¨</h1><p>è®¡ç®—æœºå®‰å…¨çš„èŒƒå›´å’Œè®¡ç®—èƒ½åŠ›çš„å‘å±•é€Ÿåº¦ä¸€æ ·å¿«ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè®¡ç®—æœºå®‰å…¨ï¼Œçœ‹æˆæ˜¯ä¿æŠ¤ç³»ç»Ÿå’Œæ•°æ®çš„<strong>ä¿å¯†æ€§ã€å®Œæ•´æ€§å’Œå¯ç”¨æ€§</strong>ã€‚</p><blockquote><p><strong>ä¿å¯†æ€§ï¼ˆSecrecyï¼‰ï¼š</strong>åªæœ‰æœ‰æƒé™çš„äººæ‰èƒ½<strong>è¯»å–</strong>è®¡ç®—æœºç³»ç»Ÿå’Œæ•°æ®ï¼Œæ¯”å¦‚é»‘å®¢æ³„éœ²åˆ«äººçš„ä¿¡ç”¨å¡ä¿¡æ¯ï¼Œå°±æ˜¯æ”»å‡»ä¿å¯†æ€§ã€‚</p><p><strong>å®Œæ•´æ€§ï¼ˆIntegrityï¼‰ï¼š</strong>åªæœ‰æœ‰æƒé™çš„äººæ‰èƒ½<strong>ä½¿ç”¨å’Œä¿®æ”¹</strong>ç³»ç»Ÿå’Œæ•°æ®ï¼Œæ¯”å¦‚é»‘å®¢å‡å†’ä½ å‘é€é‚®ä»¶ï¼Œå°±æ˜¯æ”»å‡»å®Œæ•´æ€§ã€‚</p><p><strong>å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ï¼š</strong>æœ‰æƒé™çš„äººåº”è¯¥éšæ—¶å¯ä»¥è®¿é—®ç³»ç»Ÿå’Œæ•°æ®ï¼Œ<strong>æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDDOS</strong>ï¼‰å°±æ˜¯é»‘å®¢å‘é€å¤§é‡çš„å‡è¯·æ±‚åˆ°æœåŠ¡å™¨ä¸Šï¼Œä½¿å¾—ç½‘ç«™å¾ˆæ…¢æˆ–è€…ç›´æ¥æŒ‚æ‰ï¼Œè¿™å°±æ˜¯æ”»å‡»å¯ç”¨æ€§ã€‚</p></blockquote><p>ä¸ºäº†å®ç°è¿™ä¸‰ä¸ªç›®æ ‡ï¼Œå®‰å…¨ä¸“å®¶ä¼šä»æŠ½è±¡å±‚é¢æƒ³æƒ³æ•Œäººå¯èƒ½æ˜¯è°ï¼Œè¿™ä¸ªç§°ä¸º<strong>å¨èƒæ¨¡å‹åˆ†æï¼ˆThreat Modelï¼‰</strong>ã€‚æ¨¡å‹ä¼šå¯¹æ”»å‡»è€…æœ‰ä¸ªå¤§è‡´çš„æè¿°ï¼šèƒ½åŠ›å¦‚ä½•ã€ç›®æ ‡æ˜¯ä»€ä¹ˆã€å¯èƒ½ä½¿ç”¨ä»€ä¹ˆæ‰‹æ®µã€‚æ”»å‡»æ‰‹æ®µåˆç§°ä¸º<strong>æ”»å‡»çŸ¢é‡ï¼ˆAttack Vectorï¼‰</strong>ã€‚å¨èƒæ¨¡å‹åˆ†æèƒ½å¤Ÿè®©ä½ ä¸ºç‰¹å®šæƒ…å¢ƒåšå¥½å‡†å¤‡ï¼Œä¸è¢«å¯èƒ½çš„æ”»å‡»æ‰‹æ®µæ‰€æ·¹æ²¡ã€‚æ¢å¥è¯è¯´ï¼Œè¦æ€ä¹ˆä¿æŠ¤ï¼Œå…·ä½“çœ‹è¦å¯¹æŠ—è°ã€‚</p><p>é€šå¸¸å¨èƒæ¨¡å‹åˆ†æä¸­ï¼Œä¼šä»¥èƒ½åŠ›æ°´å¹³è¿›è¡ŒåŒºåˆ†ã€‚åœ¨ç»™å®šçš„å¨èƒæ¨¡å‹ä¸‹ï¼Œå®‰å…¨æ¶æ„å¸ˆè¦æä¾›è§£å†³æ–¹æ¡ˆï¼Œæ¥ä¿æŒç³»ç»Ÿå®‰å…¨ã€‚</p><p>æœ‰å¾ˆå¤šä¿æŠ¤è®¡ç®—æœºç³»ç»Ÿã€ç½‘ç»œå’Œæ•°æ®çš„æ–¹æ³•ã€‚å¾ˆå¤šå®‰å…¨é—®é¢˜å¯ä»¥æ€»ç»“æˆ<strong>ä¸¤ä¸ªé—®é¢˜</strong>ï¼š</p><ol><li>ä½ æ˜¯è°ï¼Ÿ</li><li>ä½ èƒ½è®¿é—®ä»€ä¹ˆï¼Ÿ</li></ol><p>æƒé™åº”è¯¥ç»™é€‚åˆçš„äººè€Œæ‹’ç»é”™è¯¯çš„äººï¼Œæ‰€ä»¥ä¸ºäº†åŒºåˆ†è°æ˜¯è°ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>èº«ä»½è®¤è¯ï¼ˆAuthenticationï¼‰</strong>æ¥è®©è®¡ç®—æœºå¾—çŸ¥ä½¿ç”¨è€…æ˜¯è°ã€‚é€šå¸¸èº«ä»½è®¤è¯æœ‰ä¸‰ç§ï¼Œå„æœ‰åˆ©å¼Šï¼š</p><ol><li><strong>ä½ çŸ¥é“ä»€ä¹ˆï¼š</strong>è¿™ä¸ªæ˜¯åŸºäºæŸç§åªæœ‰ç”¨æˆ·å’Œè®¡ç®—æœºçŸ¥é“çš„ç§˜å¯†ï¼Œæ¯”å¦‚ç”¨æˆ·åå’Œå¯†ç ã€‚è¿™æ˜¯å¦‚ä»Šä½¿ç”¨æœ€å¹¿æœ€å®¹æ˜“å®ç°çš„æ–¹æ³•ã€‚ä½†æ˜¯å¦‚æœé»‘å®¢çŸ¥é“äº†ä½ çš„å¯†ç å°±æƒ¨äº†ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡æš´åŠ›æ”»å‡»è¯•äº†å¯†ç çš„æ‰€æœ‰å¯èƒ½æ¥è·å–ä½ çš„å¯†ç ï¼Œæœ‰äº›ç³»ç»Ÿä¼šåœ¨ä½ å°è¯•è‹¥å¹²æ¬¡é”™è¯¯åé˜»æ­¢ä½ ç»§ç»­å°è¯•ã€‚å³ä½¿å¢é•¿å¯†ç ä¹Ÿå¾ˆå®¹æ˜“ç ´è§£ï¼Œæ‰€ä»¥ç°åœ¨å¾ˆå¤šç½‘ç«™éƒ½è¦æ±‚å¤§å°å†™å­—æ¯åŠ ç‰¹æ®Šå­—ç¬¦ï¼Œæ¥å¢åŠ å¯èƒ½çš„å¯†ç ã€‚</li><li><strong>ä½ æœ‰ä»€ä¹ˆï¼š</strong>è¿™æ˜¯åŸºäºç”¨æˆ·ç‰¹å®šçš„ç‰©ä½“ï¼Œæ¯”å¦‚é’¥åŒ™å’Œé”ã€‚è¿™ç§æ–¹æ³•å¯ä»¥é¿å…è¢«äººçŒœä¸­å¯†ç çš„é—®é¢˜ï¼Œè€Œä¸”é€šå¸¸éœ€è¦äººåœ¨ç°åœºï¼Œæ‰€ä»¥è¿œç¨‹æ”»å‡»å°±æ›´åŠ å›°éš¾äº†ã€‚</li><li><strong>ä½ æ˜¯ä»€ä¹ˆï¼š</strong>è¿™æ˜¯åŸºäºä½ ï¼Œé€šè¿‡ä½ è‡ªå·±çš„ç‰¹å¾å±•ç¤ºç»™è®¡ç®—æœºæ¥è¿›è¡ŒéªŒè¯ï¼Œæ¯”å¦‚æŒ‡çº¹è¯†åˆ«å™¨å’Œçº¢è†œæ‰«æä»ªï¼Œè¿™äº›æ–¹æ³•ç‰¹åˆ«çš„å®‰å…¨ï¼Œä½†æ˜¯æœ€å¥½çš„è¯†åˆ«æŠ€æœ¯ååˆ†æ˜‚è´µã€‚â€œä½ çŸ¥é“ä»€ä¹ˆâ€å’Œâ€œä½ æœ‰ä»€ä¹ˆâ€æ˜¯ç¡®å®šæ€§çš„ï¼Œä½†æ˜¯æ¥è‡ªä¼ æ„Ÿå™¨çš„æ•°æ®æ¯æ¬¡éƒ½ä¸ç›¸åŒï¼Œæ‰€ä»¥â€œä½ æ˜¯ä»€ä¹ˆâ€æ˜¯æ¦‚ç‡æ€§çš„ï¼Œç³»ç»Ÿå¯èƒ½è®¤ä¸å‡ºä½ ï¼Œæˆ–è€…å°†å…¶ä»–äººè®¤æˆäº†ä½ ã€‚å¹¶ä¸”è¿™ç§æ–¹æ³•å¦ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•é‡è®¾ï¼Œä½ æ— æ³•ä¿®æ”¹è‡ªå·±çš„æŒ‡çº¹æˆ–è€…è™¹è†œã€‚</li></ol><p>æ¯ç§æ–¹æ³•éƒ½æœ‰ä¼˜ç¼ºç‚¹ï¼Œä¸€èˆ¬å»ºè®®ä½¿ç”¨ä¸¤ç§æˆ–ä¸¤ç§ä»¥ä¸Šçš„è®¤è¯æ–¹å¼ã€‚</p><p>å½“ç³»ç»ŸçŸ¥é“äº†ä½ æ˜¯è°ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦çŸ¥é“ä½ èƒ½è®¿é—®ä»€ä¹ˆï¼Œè¿™ä¸ªç§°ä¸º<strong>è®¿é—®æ§åˆ¶ï¼ˆAccess Controlï¼‰</strong>ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªè§„èŒƒï¼Œæ¥è¯´æ˜è°èƒ½è®¿é—®ä»€ä¹ˆã€ä¿®æ”¹ä»€ä¹ˆå’Œä½¿ç”¨ä»€ä¹ˆã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡<strong>æƒé™ï¼ˆPermissionï¼‰</strong>æˆ–<strong>è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆAccess Control Listï¼ŒACLï¼‰</strong>æ¥å®ç°ï¼Œå…¶ä¸­æè¿°äº†ç”¨æˆ·å¯¹æ¯ä¸ªæ–‡ä»¶ã€æ–‡ä»¶å¤¹å’Œç¨‹åºçš„è®¿é—®æƒé™ã€‚</p><blockquote><p>è¯»æƒé™ï¼šå…è®¸ç”¨æˆ·æŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€‚</p><p>å†™æƒé™ï¼šå…è®¸ç”¨æˆ·ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p><p>æ‰§è¡Œæƒé™ï¼šè¿è¡Œç”¨æˆ·è¿è¡Œæ–‡ä»¶ã€‚</p></blockquote><p>æœ‰äº›é˜»æ­¢éœ€è¦ä¸åŒå±‚æ¬¡çš„æƒé™ï¼Œåˆ™ACLçš„æ­£ç¡®é…ç½®å°±ååˆ†é‡è¦ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸‰ä¸ªè®¿é—®çº§åˆ«ï¼š<strong>å…¬å¼€ã€æœºå¯†å’Œé¡¶çº§æœºå¯†</strong>ã€‚æœ‰ä¸ªç»å…¸æ¨¡å‹ç§°ä¸º<strong>Bell-LaPadulaæ¨¡å‹</strong>ï¼Œå…¶ä¸­åŒ…å«ä¸¤æ¡è§„åˆ™ï¼š</p><ol><li>ç”¨æˆ·ä¸èƒ½<strong>read up</strong>ï¼Œå³ä¸èƒ½è¯»ç­‰çº§æ›´é«˜çš„ä¿¡æ¯ã€‚</li><li>ç”¨æˆ·ä¸èƒ½<strong>write down</strong>ï¼Œå³ç”¨æˆ·ä¸èƒ½å†™æ›´ä½æƒé™çš„ä¿¡æ¯ï¼Œè¿™æ ·èƒ½é¿å…é«˜çº§åˆ«çš„ä¿¡æ¯ä¸ä¼šæ³„æ¼åˆ°ä½çº§åˆ«çš„æ–‡ä»¶ä¸­ã€‚</li></ol><p>é€šè¿‡èº«ä»½è®¤è¯å’Œæƒé™æ§åˆ¶ï¼Œå¯ä»¥è®©è®¡ç®—æœºçŸ¥é“ä½ æ˜¯è°å’Œä½ èƒ½è®¿é—®ä»€ä¹ˆï¼Œä½†æ˜¯å¿…é¡»å…ˆä¿è¯åšè¿™äº›äº‹çš„è½¯ç¡¬ä»¶å¿…é¡»æ˜¯å¯ä¿¡çš„ã€‚ä½†æ˜¯ä»ç„¶æ— æ³•ä¿è¯ç¨‹åºæˆ–è®¡ç®—æœºç³»ç»Ÿçš„å®‰å…¨ï¼Œå› ä¸ºå®‰å…¨è½¯ä»¶åœ¨ç†è®ºä¸Šå¯èƒ½æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯å®ç°æ—¶å¯èƒ½ä¼šä¸å°å¿ƒç•™ä¸‹æ¼æ´ã€‚ä½†æ˜¯æˆ‘ä»¬æœ‰åŠæ³•å‡å°‘æ¼æ´å‡ºç°çš„å¯èƒ½æ€§ï¼Œæ¯”å¦‚ä¸€å‘ç°æ¼æ´å°±é©¬ä¸Šä¿®è¡¥ã€‚</p><p>å¤§éƒ¨åˆ†æ¼æ´éƒ½æ˜¯å…·ä½“å®ç°æ—¶å‡ºé”™äº†ï¼Œæ‰€ä»¥ä¸ºäº†å‡å°‘æ‰§è¡Œé”™è¯¯ï¼Œå°±è¦å‡å°‘æ‰§è¡Œã€‚ç³»ç»Ÿçº§å®‰å…¨çš„åœ£æ¯ä¹‹ä¸€æ˜¯å®‰å…¨å†…æ ¸æˆ–å¯ä¿¡è®¡ç®—æœºåŸºç¡€ï¼šä¸€ç»„å°½å¯èƒ½å°‘çš„æ“ä½œç³»ç»Ÿè½¯ä»¶ï¼Œè¿™ä¸ªå®‰å…¨æ€§æ˜¯æ¥è¿‘å¯éªŒè¯çš„ã€‚</p><p>æ„å»ºå®‰å…¨å†…æ ¸çš„æŒ‘æˆ˜åœ¨äºï¼Œè¦å†³å®šå†…æ ¸åº”è¯¥æœ‰ä»€ä¹ˆï¼ˆä»£ç è¶Šå°‘è¶Šå¥½ï¼‰ã€‚å½“æœ€å°åŒ–ä»£ç æ•°é‡åï¼Œè¦æ˜¯èƒ½ä¿è¯ä»£ç æ˜¯å®‰å…¨çš„ï¼Œé‚£å°±å¾ˆå¥½äº†ã€‚ç°åœ¨æœ€å¥½çš„éªŒè¯ä»£ç å®‰å…¨æ€§çš„æ‰‹æ®µæ˜¯<strong>ç‹¬ç«‹å®‰å…¨ç›‘å¯Ÿå’Œè´¨é‡éªŒè¯ï¼ˆIndependent Verification and Validationï¼‰</strong>ï¼Œè®©ä¸€ç¾¤å®‰å…¨è¡Œä¸šå†…çš„è½¯ä»¶å¼€å‘è€…æ¥å®¡è®¡ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®‰å…¨å‹ä»£ç å‡ ä¹éƒ½æ˜¯å¼€æºçš„ã€‚</p><p>ä½†æ˜¯å³ä½¿è¿™æ ·ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½è¢«é»‘å®¢æ”»ç ´ï¼Œå› æ­¤ç¨‹åºå¼€å‘è€…éœ€è¦æ§åˆ¶æŸå¤±çš„æœ€å¤§ç¨‹åº¦ï¼Œè¿™ä¸ªç§°ä¸º<strong>éš”ç¦»ï¼ˆIoslationï¼‰</strong>ã€‚è¦å®ç°éš”ç¦»ï¼Œå¯ä»¥<strong>â€œæ²™ç›’â€ï¼ˆsandboxï¼‰</strong>ç¨‹åºï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡ç»™æ¯ä¸ªç¨‹åºç‹¬ç«‹çš„å†…å­˜å—ï¼Œä½¿å¾—åˆ«çš„ç¨‹åºæ˜¯æ— æ³•è§¦åŠçš„ï¼Œè¿™æ ·å°±èƒ½æŠŠç¨‹åºæ”¾åˆ°æ²™ç›’ä¸­ï¼Œå³ä½¿æ²™ç›’è¢«ç ´åäº†ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ«çš„ç¨‹åºæ‰§è¡Œã€‚å¹¶ä¸”ä¸€å°è®¡ç®—æœºå¯ä»¥è¿è¡Œå¤šä¸ª<strong>è™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰</strong>ï¼Œä½¿å¾—æ¯ä¸ªè™šæ‹Ÿæœºéƒ½åœ¨è‡ªå·±çš„æ²™ç›’ä¸­ã€‚</p><h1 id="32ã€é»‘å®¢-amp-æ”»å‡»"><a href="#32ã€é»‘å®¢-amp-æ”»å‡»" class="headerlink" title="32ã€é»‘å®¢&amp;æ”»å‡»"></a>32ã€é»‘å®¢&amp;æ”»å‡»</h1><p>é»‘å®¢å…¥ä¾µæœ€å¸¸è§çš„æ–¹å¼ä¸æ˜¯é€šè¿‡æŠ€æœ¯ï¼Œè€Œæ˜¯æ¬ºéª—åˆ«äººï¼Œè¿™ä¸ªç§°ä¸º<strong>ç¤¾ä¼šå·¥ç¨‹å­¦ï¼ˆSocial Engineeringï¼‰</strong>ï¼Œé€šè¿‡æ¬ºéª—åˆ«äººæ¥è®©äººæ³„éœ²ç§˜å¯†ï¼Œæˆ–è®©äººé…ç½®ç”µè„‘ç³»ç»Ÿæ¥å˜å¾—æ˜“äºæ”»å‡»ã€‚æœ€å¸¸è§çš„æ”»å‡»æ˜¯<strong>ç½‘ç»œé’“é±¼ï¼ˆPhishingï¼‰</strong>ï¼Œå…¶æ¬¡è¿˜æœ‰<strong>å‡æ‰˜ï¼ˆPretextingï¼‰</strong>ï¼Œæ”»å‡»è€…ç»™æŸä¸ªå…¬å¸æ‰“ç”µè¯ï¼Œå‡è£…æ˜¯ITéƒ¨é—¨çš„äººï¼Œæ”»å‡»è€…çš„ç¬¬ä¸€é€šç”µè¯ä¸€èˆ¬ä¼šå«äººè½¬æ¥ï¼Œè¿™æ ·å¦ä¸€ä¸ªæ¥çš„æ—¶å€™ï¼Œç”µè¯çœ‹èµ·æ¥å°±åƒå†…éƒ¨çš„ï¼Œç„¶åè®©åˆ«äººæŠŠç”µè„‘é…ç½®å¾—æ˜“äºå…¥ä¾µï¼Œæˆ–è€…è®©ä»–ä»¬æ³„éœ²æœºå¯†ä¿¡æ¯ï¼Œæ¯”å¦‚å¯†ç æˆ–ç½‘ç»œé…ç½®ã€‚</p><p>é‚®ä»¶é‡Œå¸¦<strong>æœ¨é©¬ï¼ˆtrojan horseï¼‰</strong>ä¹Ÿæ˜¯å¸¸è§æ‰‹æ®µï¼Œæœ¨é©¬é€šå¸¸ä¼šä¼ªè£…æˆæ— å®³çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ç…§ç‰‡æˆ–å‘ç¥¨ï¼Œä½†å®é™…ä¸Šæ˜¯æ¶æ„è½¯ä»¶ï¼Œæœ‰çš„ä¼šå·æ•°æ®ï¼Œæœ‰çš„ä¼šåŠ å¯†æ–‡ä»¶ã€‚</p><p>å¦‚æœæ”»å‡»è€…æ— æ³•ç”¨æœ¨é©¬æˆ–ç”µè¯æ¬ºéª—ï¼Œæ”»å‡»è€…åªèƒ½è¢«è¿«ä½¿ç”¨å…¶ä»–æ‰‹æ®µï¼Œæ–¹æ³•ä¹‹ä¸€å°±æ˜¯æš´åŠ›ç ´è§£ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„å¯†ç ï¼Œç›´åˆ°è¿›å…¥ç³»ç»Ÿï¼Œå¤§å¤šæ•°ç°ä»£ç³»ç»Ÿä¼šåŠ é•¿ç­‰å¾…æ—¶é—´æ¥æŠµå¾¡è¿™ç§æ”»å‡»ï¼Œæ¯æ¬¡å¤±è´¥å°±åŠ é•¿ç­‰å¾…æ—¶é—´ï¼Œç”šè‡³è¶…è¿‡ä¸€å®šæ¬¡æ•°åï¼Œå®Œå…¨å°é”ã€‚ç°åœ¨å‡ºç°äº†ä¸€ç§æ”»ç ´æ–¹æ³•ç§°ä¸º<strong>NANDé•œåƒ</strong>ï¼Œå¦‚æœèƒ½ç‰©ç†æ¥è§¦åˆ°ç”µè„‘ï¼Œå¯ä»¥å¾€å†…å­˜ä¸Šæ¥å‡ æ ¹çº¿ï¼Œå¤åˆ¶æ•´ä¸ªå†…å­˜ï¼Œç„¶åæš´åŠ›å°è¯•å¯†ç ï¼Œç›´åˆ°è®¾å¤‡è®©ä½ ç­‰å¾…ã€‚è¿™æ—¶åªè¦æŠŠå¤åˆ¶çš„å†…å®¹è¦†ç›–æ‰å†…å­˜ï¼Œæœ¬è´¨ä¸Šé‡ç½®äº†å†…å­˜ï¼Œå°±ä¸ç”¨ç­‰å¾…ï¼Œå¯ä»¥ç»§ç»­å°è¯•å¯†ç ã€‚</p><p>å¦‚æœæ— æ³•ç‰©ç†æ¥è§¦åˆ°è®¾å¤‡ï¼Œå°±éœ€è¦è¿œç¨‹æ”»å‡»ï¼Œæ¯”å¦‚é€šè¿‡äº’è”ç½‘ï¼Œè¿™ä¸€èˆ¬éœ€è¦æ”»å‡»è€…åˆ©ç”¨ç³»ç»Ÿæ¼æ´ï¼Œæ¥è·å¾—æŸäº›èƒ½åŠ›æˆ–è®¿é—®æƒé™ï¼Œç§°ä¸º<strong>æ¼æ´åˆ©ç”¨ï¼ˆExploitï¼‰</strong>ã€‚ä¸€ç§å¸¸è§çš„æ¼æ´åˆ©ç”¨å«<strong>ç¼“å†²åŒºæº¢å‡ºï¼ˆBuffer Overflowï¼‰</strong>ï¼Œè¿™é‡Œçš„ç¼“å†²åŒºæ˜¯æŒ‡é¢„ç•™çš„ä¸€å—å†…å­˜ç©ºé—´ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ç³»ç»Ÿç™»å½•ç•Œé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè€Œç³»ç»Ÿæ˜¯ç”¨ç¼“å†²åŒºæ¥å­˜å‚¨è¾“å…¥å€¼çš„ï¼Œå‡è®¾ç¼“å†²åŒºå¤§å°ä¸º10ï¼Œå¹¶ä¸”ç¼“å†²åŒºå‰åè‚¯å®šè¿˜æœ‰å…¶ä»–æ•°æ®ï¼Œå½“ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œè¿™äº›å€¼å°±ä¼šè¢«å¤åˆ¶åˆ°ç¼“å†²åŒºä¸­æ¥è¿›è¡ŒéªŒè¯ï¼Œè€Œè¯¥æ–¹æ³•ä¼šæº¢å‡ºç¼“å†²åŒºï¼Œæ¯”å¦‚è¾“å…¥è¶…è¿‡10ä¸ªå­—ç¬¦çš„å¯†ç ï¼Œä¼šè¦†ç›–æ‰ç›¸é‚»çš„æ•°æ®ï¼Œæœ‰æ—¶ä¼šè®©ç¨‹åºæˆ–ç³»ç»Ÿå´©æºƒï¼Œå› ä¸ºé‡è¦å€¼è¢«åƒåœ¾æ•°æ®è¦†ç›–æ‰äº†ã€‚è¿™é‡Œåªæ˜¯è®©ç³»ç»Ÿå´©æºƒï¼Œä½†æ˜¯æ”»å‡»è€…å¯ä»¥è¾“å…¥æœ‰æ„ä¹‰çš„æ–°å€¼åˆ°ç¨‹åºçš„å†…å­˜ä¸­ï¼Œæ¯”å¦‚æŠŠ<code>is_admin</code>æ ‡å¿—ä½çš„å€¼æ”¹ä¸ºtrueï¼Œæœ‰äº†ä»»æ„ä¿®æ”¹å†…å­˜çš„èƒ½åŠ›ï¼Œé»‘å®¢å°±å¯ä»¥ç»•è¿‡ç™»å½•è¿™ç±»ä¸œè¥¿ï¼Œç”šè‡³ä½¿ç”¨é‚£ä¸ªç¨‹åºåŠ«æŒæ•´ä¸ªç³»ç»Ÿã€‚</p><p>æœ‰è®¸å¤šæ–¹æ³•é˜»æ­¢ç¼“å†²åŒºæº¢å‡ºï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å¤åˆ¶åˆ°å†…å­˜ä¹‹å‰å…ˆæ£€æŸ¥é•¿åº¦ï¼Œç§°ä¸º<strong>è¾¹ç•Œæ£€æŸ¥ï¼ˆBounds checking</strong>ï¼‰ï¼Œè®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€éƒ½è‡ªå¸¦è¾¹ç•Œæ£€æŸ¥ï¼Œç¨‹åºä¹Ÿä¼šéšæœºå­˜æ”¾å˜é‡åœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼Œè¿™æ ·é»‘å®¢å°±ä¸çŸ¥é“åº”è¯¥è¦†ç›–å†…å­˜çš„å“ªéƒ¨åˆ†ï¼Œä½¿å¾—æ›´å®¹æ˜“è®©ç¨‹åºå´©æºƒï¼Œè€Œä¸æ˜¯è·å¾—è®¿é—®æƒé™ã€‚ç¨‹åºä¹Ÿå¯ä»¥åœ¨ç¼“å†²åŒºåï¼Œé¢„ç•™ä¸€äº›ä¸ç”¨çš„ç©ºé—´ï¼Œç„¶åè·Ÿè¸ªé‡Œé¢çš„å€¼ï¼Œçœ‹æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œæ¥åˆ¤æ–­æ˜¯å¦æœ‰æ”»å‡»ï¼Œè¿™äº›ä¸ç”¨çš„å†…å­˜ç©ºé—´ç§°ä¸º<strong>é‡‘ä¸é›€ï¼ˆCanariesï¼‰</strong>ã€‚</p><p>å¦ä¸€ç§ç»å…¸æ‰‹æ®µæ˜¯<strong>ä»£ç æ³¨å…¥ï¼ˆCode Injectionï¼‰</strong>ï¼Œæœ€å¸¸ç”¨äºæ”»å‡»ç”¨æ•°æ®åº“çš„ç½‘ç«™ã€‚å‡è®¾ç½‘é¡µä¸Šæœ‰ç™»å½•æç¤ºï¼Œå½“ç”¨æˆ·ç‚¹å‡»â€œç™»å½•â€ï¼Œè¾“å…¥æ–‡æœ¬å°±ä¼šå‘é€æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿è¡Œä»£ç ï¼Œæ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±çœ‹å¯†ç æ˜¯å¦åŒ¹é…ã€‚ä¸ºæ­¤æœåŠ¡å™¨ä¼šæ‰§è¡Œä¸€æ®µsqlæŸ¥è¯¢ä»£ç ï¼Œæ¯”å¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">password</span> <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> username=<span class="string">'___'</span>;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¯­å¥å°±æ˜¯è¦ä»<code>users</code>è¡¨ä¸­æŸ¥æ‰¾<code>username</code>ä¸º<code>___</code>çš„å¯†ç <code>password</code>ã€‚ è¿™é‡Œçš„<code>___</code>å°±æ˜¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åã€‚ç”±æ­¤æ”»å‡»è€…å°±èƒ½æŠŠsqlå‘½ä»¤è¾“å…¥åˆ°ç”¨æˆ·åä¸­ï¼Œæ¯”å¦‚<code>whatever&#39;;DROP TABLE users;&#39;</code>ï¼Œè¿™æ—¶ä¸Šé¢çš„æŸ¥è¯¢è¯­å¥å°±ä¼šå˜æˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">password</span> <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> username=<span class="string">'whatever'</span>;<span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">users</span>;';</span><br></pre></td></tr></table></figure><p>å¦‚æœæœåŠ¡å™¨å­˜åœ¨ç”¨æˆ·å<code>wharever</code>ï¼Œæ•°æ®åº“å°±ä¼šè¿”å›å¯†ç ï¼Œ å½“ç„¶æˆ‘ä»¬æ— æ³•å¾—çŸ¥å¯†ç æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¼šæ‹’ç»æˆ‘ä»¬ï¼›å¦‚æœä¸å­˜åœ¨ç”¨æˆ·å<code>wharever</code>ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ç©ºå¯†ç æˆ–è€…ç›´æ¥é”™è¯¯ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šæ‹’ç»æˆ‘ä»¬ã€‚ ä½†æ˜¯æˆ‘ä»¬å…³å¿ƒçš„æ˜¯åé¢çš„ä»£ç <code>DROP TABLE users;</code><strong>è¿™ä¸ªæ˜¯æˆ‘ä»¬æ³¨å…¥çš„å‘½ä»¤</strong>ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯åˆ æ‰usersè¿™å¼ è¡¨ã€‚å¦‚ä»Šå‡ ä¹æ‰€æœ‰æœåŠ¡å™¨éƒ½ä¼šé˜²å¾¡è¿™ç§æ‰‹æ®µã€‚</p><p>ç¨‹åºå‘˜éœ€è¦è®¤è¯†åˆ°ä»å¤–ç•Œè¾“å…¥çš„ä¿¡æ¯éƒ½æ˜¯å±é™©çš„ï¼Œå¿…é¡»è¦å¥½å¥½æ£€æŸ¥ï¼Œå¾ˆå¤šç”¨æˆ·åå’Œå¯†ç è¡¨å•ï¼Œä¸ä¼šè®©ä½ ç›´æ¥è¾“å…¥ç‰¹æ®Šç¬¦å·ï¼Œæ¯”å¦‚åˆ†å·æˆ–æ‹¬å·ï¼Œæ¥ä½œä¸ºç¬¬ä¸€é“é˜²å¾¡ã€‚å¥½çš„æœåŠ¡å™¨ä¹Ÿä¼šæ¸…ç†è¾“å…¥ï¼Œæ¯”å¦‚ä¿®æ”¹æˆ–åˆ é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œç„¶åæ‰æ”¾åˆ°æ•°æ®åº“æŸ¥è¯¢è¯­å¥ä¸­ã€‚</p><p>å½“è½¯ä»¶åˆ¶é€ è€…ä¸çŸ¥é“çš„æ–°æ¼æ´è¢«å‘ç°æ—¶ï¼Œç§°ä¸º<strong>0dayæ¼æ´ï¼ˆZero Day Vulnerabilityï¼‰</strong>ï¼Œé»‘å®¢å°±ä¼šæŠ¢åœ¨ç™½å¸½ç¨‹åºå‘˜åšå‡ºè¡¥ä¸ä¹‹å‰å°½å¯èƒ½åˆ©ç”¨æ¼æ´ã€‚</p><p>å¦‚æœæœ‰è¶³å¤Ÿå¤šçš„ç”µè„‘æœ‰æ¼æ´ï¼Œè®©æ¶æ„ç¨‹åºå¯ä»¥è‡ªåŠ¨åœ°åœ¨ç”µè„‘ä¹‹é—´äº’ç›¸ä¼ æ’­ï¼Œç§°ä¸º<strong>è •è™«ï¼ˆWormï¼‰</strong>ã€‚å¦‚æœé»‘å®¢æ‹¿ä¸‹å¤§é‡ç”µè„‘ï¼Œè¿™äº›ç”µè„‘å¯ä»¥ç»„æˆ<strong>åƒµå°¸ç½‘ç»œï¼ˆBotnetï¼‰</strong>ï¼Œå¯ä»¥ç”¨äºå¾ˆå¤šç›®çš„ï¼Œæ¯”å¦‚å‘å¤§é‡åƒåœ¾é‚®ä»¶ç­‰ï¼Œç”¨åˆ«äººç”µè„‘çš„è®¡ç®—èƒ½åŠ›æ¥æŒ–æ¯”ç‰¹å¸ï¼Œæˆ–å‘èµ·DDOSæ¥æ”»å‡»æœåŠ¡å™¨ã€‚DDOSå°±æ˜¯åƒµå°¸ç½‘ç»œé‡Œçš„æ‰€æœ‰ç”µè„‘å‘ä¸€å¤§å †åƒåœ¾ä¿¡æ¯åˆ°æœåŠ¡å™¨ä¸Šï¼Œé€ æˆæœåŠ¡å™¨çš„é˜»å¡ã€‚</p></center></center>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šè®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LearnCpp chapter3</title>
      <link href="/archives/5fc07ec4.html"/>
      <url>/archives/5fc07ec4.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp-chapter3</red></p></center><center><red>https://www.learncpp.com</red></center><p>æœªå®Œå¾…ç»­~~</p><a id="more"></a>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LearnCpp chapter4</title>
      <link href="/archives/c1a4eb67.html"/>
      <url>/archives/c1a4eb67.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp chapter4</red></p></center><center><red>https://www.learncpp.com</red></center><a id="more"></a><h2 id="4-1-åŸºæœ¬çš„æ•°æ®ç±»å‹"><a href="#4-1-åŸºæœ¬çš„æ•°æ®ç±»å‹" class="headerlink" title="4.1 åŸºæœ¬çš„æ•°æ®ç±»å‹"></a>4.1 åŸºæœ¬çš„æ•°æ®ç±»å‹</h2><ul><li><p>å†…å­˜æœ€å°çš„å•ä½æ˜¯ä¸€ä¸ª<strong>äºŒè¿›åˆ¶æ•°(binary digit)</strong>ï¼Œå³<strong>ä½(bit)</strong>ã€‚å®ƒå¯ä»¥å­˜å‚¨ä¸€ä¸ª0æˆ–è€…1ã€‚</p><blockquote><p>å°±åƒä¼ ç»Ÿçš„ç”µç¯å¼€å…³ä¸€æ ·â€”â€”ç¯å¼€ç€(1)ï¼Œç¯å…³ç€(0)</p></blockquote></li><li><p>ç”±è¿ç»­çš„å•å…ƒç»„æˆçš„å†…å­˜ï¼Œå«<strong>å†…å­˜åœ°å€(memory addresses)</strong>ï¼Œç®€ç§°<strong>åœ°å€(addresses)</strong></p></li><li><p>ç°ä»£è®¡ç®—æœºä¸­ï¼Œâ€œä½â€æ˜¯æ²¡æœ‰å®ƒè‡ªå·±çš„å†…å­˜åœ°å€çš„ã€‚è€Œæ˜¯ç”¨ä¸€ä¸ªâ€œ<strong>å­—èŠ‚(byte)</strong>â€æ¥è¡¨ç¤ºä¸€ä¸ªå†…å­˜åœ°å€ã€‚</p><blockquote><p>å› ä¸ºå†…å­˜åœ°å€æ˜¯æ¯”è¾ƒæœ‰é™çš„ï¼Œè€Œä¸”éœ€è¦é€â€œä½â€è®¿é—®æ•°æ®çš„æƒ…å†µå¾ˆå°‘ã€‚</p><p><strong>å­—èŠ‚</strong>æ˜¯ä½œä¸ºä¸€ä¸ªå•ä½æ¥æ“ä½œçš„ä¸€ç»„â€ä½(bit)â€ã€‚ç°ä»£æ ‡å‡†è§„å®šï¼šä¸€ä¸ªå­—èŠ‚ç”±<strong>8ä¸ª</strong>è¿ç»­çš„<strong>ä½</strong>ç»„æˆã€‚</p></blockquote><p>ä¸‹é¢çš„å›¾ç‰‡æ˜¾ç¤ºäº†ä¸€äº›è¿ç»­çš„å†…å­˜åœ°å€ï¼Œä»¥åŠç›¸åº”çš„æ•°æ®å­—èŠ‚:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/MemoryAddresses.png" alt="MemoryAddresses"></p></li><li><p><strong>æ•°æ®ç±»å‹(Data types)</strong>ï¼Œç®€ç§°â€œ<strong>ç±»å‹(type)</strong>â€</p><ul><li><p>æˆ‘ä»¬ä½¿ç”¨<strong>æ•°æ®ç±»å‹</strong>æ¥å‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•ä»¥æŸç§æœ‰æ„ä¹‰çš„æ–¹å¼è§£é‡Šå†…å­˜çš„å†…å®¹ã€‚</p><blockquote><p>å¦‚ï¼šå½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªå˜é‡çš„ç±»å‹ä¸º æ•´å‹(integer)æ—¶ï¼Œå°±ç›¸å½“äºå‘Šè¯‰å†…å­˜â€œ<strong>è¿™ä¸ªå˜é‡ä½¿ç”¨çš„å†…å­˜æ®µå°†è¢«è§£é‡Šä¸ºä¸€ä¸ªæ•´æ•°å€¼</strong>â€</p></blockquote></li><li><p>ç»™å¯¹è±¡(object)ä¸€ä¸ªå€¼(value)æ—¶ï¼Œç¼–è¯‘å™¨å’ŒCPUå°±è´Ÿè´£å°†æ‚¨çš„å€¼ ç¼–ç (encode)ä¸ºè¯¥æ•°æ®ç±»å‹çš„é€‚å½“çš„ä½åºåˆ—ï¼Œå¹¶å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚<u>ã€è®°ä½ï¼šå†…å­˜åªå­˜å‚¨<strong>ä½(bits)</strong>ã€‘</u></p><blockquote><p>å¦‚ï¼šç»™ä¸€ä¸ªæ•´å‹å¯¹è±¡èµ‹ä¸€ä¸ªå€¼,65ã€‚è¿™ä¸ªå€¼å°±è¢«è½¬æ¢ä¸ºbitsï¼š<code>0100 0001</code>ï¼Œå¹¶è¢«å­˜å‚¨åœ¨åˆ†é…ç»™å¯¹è±¡çš„å†…å­˜ä¸­ã€‚</p></blockquote></li><li><p>å½“è¿™ä¸ªå¯¹è±¡è¢«æ±‚å€¼ï¼Œäº§ç”Ÿä¸€ä¸ªå€¼æ—¶ï¼Œè¿™ä¸ª ä½åºåˆ—(sequence of bits) è¢«é‡æ–°æ„é€ æˆåŸæ¥çš„å€¼ã€‚</p><blockquote><p>æ„æ€å°±æ˜¯ï¼š<code>0100 0001</code>è¢«è½¬æ¢å› å€¼65.</p><p>å¹¸è¿çš„æ˜¯ï¼Œè¿™äº›è½¬æ¢å·¥ä½œéƒ½æ˜¯ç”± ç¼–è¯‘å™¨ å’Œ CPU æ¥å®Œæˆçš„ã€‚</p></blockquote></li></ul></li><li><p><strong>åŸºæœ¬æ•°æ®ç±»å‹(fundamental data types)</strong>ï¼Œä½†é€šå¸¸è¢«éæ­£å¼åœ°ç§°ä¸º<strong>åŸºæœ¬ç±»å‹(basic types)</strong>ã€<strong>åŸºæœ¬ç±»å‹(primitive types)</strong>æˆ–<strong>å†…ç½®ç±»å‹(built-in types)</strong>ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200330175227962.png" alt="fundamental data types"></p><blockquote><p>1ã€æ³¨æ„ï¼š<strong>integer vs integral</strong>ï¼š<em>integral</em>å³æ¯”<em>integer</em>èŒƒå›´æ›´å¹¿</p><ul><li><strong>integerï¼šè¡¨ç¤ºæ•´æ•°ï¼Œå³æ­£æ•´æ•°ã€è´Ÿæ•´æ•°ã€0ï¼›</strong></li><li><strong>integralï¼šåŒ…å«äº† integerã€boolean(å¸ƒå°”å‹)ã€å­—ç¬¦ç±»å‹</strong>ã€‚</li></ul><p>ä»–ä»¬ä¸¤ä¸ªåå­—æ¯”è¾ƒç›¸è¿‘ï¼Œæ˜¯å› ä¸ºï¼š<u>integralç±»å‹åœ¨å†…å­˜ä¸­å­˜å‚¨å½¢å¼æ˜¯å’Œintegerä¸€æ ·</u>ã€‚</p><hr><p>2ã€ <strong><code>_t</code>åç¼€</strong></p><p>è¿™ä¸ªåç¼€ï¼Œè¡¨ç¤ºâ€œç±»å‹â€çš„æ„æ€ã€‚</p></blockquote></li></ul><h2 id="4-2-Void"><a href="#4-2-Void" class="headerlink" title="4.2 Void"></a>4.2 Void</h2><ul><li><p>voidæ˜¯æœ€ç®€å•çš„ç±»å‹ï¼Œ<strong>void</strong>ï¼Œå³â€œæ²¡æœ‰ç±»å‹â€</p></li><li><p>å˜é‡ä¸èƒ½å®šä¹‰ä¸ºvoidç±»å‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> value; <span class="comment">// won't work, variables can't be defined with a void type</span></span><br></pre></td></tr></table></figure></li><li><p>voidç”¨é€”ï¼š</p><ol><li><p><strong>Functions that do not return a valueï¼ˆå‡½æ•°ä¸è¿”å›å€¼ï¼‰</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">writeValue</span><span class="params">(<span class="keyword">int</span> x)</span> <span class="comment">// void here means no return value</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The value of x is: "</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="comment">// no return statement, because this function doesn't return a value</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>Functions that do not take parameters(å‡½æ•°ä¸­ä¸å¸¦å‚æ•°)</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">(<span class="keyword">void</span>)</span> <span class="comment">// void here means no parameters</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆ–è€…è¿™ç§å½¢å¼ã€åœ¨C++ä¸­ï¼Œæ¨èå†™è¿™ç§å½¢å¼ã€‘</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span> <span class="comment">// empty function parameters is an implicit void</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><h2 id="4-3-å¯¹è±¡å¤§å°-amp-sizeofæ“ä½œç¬¦"><a href="#4-3-å¯¹è±¡å¤§å°-amp-sizeofæ“ä½œç¬¦" class="headerlink" title="4.3 å¯¹è±¡å¤§å°&amp;sizeofæ“ä½œç¬¦"></a>4.3 å¯¹è±¡å¤§å°&amp;sizeofæ“ä½œç¬¦</h2><p><strong>å¯¹è±¡çš„å¤§å°</strong>ï¼š</p><ul><li><p>å¯¹è±¡çš„å¤§å°å–å†³äºå®ƒçš„æ•°æ®ç±»å‹</p></li><li><p>é€šå¸¸é€šè¿‡<strong>å˜é‡åè®¿é—®å†…å­˜</strong>ï¼Œ<strong>è€Œä¸æ˜¯ç›´æ¥é€šè¿‡å†…å­˜åœ°å€</strong>ã€‚</p></li><li><p>1ä¸ªbit(ä½)å¯ä»¥å®¹çº³2ä¸ªå¯èƒ½çš„å€¼ï¼Œ0æˆ–1ï¼›â€¦â€¦.</p><blockquote><p><strong>å³ï¼Œå…·æœ‰nä½(bits)çš„å¯¹è±¡ï¼Œå¯ä»¥å®¹çº³2^n ä¸ªå¯èƒ½çš„å€¼ã€‚</strong></p></blockquote><p>å› æ­¤ï¼Œå¯¹è±¡çš„å¤§å°é™åˆ¶äº†å®ƒå¯ä»¥å­˜å‚¨çš„å”¯ä¸€å€¼çš„ä¸ªæ•°ã€‚</p></li><li><p>æ¯æ¬¡å®šä¹‰ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ<strong>åªè¦è¯¥å¯¹è±¡å­˜åœ¨ï¼Œå°±ä¼šä½¿ç”¨ä¸€å°éƒ¨åˆ†ç©ºé—²å†…å­˜</strong>ã€‚</p></li></ul><p><strong>åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°</strong>ï¼š</p><ul><li><p>ç»™å®šæ•°æ®ç±»å‹çš„å¤§å°<strong>å–å†³äºç¼–è¯‘å™¨ å’Œ/æˆ– è®¡ç®—æœºä½“ç³»ç»“æ„!</strong></p><p>C++åªä¿è¯æ¯ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°éƒ½æ˜¯æœ€å°çš„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331095627896.png" alt="image-20200331095627896"></p><blockquote><p><strong>ç„¶è€Œï¼Œè¿™äº›ç±»å‹çš„å¤§å°åœ¨ä¸åŒçš„è®¡ç®—æœºä¸Šå¯èƒ½ä¼šä¸ä¸€æ ·ã€‚</strong>æ¯”å¦‚ï¼Œæœ‰äº›æœºå™¨ä¸Šçš„intå¤§å°ä¸º4 bytes</p></blockquote></li></ul><p><strong>æ“ä½œç¬¦â€œsizeofâ€</strong></p><p>ä¸ºäº†èƒ½å¤Ÿåœ¨è®¡ç®—æœºä¸Šç›´åˆ°ç±»å‹çš„å¤§å°ï¼ŒC++æä¾›äº†<strong>â€œsizeofâ€</strong>æ“ä½œç¬¦æ¥ç¡®è®¤ç±»å‹çš„å¤§å°ã€‚</p><blockquote><p><strong>sizeofï¼šæ˜¯ä¸€ä¸ªä¸€å…ƒæ“ä½œç¬¦ï¼Œå®ƒæ¥å— ç±»å‹ æˆ– å˜é‡ï¼Œç„¶åè¿”å›å®ƒçš„å¤§å°(bytes)</strong></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"bool:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">bool</span>) &lt;&lt; <span class="string">"bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"char:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">char</span>) &lt;&lt; <span class="string">"bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"wchar_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">wchar_t</span>) &lt;&lt; <span class="string">"bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"char16_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">char16_t</span>) &lt;&lt; <span class="string">" bytes\n"</span>; <span class="comment">// C++11 only</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"char32_t:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">char32_t</span>) &lt;&lt; <span class="string">" bytes\n"</span>; <span class="comment">// C++11 only</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"short:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(short) &lt;&lt; <span class="string">" bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"int:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int</span>) &lt;&lt; <span class="string">" bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"long:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">long</span>) &lt;&lt; <span class="string">" bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"long long:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">long</span>) &lt;&lt; <span class="string">" bytes\n"</span>; <span class="comment">// C++11 only</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"float:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">float</span>) &lt;&lt; <span class="string">" bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"double:\t\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">double</span>) &lt;&lt; <span class="string">" bytes\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"long double:\t"</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">double</span>) &lt;&lt; <span class="string">" bytes\n"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é¿å…åœ¨visual studio ä¸­è¿è¡Œæ—¶ é—ªè¿‡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="built_in">std</span>::numeric_limits&lt;<span class="built_in">std</span>::streamsize&gt;::<span class="built_in">max</span>(), <span class="string">'\n'</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.<span class="built_in">get</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><blockquote><p>è¿è¡Œç»“æœä¼šå› ä¸ºä¸åŒç±»å‹çš„æœºå™¨orç¼–è¯‘å™¨ï¼Œè€Œå‡ºç°å·®å¼‚ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331101214364.png" alt="image-20200331101214364"></p><h2 id="4-4-æœ‰ç¬¦å·æ•´å‹"><a href="#4-4-æœ‰ç¬¦å·æ•´å‹" class="headerlink" title="4.4 æœ‰ç¬¦å·æ•´å‹"></a>4.4 æœ‰ç¬¦å·æ•´å‹</h2><ul><li>C++ä¸­æœ‰å››ç§æ•´å‹çš„ç±»å‹ï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331101704637.png" alt="image-20200331101704637"></p><ul><li><p><strong>Signed integers(æœ‰ç¬¦å·æ•´å‹)</strong></p><p>å¦‚ï¼š+1ã€-1ã€0è¿™ç§éƒ½å±äº æœ‰ç¬¦å·æ•´å‹ã€‚</p><ul><li><p><strong>å®šä¹‰æœ‰ç¬¦å·æ•´å‹ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ã€æ¨èã€‘</span></span><br><span class="line">short s;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">long</span> i;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> i;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é™¤äº†intï¼Œå…¶å®ƒç±»å‹ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š</span></span><br><span class="line">short <span class="keyword">int</span> s;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">long</span> liong i;</span><br><span class="line"><span class="comment">//è¿™ç§ã€ä¸æ¨èã€‘ï¼Œä½¿ç”¨â€œintâ€åç¼€ä¸åˆ©äºè§‚çœ‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹Ÿå¯ä»¥ä½¿ç”¨ signedå‰ç¼€</span></span><br><span class="line"><span class="keyword">signed</span> shrt s;</span><br><span class="line"><span class="keyword">signed</span> <span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">signed</span> <span class="keyword">long</span> i;</span><br><span class="line"><span class="keyword">signed</span> <span class="keyword">long</span> <span class="keyword">long</span> i;</span><br><span class="line"><span class="comment">//ã€ä¸æ¨èã€‘ï¼Œå› ä¸ºsignedå†—ä½™ï¼Œä¸åˆ©äºè¾¨è®¤</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>æœ‰ç¬¦å·æ•´å‹çš„èŒƒå›´</strong></p><p>æ•°æ®ç±»å‹å¯ä»¥å®¹çº³çš„ä¸€ç»„ç‰¹å®šå€¼ï¼Œå«åšï¼š<strong>range(èŒƒå›´)</strong></p><blockquote><p>æ•´å‹å˜é‡çš„â€œ<strong>èŒƒå›´</strong>â€çš„å†³å®šå› ç´ ï¼š</p><ol><li>è¯¥ç±»å‹æœ¬èº«çš„å¤§å°ï¼›</li><li>è¯¥ç±»å‹æ˜¯å¦æ˜¯ æœ‰ç¬¦å· çš„ã€‚</li></ol><p>æ¯”å¦‚ï¼Œå¤§å°ä¸º1å­—èŠ‚çš„æœ‰ç¬¦å·æ•´å‹ï¼Œå®ƒçš„èŒƒå›´æ˜¯ï¼š-128~127(åŒ…å«èŒƒå›´çš„ä¸¤ç«¯)ï¼Œå³å®ƒå¯ä»¥å­˜å‚¨2^8=256 ä¸ªå¯èƒ½çš„æ•´æ•°ã€‚</p></blockquote></li></ul><p>è¿™æ˜¯ä¸€ä¸ªåŒ…å«ä¸åŒå¤§å°æœ‰ç¬¦å·æ•´æ•°èŒƒå›´çš„è¡¨:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331104055635.png" alt="image-20200331104055635"></p><blockquote><p>å°ç»“ï¼Œä¸€ä¸ªæœ‰ <strong>n</strong>-bitsçš„ æœ‰ç¬¦å·å˜é‡ï¼Œå®ƒå¯å­˜å‚¨å€¼çš„èŒƒå›´æ˜¯ï¼š<strong>-(2^n-1^) ~ (2^n-1^ -1)</strong></p></blockquote><ul><li><p><strong>æ•´æ•°æº¢å‡º</strong>ï¼Œç®€ç§°ï¼š<strong>æº¢å‡º</strong></p><p>å¦‚æœæˆ‘ä»¬æŠŠå€¼280,å­˜å‚¨åœ¨ 1ä¸ªå­—èŠ‚çš„æœ‰ç¬¦å·æ•´å‹ ä¸­ï¼Œä»–å°±ä¼šå‘ç”Ÿ <strong>æº¢å‡º</strong>ç°è±¡ã€‚æ­¤æ—¶ï¼Œ<strong>æ•°æ®ä¸¢å¤±æ˜¯å› ä¸ºå¯¹è±¡æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥å­˜å‚¨æ‰€æœ‰ä¸œè¥¿ã€‚</strong></p></li></ul><h2 id="4-5-æ— ç¬¦å·æ•´å‹"><a href="#4-5-æ— ç¬¦å·æ•´å‹" class="headerlink" title="4.5 æ— ç¬¦å·æ•´å‹"></a>4.5 æ— ç¬¦å·æ•´å‹</h2><center>ä¸æ¨èä½¿ç”¨</center><p><strong>æ— ç¬¦å·æ•´å‹ï¼šunsigned integerã€‚</strong>ä¸èƒ½å­˜å‚¨â€œè´Ÿæ•°â€ï¼Œ<strong>å¯ä»¥å­˜å‚¨ï¼š0 å’Œ æ­£æ•´æ•°</strong></p><ul><li><p><strong>å®šä¹‰æ— ç¬¦å·æ•´å‹å˜é‡</strong></p><p>è¦å®šä¹‰æ— ç¬¦å·æ•´æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>unsigned</strong>å…³é”®å­—ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿™æ˜¯æ”¾åœ¨å‰é¢çš„ç±»å‹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> short us;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> ui;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> ul;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ— ç¬¦å·æ•´å‹èŒƒå›´</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331105315653.png" alt="Unsigned integer range"></p><blockquote><p>ä¸€ä¸ªæœ‰ n-bits çš„æ— ç¬¦å·æ•´å‹å˜é‡ï¼Œå®ƒå¯å­˜å‚¨çš„èŒƒå›´æ˜¯ï¼š<strong>0 ~ (2^n^)-1</strong></p></blockquote><p>å½“ä¸éœ€è¦è´Ÿæ•°æ—¶ï¼Œæ— ç¬¦å·æ•´æ•°éå¸¸é€‚åˆäºç½‘ç»œå’Œå†…å­˜å¾ˆå°‘çš„ç³»ç»Ÿï¼Œ<strong>å› ä¸ºæ— ç¬¦å·æ•´æ•°å¯ä»¥å­˜å‚¨æ›´å¤šçš„æ­£æ•°è€Œä¸å ç”¨é¢å¤–çš„å†…å­˜ã€‚</strong></p></li></ul><ul><li><p><strong>æ— ç¬¦å·æ•´æ•°çš„æº¢å‡ºï¼šUnsigned integer overflow</strong></p><p>æ— ç¬¦å·æ•´æ•°ä¸ä¼šæº¢å‡ºã€‚<em>å¦‚æœä¸€ä¸ªå€¼è¶…è¿‡èŒƒå›´ï¼Œé‚£ä¹ˆå®ƒä¼šé™¤ä»¥ä¸€ä¸ªæ¯”è¿™ä¸ªèŒƒå›´å¤§çš„æ•°ï¼Œç„¶åå°†ä½™æ•°å­˜èµ·æ¥ã€‚</em></p><ul><li><p><strong>æ­£æ•°æº¢å‡º</strong></p><blockquote><p>å¦‚ï¼Œåœ¨ 1byteçš„èŒƒå›´ä¸­ï¼Œå­˜å‚¨æ•°æ®ã€‚</p><ul><li>280åœ¨ èŒƒå›´ä¸º 1ä¸ªå­—èŠ‚ çš„æ•´å‹ä¸­å­˜å‚¨ï¼Œå› 280&gt;255ã€‚æ‰€ä»¥ï¼Œå®ƒä¼šé™¤ä»¥256(æ¯” 1ä¸ªå­—èŠ‚çš„èŒƒå›´çš„æœ€å¤§å€¼å¤§1ï¼Œå³æ¯”255å¤§1çš„æ•°ï¼Œ256)ã€‚280/256=24ï¼Œ<strong>æ‰€ä»¥å­˜å‚¨çš„æ˜¯24</strong>.</li><li>å­˜å‚¨256ã€‚256&gt;255ã€‚åˆ™è¿›è¡Œ 256/256 = 0ï¼Œ<strong>å³ç›¸å½“äºå­˜å‚¨ 0</strong></li><li>å­˜å‚¨257ã€‚257&gt;255ã€‚åˆ™è¿›è¡Œ 257/256 = 1ï¼Œ<strong>å³ç›¸å½“äºå­˜å‚¨ 1</strong></li></ul></blockquote><p>çœ‹ä¸€ä¸ªç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> short x&#123; <span class="number">65535</span> &#125;; <span class="comment">// æœ€å¤§çš„16ä½æ— ç¬¦å·å€¼</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"x was: "</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    x = <span class="number">65536</span>; <span class="comment">// 65536 is out of our range, so we get wrap-around</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"x is now: "</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    x = <span class="number">65537</span>; <span class="comment">// 65537 is out of our range, so we get wrap-around</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"x is now: "</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331131152778.png" alt="image-20200331131152778"></p><hr></li></ul></li></ul><ul><li><p><strong>è´Ÿæ•°æº¢å‡º</strong></p><p>è™½ç„¶ï¼Œæ— ç¬¦å·æ•´æ•°çš„èŒƒå›´æ˜¯0~255(å‡å¦‚åœ¨ 1byteçš„èŒƒå›´).ä½†æ˜¯æˆ‘ä»¬ä¸å°å¿ƒåœ¨æ— ç¬¦å·æ•´å‹ä¸­è¾“å…¥äº† è´Ÿæ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>æ¯”å¦‚ï¼Œå½“è¾“å…¥ -1 æ—¶ã€‚-1ä¸åœ¨ 0~255è¿™ä¸ªèŒƒå›´ä¸­ã€‚æ­¤æ—¶å°±å¾ªç¯åˆ°è¿™ä¸ªèŒƒå›´çš„é¡¶éƒ¨ï¼ˆæœ€å¤§å€¼å¤„ï¼‰ï¼Œå³ 255ã€‚æ‰€ä»¥ï¼Œåœ¨ 1 byte çš„èŒƒå›´çš„æ— ç¬¦å·æ•´æ•°ä¸­ï¼Œ<strong>è¾“å…¥ -1 ï¼Œå­˜å‚¨çš„æ˜¯ 255ã€‚</strong></p><p><strong>è¾“å…¥-2ï¼Œå­˜å‚¨çš„æ˜¯254ã€‚ï¼ˆä»æœ€é¡¶éƒ¨å¾€å›å¾ªç¯ï¼‰</strong></p></li></ul><h2 id="4-6-å›ºå®šå®½åº¦çš„æ•´æ•°å’Œsize-t"><a href="#4-6-å›ºå®šå®½åº¦çš„æ•´æ•°å’Œsize-t" class="headerlink" title="4.6 å›ºå®šå®½åº¦çš„æ•´æ•°å’Œsize_t"></a>4.6 å›ºå®šå®½åº¦çš„æ•´æ•°å’Œsize_t</h2><p>ä¹‹å‰è®²äº†æ•´å‹å˜é‡çš„æœ€ä½sizeï¼Œå…¶å®ä»–ä»¬å¯ä»¥æŒ‰ç…§ä¸åŒçš„ç³»ç»Ÿå˜å¾—æ›´å¤§ã€‚</p><ul><li><p>ä¸ºä»€ä¹ˆä¸å›ºå®šæ•´å‹å˜é‡çš„å¤§å°ï¼Ÿ</p><p>å› ä¸ºåœ¨Cè¯­è¨€ä¸­ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼ŒCæ•…æ„ä¿æŒæ•´æ•°çš„å¤§å°æ˜¯å¼€æ”¾çš„ï¼Œè¿™æ ·ç¼–è¯‘å™¨å®ç°è€…å°±å¯ä»¥ä¸º int é€‰æ‹©ä¸€ä¸ªåœ¨ç›®æ ‡è®¡ç®—æœºæ¶æ„ä¸Šè¡¨ç°æœ€å¥½çš„å¤§å°ã€‚</p></li><li><p><strong>å›ºå®šå®½åº¦çš„æ•´å‹</strong></p><p>ä¸ºäº†å®ç°è·¨å¹³å°ï¼ŒC99å®šä¹‰äº†ä¸€ç³»åˆ—çš„<strong>å›ºå®šå®½åº¦çš„æ•´å‹</strong>(åœ¨å¤´æ–‡ä»¶<code>stdint.h</code>ä¸­)ï¼Œä½¿å¾—åœ¨ä»»ä½•å¹³å°ä¸­çš„å¤§å°éƒ½ä¸€è‡´ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331142942242.png" alt="Fixed-width integers"></p><blockquote><p><strong>åœ¨C++11ä¸­çš„å¤´æ–‡ä»¶<code>cstdint</code>ä¸­ï¼Œä¹ŸåŒ…å«äº†ä¸Šè¿°çš„å›ºå®šå®½åº¦æ•´å‹ã€‚ä»–ä»¬åœ¨å‘½åç©ºé—´<code>std</code>ä¸­å®šä¹‰çš„ã€‚</strong></p><p>å¦‚;</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdint&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="keyword">int16_t</span> <span class="title">i</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>åº”è¯¥é¿å…ä¸Šè¿°å›ºå®šå®½åº¦çš„æ•´æ•°ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ä¸æ˜¯åœ¨æ‰€æœ‰ç›®æ ‡ä½“ç³»ç»“æ„ä¸Šå®šä¹‰çš„ã€‚</p></li></ul><hr><ul><li><p><strong>fast &amp; least æ•´å‹</strong>ï¼šå¿«ç±»å‹ &amp; å°ç±»å‹</p><p>ä¸ºäº†å¸®åŠ©è§£å†³ä¸Šè¿°ç¼ºç‚¹ï¼Œc++ 11è¿˜å®šä¹‰äº†ä¸¤ä¸ªå¯é€‰çš„æ•´æ•°é›†ã€‚</p><ol><li><p>*<em>fast type *</em></p><p><strong>æ— ç¬¦å·</strong>æ ¼å¼ä¸ºï¼š std::<strong>int_fast#_t</strong> ï¼›<strong>æœ‰ç¬¦å·</strong>æ ¼å¼ï¼šstd::<strong>uint_fast#_t</strong></p><p>å®ƒæä¾›ä¸€ä¸ªæ•´å‹ï¼Œå®ƒæä¾›ä¸€ä¸ªåœ¨ä½ çš„æœºå™¨ä¸Š<u>è¡¨ç°å¾—æ€§èƒ½æœ€å¥½çš„å®½åº¦</u>ï¼Œä½†æ˜¯å®ƒçš„å®½åº¦æœ€å°æ˜¯â€œ# <strong>bits</strong>â€ï¼ˆ# = 8ï¼Œ16ï¼Œ32ï¼Œor 64 <strong>bit</strong>ï¼‰</p><blockquote><p>å¦‚ï¼š<code>std::int_fast32_t</code>å°†ä¼šç»™ä½ ä¸€ä¸ªæœ€å°ä¸º 32bits çš„æ— ç¬¦å·æ•´å‹</p></blockquote></li><li><p><strong>least type</strong></p><p><strong>æ— ç¬¦å·</strong>æ ¼å¼ä¸ºï¼š std::<strong>int_least#_t</strong> ï¼›<strong>æœ‰ç¬¦å·</strong>æ ¼å¼ï¼šstd::<strong>uint_least#_t</strong></p><p>å®ƒæä¾›ä¸€ä¸ªæ•´å‹ç±»å‹ï¼Œå®ƒæä¾›ä¸€ä¸ª<u>æœ€æ¥è¿‘äº</u>â€œ# <strong>bits</strong>â€çš„å®½åº¦ï¼Œä½†æ˜¯å®ƒçš„å®½åº¦æœ€å°æ˜¯â€œ# <strong>bits</strong>â€ï¼ˆ# = 8ï¼Œ16ï¼Œ32ï¼Œor 64 <strong>bit</strong>ï¼‰</p></li></ol><blockquote><p>å°ç»“ï¼š<strong><u>æ¯”è¾ƒï¼š<code>int#\_t</code>ã€<code>int_fast#_t</code>ã€<code>int_least#_t</code>çš„å·®å¼‚</u></strong>ï¼š</p><ul><li><code>int#_t</code>çš„bits(ä½æ•°)æ˜¯å›ºå®šçš„ï¼Œå³æœ‰â€œ# bitsâ€ï¼›</li><li><code>int_fast#_t</code> å’Œ <code>int_least#_t</code>çš„bits(ä½æ•°)æœ€å°‘æœ‰â€œâ€œ# bitsâ€ï¼›</li></ul><p>exampleï¼š</p><p><code>int16_t</code>ï¼šæ˜¯å›ºå®šçš„16ä½çš„æ•´å‹ï¼›</p><p><code>int_fast16_t</code>ï¼šå¯èƒ½è½¬å˜æˆäº†64ä½çš„æ•´å‹ã€‚ï¼ˆå› ä¸ºåœ¨ä½ çš„æœºå™¨ä¸Šï¼Œ64ä½æ•´å‹æœ€å¿«äº†ï¼‰</p><p><code>int_least16_t</code>ï¼šå¯èƒ½è½¬å˜æˆäº†32ä½çš„æ•´å‹ã€‚ï¼ˆå‡è®¾å› ä¸ºä½ çš„ç³»ç»Ÿä¸­æ²¡æœ‰16ä½çš„æ•´å‹ï¼Œè€Œ32ä½æ­¤æ—¶<strong>æ˜¯æœ€æ¥è¿‘</strong>16ä½ çš„æ•´å‹äº†ï¼‰</p></blockquote></li></ul><hr><ul><li><p>æ³¨æ„ï¼š<strong><code>std::int8_t</code>å’Œ<code>std::uint8_t</code><u>æ˜¯charç±»å‹</u>ï¼Œè€Œä¸æ˜¯integer</strong></p><p>åœ¨C++ä¸­ï¼Œå¾ˆå¤šç¼–è¯‘å™¨å¯¹<code>std::int8_t</code>å’Œ<code>std::uint8_t</code>ï¼ˆä»¥åŠç›¸åº”çš„fast å’Œ least æ•´å‹ï¼‰çš„å®šä¹‰å’Œå¯¹å¾…æ–¹å¼ æ˜¯ä¸ <code>signed char</code>(æœ‰ç¬¦å·å­—ç¬¦ç±»å‹) çš„æ–¹å¼ç›¸åŒã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨æŸäº›ç³»ç»Ÿä¸­ï¼Œå®ƒç¡®å®æ˜¯æ•´å‹çš„ï¼Œè€Œä¸æ˜¯charç±»å‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdint&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="keyword">int8_t</span> myint = <span class="number">65</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; myint;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/******************************/</span></span><br><span class="line">è¿è¡Œç»“æœæ˜¯ï¼š A</span><br></pre></td></tr></table></figure><blockquote><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦<strong>é¿å…ä½¿ç”¨è¿™å‡ ä¸ªæ•´å‹ç±»å‹</strong>ã€‚</p></blockquote></li></ul><hr><p><strong>æœ€ä½³ä½¿ç”¨æ•´å‹</strong></p><ul><li>å½“æ•´å‹çš„å¤§å°ä¸åšè¦æ±‚æ—¶ï¼Œä½¿ç”¨<strong><code>int</code></strong>ï¼›</li><li>å¦‚æœéœ€è¦ä¸€ä¸ªä¿è¯ä¸ºç‰¹å®šå¤§å°çš„å˜é‡ï¼Œå¹¶ä¸”å¸Œæœ›<strong>æé«˜æ€§èƒ½</strong>ï¼Œä½¿ç”¨<strong><code>int_fast#_t</code></strong>ï¼›</li><li>å¦‚æœæ‚¨éœ€è¦ä¸€ä¸ªä¿è¯ä¸ºç‰¹å®šå¤§å°çš„å˜é‡ï¼Œå¹¶ä¸”å¸Œæœ›<strong>ä¼˜å…ˆè€ƒè™‘å†…å­˜ä¿æŠ¤è€Œä¸æ˜¯æ€§èƒ½</strong>ï¼Œä½¿ç”¨ <strong><code>int_least#_t</code></strong></li></ul><p><strong>å°½é‡ä¸è¦ä½¿ç”¨è¿™äº›</strong>ï¼š</p><ul><li>æ— ç¬¦å·æ•´å‹ï¼ŒUnsigned typesï¼›</li><li>8 bits çš„å›ºå®šå®½åº¦çš„æ•´å‹ç±»å‹ï¼›</li><li>ä»»ä½•ç‰¹å®šäºç¼–è¯‘å™¨çš„å›ºå®šå®½åº¦æ•´æ•°ï¼ˆä¾‹å¦‚ï¼Œvisual studio å®šä¹‰äº† __int8 ï¼Œ__int16 ç­‰ç­‰ï¼‰</li></ul><hr><p><strong><code>std::size_t</code></strong>æ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºå¯¹è±¡çš„å¤§å°æˆ–é•¿åº¦ã€‚</p></blockquote><p>sizeofè¿”å›ä¸€ä¸ª<code>std::size_t</code>ç±»å‹çš„å€¼ã€‚</p><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">sizeof</span>(<span class="keyword">int</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***********************/</span></span><br><span class="line">ç»“æœæ˜¯ï¼š <span class="number">4</span>  ã€è¿™ä¸ª<span class="number">4</span>ï¼Œå°±æ˜¯ <span class="built_in">std</span>::<span class="keyword">size_t</span>ç±»å‹çš„ã€‘</span><br></pre></td></tr></table></figure><ul><li><p><code>size_t</code>æœ¬èº«å¤§å°ä¹Ÿæ˜¯ä¸å›ºå®šçš„ï¼Œå®ƒç¡®ä¿æ˜¯æ— ç¬¦å·çš„ï¼Œå¹¶ä¸”è‡³å°‘æ˜¯16ä½ã€‚ä½†æ˜¯åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œå®ƒçš„å¤§å°å°†ç­‰äºåº”ç”¨ç¨‹åºçš„åœ°å€å®½åº¦ã€‚</p><blockquote><p>æ¯”å¦‚ï¼Œåœ¨32ä½åº”ç”¨ç¨‹åºä¸­ï¼Œ<code>size_t</code>æ˜¯ä¸€ä¸ª 32 bits çš„æ— ç¬¦å·æ•´å‹ï¼›åœ¨64ä½åº”ç”¨ç¨‹åºä¸­ï¼Œ<code>size_t</code>æ˜¯ä¸€ä¸ª 64 bits çš„æ— ç¬¦å·æ•´å‹ã€‚</p></blockquote></li></ul><h2 id="4-7-ç§‘å­¦è®¡æ•°æ³•"><a href="#4-7-ç§‘å­¦è®¡æ•°æ³•" class="headerlink" title="4.7 ç§‘å­¦è®¡æ•°æ³•"></a>4.7 ç§‘å­¦è®¡æ•°æ³•</h2><p><strong>scientific notation</strong></p><p>ç§‘å­¦è®¡æ•°æ³•çš„å½¢å¼ï¼š<strong>aÃ—10^exponent^</strong>ã€‚å…¶ä¸­, aï¼šåªèƒ½æ˜¯0~9çš„æ•°ï¼ˆä¸åŒ…æ‹¬0ï¼Œä½†åŒ…æ‹¬9ï¼‰</p><blockquote><p>å¦‚ï¼š1.2Ã—10^4^ ã€ 5.9736 x 10^24^</p></blockquote><p>åœ¨C++ä¸­ï¼Œæˆ‘ä»¬ç”¨å­—æ¯<code>e</code>ï¼ˆå¤§å†™<code>E</code>ä¹Ÿå¯ä»¥ï¼‰æ¥ä»£è¡¨ 10ï¼›</p><blockquote><p>1.2Ã—10^4^ -&gt; 1.2e4 ï¼› 5.9736 x 10^24^ -&gt; 5.9736e24</p><p>å°äº1çš„åˆ†æ•°0.05è¡¨ç¤ºä¸ºï¼š 5e-2</p></blockquote><hr><ul><li><p><strong>æœ‰æ•ˆæ•°å­—ï¼šsignificant digits</strong></p><blockquote><p><em>æœ‰æ•ˆæ•°å­—çš„æ•°é‡å®šä¹‰äº†æ•°å­—çš„ç²¾åº¦ã€‚</em>(æœ‰æ•ˆæ•°å­—è¶Šå¤šï¼Œæ•°å­—è¶Šç²¾ç¡®ã€‚)</p></blockquote><p>eå‰é¢çš„æ•°å°±æ˜¯æœ‰æ•ˆæ•°å­—ï¼Œå¦‚<code>5.9736e24</code>çš„æœ‰æ•ˆæ•°å­—æ˜¯ï¼š5.9736ï¼Œå³ï¼Œ5ä¸ªæœ‰æ•ˆæ•°å­—</p></li></ul><h2 id="4-8-æµ®ç‚¹æ•°float"><a href="#4-8-æµ®ç‚¹æ•°float" class="headerlink" title="4.8 æµ®ç‚¹æ•°float"></a>4.8 æµ®ç‚¹æ•°<code>float</code></h2><center>æ°¸è¿œä¸è¦å‡è®¾æµ®ç‚¹æ•°æ˜¯ç²¾ç¡®çš„ã€‚</center><ul><li><p>ä¸‰ç§æµ®ç‚¹å‹æ•°æ®ï¼š<strong><code>float</code>ã€<code>double</code>ã€<code>long double</code></strong></p><blockquote><p>ä¸æ•´æ•°ä¸€æ ·ï¼Œc++æ²¡æœ‰å®šä¹‰è¿™äº›ç±»å‹çš„å®é™…å¤§å°(ä½†å®ƒç¡®å®ä¿è¯äº†æœ€å°å¤§å°)ã€‚åœ¨ç°ä»£ä½“ç³»ç»“æ„ä¸­ï¼Œæµ®ç‚¹è¡¨ç¤ºå‡ ä¹æ€»æ˜¯éµå¾ªIEEE 754äºŒè¿›åˆ¶æ ¼å¼ã€‚åœ¨è¿™ç§æ ¼å¼ä¸­ï¼š</p><p><code>float</code>ï¼š4å­—èŠ‚ï¼›</p><p><code>double</code>ï¼š8å­—èŠ‚ï¼Œ</p><p><code>long double</code>ï¼šå¯ä»¥ç­‰äºä¸€ä¸ª<code>double</code>(<strong>8å­—èŠ‚</strong>)ã€<strong>80 bits(é€šå¸¸å¡«å……ä¸º12å­—èŠ‚)</strong>æˆ–è€… <strong>16å­—èŠ‚</strong>ã€‚</p></blockquote><p>æµ®ç‚¹å‹æ•°æ®é€šå¸¸æ˜¯ <strong>æœ‰ç¬¦å·çš„(sign)</strong>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331194441574.png" alt="image-20200331194441574"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x&#123;<span class="number">5</span>&#125;; <span class="comment">//æ•´å‹</span></span><br><span class="line"><span class="keyword">double</span> y&#123;<span class="number">5.0</span>&#125;; <span class="comment">//5.0æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹(æ²¡æœ‰åç¼€ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯doubleç±»å‹)</span></span><br><span class="line"><span class="keyword">float</span> z&#123;<span class="number">5.0f</span>&#125;; <span class="comment">//5.0æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹ï¼Œfåç¼€è¡¨ç¤ºæµ®ç‚¹ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**********/</span></span><br><span class="line">ã€æ³¨ã€‘æµ®ç‚¹å‹æ•°æ®é»˜è®¤æ˜¯ï¼š<span class="keyword">double</span>ç±»å‹çš„ï¼ŒåŠ ä¸Šåç¼€â€œfâ€è¡¨ç¤ºæ˜¯ <span class="keyword">float</span>ç±»å‹</span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>æµ®ç‚¹å‹æ•°æ®çš„è¾“å‡º</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">5.0</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">6.7f</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">9876543.21</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*************/</span></span><br><span class="line">è¾“å‡ºç»“æœï¼š</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6.7</span></span><br><span class="line"><span class="number">9.87654e+06</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>ç¬¬ä¸€ä¸ªï¼Œå³ä½¿æˆ‘ä»¬è¾“å…¥çš„æ˜¯5.0ï¼Œä½†å®ƒè¾“å‡ºçš„ä¾ç„¶æ˜¯ 5ã€‚ã€é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœå°æ•°éƒ¨åˆ†ä¸º0,std::coutå°†ä¸ä¼šæ‰“å°æ•°å­—çš„å°æ•°éƒ¨åˆ†ã€‚ã€‘</li><li>ç¬¬äºŒä¸ªè¾“å‡ºæ­£å¸¸ï¼›</li><li>ç¬¬ä¸‰ä¸ªè¾“å‡ºæ˜¯ç§‘å­¦è®°æ•°çš„å½¢å¼ã€‚</li></ul></blockquote></li></ul><hr><ul><li><p><strong>æµ®ç‚¹å‹çš„èŒƒå›´</strong></p><p>æ ¹æ® IEEE 754çš„è¡¨ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200331195509853.png" alt="image-20200331195509853"></p></li></ul><hr><ul><li><p><strong>æµ®ç‚¹å‹çš„ç²¾åº¦</strong></p><ul><li>æµ®ç‚¹å‹çš„é»˜è®¤ç²¾åº¦æ˜¯6ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">9.87654321f</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">987.654321f</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">987654.321f</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">9876543.21f</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">0.0000987654321f</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******è¾“å‡º**********/</span></span><br><span class="line"><span class="number">9.87654</span></span><br><span class="line"><span class="number">987.654</span></span><br><span class="line"><span class="number">987654</span></span><br><span class="line"><span class="number">9.87654e+006</span></span><br><span class="line"><span class="number">9.87654e-005</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š<strong>æ ¹æ®ç¼–è¯‘å™¨çš„ä¸åŒï¼ŒæŒ‡æ•°çš„ä½æ•°ä¼šè¢«å¡«å……</strong>ã€‚æ¯”å¦‚ï¼šâ€œ9.87654e+006â€çš„æŒ‡æ•°ä½ç½®å°±è¢«å¡«å……ä¸º3ä½ã€‚</p><p><strong>æ˜¾ç¤ºçš„æœ€å°æŒ‡æ•°ä½æ•°æ˜¯ç‰¹å®šäºç¼–è¯‘å™¨çš„ï¼Œåœ¨Visual Studio ä¸­å¡«å……ä¸º <code>3 ä½</code></strong></p></blockquote></li></ul><ul><li><p>æµ®ç‚¹å˜é‡çš„ç²¾åº¦ä½æ•°å–å†³äºå¤§å°(æµ®ç‚¹æ•°çš„ç²¾åº¦å°äºåŒç²¾åº¦)å’Œå­˜å‚¨çš„ç‰¹å®šå€¼(æŸäº›å€¼çš„ç²¾åº¦é«˜äºå…¶ä»–å€¼)ã€‚</p><p>ç”¨ <code>iomanip</code>å¤´æ–‡ä»¶ä¸­çš„å‡½æ•° <em>std::setprecison</em>æ¥è¦†ç›–std::coutæ˜¾ç¤ºçš„é»˜è®¤ç²¾åº¦ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt; // for std::setprecision()</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setprecision(<span class="number">16</span>); <span class="comment">// show 16 digits of precision</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">3.33333333333333333333333333333333333333f</span> &lt;&lt;<span class="string">'\n'</span>; <span class="comment">// f suffix means float</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">3.33333333333333333333333333333333333333</span> &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// no suffix means double</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******è¾“å‡º*********/</span></span><br><span class="line"><span class="number">3.333333253860474</span></span><br><span class="line"><span class="number">3.333333333333334</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹å‡ºï¼Œ<strong><code>double</code>ç±»å‹çš„æ¯”<code>float</code>ç±»å‹çš„ç²¾åº¦æ›´é«˜</strong>ã€‚</p></blockquote></li></ul><ul><li><p>ç²¾åº¦ä¸ä»…å½±å“å°æ•°éƒ¨åˆ†ï¼Œä»–è¿˜å½±å“æ¯”è¾ƒå¤§çš„æ•°çš„ç²¾åº¦ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt; // for std::setprecision()</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">float</span> f &#123; <span class="number">123456789.0f</span> &#125;; <span class="comment">// f has 10 significant digits</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setprecision(<span class="number">9</span>); <span class="comment">// to show 9 digits in f</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; f &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********ç»“æœ**********/</span></span><br><span class="line"><span class="number">123456792</span></span><br></pre></td></tr></table></figure><blockquote><p>123456789.0 çš„æœ‰æ•ˆæ•°å­—æ˜¯10ä¸ªï¼Œä½†æ˜¯æµ®ç‚¹å‹é€šå¸¸æœ‰7ä½ç²¾åº¦(123456792çš„ç»“æœåªèƒ½ç²¾ç¡®åˆ°7ä½æœ‰æ•ˆæ•°å­—)ã€‚</p><p>æˆ‘ä»¬å¤±å»äº†ä¸€äº›ç²¾åº¦!å½“ç”±äºæ— æ³•ç²¾ç¡®åœ°å­˜å‚¨æ•°å­—è€Œä¸¢å¤±ç²¾åº¦æ—¶ï¼Œè¿™ç§°ä¸º<strong>rounding error(èˆå…¥è¯¯å·®)</strong>ã€‚</p></blockquote><p>å°ç»“ï¼š<strong>é€šå¸¸æƒ…å†µæ¨èä½¿ç”¨<code>double</code></strong></p></li></ul><hr><ul><li><p><strong>æ— é™å¾ªç¯ &amp; éæ•°å­— ï¼šNaN and Inf</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> zero &#123;<span class="number">0.0</span>&#125;;</span><br><span class="line">    <span class="keyword">double</span> posinf &#123; <span class="number">5.0</span> / zero &#125;; <span class="comment">// positive infinity</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; posinf &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">double</span> neginf &#123; <span class="number">-5.0</span> / zero &#125;; <span class="comment">// negative infinity</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; neginf &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">double</span> nan &#123; zero / zero &#125;; <span class="comment">// not a number (mathematically invalid)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; nan &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******ç»“æœ************/</span></span><br><span class="line"><span class="number">1.</span>#INF</span><br><span class="line"><span class="number">-1.</span>#INF</span><br><span class="line"><span class="number">1.</span>#IND</span><br></pre></td></tr></table></figure><blockquote><p>INFä»£è¡¨æ— ç©·ï¼ŒINDä»£è¡¨ä¸ç¡®å®šã€‚</p><p>è¯·æ³¨æ„ï¼Œè¾“å‡ºInfå’ŒNaNçš„ç»“æœæ˜¯ç‰¹å®šäºå¹³å°çš„ï¼Œå› æ­¤æ‚¨çš„ç»“æœå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚</p></blockquote></li></ul><hr><p>æ€»ç»“ï¼š</p><ol><li><strong>æµ®ç‚¹æ•°ç”¨äºå­˜å‚¨éå¸¸å¤§æˆ–éå¸¸å°çš„æ•°å­—ï¼ŒåŒ…æ‹¬é‚£äº›å…·æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚</strong></li><li>æµ®ç‚¹æ•°é€šå¸¸æœ‰è¾ƒå°çš„<strong>èˆå…¥è¯¯å·®</strong>ï¼Œå³ä½¿è¯¥æ•°çš„æœ‰æ•ˆä½æ•°æ¯”ç²¾åº¦å°ã€‚å¾ˆå¤šæ—¶å€™ï¼Œè¿™äº›æ•°æ®çš„èˆå…¥è¯¯å·®æ²¡æœ‰è¢«æ³¨æ„åˆ°ï¼Œå› ä¸ºå®ƒä»¬éå¸¸å°ï¼Œè€Œä¸”ç”±äºè¾“å‡ºè€Œè¢«æˆªæ–­ã€‚ä½†æ˜¯ï¼Œ<strong>å¯¹æµ®ç‚¹æ•°çš„æ¯”è¾ƒå¯èƒ½ä¸ä¼šå¾—åˆ°é¢„æœŸçš„ç»“æœã€‚å¯¹è¿™äº›å€¼æ‰§è¡Œæ•°å­¦è¿ç®—å°†å¯¼è‡´èˆå…¥è¯¯å·®å¢å¤§ã€‚</strong></li></ol><hr><h2 id="4-9-å¸ƒå°”å‹bool"><a href="#4-9-å¸ƒå°”å‹bool" class="headerlink" title="4.9 å¸ƒå°”å‹bool"></a>4.9 å¸ƒå°”å‹<code>bool</code></h2><p>å®é™…ä¸Šï¼Œ<em>Boolean values</em>(å¸ƒå°”å€¼)å­˜å‚¨çš„å¸ƒå°”å˜é‡ï¼Œä¸æ˜¯ä»¥<code>true</code>ã€<code>false</code>çš„å½¢å¼ã€‚<strong>è€Œæ˜¯ä»¥æ•´å‹ç±»å‹å­˜å‚¨çš„ï¼Œå³<em>true</em>å¯¹åº”æ•´å‹<em>1</em>ï¼›<em>false</em>å¯¹åº”æ•´å‹<em>0</em>ã€‚</strong></p><blockquote><p>å³ï¼Œå¸ƒå°”å€¼è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ•´å‹ç±»å‹ã€‚</p></blockquote><hr><ul><li><p><strong>è¾“å‡ºå¸ƒå°”å€¼</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="literal">true</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">     <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="literal">false</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">bool</span> b&#123;<span class="literal">false</span>&#125;;</span><br><span class="line">     <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;b&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">     <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;!b&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/***************ç»“æœ***********/</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><hr><p>å¦‚æœä½ æƒ³è¾“å‡ºâ€œ<em>true</em>ã€<em>false</em>â€ã€‚ä½ å¯ä»¥ç”¨<code>std::boolalpah</code>ï¼š</p><blockquote><p><code>std::noboolalpha</code>æ˜¯å…³é—­ä½œç”¨</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="literal">true</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="literal">false</span> &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::boolalpha; <span class="comment">//print bools as ture or false</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="literal">true</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="literal">false</span>&lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ**********/</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>æ•´å‹ä¸å¸ƒå°”å‹çš„è½¬æ¢ï¼šInteger to Boolean conversion</strong></p><ul><li><p>*<u>ä¸èƒ½</u>ç”¨æ•´å‹æ•°å­—æ¥åˆå§‹åŒ–boolå˜é‡*</p><p><code>bool b{4};</code> //error: ä¸å…è®¸è¿™æ ·è½¬æ¢</p></li><li><p>ä½†æ˜¯ï¼Œæ•´å‹å˜é‡å¯ä»¥è½¬æ¢ä¸ºå¸ƒå°”å‹ï¼š</p><blockquote><p>æ•´å‹ <em>0</em> å¯ä»¥è¢«è½¬æ¢ä¸º<em>false<em>ï¼›å…¶ä»–çš„é0 çš„æ•´å‹å¯ä»¥è¢«è½¬æ¢ä¸º</em>true</em></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::boolalpha; <span class="comment">// print bools as true or false</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">bool</span> b1 = <span class="number">4</span> ; <span class="comment">// copy initialization allows implicit conversion from int to bool</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; b1 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">bool</span> b2 = <span class="number">0</span> ; <span class="comment">// copy initialization allows implicit conversion from int to bool</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; b2 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ**********/</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><hr><ul><li><p><strong>è¾“å…¥å¸ƒå°”å‹å€¼</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">bool</span> b &#123;&#125;; <span class="comment">// default initialize to false (0)</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a boolean value: "</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"You entered: "</span> &lt;&lt; b;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter a Boolean value: true</span><br><span class="line">You entered: 0</span><br></pre></td></tr></table></figure><p>å‘ç°ï¼Œ<strong>å¸ƒå°”å‹å€¼çš„è¾“å…¥ï¼Œåªæ¥å—ï¼š<em>0</em> å’Œ<em>1</em></strong> (ä¸æ˜¯ true æˆ–è€… false)ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¾“å…¥çš„å€¼æ˜¯<em>0</em> å’Œ<em>1</em>ä¹‹å¤–çš„å…¶ä»–å€¼ï¼Œéƒ½æ˜¯å¤±è´¥çš„ï¼Œå³falseï¼Œæ‰€ä»¥æ˜¯0ã€‚</p><blockquote><p>å› ä¸ºåœ¨C++11æˆ–è€…æ›´æ–°çš„æ ‡å‡†ä¸­ï¼Œ<strong>ä¸€ä¸ªå¤±è´¥çš„è¾“å…¥ä¹Ÿä¼šä½¿å˜é‡å˜ä¸º0ï¼Œæ‰€ä»¥bä¹Ÿä¼šè¢«èµ‹å€¼ä¸º0ã€‚</strong></p></blockquote></li></ul><hr><h2 id="4-11-charç±»å‹"><a href="#4-11-charç±»å‹" class="headerlink" title="4.11 charç±»å‹"></a>4.11 <code>char</code>ç±»å‹</h2><p>charæ•°æ®ç±»å‹æ˜¯<strong>æ•´æ•°ç±»å‹</strong>ï¼Œè¿™æ„å‘³ç€<u>åº•å±‚å€¼å­˜å‚¨ä¸ºæ•´æ•°</u>ï¼Œå¹¶ä¸”ä¿è¯<u>å¤§å°ä¸º1å­—èŠ‚</u>ã€‚</p><p>ä½†æ˜¯ï¼Œä¸å°†å¸ƒå°”å€¼è§£é‡Šä¸ºtrueæˆ–falseç±»ä¼¼ï¼Œ<u>å°†charå€¼è§£é‡Šä¸ºASCIIå­—ç¬¦</u>ã€‚</p><blockquote><p><strong>ASCII</strong>æ˜¯ç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç çš„ç¼©å†™ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼æ¥å°†è‹±æ–‡å­—ç¬¦(åŠ ä¸Šä¸€äº›å…¶ä»–ç¬¦å·)è¡¨ç¤ºä¸º0åˆ°127ä¹‹é—´çš„æ•°å­—(ç§°ä¸ºASCIIç æˆ–ä»£ç ç‚¹)ã€‚</p><p><strong>å­—ç¬¦æ–‡å­—æ€»æ˜¯æ”¾åœ¨å•å¼•å·ä¹‹é—´</strong>ã€‚ä¾‹å¦‚ï¼ŒASCIIç 97è¢«è§£é‡Šä¸ºå­—ç¬¦â€œaâ€ã€‚</p></blockquote><p>ä¸‹é¢æ˜¯å®Œæ•´çš„ASCIIå­—ç¬¦è¡¨:</p><table><thead><tr><th align="left">Code</th><th align="left">Symbol</th><th align="left">Code</th><th align="left">Symbol</th><th align="left">Code</th><th align="left">Symbol</th><th align="left">Code</th><th align="left">Symbol</th></tr></thead><tbody><tr><td align="left">0</td><td align="left">NUL (null)</td><td align="left">32</td><td align="left">(space)</td><td align="left">64</td><td align="left">@</td><td align="left">96</td><td align="left">`</td></tr><tr><td align="left">1</td><td align="left">SOH (start of header)</td><td align="left">33</td><td align="left">!</td><td align="left">65</td><td align="left">A</td><td align="left">97</td><td align="left">a</td></tr><tr><td align="left">2</td><td align="left">STX (start of text)</td><td align="left">34</td><td align="left">â€</td><td align="left">66</td><td align="left">B</td><td align="left">98</td><td align="left">b</td></tr><tr><td align="left">3</td><td align="left">ETX (end of text)</td><td align="left">35</td><td align="left">#</td><td align="left">67</td><td align="left">C</td><td align="left">99</td><td align="left">c</td></tr><tr><td align="left">4</td><td align="left">EOT (end of transmission)</td><td align="left">36</td><td align="left">$</td><td align="left">68</td><td align="left">D</td><td align="left">100</td><td align="left">d</td></tr><tr><td align="left">5</td><td align="left">ENQ (enquiry)</td><td align="left">37</td><td align="left">%</td><td align="left">69</td><td align="left">E</td><td align="left">101</td><td align="left">e</td></tr><tr><td align="left">6</td><td align="left">ACK (acknowledge)</td><td align="left">38</td><td align="left">&amp;</td><td align="left">70</td><td align="left">F</td><td align="left">102</td><td align="left">f</td></tr><tr><td align="left">7</td><td align="left">BEL (bell)</td><td align="left">39</td><td align="left">â€™</td><td align="left">71</td><td align="left">G</td><td align="left">103</td><td align="left">g</td></tr><tr><td align="left">8</td><td align="left">BS (backspace)</td><td align="left">40</td><td align="left">(</td><td align="left">72</td><td align="left">H</td><td align="left">104</td><td align="left">h</td></tr><tr><td align="left">9</td><td align="left">HT (horizontal tab)</td><td align="left">41</td><td align="left">)</td><td align="left">73</td><td align="left">I</td><td align="left">105</td><td align="left">i</td></tr><tr><td align="left">10</td><td align="left">LF (line feed/new line)</td><td align="left">42</td><td align="left">*</td><td align="left">74</td><td align="left">J</td><td align="left">106</td><td align="left">j</td></tr><tr><td align="left">11</td><td align="left">VT (vertical tab)</td><td align="left">43</td><td align="left">+</td><td align="left">75</td><td align="left">K</td><td align="left">107</td><td align="left">k</td></tr><tr><td align="left">12</td><td align="left">FF (form feed / new page)</td><td align="left">44</td><td align="left">,</td><td align="left">76</td><td align="left">L</td><td align="left">108</td><td align="left">l</td></tr><tr><td align="left">13</td><td align="left">CR (carriage return)</td><td align="left">45</td><td align="left">-</td><td align="left">77</td><td align="left">M</td><td align="left">109</td><td align="left">m</td></tr><tr><td align="left">14</td><td align="left">SO (shift out)</td><td align="left">46</td><td align="left">.</td><td align="left">78</td><td align="left">N</td><td align="left">110</td><td align="left">n</td></tr><tr><td align="left">15</td><td align="left">SI (shift in)</td><td align="left">47</td><td align="left">/</td><td align="left">79</td><td align="left">O</td><td align="left">111</td><td align="left">o</td></tr><tr><td align="left">16</td><td align="left">DLE (data link escape)</td><td align="left">48</td><td align="left">0</td><td align="left">80</td><td align="left">P</td><td align="left">112</td><td align="left">p</td></tr><tr><td align="left">17</td><td align="left">DC1 (data control 1)</td><td align="left">49</td><td align="left">1</td><td align="left">81</td><td align="left">Q</td><td align="left">113</td><td align="left">q</td></tr><tr><td align="left">18</td><td align="left">DC2 (data control 2)</td><td align="left">50</td><td align="left">2</td><td align="left">82</td><td align="left">R</td><td align="left">114</td><td align="left">r</td></tr><tr><td align="left">19</td><td align="left">DC3 (data control 3)</td><td align="left">51</td><td align="left">3</td><td align="left">83</td><td align="left">S</td><td align="left">115</td><td align="left">s</td></tr><tr><td align="left">20</td><td align="left">DC4 (data control 4)</td><td align="left">52</td><td align="left">4</td><td align="left">84</td><td align="left">T</td><td align="left">116</td><td align="left">t</td></tr><tr><td align="left">21</td><td align="left">NAK (negative acknowledge)</td><td align="left">53</td><td align="left">5</td><td align="left">85</td><td align="left">U</td><td align="left">117</td><td align="left">u</td></tr><tr><td align="left">22</td><td align="left">SYN (synchronous idle)</td><td align="left">54</td><td align="left">6</td><td align="left">86</td><td align="left">V</td><td align="left">118</td><td align="left">v</td></tr><tr><td align="left">23</td><td align="left">ETB (end of transmission block)</td><td align="left">55</td><td align="left">7</td><td align="left">87</td><td align="left">W</td><td align="left">119</td><td align="left">w</td></tr><tr><td align="left">24</td><td align="left">CAN (cancel)</td><td align="left">56</td><td align="left">8</td><td align="left">88</td><td align="left">X</td><td align="left">120</td><td align="left">x</td></tr><tr><td align="left">25</td><td align="left">EM (end of medium)</td><td align="left">57</td><td align="left">9</td><td align="left">89</td><td align="left">Y</td><td align="left">121</td><td align="left">y</td></tr><tr><td align="left">26</td><td align="left">SUB (substitute)</td><td align="left">58</td><td align="left">:</td><td align="left">90</td><td align="left">Z</td><td align="left">122</td><td align="left">z</td></tr><tr><td align="left">27</td><td align="left">ESC (escape)</td><td align="left">59</td><td align="left">;</td><td align="left">91</td><td align="left">[</td><td align="left">123</td><td align="left">{</td></tr><tr><td align="left">28</td><td align="left">FS (file separator)</td><td align="left">60</td><td align="left">&lt;</td><td align="left">92</td><td align="left">\</td><td align="left">124</td><td align="left">|</td></tr><tr><td align="left">29</td><td align="left">GS (group separator)</td><td align="left">61</td><td align="left">=</td><td align="left">93</td><td align="left">]</td><td align="left">125</td><td align="left">}</td></tr><tr><td align="left">30</td><td align="left">RS (record separator)</td><td align="left">62</td><td align="left">&gt;</td><td align="left">94</td><td align="left">^</td><td align="left">126</td><td align="left">~</td></tr><tr><td align="left">31</td><td align="left">US (unit separator)</td><td align="left">63</td><td align="left">?</td><td align="left">95</td><td align="left">_</td><td align="left">127</td><td align="left">DEL (delete)</td></tr></tbody></table><hr><ul><li><p><strong>åˆå§‹åŒ–å­—ç¬¦</strong></p><ol><li><p>ä½¿ç”¨å­—ç¬¦ åˆå§‹åŒ–ï¼š</p><p><code>char cha2{&#39;a&#39;};</code> <em>// initialize with code point for â€˜aâ€™ (stored as integer 97) (preferred)</em></p></li><li><p>ä½¿ç”¨æ•´å‹æ•°å€¼ åˆå§‹åŒ–ï¼š</p><p><code>char cha1{97};</code> <em>// initialize with integer 97 (â€˜aâ€™) (not preferred)</em></p></li></ol></li></ul><hr><ul><li><p><strong>è¾“å‡ºå­—ç¬¦å‹</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch1&#123; <span class="string">'a'</span> &#125;; <span class="comment">// (preferred)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ch1; <span class="comment">// cout prints a character</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">char</span> ch2&#123; <span class="number">98</span> &#125;; <span class="comment">// code point for 'b' (not preferred)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ch2; <span class="comment">// cout prints a character</span></span><br><span class="line"> <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;<span class="string">'c'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******ç»“æœ********/</span></span><br><span class="line">abc</span><br></pre></td></tr></table></figure><p>ã€æ³¨æ„ã€‘å›ºå®šå®½åº¦æˆ‘çš„æ•´å‹ï¼š<code>int8_t</code>ç±»å‹ï¼Œæ˜¯è¢«å½“åšæœ‰ç¬¦å·çš„charç±»å‹å¯¹å¾…çš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdint&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int8_t</span> a&#123; <span class="number">97</span> &#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; a;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200401174509017.png" alt="image-20200401174509017"></p></li></ul><hr><ul><li><p><strong>é€šè¿‡ç±»å‹è½¬æ¢å°†å­—ç¬¦æ‰“å°ä¸ºæ•´æ•°</strong></p><ul><li>ä¸€ç§(ç³Ÿç³•çš„)æ–¹æ³•æ˜¯å°†charèµ‹å€¼ç»™ä¸€ä¸ªæ•´æ•°ï¼Œç„¶åè¾“å‡ºè¿™ä¸ªæ•´æ•°:</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch&#123;<span class="number">97</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> a&#123;ch&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt;i;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********ç»“æœ*********/</span></span><br><span class="line"><span class="number">97</span></span><br></pre></td></tr></table></figure><hr><ul><li><p>å¦ä¸€ç§è¾ƒå¥½çš„æ–¹æ³•å°±æ˜¯ï¼š<strong><em>type case</em>ï¼šå¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼Œå…¶æ ¼å¼ä¸ºï¼š</p><p><code>static_cast&lt;new_type&gt;(expression)</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch1&#123;<span class="number">97</span>&#125;;</span><br><span class="line">    <span class="keyword">char</span> ch2&#123;<span class="string">'a'</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt; (ch1) &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt; (ch2) ; <span class="comment">//å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*********ç»“æœ********/</span></span><br><span class="line"><span class="number">97</span></span><br><span class="line"><span class="number">97</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå˜é‡chä»ç„¶æ˜¯ä¸€ä¸ªcharï¼Œå¹¶ä¸”ä»ç„¶ä¿æŒç›¸åŒçš„å€¼ã€‚çŸ¥è¯†åœ¨æœ¬æ¬¡è¾“å‡ºæ—¶ï¼Œè¾“å‡ºçš„æ˜¯æ•´å‹ç±»å‹çš„å€¼ã€‚</p></li></ul><hr><p><strong><u>çŸ¥è¯†ç‚¹</u>ï¼š</strong></p><blockquote><p>å½“æ‚¨çœ‹åˆ°c++è¯­æ³•(ä¸åŒ…æ‹¬é¢„å¤„ç†å™¨)ä½¿ç”¨<em>å°–æ‹¬å·&lt;&gt;</em>æ—¶ï¼Œ<strong>å°–æ‹¬å·ä¹‹é—´çš„å†…å®¹å¾ˆå¯èƒ½æ˜¯ç±»å‹</strong>ã€‚è¿™å°±æ˜¯c++å¤„ç†éœ€è¦å‚æ•°åŒ–ç±»å‹çš„æ¦‚å¿µçš„å…¸å‹æ–¹å¼ã€‚</p></blockquote></li></ul><hr><ul><li><p>ã€<strong>æ³¨æ„</strong>ã€‘ï¼šstd::cinå°†<strong>å…è®¸æ‚¨è¾“å…¥å¤šä¸ªå­—ç¬¦</strong>ã€‚<strong>ç„¶è€Œï¼Œå˜é‡chåªèƒ½åŒ…å«ä¸€ä¸ªå­—ç¬¦</strong>ã€‚å› æ­¤ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªè¾“å…¥å­—ç¬¦è¢«æå–åˆ°å˜é‡chä¸­ï¼Œ<strong>å…¶ä½™çš„ç”¨æˆ·è¾“å…¥ç•™åœ¨std::cinä½¿ç”¨çš„è¾“å…¥ç¼“å†²åŒºä¸­ï¼Œå¯ä»¥é€šè¿‡åç»­è°ƒç”¨std::cinæ¥æå–ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Input a keyboard character: "</span>; <span class="comment">// assume the user enters "abcd" (without quotes)</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">char</span> ch&#123;&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; ch; <span class="comment">// ch = 'a', "bcd" is left queued.</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ch &lt;&lt; <span class="string">" has ASCII code "</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(ch) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Note: The following cin doesn't ask the user for input, it grabs queued input!</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; ch; <span class="comment">// ch = 'b', "cd" is left queued.</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; ch &lt;&lt; <span class="string">" has ASCII code "</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(ch) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200401202849307.png" alt="image-20200401202849307">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200401202925333.png" alt="image-20200401202925333"></p></li></ul><hr><ul><li><p><strong><code>char</code>çš„å¤§å°ã€èŒƒå›´ä»¥åŠé»˜è®¤çš„sign(ç¬¦å·)</strong></p><ul><li><p><strong>size</strong>ï¼šC++ä¸­charç±»å‹é€šå¸¸ä¸ºï¼š1 byteï¼›</p></li><li><p><strong>sign</strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œcharç±»å‹æ˜¯ signed æˆ–è€… unsignedï¼›</p><blockquote><p>å¦‚æœä½¿ç”¨å­—ç¬¦æ¥ä¿å­˜ASCIIå­—ç¬¦ï¼Œåˆ™ä¸éœ€è¦æŒ‡å®šç¬¦å·(å› ä¸ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·å­—ç¬¦éƒ½å¯ä»¥ä¿å­˜0åˆ°127ä¹‹é—´çš„å€¼)ã€‚</p><hr><p>ä¸€ä¸ªæœ‰ç¬¦å·çš„å­—ç¬¦å¯ä»¥å®¹çº³-128åˆ°127ä¹‹é—´çš„æ•°å­—ï¼›æ— ç¬¦å·å­—ç¬¦å¯ä»¥å®¹çº³0åˆ°255ä¹‹é—´çš„æ•°å­—ã€‚</p></blockquote></li></ul></li></ul><hr><ul><li><p><strong>è½¬ä¹‰ç¬¦ï¼šescape sequences</strong></p><p>è½¬ä¹‰ç¬¦<strong>ä»¥ â€œ\â€ å¼€å¤´</strong>,<strong>åé¢è·Ÿç€ä¸€ä¸ª å­—æ¯ æˆ– æ•°å­—</strong>ï¼›</p><table><thead><tr><th align="left">Name</th><th align="left">Symbol</th><th align="left">Meaning</th></tr></thead><tbody><tr><td align="left">Alert</td><td align="left">\a</td><td align="left">Makes an alert, such as a beep</td></tr><tr><td align="left">Backspace</td><td align="left">\b</td><td align="left">Moves the cursor back one space</td></tr><tr><td align="left">Formfeed</td><td align="left">\f</td><td align="left">Moves the cursor to next logical page</td></tr><tr><td align="left">Newline</td><td align="left">\n</td><td align="left">Moves cursor to next line</td></tr><tr><td align="left">Carriage return</td><td align="left">\r</td><td align="left">Moves cursor to beginning of line</td></tr><tr><td align="left">Horizontal tab</td><td align="left">\t</td><td align="left">Prints a horizontal tab</td></tr><tr><td align="left">Vertical tab</td><td align="left">\v</td><td align="left">Prints a vertical tab</td></tr><tr><td align="left">Single quote</td><td align="left">\â€™</td><td align="left">Prints a single quote</td></tr><tr><td align="left">Double quote</td><td align="left">\â€</td><td align="left">Prints a double quote</td></tr><tr><td align="left">Backslash</td><td align="left">\</td><td align="left">Prints a backslash.</td></tr><tr><td align="left">Question mark</td><td align="left">?</td><td align="left">Prints a question mark. No longer relevant. You can use question marks unescaped.</td></tr><tr><td align="left">Octal number</td><td align="left">(number)</td><td align="left">Translates into char represented by octal (<em>octal</em>ï¼š8è¿›åˆ¶)</td></tr><tr><td align="left">Hex number</td><td align="left">\x(number)</td><td align="left">Translates into char represented by hex number(<em>hex</em>ï¼š16è¿›åˆ¶)</td></tr></tbody></table></li></ul><hr><ul><li><p><strong>å•å¼•å·</strong> VS <strong>åŒå¼•å·</strong> çš„åŒºåˆ«</p><ul><li><p>å•ä¸ªå­—ç¬¦æ€»æ˜¯æ”¾åœ¨ å•å¼•å· ä¸­ã€‚(e.g. â€˜aâ€™, â€˜+â€™, â€˜5â€™)ã€‚<code>char</code>ç±»å‹çš„åªèƒ½æ¥æ”¶ä¸€ä¸ªç¬¦å·(e.g. å­—æ¯ a, + , æ•°å­— 5)</p><p><code>char ch(&#39;56&#39;);</code> <em>// a char can only hold one symbol</em></p></li><li><p>æ”¾åœ¨åŒå¼•å·(ä¾‹å¦‚â€œHello, world!â€)ä¹‹é—´çš„æ–‡æœ¬ç§°ä¸º<strong>å­—ç¬¦ä¸²<em>string</em></strong>ã€‚ä¸€ä¸ª <em>string</em>æ˜¯è¿ç»­å­—ç¬¦çš„é›†åˆ(å› æ­¤ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥åŒ…å«å¤šä¸ªç¬¦å·)ã€‚</p><p><code>std::cout &lt;&lt; &quot;hello world&quot; ;</code> <em>// â€œHello, world!â€ is a string literal</em></p></li></ul><hr><p>çŸ¥è¯†ç‚¹ï¼š<strong><em>string</em>ç±»å‹åœ¨C++ä¸­ï¼Œä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹</strong></p></li></ul><hr><ul><li><em>char</em>çš„å…¶ä»–ç±»å‹ï¼š<strong><code>wchar_t</code>ã€<code>char16_t</code>ã€<code>char32_t</code></strong><ul><li><code>wchar_t</code>ï¼šåº”é¿å…ä½¿ç”¨(é™¤éæ˜¯åœ¨windows APIæ¥å£æ—¶ä½¿ç”¨)ã€‚å®ƒçš„å¤§å°æ˜¯åœ¨å®ç°æ—¶æ‰ç¡®å®šçš„ï¼Œå®ƒå¹¶ä¸å¯é ã€‚</li><li><code>char16_t</code>ã€<code>char32_t</code>åœ¨C++11ä¸­æ·»åŠ ï¼Œä»¥æä¾›å¯¹16ä½å’Œ32ä½Unicodeå­—ç¬¦çš„æ˜¾å¼æ”¯æŒã€‚åœ¨c++ 20ä¸­æ·»åŠ äº†<code>char8_t</code>ã€‚</li></ul></li></ul><hr><h2 id="4-12-å­—é¢å¸¸é‡"><a href="#4-12-å­—é¢å¸¸é‡" class="headerlink" title="4.12 å­—é¢å¸¸é‡"></a>4.12 å­—é¢å¸¸é‡</h2><ul><li><p><strong><em>constant</em></strong>ï¼šæ˜¯å›ºå®šçš„å€¼ï¼Œä¸å¯è¢«æ”¹å˜ã€‚</p><blockquote><p>C++ä¸­æœ‰ä¸¤ç§<em>constant</em>ï¼š<strong>å­—é¢å¸¸é‡</strong>ã€<strong>ç¬¦å·å¸¸é‡</strong>ã€‚</p></blockquote></li></ul><ul><li><p><strong>literal constantï¼šå­—é¢å¸¸é‡</strong>ï¼Œç®€ç§°ï¼š<strong>literal</strong>ã€‚æ˜¯ç›´æ¥å°†å€¼æ’å…¥ä»£ç ä¸­çš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> <span class="number">5</span>; <span class="comment">//5æ˜¯ä¸€ä¸ªæ•´å‹literal</span></span><br><span class="line"><span class="keyword">bool</span> mynameisqin&#123;<span class="literal">true</span>&#125;; <span class="comment">//true æ˜¯ä¸€ä¸ªå¸ƒå°”å‹literal</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="number">3.4</span>; <span class="comment">//3.4 æ˜¯ä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹å‹çš„literal</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™äº›éƒ½æ˜¯å¸¸æ•°ï¼Œå› ä¸ºä»–ä»¬ä¸èƒ½åŠ¨æ€çš„è¢«æ”¹å˜ã€‚</p><p>å°±åƒå¯¹è±¡åˆ†ç±»å‹ä¸€æ ·ï¼Œå¸¸é‡ä¹Ÿæ˜¯æœ‰ç±»å‹çš„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200402103515525.png" alt="å¸¸é‡çš„ç±»å‹"></p></li></ul><hr><ul><li><p><strong>literal çš„åç¼€</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200402103708146.png" alt="literal çš„åç¼€"></p><p>exampleï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> value1 &#123;<span class="number">5u</span>&#125;; <span class="comment">//5çš„ç±»å‹æ˜¯ unsigned int</span></span><br><span class="line"><span class="keyword">long</span> value2 &#123;<span class="number">6L</span>&#125;; <span class="comment">// 6çš„ç±»å‹æ˜¯ long</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é»˜è®¤æƒ…å†µï¼Œæµ®ç‚¹ç±»å‹æ˜¯ double ï¼›å¦‚æœæƒ³å®šä¹‰å…¶ä¸ºfloatç±»å‹ï¼Œå¯ä»¥æ·»åŠ åç¼€ç±»å®ç°*/</span></span><br><span class="line"><span class="keyword">float</span> f1 &#123;<span class="number">5.0f</span>&#125;; <span class="comment">//5.0 çš„ç±»å‹æ˜¯ float</span></span><br><span class="line"><span class="keyword">float</span> f2 &#123;<span class="number">4.1</span>&#125;; <span class="comment">//4.1çš„ç±»å‹æ˜¯   double</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>string literals</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello world"</span>; <span class="comment">//è¿™ç§æ˜¯ Cåˆ†å‰²çš„ string literal</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello"</span> <span class="string">" world"</span>; <span class="comment">//C++å°†ä¼šæŠŠå®ƒä»¬è¿æ¥èµ·æ¥</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>Scientific notation for floating point literalsï¼šæµ®ç‚¹å‹literal çš„ç§‘å­¦è®¡æ•°</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> pi &#123;<span class="number">3.14159</span>&#125;; <span class="comment">//3.14159æ˜¯ä¸€ç§ä¸€èˆ¬å½¢å¼</span></span><br><span class="line"><span class="keyword">double</span> avogadro &#123;<span class="number">6.02e23</span>&#125;; <span class="comment">//6.02e23 æ˜¯åŒç²¾åº¦æµ®ç‚¹å‹literal çš„ç§‘å­¦è®¡æ•°æ³•å½¢å¼</span></span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>Octal and hexadecimal literalsï¼šå…«è¿›åˆ¶ &amp; åå…­è¿›åˆ¶ çš„ literal</strong></p><ol><li><p><strong>å…«è¿›åˆ¶ï¼šoctal</strong></p><p>å…«è¿›åˆ¶æ˜¯ä»¥8ä¸ºåº•ï¼Œå®ƒå¯ç”¨çš„æ•°ä¸ºï¼š 0, 1, 2, 3, 4, 5, 6, 7ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200402105451740.png" alt="å…«è¿›åˆ¶ä¸åè¿›åˆ¶çš„å¯¹åº”"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å…«è¿›åˆ¶çš„å‰ç¼€æ˜¯ï¼Œæ•°å­—â€œ0â€ï¼Œä¸æ˜¯å­—æ¯â€œoâ€*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x&#123;<span class="number">012</span>&#125;; <span class="comment">//"0"è¡¨ç¤ºè¿™ä¸ªæ•°å­—æ˜¯å…«è¿›åˆ¶æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;x;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr></li><li><p><strong>åå…­è¿›åˆ¶ï¼šhexadecimal</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter4/image-20200402110146793.png" alt="åå…­è¿›åˆ¶ä¸åè¿›åˆ¶çš„å¯¹åº”"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åå…­è¿›åˆ¶æ•°çš„å‰ç¼€æ˜¯ï¼šæ•°å­—0å’Œå­—æ¯xï¼Œå³ 0x*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x&#123;<span class="number">0xF</span>&#125;; <span class="comment">//0xè¡¨ç¤ºè¿™ä¸ªæ•°æ˜¯åå…­è¿›åˆ¶æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span>&lt;&lt; x;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><p>åå…­è¿›åˆ¶é€šå¸¸ç”¨æ¥<strong>è¡¨ç¤ºå†…å­˜åœ°å€</strong> æˆ– <strong>å†…å­˜ä¸­çš„åŸå§‹å€¼</strong>ã€‚</p><blockquote><p>å› ä¸ºç›¸å¯¹äºäºŒè¿›åˆ¶ï¼Œ16è¿›åˆ¶è¡¨ç¤ºèµ·æ¥æ›´åŠ ç®€æ´ã€‚å¦‚ï¼šäºŒè¿›åˆ¶çš„æ•°<code>0011 1010 0111 1111 1001 1000 0010 0110</code>ï¼Œå•ç”¨16è¿›åˆ¶è¡¨ç¤ºçš„è¯ï¼Œå°±æ˜¯<code>3A7F 9826</code></p></blockquote><hr><p>åœ¨C++14ä¹‹å‰ï¼Œæ— æ³•ç»™å˜é‡èµ‹ä¸€ä¸ªäºŒè¿›åˆ¶çš„literalï¼Œä½†æ˜¯ï¼Œ16è¿›åˆ¶å¯¹ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæœ‰ç”¨çš„è§£å†³æ–¹æ³•:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> bin&#123;&#125;;</span><br><span class="line">    bin = <span class="number">0x01</span>; <span class="comment">// assign binary 0000 0001 to the variable</span></span><br><span class="line">    bin = <span class="number">0x02</span>; <span class="comment">// assign binary 0000 0010 to the variable</span></span><br><span class="line">    bin = <span class="number">0x04</span>; <span class="comment">// assign binary 0000 0100 to the variable</span></span><br><span class="line">    bin = <span class="number">0x08</span>; <span class="comment">// assign binary 0000 1000 to the variable</span></span><br><span class="line">    bin = <span class="number">0x10</span>; <span class="comment">// assign binary 0001 0000 to the variable</span></span><br><span class="line">    bin = <span class="number">0x20</span>; <span class="comment">// assign binary 0010 0000 to the variable</span></span><br><span class="line">    bin = <span class="number">0x40</span>; <span class="comment">// assign binary 0100 0000 to the variable</span></span><br><span class="line">    bin = <span class="number">0x80</span>; <span class="comment">// assign binary 1000 0000 to the variable</span></span><br><span class="line">    bin = <span class="number">0xFF</span>; <span class="comment">// assign binary 1111 1111 to the variable</span></span><br><span class="line">    bin = <span class="number">0xB3</span>; <span class="comment">// assign binary 1011 0011 to the variable</span></span><br><span class="line">    bin = <span class="number">0xF770</span>; <span class="comment">// assign binary 1111 0111 0111 0000 to the variable</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></li></ul><hr><ul><li><p><strong>C++14ä¸­ äºŒè¿›åˆ¶çš„literal</strong></p><p>åœ¨C++14ä¸­ï¼Œä½¿ç”¨æ•°å­—0å’Œå­—æ¯bï¼Œå³â€œ0bâ€ã€‚ç»™å˜é‡åˆ†é…äºŒè¿›åˆ¶çš„literalï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> bin&#123;&#125;;</span><br><span class="line">    bin = <span class="number">0b1</span>;  <span class="comment">// assign binary 0000 0001 to the variable</span></span><br><span class="line">    bin = <span class="number">0b11</span>; <span class="comment">// assign binary 0000 0011 to the variable</span></span><br><span class="line">    bin = <span class="number">0b1010</span>; <span class="comment">// assign binary 0000 1010 to the variable</span></span><br><span class="line">    bin = <span class="number">0b11110000</span>; <span class="comment">// assign binary 1111 0000 to the variable</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ä½†æ˜¯äºŒè¿›åˆ¶æ•°æ¯”è¾ƒé•¿ï¼Œæ‰€ä»¥ç”¨â€œ ' â€æ¥å½“åšåˆ†éš”ç¬¦ï¼Œä¾¿äºè¯»è®¤*/</span></span><br><span class="line">#Include &lt;iostream&gt;</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="keyword">int</span> bin &#123;<span class="number">0b1011'0010</span>&#125;;</span><br><span class="line">     <span class="keyword">long</span> value &#123;<span class="number">0'132'673'462</span>&#125;;</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>è¾“å‡º åè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶æ•°</strong></p><blockquote><p>decimalã€octalã€hexadecimalã€binary</p></blockquote><p>C++é»˜è®¤è¾“å‡ºæ˜¯åè¿›åˆ¶æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è½¬æ¢è¾“å‡ºæ ¼å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x &#123;<span class="number">12</span>&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//é»˜è®¤åè¿›åˆ¶</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::hex&lt;&lt;x &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//16è¿›åˆ¶</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//xå˜é‡çš„å€¼ç°åœ¨è¢«è½¬æ¢ä¸º16è¿›åˆ¶äº†</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::oct&lt;&lt; x &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//8è¿›åˆ¶</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::dec&lt;&lt; x &lt;&lt;<span class="string">'\n'</span>; <span class="comment">//åè¿›åˆ¶</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*****è¾“å‡º*******/</span></span><br><span class="line"><span class="number">12</span></span><br><span class="line">c</span><br><span class="line">c</span><br><span class="line"><span class="number">14</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><hr><p><strong>è¾“å‡ºäºŒè¿›åˆ¶</strong>ï¼šè¾“å‡ºäºŒè¿›åˆ¶æ•°æ¯”è¾ƒéº»çƒ¦ä¸€ç‚¹ã€‚<strong>éœ€è¦æ·»åŠ å¤´æ–‡ä»¶ï¼š<code>&lt;bitset&gt;</code></strong>ã€‚</p><blockquote><p><code>std::bitset&lt;num&gt;</code>ï¼šè¡¨ç¤ºæˆ‘ä»¬å­˜å‚¨çš„ä½æ•°ä¸ºnumã€‚å®ƒå¯ä»¥è¢«åˆå§‹åŒ–æˆä¸€ä¸ª æ— ç¬¦å·æ•´æ•°å€¼(å¯ä»¥ä½¿10ï¼Œ8ï¼Œ16ï¼Œ2è¿›åˆ¶çš„å½¢å¼)</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt; //for std::bitset</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// std::bitset&lt;8&gt; means we want to store 8 bits</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; bin1&#123; <span class="number">0b1100'0101</span> &#125;; <span class="comment">// binary literal for binary 1100 0101</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; bin2&#123; <span class="number">0xC5</span> &#125;; <span class="comment">// hexadecimal literal for binary 1100 0101</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; bin1 &lt;&lt; <span class="string">' '</span> &lt;&lt; bin2 &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;4&gt;&#123; <span class="number">0b1010</span> &#125; &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// we can also print from std::bitset directly(è¾“å‡ºå®Œä¹‹åï¼Œè¢«æŠ›å¼ƒ)</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*è¾“å‡º*/</span></span><br><span class="line"><span class="number">11000101</span> <span class="number">11000101</span></span><br><span class="line"><span class="number">1010</span></span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="4-13-const-constexpr-symbolic-constants"><a href="#4-13-const-constexpr-symbolic-constants" class="headerlink" title="4.13 const, constexpr, symbolic constants"></a>4.13 const, constexpr, symbolic constants</h2><p><strong>å¸¸é‡ å˜é‡ï¼šå…¶å€¼ä¸èƒ½è¢«ä¿®æ”¹ï¼Œæƒ…å½¢ä¿®æ”¹ä¼šå‡ºé”™</strong></p><ul><li><p>ä½¿ç”¨<strong>å…³é”®å­—<code>const</code></strong>ï¼Œæ¥è¡¨ç¤ºè¯¥å˜é‡æ˜¯å¸¸é‡ï¼š</p><blockquote><p>æ”¾åœ¨å˜é‡ç±»å‹çš„å‰é¢ã€åé¢ éƒ½å¯ä»¥</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> gravity &#123;<span class="number">9.8</span>&#125;; <span class="comment">//æ”¾åœ¨ç±»å‹çš„å‰é¢ã€æ¨èã€‘</span></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> sidesInSquare &#123;<span class="number">4</span>&#125;; <span class="comment">//æ”¾åœ¨ç±»å‹åé¢ã€ä¸æ¨èã€‘</span></span><br></pre></td></tr></table></figure></li></ul><hr><p><red><strong>å¸¸é‡å˜é‡(const variable)</strong>å¿…é¡»åœ¨å®šä¹‰æ—¶è¦åˆå§‹åŒ–(å³è¦èµ‹å€¼ç»™ä»–ä»¬)ã€‚èµ‹å€¼å®Œæˆï¼Œå®ƒçš„å€¼å°±ä¸èƒ½è¢«æ”¹å˜.</red></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******å¸¸é‡å˜é‡çš„å€¼è¢«æ”¹å˜*************/</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> a &#123;<span class="number">5.0</span>&#125;;</span><br><span class="line">a = <span class="number">1.0</span>;  <span class="comment">//ç¼–è¯‘å‡ºé”™ï¼Œå› ä¸ºå¸¸é‡å˜é‡çš„å€¼è¢«æ”¹å˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*******å¸¸é‡å˜é‡ä¸åˆå§‹åŒ–********/</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> a; <span class="comment">//compiler error, must be initialized upon definition</span></span><br></pre></td></tr></table></figure><hr><ul><li><p><strong>runtime VS compile time constants</strong></p><blockquote><p><strong>runtime</strong>ï¼šç¨‹åºè¿è¡Œæ—¶ï¼›</p><p><strong>compile time</strong>ï¼šç¼–è¯‘å™¨è¿è¡Œæ—¶ã€‚</p></blockquote><ul><li><strong>runtime constants</strong>ï¼šåˆå§‹åŒ–å€¼åªèƒ½åœ¨è¿è¡Œæ—¶è§£æçš„å¸¸é‡ï¼›</li><li><strong>compile-time constants</strong>ï¼šåˆå§‹åŒ–å€¼å¯ä»¥åœ¨ç¼–è¯‘æ—¶è§£æçš„ï¼›</li></ul><p>å½“æ‚¨å£°æ˜ä¸€ä¸ªconstå˜é‡æ—¶ï¼Œç¼–è¯‘å™¨å°†éšå¼åœ°è·Ÿè¸ªå®ƒæ˜¯è¿è¡Œæ—¶å¸¸é‡è¿˜æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="keyword">size_t</span> <span class="title">getNumberOfBits</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">std</span>::<span class="keyword">size_t</span> numberOfBits&#123; <span class="number">3</span> &#125;; <span class="comment">// Compile-time constant</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;numberOfBits&gt; b&#123;&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">std</span>::<span class="keyword">size_t</span> otherNumberOfBits&#123; getNumberOfBits() &#125;; <span class="comment">// Run-time constant</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;otherNumberOfBits&gt; b2&#123;&#125;; <span class="comment">// Error[å› ä¸ºæ­¤æ—¶éœ€è¦çš„æ˜¯ç¼–è¯‘æ—¶å¸¸é‡ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶å¸¸é‡]</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><ul><li><p><strong>å¸¸é‡è¡¨è¾¾å¼ï¼šconstexpr</strong></p><p>ä¸ºäº†æä¾›æ›´å¤šçš„ç‰¹æ€§ï¼Œc++ 11å¼•å…¥äº†æ–°çš„<strong>å…³é”®å­—constexprï¼Œå®ƒç¡®ä¿å¸¸é‡å¿…é¡»æ˜¯ â€œç¼–è¯‘æ—¶å¸¸é‡â€:</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constexpr</span> <span class="keyword">double</span> gravity &#123;<span class="number">9.8</span>&#125;; <span class="comment">//æ­£ç¡®ï¼Œ9.8æ˜¯ç¼–è¯‘æ—¶çš„å­—é¢å¸¸é‡</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> sum &#123;<span class="number">4</span>+<span class="number">5</span>&#125;; <span class="comment">//æ­£ç¡®ï¼Œ4+5çš„å€¼æ—¶ç¼–è¯‘æ—¶çš„å­—é¢å¸¸é‡</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"enter your age:"</span>;</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; age;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> myage &#123;age&#125;; <span class="comment">//é”™è¯¯ï¼Œå› ä¸ºâ€œageâ€æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶å¸¸é‡</span></span><br></pre></td></tr></table></figure></li></ul><hr><p>ã€å°ç»“ã€‘ï¼šå¸¸é‡å˜é‡å¿…é¡»åœ¨å®šä¹‰æ—¶ï¼Œå¯¹å®ƒåˆå§‹åŒ–ã€‚</p><ul><li>å½“ä¸€ä¸ªå˜é‡çš„å€¼éœ€è¦æ˜¯ ç¼–è¯‘æ—¶å¸¸é‡æ—¶ï¼Œæ¨èä½¿ç”¨<code>constexpr</code>æ¥å£°æ˜å®ƒã€‚</li><li>å½“ä¸€ä¸ªå˜é‡çš„å€¼éœ€è¦æ˜¯ è¿è¡Œæ—¶å¸¸é‡æ—¶ï¼Œæ¨èä½¿ç”¨<code>const</code>æ¥å£°æ˜å®ƒã€‚</li></ul><hr><ul><li><p><strong>ç¬¦å·å¸¸é‡ï¼šsymbolic constants</strong></p><p><strong>symbolic constant</strong>ï¼šæ˜¯ å­—é¢å¸¸é‡(literal constant)çš„å€¼ çš„åå­—ã€‚</p><hr><p>ä¸¤ç§æ–¹æ³•å£°æ˜ç¬¦å·å¸¸é‡ï¼š</p><ol><li><p>ä½¿ç”¨<strong>â€œå®(macro)â€</strong>å®šä¹‰ï¼šã€ä¸æ¨èã€‘</p><p><code>#define identifier substitution_text</code></p><p>å¦‚ï¼š<code>#define a 10;</code></p></li><li><p>ä½¿ç”¨å…³é”®å­—<code>constexpr</code>å˜é‡ï¼šã€æ¨èã€‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> maxstudentperclass &#123;<span class="number">30</span>&#125;;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> maxnamelength &#123;<span class="number">30</span>&#125;;</span><br></pre></td></tr></table></figure></li></ol></li></ul><hr><ul><li><p><strong>åœ¨å¤šæ–‡ä»¶ç¨‹åºä¸­ä½¿ç”¨ç¬¦å·å¸¸é‡</strong></p><p>åœ¨è®¸å¤šåº”ç”¨ç¨‹åºä¸­ï¼Œéœ€è¦åœ¨æ•´ä¸ªä»£ç ä¸­ä½¿ç”¨ç»™å®šçš„ç¬¦å·å¸¸é‡(è€Œä¸ä»…ä»…æ˜¯åœ¨ä¸€ä¸ªä½ç½®)ã€‚è¿™äº›å‚æ•°å¯ä»¥åŒ…æ‹¬ç‰©ç†æˆ–æ•°å­¦å¸¸æ•°(å¦‚piæˆ–é˜¿ä¼ä¼½å¾·ç½—å¸¸æ•°)ï¼Œæˆ–ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„â€œè°ƒä¼˜â€å€¼(å¦‚æ‘©æ“¦ç³»æ•°æˆ–é‡åŠ›ç³»æ•°)ã€‚<strong>ä¸å…¶æ¯æ¬¡éœ€è¦æ—¶éƒ½é‡æ–°å®šä¹‰å®ƒä»¬ï¼Œä¸å¦‚åœ¨ä¸­å¿ƒä½ç½®å£°æ˜ä¸€æ¬¡å¹¶åœ¨éœ€è¦çš„åœ°æ–¹ä½¿ç”¨å®ƒä»¬ã€‚</strong>è¿™æ ·ï¼Œå¦‚æœä½ éœ€è¦æ”¹å˜å®ƒä»¬ï¼Œä½ åªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹æ”¹å˜å®ƒä»¬ã€‚</p><p>æœ‰å¾ˆå¤šç§æ–¹æ³•æ¥å®ç°å®ƒï¼Œè¿™é‡Œä½¿ç”¨æ¯”è¾ƒç®€å•çš„ä¸€ç§ï¼š</p><ol><li>é¦–å…ˆï¼Œ<strong>åˆ›å»ºä¸€ä¸ªå¤´æ–‡ä»¶</strong>æ¥å†™ç›¸å…³çš„å¸¸é‡ï¼›</li><li>åœ¨è¿™ä¸ªå¤´æ–‡ä»¶ä¸­ï¼Œ<strong>å£°æ˜ä¸€ä¸ªåç§°ç©ºé—´</strong>ï¼›</li><li>å°†ä½ è¦ç”¨åˆ°çš„<strong>å¸¸é‡å†™åœ¨è¿™ä¸ªå‘½åç©ºé—´</strong>ä¸­ï¼›</li><li>åœ¨ä½ éœ€è¦è¿™äº›å¸¸é‡çš„æ—¶å€™ï¼Œ<strong><code>#include</code>è¿™ä¸ªå¤´æ–‡ä»¶</strong>ã€‚</li></ol><p>exampleï¼š</p><ul><li><p>constants.h (C++11/14):</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//define your own namespace to hold constansts</span></span><br><span class="line"><span class="keyword">namespace</span> constants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="keyword">double</span> pi &#123;<span class="number">3.14159</span>&#125;;</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="keyword">double</span> avogadro &#123;<span class="number">6.0221413e23</span>&#125;;</span><br><span class="line">    <span class="keyword">constexpr</span> <span class="keyword">double</span> my_gravity &#123;<span class="number">9.2</span>&#125;;</span><br><span class="line">    <span class="comment">//.........other related constants</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></li><li><p>In C++17, prefer â€œinline constexprâ€ instead:</p><p>constants.h (C++17 or newer):</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// define your own namespace to hold constants</span></span><br><span class="line"><span class="keyword">namespace</span> constants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> pi &#123;<span class="number">3.14159</span>&#125;;</span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> avogadro &#123; <span class="number">6.0221413e23</span> &#125;;</span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">constexpr</span> <span class="keyword">double</span> my_gravity &#123; <span class="number">9.2</span> &#125;; <span class="comment">// m/s^2 -- gravity is light on this planet</span></span><br><span class="line">    <span class="comment">// ... other related constants</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></li></ul><p>ä½¿ç”¨<strong>â€œä½œç”¨åŸŸè§£æç¬¦<code>::</code>â€</strong>,åœ¨å…¶ä»–æ–‡ä»¶è®¿é—®ä½ çš„å¸¸é‡ï¼š</p><p><em>main.cpp</em></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"constants.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"enter a radius: "</span>;</span><br><span class="line">    <span class="keyword">int</span> radius&#123;&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; radius;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">double</span> circumference &#123;<span class="number">2.0</span>*radius*constants::pi&#125;;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;<span class="string">"the circumference is: "</span> &lt;&lt;circumference &lt;&lt;<span class="string">'\n'</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
          <category> C/C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C/C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LearnCpp chapter2</title>
      <link href="/archives/28c74e52.html"/>
      <url>/archives/28c74e52.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp chapter2</red></p></center><center><red>https://www.learncpp.com</red></center><a id="more"></a><h2 id="2-1-å‡½æ•°"><a href="#2-1-å‡½æ•°" class="headerlink" title="2.1 å‡½æ•°"></a>2.1 å‡½æ•°</h2><p>å½“ä½ è¯»ä¸€æœ¬ä¹¦çš„æ—¶å€™ï¼Œçªç„¶æœ‰äººç»™ä½ æ‰“ç”µè¯ã€‚ç„¶åä½ å°±ç”¨â€œä¹¦ç­¾â€å¤¹åœ¨å½“å‰é˜…è¯»ä½ç½®ï¼Œå»æ¥ç”µè¯ã€‚ç­‰ä½ ç”µè¯æ¥å®Œï¼Œå†å›åˆ°ä½ æ”¾ä¹¦ç­¾çš„é‚£ä¸ªåœ°æ–¹ç»§ç»­è¯»ä¹¦ã€‚</p><p><strong>å‡½æ•°è°ƒç”¨(function call)</strong>æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®ƒå‘Šè¯‰CPUä¸­æ–­å½“å‰å‡½æ•°å¹¶åœ¨è¿™é‡Œâ€œæ”¾ä¸€ä¸ªä¹¦ç­¾â€ï¼Œç„¶åæ‰§è¡Œå¦ä¸€ä¸ªå‡½æ•°(å°±æ˜¯å‡½æ•°è°ƒç”¨ä¸­æåŠçš„é‚£ä¸ªå‡½æ•°)ã€‚å½“è°ƒç”¨ç»“æŸåï¼ŒCPUå°±è¿”å›åˆ°â€œä¹¦ç­¾â€çš„ä½ç½®ï¼Œç„¶åå†ç»§ç»­æ‰§è¡Œã€‚</p><blockquote><p><strong>caller</strong>ï¼šå‘èµ·å‡½æ•°è°ƒç”¨çš„å‡½æ•°å«åšcallerï¼›</p><p><strong>callee(called function)</strong>ï¼šè¢«è°ƒç”¨çš„å‡½æ•°å«åšcallee(called function)ã€‚</p></blockquote><p><strong>int main()çš„è¿”å›å€¼</strong>ï¼š</p><p>åœ¨int main()å‡½æ•°æœ€åï¼Œä¼šæœ‰è¿”å›å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯è¿”å›åˆ°æ“ä½œç³»ç»Ÿçš„ï¼Œä¸ºäº†è®©æ“ä½œç³»ç»ŸçŸ¥é“è¿™ä¸ªç¨‹åºæ‰§è¡ŒæˆåŠŸä¸å¦ã€‚mainå‡½æ•°çš„è¿”å›å€¼ï¼Œæœ‰ä¸€ä¸ªç‰¹å®šåå­—å«åšï¼š<strong><u>status code ï¼ˆçŠ¶æ€ç ï¼‰</u></strong></p><blockquote><p>ä¸€èˆ¬ <code>return 0;</code> è¡¨ç¤ºç¨‹åºæ‰§è¡ŒæˆåŠŸã€‚</p><p>è¿”å›éé›¶å€¼ï¼Œè¡¨ç¤ºç¨‹åºæ‰§è¡Œé”™è¯¯ã€‚</p></blockquote><p>ã€<strong>Note</strong>ã€‘ï¼š<strong>C++è§„å®šï¼Œmainå‡½æ•°å¿…é¡»æ˜¯intå‹çš„ã€‚å³ï¼š int main()</strong></p><h2 id="2-3-å‡½æ•°çš„å½¢å‚ä¸å®å‚"><a href="#2-3-å‡½æ•°çš„å½¢å‚ä¸å®å‚" class="headerlink" title="2.3 å‡½æ•°çš„å½¢å‚ä¸å®å‚"></a>2.3 å‡½æ•°çš„å½¢å‚ä¸å®å‚</h2><ul><li><p><strong>å½¢å‚(parameter)</strong>ï¼šæ˜¯æŒ‡å‡½æ•°å®šä¹‰ä¸­å‚æ•°ï¼›(å½¢å‚åˆå§‹åŒ–æ˜¯é€šè¿‡è°ƒç”¨è€…ä¼ æ¥çš„å€¼(å³ï¼Œå®å‚)æ¥åˆå§‹åŒ–çš„ )</p><p><strong>å®å‚(argument)</strong>ï¼šå‡½æ•°è°ƒç”¨æ—¶çš„å®é™…å‚æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printValues</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">//å‡½æ•°å®šä¹‰æ—¶çš„å‚æ•°x,yï¼Œå³è¿™é‡Œçš„x,yæ˜¯å½¢å‚</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    printValues(<span class="number">6</span>, <span class="number">7</span>); <span class="comment">//è°ƒç”¨å‡½æ•°ã€‚å³ï¼Œ6å’Œ7æ˜¯å®å‚</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>å®å‚ä¸å½¢å‚å¦‚ä½•ä¸€èµ·å·¥ä½œï¼Ÿ</strong></p><p>å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°æ‰€æœ‰çš„parameterséƒ½è¢«åˆ›å»ºä¸ºå˜é‡ï¼Œå¹¶ä¸”æ¯ä¸ªargumentsçš„å€¼éƒ½è¢«å¤åˆ¶åˆ°åŒ¹é…çš„parametersä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>pass by value(æŒ‰å€¼ä¼ é€’)</strong>ã€‚</p></li><li><p><strong>å…³äºå‡½æ•°å‚æ•°æ±‚å€¼é¡ºåºçš„è­¦å‘Š</strong></p><p>åœ¨C++ä¸­ï¼Œæ²¡æœ‰è§„å®šå®å‚åŒ¹é…çš„é¡ºåºï¼ˆé¡ºåºï¼šä»å·¦â†’å³ï¼Œè¿˜æ˜¯ä»å³â†’å·¦ï¼‰ï¼Œå› ä¸ºåŒ¹é…é¡ºåºä¸é‡è¦ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœå®å‚æ˜¯å‡½æ•°è°ƒç”¨ï¼Œé‚£å°±éœ€è¦æ³¨æ„äº†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">someFunction(a(), b()); <span class="comment">// a() or b() may be called first</span></span><br></pre></td></tr></table></figure><ul><li>æ˜¯ä»å³â†’å·¦ï¼Œè¿˜æ˜¯ä»å³â†’å·¦ï¼š<strong>å–å†³äºa()å’Œb()çš„åŠŸèƒ½</strong>ã€‚</li></ul><p>å¦‚æœä½ æƒ³è¦è§„å®šè°å…ˆçš„è¯ï¼Œä½ å¯ä»¥æ˜¾ç¤ºçš„è§„å®šåŒ¹é…é¡ºåºï¼Œå¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> avar&#123; a() &#125;; <span class="comment">// a() will always be called first</span></span><br><span class="line"><span class="keyword">int</span> bvar&#123; b() &#125;; <span class="comment">// b() will always be called second</span></span><br><span class="line"> </span><br><span class="line">someFunction(avar, bvar); <span class="comment">// it doesn't matter whether avar or bvar are copied first because they are just values</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="2-4-å±€éƒ¨èŒƒå›´"><a href="#2-4-å±€éƒ¨èŒƒå›´" class="headerlink" title="2.4 å±€éƒ¨èŒƒå›´"></a>2.4 å±€éƒ¨èŒƒå›´</h2><ul><li><strong>å±€éƒ¨å˜é‡Local variables</strong>ï¼šå‡½æ•°çš„å½¢å‚ï¼Œå’Œå®ƒå†…éƒ¨å®šä¹‰çš„å˜é‡ å±äºâ€œå±€éƒ¨å˜é‡â€ã€‚å¦‚ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// function parameters x and y are local variables</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> z&#123; x + y &#125;; <span class="comment">// z is a local variable too</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p><strong>å±€éƒ¨å˜é‡ç”Ÿå‘½å‘¨æœŸ</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// x and y are created and enter scope here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// x and y are visible/usable within this function only</span></span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125; <span class="comment">// y and x go out of scope and are destroyed here</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a&#123; <span class="number">5</span> &#125;; <span class="comment">// a is created, initialized, and enters scope here</span></span><br><span class="line">    <span class="keyword">int</span> b&#123; <span class="number">6</span> &#125;; <span class="comment">// b is created, initialized, and enters scope here</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">// a and b are usable within this function only</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; add(a, b) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// calls function add() with x=5 and y=6</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// b and a go out of scope and are destroyed here</span></span><br></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œè¿‡ç¨‹ï¼š</p><ol><li><p>ç¨‹åºå¼€å§‹æ‰§è¡Œäºmain()å‡½æ•°ï¼›</p></li><li><p>main()å‡½æ•°çš„å˜é‡aè¢«åˆ›å»ºå¹¶èµ‹å€¼ä¸º5ï¼›ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>main()å‡½æ•°çš„å˜é‡bè¢«åˆ›å»ºå¹¶èµ‹å€¼ä¸º6ï¼›ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>å‡½æ•°add()è¢«è°ƒç”¨ï¼Œå¹¶ä¼ å…¥å®å‚5ï¼Œ6ï¼›</p></li><li><p>add()å‡½æ•°çš„å˜é‡xè¢«åˆ›å»ºï¼Œå¹¶åˆå€¼ä¸º5;ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>add()å‡½æ•°çš„å˜é‡yè¢«åˆ›å»ºï¼Œå¹¶åˆå€¼ä¸º6;ï¼ˆåˆå§‹åŒ–ï¼‰â˜…</p></li><li><p>æ“ä½œç¬¦â€œ+â€è®¡ç®—è¡¨è¾¾å¼â€x+yâ€ï¼Œäº§ç”Ÿå€¼11ï¼›</p></li><li><p>addå‡½æ•°å°†å€¼11å¤åˆ¶å›è°ƒç”¨è€…main()å‡½æ•°ï¼›</p></li><li><p>addå‡½æ•°çš„xã€yè¢«æ‘§æ¯ï¼›â˜…</p></li><li><p>main()å‡½æ•°åœ¨æ§åˆ¶å°ä¸Šæ‰“å°å‡º11ï¼›</p></li><li><p>main()å‡½æ•°è¿”å›0åˆ°æ“ä½œç³»ç»Ÿï¼›</p></li><li><p>main()å‡½æ•°çš„aã€bè¢«æ‘§æ¯ã€‚â˜…</p></li></ol></blockquote><p>ç”±æ­¤å¯çŸ¥ï¼Œ<strong>å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šæ˜¯ä»ä»–å¼€å§‹<u>è¢«åˆ›å»º</u>ï¼ˆå¦‚ä¸Šè¿°çš„ç¬¬2æ­¥ï¼Œå˜é‡aè¢«åˆ›å»ºï¼‰ä¸€ç›´åˆ°æ‰§è¡Œå®Œè¿™ä¸ªå®ƒæ‰€åœ¨çš„å‡½æ•°ï¼ˆå¦‚ä¸Šè¿°çš„ç¬¬9æ­¥ï¼‰è¢«æ‘§æ¯ã€‚</p><p><strong>ã€Noteã€‘</strong>ï¼šå˜é‡çš„åˆ›å»ºå’Œæ‘§æ¯å‘ç”Ÿåœ¨ç¨‹åºçš„<strong>è¿è¡ŒæœŸé—´ï¼ˆruntimeï¼‰</strong>ã€‚æ‰€ä»¥ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€ä¸ªruntimeå±æ€§ã€‚</p></li><li><p><strong>å±€éƒ¨èŒƒå›´</strong></p><p><strong>æ ‡è¯†ç¬¦çš„èŒƒå›´</strong>å†³å®šäº†åœ¨æºä»£ç ä¸­æ ‡è¯†ç¬¦å¯ä»¥è¢«è®¿é—®çš„ä½ç½®ã€‚èŒƒå›´æ˜¯ä¸€ä¸ª<strong>ç¼–è¯‘æœŸé—´(compile-time)</strong>çš„å±æ€§ã€‚ï¼ˆå½“ä½¿ç”¨çš„æ ‡è¯†ç¬¦ä¸åœ¨èŒƒå›´å†…æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼‰</p><p><strong>å±€éƒ¨å˜é‡çš„èŒƒå›´</strong>ï¼šå¼€å§‹äºå®ƒçš„<u>å®šä¹‰</u>ï¼Œç»“æŸäº<u>å®šä¹‰å®ƒä»¬çš„èŠ±æ‹¬å·é›†åˆçš„æœ«å°¾</u>ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// x is not in scope anywhere in this function</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello!\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// x can not be used here because it's not in scope yet</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> x&#123; <span class="number">0</span> &#125;; <span class="comment">// x enters scope here and can now be used</span></span><br><span class="line"> </span><br><span class="line">    doSomething();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// x goes out of scope here and can no longer be used</span></span><br></pre></td></tr></table></figure><h2 id="2-5-ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°"><a href="#2-5-ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°" class="headerlink" title="2.5 ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°"></a>2.5 ä¸ºä»€ä¹ˆè¦ç”¨å‡½æ•°</h2></li></ul><p><strong>ä½¿ç”¨å‡½æ•°çš„ä¼˜åŠ¿</strong>ï¼š</p><ul><li><strong>æœ‰ç»„ç»‡æ€§Organization</strong>ï¼šéšç€ç¨‹åºè¶Šæ¥è¶Šå¤æ‚ï¼Œè‹¥å°†å…¨éƒ¨çš„ä»£ç éƒ½å†™åœ¨main()å‡½æ•°ä¸­ï¼ŒåŠ¿å¿…ä¼šå¢åŠ å¤æ‚æ€§ã€‚ä¸€ä¸ªå‡½æ•°å°±åƒä¸€ä¸ªå°å‹ç¨‹åºã€‚å°†å®ƒä¸mainå‡½æ•°åˆ†å¼€å†™ï¼Œæˆ‘ä»¬å°±ä¸å¿…å»è€ƒå…¶ä½™ä»£ç ã€‚</li><li><strong>å¯é‡ç”¨æ€§Reusability</strong>ï¼šä¸€ä¸ªå‡½æ•°å¯ä»¥è¢«è°ƒç”¨æ— æ•°æ¬¡ã€‚å°±å¯ä»¥é¿å…è¿™ç§æƒ…å†µï¼šå¦‚æœå†™åœ¨mainå‡½æ•°ä¸­ï¼Œè¦è°ƒç”¨næ¬¡è¿™ä¸ªåŠŸèƒ½ï¼Œå°±è¦é‡æ–°å†™è¿™ä¸ªåŠŸèƒ½næ¬¡ã€‚</li><li><strong>ä¾¿äºæµ‹è¯•Testing</strong>ï¼šå› ä¸ºå‡½æ•°å‡å°‘äº†ä»£ç å†—ä½™ï¼Œæ‰€ä»¥é¦–å…ˆè¦æµ‹è¯•çš„ä»£ç å°±æ›´å°‘äº†ã€‚å¦å¤–ï¼Œå› ä¸ºå‡½æ•°æ˜¯è‡ªåŒ…å«çš„ï¼Œæ‰€ä»¥ä¸€æ—¦æˆ‘ä»¬æµ‹è¯•äº†ä¸€ä¸ªå‡½æ•°ä»¥ç¡®ä¿å®ƒå¯ä»¥å·¥ä½œï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†æ¬¡æµ‹è¯•å®ƒï¼Œé™¤éæˆ‘ä»¬ä¿®æ”¹å®ƒã€‚è¿™å‡å°‘äº†æˆ‘ä»¬å¿…é¡»ä¸€æ¬¡æµ‹è¯•çš„ä»£ç é‡ï¼Œä½¿å¾—æŸ¥æ‰¾bug(æˆ–è€…åœ¨ç¬¬ä¸€æ—¶é—´é¿å…bug)å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li><li><strong>å¯æ‰©å±•æ€§Extensibility</strong>ï¼š</li><li><strong>æŠ½è±¡åŒ–Abstraction</strong>ï¼šåœ¨æ¯æ¬¡ç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å®ƒçš„åå­—ã€‚è¾“å…¥å’Œè¾“å‡ºã€‚ä¸å¿…çŸ¥é“å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</li></ul><p><strong>å¦‚ä½•é«˜æ•ˆçš„ä½¿ç”¨å‡½æ•°ï¼Ÿ</strong></p><ul><li>åœ¨ä¸€ä¸ªç¨‹åºä¸­<u>å‡ºç°å¤šæ¬¡çš„è¯­å¥</u>é€šå¸¸åº”è¯¥æ„æˆä¸€ä¸ªå‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼å¤šæ¬¡è¯»å–æ¥è‡ªç”¨æˆ·çš„è¾“å…¥ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å‡½æ•°å€™é€‰ã€‚å¦‚æœæˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼è¾“å‡ºå¤šæ¬¡ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å€™é€‰å‡½æ•°ã€‚</li><li>ä¸€ä¸ªå‡½æ•°é€šå¸¸åº”è¯¥æ‰§è¡Œä¸€ä¸ª(ä¸”ä»…ä¸€ä¸ª)ä»»åŠ¡ã€‚</li><li>å½“ä¸€ä¸ªå‡½æ•°å˜å¾—å¤ªé•¿ã€å¤ªå¤æ‚æˆ–éš¾ä»¥ç†è§£æ—¶ï¼Œå¯ä»¥å°†å…¶åˆ†è§£ä¸ºå¤šä¸ªå­å‡½æ•°ã€‚è¿™å°±æ˜¯æ‰€è°“çš„<strong>é‡æ„refactoring</strong>ã€‚</li></ul><h2 id="2-6-ç©ºç™½ä¸åŸºæœ¬æ ¼å¼"><a href="#2-6-ç©ºç™½ä¸åŸºæœ¬æ ¼å¼" class="headerlink" title="2.6 ç©ºç™½ä¸åŸºæœ¬æ ¼å¼"></a>2.6 ç©ºç™½ä¸åŸºæœ¬æ ¼å¼</h2><h3 id="ç©ºç™½"><a href="#ç©ºç™½" class="headerlink" title="ç©ºç™½"></a>ç©ºç™½</h3><p><strong>ç©ºç™½Whitespace</strong>ï¼šæ˜¯ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯ç”¨äºæ ¼å¼åŒ–ç›®çš„çš„å­—ç¬¦ã€‚åœ¨c++ä¸­ï¼Œè¿™ä¸»è¦æŒ‡<strong>ç©ºæ ¼</strong>ã€<strong>åˆ¶è¡¨ç¬¦(tab)</strong>å’Œ<strong>æ¢è¡Œ</strong>ã€‚c++ç¼–è¯‘å™¨é€šå¸¸ä¼šå¿½ç•¥ç©ºç™½ï¼Œåªæœ‰å°‘æ•°ä¾‹å¤–(åœ¨å¤„ç†æ–‡æœ¬æ—¶)ã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬è¯´c++æ˜¯ä¸€ç§ä¸ç©ºç™½æ— å…³çš„è¯­è¨€ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸‹é¢è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸€æ ·çš„ä½œç”¨*/</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span>               &lt;&lt;            <span class="string">"Hello world!"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span></span><br><span class="line">&lt;&lt; <span class="string">"Hello world!"</span>;</span><br></pre></td></tr></table></figure><p>ã€æ³¨æ„ã€‘</p><ul><li>åœ¨<strong>æ–‡æœ¬</strong>ä¸­ï¼Œä¸å…è®¸æ¢è¡Œï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ç§æ˜¯ä¸è¢«å…è®¸çš„</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello</span></span><br><span class="line"><span class="string">    world!"</span> ;</span><br></pre></td></tr></table></figure><ul><li><p>ä½†æ˜¯è¿™ç§æƒ…å†µæ˜¯å¯ä»¥çš„ï¼šæ–‡æœ¬åªæ˜¯è¢«ç©ºç™½(ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦(tab)ã€æ¢è¡Œ)åˆ†ç¦»ï¼Œä»–å°†ä¼šè¢«è¿æ¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™é‡Œçš„helloä¸worldéƒ½æ˜¯è¢«åŒå¼•å·åŒ…å«èµ·æ¥çš„</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello "</span></span><br><span class="line">     <span class="string">"world!"</span>; <span class="comment">// prints "Hello world!"</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="åŸºæœ¬æ ¼å¼"><a href="#åŸºæœ¬æ ¼å¼" class="headerlink" title="åŸºæœ¬æ ¼å¼"></a>åŸºæœ¬æ ¼å¼</h3><ol><li><p><strong>ç¼©è¿›(indentation)</strong>å¯ä»¥ç”¨ï¼š<strong>ç©ºæ ¼spaces</strong>æˆ–è€…<strong>tabsï¼ˆåˆ¶ç¬¦è¡¨ï¼‰</strong>ã€‚</p><blockquote><p>å¦‚æœç”¨åˆ¶ç¬¦è¡¨ï¼Œå»ºè®®å°†å…¶è°ƒæ•´ä¸º4ä¸ªç©ºæ ¼çš„ç¼©è¿›ï¼Œ3ä¸ªä¹Ÿå¯ä»¥ã€‚</p></blockquote></li><li><p><strong>å¤§èŠ±æ‹¬å·ï¼ˆbraceï¼‰</strong>ï¼š</p><ul><li><p>Googleä¸­çš„C++é£æ ¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦ä¸€ç§é£æ ¼ï¼šè¿™ä¸€ç§ä¸å®¹æ˜“å‡ºé”™ï¼Œæ›´å®¹æ˜“æ‰¾å‡ºèŠ±æ‹¬å·</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>åœ¨å¤§èŠ±æ‹¬å·ä¸­çš„æ¯æ¡è¯­å¥ï¼Œåº”è¯¥ä»å…¶æ‰€åœ¨èŠ±æ‹¬å·ç®—èµ·éš”å¼€ä¸€ä¸ªtabçš„è·ç¦»ï¼Œå¼€å§‹å†™ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;       <span class="comment">// tabbed in one tab (4 spaces)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Nice to meet you.\n"</span>;  <span class="comment">// tabbed in one tab (4 spaces)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¯ä¸€è¡Œçš„å­—ç¬¦ä¸è¦è¿‡é•¿ï¼Œä¸€èˆ¬ä¸è¶…è¿‡80ä¸ªå­—ç¬¦</p></li><li><p>å¦‚æœä¸€è¡Œåˆ«æ“ä½œç¬¦(å¦‚ï¼Œ&lt;&lt; ã€+)åˆ†å‰²(split)ã€‚è¿™ä¸ªæ“ä½œç¬¦åº”è¯¥è¢«å¸è½½ä¸‹ä¸€è¡Œçš„å¼€å¤´ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">3</span> + <span class="number">4</span></span><br><span class="line">    + <span class="number">5</span> + <span class="number">6</span></span><br><span class="line">    * <span class="number">7</span> * <span class="number">8</span>;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡å¯¹é½å€¼æˆ–æ³¨é‡Šæˆ–åœ¨ä»£ç å—ä¹‹é—´æ·»åŠ é—´è·ï¼Œä½¿ç”¨ç©ºç™½ä½¿ä»£ç æ›´æ˜“äºé˜…è¯»ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸æ˜“è¯»</span></span><br><span class="line">cost = <span class="number">57</span>;</span><br><span class="line">pricePerItem = <span class="number">24</span>;</span><br><span class="line">value = <span class="number">5</span>;</span><br><span class="line">numberOfItems = <span class="number">17</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜“è¯»</span></span><br><span class="line">cost          = <span class="number">57</span>;</span><br><span class="line">pricePerItem  = <span class="number">24</span>;</span><br><span class="line">value         = <span class="number">5</span>;</span><br><span class="line">numberOfItems = <span class="number">17</span>;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸æ˜“è¯»</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>; <span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>; <span class="comment">// these comments make the code hard to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>; <span class="comment">// especially when lines are different lengths</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜“è¯»</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;                  <span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>;  <span class="comment">// these comments are easier to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>;                         <span class="comment">// especially when all lined up</span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸æ˜“è¯»</span></span><br><span class="line"><span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;</span><br><span class="line"><span class="comment">// these comments make the code hard to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>;</span><br><span class="line"><span class="comment">// especially when all bunched together</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜“è¯»</span></span><br><span class="line"><span class="comment">// cout lives in the iostream library</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!\n"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// these comments are easier to read</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"It is very nice to meet you!\n"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// when separated by whitespace</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Yeah!\n"</span>;</span><br></pre></td></tr></table></figure></li></ol><h2 id="2-7-æå‰å£°æ˜ä¸å®šä¹‰"><a href="#2-7-æå‰å£°æ˜ä¸å®šä¹‰" class="headerlink" title="2.7 æå‰å£°æ˜ä¸å®šä¹‰"></a>2.7 æå‰å£°æ˜ä¸å®šä¹‰</h2><p>ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨vs 2013ä¸­è¿è¡Œï¼Œä¼šå‡ºç°ï¼š</p><p><code>add.cpp(5) : error C3861: &#39;add&#39;: identifier not found</code></p><p><strong>åŸå› ï¼š</strong>å› ä¸ºç¼–è¯‘å™¨æ˜¯æŒ‰ç…§é¡ºåºè¿›è¡Œç¼–è¯‘çš„ã€‚å½“ç¼–è¯‘å™¨åœ¨mainå‡½æ•°çš„ç¬¬5è¡Œä¸­è°ƒç”¨addå‡½æ•°ï¼Œä»–ä¸çŸ¥é“addæ˜¯ä»€ä¹ˆã€‚å› ä¸ºç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰å®šä¹‰addå‡½æ•°ï¼ˆå› ä¸ºaddå‡½æ•°çš„å®šä¹‰åœ¨ç¬¬9è¡Œï¼‰</p><hr><p><strong>å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</strong></p><ol><li><p>æ³•ä¸€ï¼š<strong>è°ƒæ•´ä»£ç é¡ºåº</strong>ï¼šè®©è¢«è°ƒç”¨çš„å‡½æ•°åœ¨è°ƒç”¨è€…ä¹‹å‰ã€åœ¨å¤æ‚ç¨‹åºä¸­ï¼Œä¸å®ç”¨ã€‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>å¦‚æœåœ¨ä¸€ä¸ªå¤æ‚çš„ç¨‹åºä¸­ï¼Œä¼šè°ƒç”¨å¾ˆå¤šå‡½æ•°ï¼Œè¿˜æœ‰åµŒå¥—å‹çš„è°ƒç”¨ã€‚å¦‚æœå»ä¸€ä¸ªä¸ªä¸ªå»æ‰¾å‡ºè°ƒç”¨é¡ºåºï¼Œç„¶åå»è°ƒæ•´ä»£ç ã€‚è¿™æ ·æ˜¯å¾ˆä¹å‘³ä½æ•ˆçš„ã€‚</strong></p></blockquote></li><li><p>æ³•äºŒ<strong>[æ¨è]</strong>ï¼š<strong>æå‰å£°æ˜forward declaration</strong>ï¼šåœ¨ä½¿ç”¨å‡½æ•°ä¹‹å‰ï¼Œå…ˆå£°æ˜å®ƒã€‚ï¼ˆç„¶åå°±ä¸ç”¨å…³æ³¨ä»£ç å®ç°çš„é¡ºåºäº†ï¼‰</p><blockquote><p>æå‰å‘å£°æ˜<strong>å…è®¸æˆ‘ä»¬åœ¨å®é™…å®šä¹‰æ ‡è¯†ç¬¦ä¹‹å‰å‘Šè¯‰ç¼–è¯‘å™¨æ ‡è¯†ç¬¦çš„å­˜åœ¨ã€‚</strong></p></blockquote><p>ä¸ºäº†ç¼–å†™ä¸€ä¸ªå‡½æ•°çš„æå‰å‘å£°æ˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç§°ä¸º<strong>å‡½æ•°åŸå‹(function prototype)</strong>çš„å£°æ˜è¯­å¥ã€‚å‡½æ•°åŸå‹åŒ…æ‹¬ï¼šå‡½æ•°çš„ è¿”å›<strong>ç±»å‹</strong>ã€<strong>åå­—</strong>ã€<strong>å½¢å‚</strong>ï¼Œä»¥<strong>åˆ†å·(semicolon)</strong>ç»“æŸã€‚ä½†æ˜¯ä¸åŒ…å«å‡½æ•°<strong>ä¸»ä½“(function body)</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// forward declaration of add() (using a function prototype)</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// this works because we forward declared add() above</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// even though the body of add() isn't defined until here</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜"><a href="#å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜" class="headerlink" title="å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜"></a>å¿˜è®°å®šä¹‰å‡½æ•°ä¸»é¢˜</h3><ol><li><p>å¦‚æœ<strong>å£°æ˜</strong>äº†å‡½æ•°ï¼Œä½†<strong>æ²¡å®šä¹‰</strong>å‡½æ•°ï¼Œè€Œä¸”è¿™ä¸ªå‡½æ•°<strong>æ²¡æœ‰è¢«è°ƒç”¨</strong>ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åº<strong>å¯ä»¥è¢«ç¼–è¯‘&amp;è¿è¡Œ</strong>ï¼›</p></li><li><p>å¦‚æœ<strong>å£°æ˜</strong>äº†å‡½æ•°ï¼Œä½†<strong>æ²¡å®šä¹‰</strong>å‡½æ•°ï¼Œè€Œä¸”è€Œä¸”è¿™ä¸ªå‡½æ•°<strong>æœ‰è¢«è°ƒç”¨</strong>ï¼Œé‚£ä¹ˆè¿™ä¸ªç¨‹åº<strong>å¯ä»¥è¢«ç¼–è¯‘</strong>ï¼Œä½†<strong>é“¾æ¥ä¼šå‡ºé”™</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// forward declaration of add() using function prototype</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is: "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// note: No definition for function add</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¨‹åºåœ¨visual studio ä¸­ï¼Œä¼šå‡ºç°ï¼šç¼–è¯‘æˆåŠŸï¼Œé“¾æ¥å¤±è´¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Compiling...</span><br><span class="line">add.cpp</span><br><span class="line">Linking...</span><br><span class="line">add.obj : error LNK2001: unresolved external symbol &quot;int __cdecl add(int,int)&quot; (?add@@YAHHH@Z)</span><br><span class="line">add.exe : fatal error LNK1120: 1 unresolved externals</span><br></pre></td></tr></table></figure></li></ol><h3 id="å£°æ˜-VS-å®šä¹‰"><a href="#å£°æ˜-VS-å®šä¹‰" class="headerlink" title="å£°æ˜ VS. å®šä¹‰"></a>å£°æ˜ VS. å®šä¹‰</h3><ul><li><p><strong>å®šä¹‰(define)</strong>ï¼šå®ç°(å‡½æ•°æˆ–ç±»å‹ï¼‰æˆ–è€…æ˜¯ å®ä¾‹åŒ–(å¯¹äºå˜é‡ï¼‰æ ‡è¯†ç¬¦ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// implements function add()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> z&#123; x + y &#125;; <span class="comment">// instantiates variable z</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> z;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äº<strong>é“¾æ¥å™¨(linker)</strong>æ¥è¯´<strong>å®šä¹‰ï¼ˆdefineï¼‰</strong>æ˜¯å¿…è¦çš„çš„ã€‚</p></blockquote></li></ul><h4 id="å•å®šä¹‰è§„åˆ™"><a href="#å•å®šä¹‰è§„åˆ™" class="headerlink" title="å•å®šä¹‰è§„åˆ™"></a>å•å®šä¹‰è§„åˆ™</h4><p><strong>å•å®šä¹‰è§„åˆ™ï¼ˆone definition ruleï¼‰</strong>ç®€ç§°ï¼š<strong>ODR</strong>ï¼šåœ¨C++ä¸­éå¸¸æœ‰åçš„è§„åˆ™ï¼Œä¸»è¦åˆ†ä¸‰éƒ¨åˆ†ï¼š</p><ol><li><p>åœ¨ç»™å®šçš„æ–‡ä»¶ä¸­ï¼ˆè¿™é‡Œç¿»è¯‘ä¸å‡†ç¡®ï¼‰ï¼Œæ¯ä¸ªå‡½æ•°ã€å¯¹è±¡ã€ç±»å‹ã€æ¨¡æ¿<u>åªèƒ½æœ‰ä¸€æ¬¡å®šä¹‰</u>ã€‚</p></li><li><p>åœ¨æ•´ä¸ªç¨‹åºä¸­ï¼Œä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ï¼›</p></li><li><p>ç±»å‹ã€æ¨¡æ¿ã€å†…ç½®å‡½æ•°ã€å˜é‡ è¢«å…è®¸åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­æœ‰ç›¸åŒçš„å®šä¹‰ã€‚</p><hr></li></ol><p><strong>è¿èƒŒç¬¬1æ¡ï¼Œå°†ä¼šä½¿ç¼–è¯‘å™¨å‘å‡ºé‡æ–°å®šä¹‰é”™è¯¯ï¼›</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> <span class="comment">// violation part1 of ODR, we've already defined function add</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> x; <span class="comment">// violation of ODR, we've already defined x</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>åœ¨visual studioä¸­ï¼Œä¼šå‡ºç°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">project3.cpp(9): error C2084: function &#39;int add(int,int)&#39; already has a body</span><br><span class="line">project3.cpp(3): note: see previous definition of &#39;add&#39;</span><br><span class="line">project3.cpp(16): error C2086: &#39;int x&#39;: redefinition</span><br><span class="line">project3.cpp(15): note: see declaration of &#39;x&#39;</span><br></pre></td></tr></table></figure></li></ul><p><strong>è¿èƒŒç¬¬2æ¡ï¼Œå°†ä¼šä½¿è¿æ¥å™¨å‘å‡ºé‡æ–°å®šä¹‰çš„é”™è¯¯ï¼›</strong></p><p><strong>è¿èƒŒç¬¬3æ¡ï¼Œå°†ä¼šäº§ç”Ÿæœªå®šä¹‰çš„è¡Œä¸ºã€‚</strong></p><hr><h4 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h4><p><strong>å£°æ˜(declaration)</strong>ï¼šæ˜¯ä¸€ä¸ªè¯­å¥ã€‚å®ƒå‘Šè¯‰ç¼–è¯‘å™¨è¿™é‡Œå­˜åœ¨ä¸€ä¸ªæ ‡è¯†ç¬¦å’Œå®ƒçš„ç±»å‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// tells the compiler about a function named "add" that takes two int parameters and returns an int.  No body!</span></span><br><span class="line"><span class="keyword">int</span> x; <span class="comment">// tells the compiler about an integer variable named x</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹<strong>ç¼–è¯‘å™¨(complier)</strong>è€Œè¨€<strong>å£°æ˜(declaeation)</strong>æ˜¯å¿…è¦çš„ã€‚</p></blockquote><p>åœ¨C++ä¸­ï¼Œæ‰€æœ‰çš„<strong>å®šä¹‰</strong>ä¹Ÿç”¨ä½œ<strong>å£°æ˜</strong>ã€‚ä¸Šè¿°ä¾‹å­ä¸­çš„<code>int x</code>æ˜¯ å®šä¹‰ï¼Œä¹Ÿæ˜¯å£°æ˜ã€‚</p><p>å¤šæ•°æƒ…å†µä¸‹ï¼Œ<strong>å®šä¹‰</strong>ç¬¦åˆæˆ‘ä»¬çš„ç›®çš„ï¼Œå› ä¸ºå®šä¹‰èƒ½åŒæ—¶æ»¡è¶³â€œç¼–è¯‘å™¨â€å’Œâ€œé“¾æ¥å™¨â€çš„è¦æ±‚ã€‚</p><hr><p><red>ã€æ‰€æœ‰çš„<strong>å®šä¹‰</strong>éƒ½æ˜¯<strong>å£°æ˜</strong>ï¼Œä½†æ‰€æœ‰çš„<strong>å£°æ˜</strong>å¹¶ä¸ä¸€å®šæ˜¯<strong>å®šä¹‰</strong>ã€‚è¿™äº›ä¸æ˜¯å®šä¹‰çš„å£°æ˜æœ‰ä¸€ä¸ªåå­—ï¼š<u><strong>çº¯å£°æ˜(pure declarations)</strong></u>ã€‘</red></p><ul><li>ä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼š<u>å‡½æ•°åŸå‹(function prototype)</u>ï¼Œå®ƒæ»¡è¶³ç¼–è¯‘å™¨çš„è¦æ±‚ï¼Œä½†ä¸æ»¡è¶³é“¾æ¥å™¨çš„è¦æ±‚ã€‚</li><li>å…¶ä»–ç±»å‹çš„çº¯å£°æ˜åŒ…å«ï¼šæå‰å£°æ˜å˜é‡ å’Œ ç±»å‹å£°æ˜ã€‚</li></ul><p><strong>å•å®šä¹‰è§„åˆ™ä¸é€‚ç”¨äºçº¯å£°æ˜ã€‚</strong>æ‰€ä»¥ï¼Œä½ å¯ä»¥å¯¹ä¸€äº›æ ‡è¯†ç¬¦å£°æ˜nå¤šæ¬¡éƒ½å¯ä»¥ï¼ˆè™½ç„¶å£°æ˜næ¬¡ï¼Œä¼šæœ‰å¾ˆå¤šæ¬¡æ˜¯å†—ä½™çš„ï¼‰</p><hr><p>å°ç»“ï¼š</p><p>åœ¨å¾ˆå¤šç¼–ç¨‹è¯­è¨€ä¸­ï¼Œâ€œå£°æ˜â€å°±æ˜¯æŒ‡â€œçº¯å£°æ˜â€ï¼›â€œå®šä¹‰â€å°±æ˜¯æŒ‡â€œå®šä¹‰ä¹Ÿå¯ä»¥ç”¨äºå£°æ˜â€ã€‚æ‰€ä»¥ï¼Œ<code>int x;</code>æ˜¯ä¸€ä¸ªå®šä¹‰ï¼ˆè™½ç„¶ä»–æ—¢æ˜¯å®šä¹‰ï¼Œä¹Ÿæ˜¯å£°æ˜ï¼‰</p><h2 id="2-9-å‘½åå†²çª-amp-å‘½åç©ºé—´"><a href="#2-9-å‘½åå†²çª-amp-å‘½åç©ºé—´" class="headerlink" title="2.9 å‘½åå†²çª&amp;å‘½åç©ºé—´"></a>2.9 å‘½åå†²çª&amp;å‘½åç©ºé—´</h2><h3 id="å‘½åå†²çª"><a href="#å‘½åå†²çª" class="headerlink" title="å‘½åå†²çª"></a>å‘½åå†²çª</h3><p><strong>å‘½åå†²çªï¼šnaming collision</strong> (or <strong>naming conflict</strong>).</p><blockquote><p>å°†ä¸¤ä¸ªåŒåçš„æ ‡è¯†ç¬¦æ”¾åœ¨åŒä¸€ä¸ªç¨‹åºä¸­ï¼Œç¼–è¯‘å™¨æˆ–è€…é“¾æ¥å™¨æ— æ³•åŒºåˆ†å®ƒä»¬æ—¶ï¼Œå°±ä¼šæŠ¥é”™ã€‚è¿™ç§æƒ…å†µå°±æ˜¯ï¼š<strong>å‘½åå†²çª</strong></p></blockquote><p>ä¾‹å¦‚ï¼š</p><blockquote><p>a.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myFcn</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>main.cpp</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myFcn</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="number">2</span> * x;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç¼–è¯‘å™¨ç¼–è¯‘è¿™ä¸ªç¨‹åºæ—¶ï¼Œå®ƒå°†ä¼š<strong>å•ç‹¬çš„</strong>ç¼–è¯‘<em>a.cpp</em>å’Œ<em>main.cpp</em>ï¼Œæ¯ä¸ªcppæ–‡ä»¶éƒ½ç¼–è¯‘æˆåŠŸã€‚ä½†æ˜¯ï¼Œå½“é“¾æ¥æ—¶ï¼Œé“¾æ¥å™¨å°†ä¼šé“¾æ¥<em>a.cpp</em>å’Œ<em>main.cpp</em>ä¸­æ‰€æœ‰çš„å®šä¹‰åˆ°ä¸€èµ·ï¼Œæ­¤æ—¶å°±å‘ç°å‡½æ•°<em>myFun</em>å‘½åå†²çªäº†ã€‚ã€æ³¨æ„ï¼Œè™½ç„¶å‡½æ•°<em>myFun</em>æ²¡æœ‰è¢«è°ƒç”¨ï¼Œä½†åœ¨é“¾æ¥æ—¶è¿˜æ˜¯ä¼šå‡ºé”™ã€‘</p><p>å‘½åå†²çªä¸€èˆ¬å‡ºç°åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ol><li>ä¸€ä¸ªå‡½æ•°(æˆ–å…¨å±€å˜é‡)çš„ä¸¤ä¸ª(æˆ–å¤šä¸ª)å®šä¹‰è¢«å¼•å…¥åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œè¿™äº›æ–‡ä»¶è¢«ç¼–è¯‘åˆ°åŒä¸€ä¸ªç¨‹åºä¸­ã€‚è¿™å°†å¯¼è‡´ä¸€ä¸ª<strong>é“¾æ¥å™¨é”™è¯¯</strong>ï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚</li><li>ä¸€ä¸ªå‡½æ•°(æˆ–å…¨å±€å˜é‡)çš„ä¸¤ä¸ª(æˆ–å¤šä¸ª)å®šä¹‰è¢«å¼•å…¥åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­(é€šå¸¸é€šè¿‡#include)ã€‚è¿™å°†å¯¼è‡´<strong>ç¼–è¯‘å™¨é”™è¯¯</strong>ã€‚</li></ol><p>å¯¹äº<strong>å±€éƒ¨å˜é‡</strong>ï¼ŒC++æä¾›ä¸€ç§å±€éƒ¨èŒƒå›´çš„æœºåˆ¶ï¼Œå®ƒä½¿å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡ä¸ä¼šå†²çªã€‚ä½†è¿™ç§æœºåˆ¶å¯¹äºå‡½æ•°çš„åå­—æ— æ•ˆã€‚</p><h3 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h3><p><strong>å‘½åç©ºé—´ï¼šnamespace</strong></p><p><strong>å‘½åç©ºé—´ï¼š</strong>ä¹‹æ‰€ä»¥å‡ºæ¥è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼Œæ˜¯å› ä¸ºäººç±»å¯ç”¨çš„å•è¯æ•°å¤ªå°‘ï¼Œå¹¶ä¸”ä¸åŒçš„äººå†™çš„ç¨‹åºä¸å¯èƒ½æ‰€æœ‰çš„å˜é‡éƒ½æ²¡æœ‰é‡åç°è±¡ï¼Œå¯¹äºåº“æ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜å°¤å…¶ä¸¥é‡ï¼Œå¦‚æœä¸¤ä¸ªäººå†™çš„åº“æ–‡ä»¶ä¸­å‡ºç°åŒåçš„å˜é‡æˆ–å‡½æ•°(ä¸å¯é¿å…)ï¼Œä½¿ç”¨èµ·æ¥å°±æœ‰é—®é¢˜äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº†åå­—ç©ºé—´è¿™ä¸ªæ¦‚å¿µï¼Œé€šè¿‡ä½¿ç”¨ namespace xxxï¼›ä½ æ‰€ä½¿ç”¨çš„åº“å‡½æ•°æˆ–å˜é‡å°±æ˜¯åœ¨è¯¥åå­—ç©ºé—´ä¸­å®šä¹‰çš„ï¼Œè¿™æ ·ä¸€æ¥å°±ä¸ä¼šå¼•èµ·ä¸å¿…è¦çš„å†²çªäº†ã€‚</p><blockquote><p>æ³¨æ„ï¼Œåœ¨åŒä¸€å‘½åç©ºé—´ä¸­ï¼Œæ‰€æœ‰çš„åå­—å¿…é¡»æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚</p></blockquote><h4 id="å…¨å±€å‘½åç©ºé—´"><a href="#å…¨å±€å‘½åç©ºé—´" class="headerlink" title="å…¨å±€å‘½åç©ºé—´"></a>å…¨å±€å‘½åç©ºé—´</h4><p>åœ¨C++ä¸­ï¼Œä»»ä½•æ²¡æœ‰å®šä¹‰åœ¨ ç±»ã€å‡½æ•°ã€æˆ– å‘½åç©ºé—´ çš„åå­—ï¼Œéƒ½è¢«é»˜è®¤çš„å½’ä¸ºâ€œ<strong>å…¨å±€å‘½åç©ºé—´(global namespace)</strong>â€ï¼Œæœ‰æ—¶ä¹Ÿå«â€œ<strong>å…¨å±€èŒƒå›´(global scope)</strong>â€</p><h4 id="std-å‘½åç©ºé—´"><a href="#std-å‘½åç©ºé—´" class="headerlink" title="std å‘½åç©ºé—´"></a>std å‘½åç©ºé—´</h4><p>åœ¨æœ€åˆè®¾è®¡c++æ—¶ï¼Œc++æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰æ ‡è¯†ç¬¦(åŒ…æ‹¬std::cinå’Œstd::cout)éƒ½å¯ä»¥åœ¨æ²¡æœ‰std::å‰ç¼€çš„æƒ…å†µä¸‹ä½¿ç”¨(å®ƒä»¬æ˜¯å…¨å±€å‘½åç©ºé—´çš„ä¸€éƒ¨åˆ†)ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ„å‘³ç€æ ‡å‡†åº“ä¸­çš„ä»»ä½•æ ‡è¯†ç¬¦éƒ½å¯èƒ½ä¸ä½ è‡ªå·±å®šä¹‰çš„æ ‡è¯†ç¬¦çš„åå­—(ä¹Ÿåœ¨å…¨å±€åç§°ç©ºé—´ä¸­å®šä¹‰)å‘ç”Ÿå†²çªã€‚</p><p>ä¸ºäº†é¿å…è¿™ç§å†²çªï¼ŒC++å°†æ‰€æœ‰æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½ç§»å…¥ä¸€ä¸ªå«åš<strong>â€œstd(æ˜¯standardçš„ç®€ç§°)â€çš„å‘½åç©ºé—´</strong>ï¼Œå³ï¼š<strong>std namespace</strong></p><blockquote><p>æ‰€ä»¥ï¼Œä½ çœ‹åˆ°çš„<em>std::cout</em>ï¼Œè¿™å¹¶ä¸æ˜¯å®ƒçš„åå­—ï¼Œå®ƒå®é™…ä¸Šåªæ˜¯<em>cout</em>ï¼Œ<em>std</em>åªæ˜¯å‘½åç©ºé—´çš„åå­—ï¼Œè€Œ<em>cout</em>æ˜¯std namespaceä¸­çš„ä¸€éƒ¨åˆ†ã€‚</p></blockquote><p><strong>ã€æ³¨ã€‘ï¼šå¦‚æœä½ ä½¿ç”¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­çš„æ ‡è¯†ç¬¦ï¼Œä½ å¿…é¡»å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦æ˜¯åœ¨è¿™ä¸ªå‘½åç©ºé—´å†…ã€‚</strong></p><hr><ol><li><p><strong>æ˜¾ç¤ºçš„å‘½åç©ºé—´é™å®šç¬¦ std::</strong></p><p>æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ï¼šå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬ä½¿ç”¨<em>cout</em>æ˜¯æ¥è‡ª <em>std</em>è¿™ä¸ªnamespace(å‘½åç©ºé—´)çš„ã€‚å¯ä»¥ä½¿ç”¨å‰ç¼€ â€œstd::â€ æ¥å®Œæˆï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// when we say cout, we mean the cout defined in the std namespace</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>â€˜::â€™</strong> æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå«åš<strong>â€œä½œç”¨åŸŸè§£æç¬¦(scope resolution operator)â€</strong>ã€‚</p><p>åœ¨å®ƒå·¦è¾¹çš„æ ‡è¯†ç¬¦è¡¨ç¤ºï¼šæ‰€åœ¨å‘½åç©ºé—´çš„åç§°ï¼›åœ¨å®ƒå³è¾¹çš„æ ‡è¯†ç¬¦è¡¨ç¤ºï¼šè¿™ä¸ªå‘½åç©ºé—´çš„ä¸€ä¸ª æ ‡è¯†ç¬¦ã€‚</p><p>ã€æ³¨ã€‘å¦‚æœâ€œ::â€çš„å·¦è¾¹æ²¡æœ‰ä¸œè¥¿ï¼Œåˆ™é»˜è®¤ä¸ºå®ƒåœ¨<strong>å…¨å±€å‘½åç©ºé—´( global namespace )</strong>ä¸­ã€‚</p></blockquote><p>std::coutå°±è¡¨ç¤º<em>cout</em>æ˜¯åœ¨ std namsoace ä¸­ã€‚</p></li></ol><ol start="2"><li><p><strong>using namespace std</strong></p><p>å¦ä¸€ç§æ–¹æ³•æ˜¯ï¼šç”¨<strong>ä½¿ç”¨æŒ‡ä»¤(using directive)**</strong><code>using namespace std</code>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// this is a using directive telling the compiler to check the std namespace when resolving identifiers with no prefix</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// cout has no prefix, so the compiler will check to see if cout is defined locally or in namespace std</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>using directive</strong>ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ å½“è¯•å›¾è§£æä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨<u>å‘½åç©ºé—´å‰ç¼€(namespace prefix)</u>çš„æ ‡è¯†ç¬¦æ—¶ï¼Œæ£€æŸ¥ä¸€ä¸ªæŒ‡å®šçš„å‘½åç©ºé—´ã€‚</p></blockquote><p><strong>ã€ä¸æ¨èæ­¤æ–¹æ³•ã€‘</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // imports the declaration of std::cout</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// makes std::cout accessible as "cout"</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cout</span><span class="params">()</span> <span class="comment">// declares our own "cout" function</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>; <span class="comment">// Compile error!  Which cout do we want here?  The one in the std namespace or the one we defined above?</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µï¼Œå°†ä¸ä¼šè¢«ç¼–è¯‘ã€‚å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“æˆ‘ä»¬åˆ°åº•æƒ³ç”¨æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„coutå‡½æ•°ï¼Œè¿˜æ˜¯æƒ³ç”¨ stdå‘½åç©ºé—´ ä¸­çš„coutå‡½æ•°ã€‚</p><p>å¹¶ä¸”ï¼Œè™½ç„¶æ ‡è¯†ç¬¦åç§°ç°åœ¨å¯èƒ½ä¸å†²çªï¼Œä½†åœ¨å°†æ¥çš„è¯­è¨€ä¿®è®¢ä¸­ï¼Œå®ƒå¯èƒ½ä¸æ·»åŠ åˆ°stdåç§°ç©ºé—´çš„æ–°æ ‡è¯†ç¬¦å‘ç”Ÿå†²çªã€‚</p></li></ol><h2 id="2-10-é¢„å¤„ç†å™¨"><a href="#2-10-é¢„å¤„ç†å™¨" class="headerlink" title="2.10 é¢„å¤„ç†å™¨"></a>2.10 é¢„å¤„ç†å™¨</h2><p>åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œä»£ç è¦ç»è¿‡ä¸€ä¸ªé˜¶æ®µï¼Œå«åšâ€œ<strong>ç¿»è¯‘(translation)</strong>â€ã€‚åœ¨ç¿»è¯‘é˜¶æ®µä¼šå‘ç”Ÿè®¸å¤šäº‹æƒ…ï¼Œä»¥ä½¿æ‚¨çš„ä»£ç å‡†å¤‡å¥½è¢«ç¼–è¯‘(å¦‚æœæ‚¨æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨<a href="https://en.cppreference.com/w/cpp/language/translation_phases" target="_blank" rel="noopener">è¿™é‡Œ</a>æ‰¾åˆ°ç¿»è¯‘é˜¶æ®µçš„åˆ—è¡¨)ã€‚åº”ç”¨ç¿»è¯‘çš„ä»£ç æ–‡ä»¶ç§°ä¸º<strong>ç¿»è¯‘å•å…ƒ(translation unit)</strong>ã€‚</p><p>æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šç¿»è¯‘é˜¶æ®µåŒ…å«<strong>é¢„å¤„ç†å™¨(preprocessor)</strong>ã€‚æœ€å¥½å°†é¢„å¤„ç†å™¨çœ‹ä½œæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç¨‹åºï¼Œå®ƒå¤„ç†æ¯ä¸ªä»£ç æ–‡ä»¶ä¸­çš„æ–‡æœ¬éƒ¨åˆ†ã€‚</p><p>å½“é¢„å¤„ç†å™¨è¿è¡Œæ—¶ï¼Œå®ƒä»å¤´åˆ°å°¾çš„æ‰«ææºç æ–‡ä»¶ï¼Œå¯»æ‰¾é¢„å¤„ç†ç¨‹åºæŒ‡ä»¤ã€‚</p><blockquote><p><strong>é¢„å¤„ç†æŒ‡ä»¤(preprocessor directives)ï¼Œä¹Ÿç§°ä½œdirectives</strong>ï¼š<u>æ˜¯ä»¥â€œ#â€ç¬¦å·å¼€å§‹ï¼Œä»¥æ¢è¡Œç¬¦ç»“æŸçš„æŒ‡ä»¤(ä¸æ˜¯åˆ†å·ï¼Œå³ä¸è¦åŠ åˆ†å·)</u>ã€‚</p></blockquote><ul><li><strong>â€œä½¿ç”¨æŒ‡ä»¤(using directives)â€</strong>ä¸æ˜¯é¢„å¤„ç†æŒ‡ä»¤ï¼Œæ‰€ä»¥ä¸ä¼šè¢«é¢„å¤„ç†å™¨å¤„ç†ã€‚æ‰€ä»¥å½“æèµ·â€œdirectiveâ€ï¼Œé€šå¸¸æŒ‡çš„æ˜¯â€œpreprocessor directiveâ€</li></ul><h4 id="include"><a href="#include" class="headerlink" title="include"></a>include</h4><p>å½“ä½ <em>#include*ä¸€ä¸ªæ–‡ä»¶ï¼Œé¢„å¤„ç†å™¨å°†ä¼šæŠŠ</em>#include*æŒ‡ä»¤ æ›¿æ¢ä¸º include fileçš„å†…å®¹ã€‚ï¼ˆinclude file çš„å†…å®¹å°†ä¼šè¢«é¢„å¤„ç†ï¼Œç„¶åè¢«ç¼–è¯‘ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“é¢„å¤„ç†å™¨è¿è¡Œæ—¶ï¼Œé¢„å¤„ç†å™¨å°†ä¼šæŠŠ<code>#include &lt;iostream&gt;</code>æ›¿æ¢ä¸º åä¸ºâ€œiostreamâ€çš„æ–‡ä»¶ã€‚</p></blockquote><h4 id="å®å®šä¹‰"><a href="#å®å®šä¹‰" class="headerlink" title="å®å®šä¹‰"></a>å®å®šä¹‰</h4><p><strong>å®å®šä¹‰ï¼šMacro defines</strong></p><p><em>#include</em> æŒ‡ä»¤å¯ä»¥ç”¨æ¥åˆ›å»º<strong>å®</strong>ã€‚åœ¨C++ä¸­ï¼Œ<strong>å®</strong>æ˜¯å®šä¹‰å¦‚ä½•å°† â€˜è¾“å…¥æ–‡æœ¬â€™ è½¬æ¢ä¸º â€˜æ›¿æ¢è¾“å‡ºæ–‡æœ¬â€™ã€‚</p><p>å®æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼š1ï¸âƒ£<strong>å¯¹è±¡å¼å®</strong>(<em>object-like macros</em>)ã€‚2ï¸âƒ£<strong>å‡½æ•°å¼å®</strong>( <em>function-like macros</em>)</p><ol><li><p>å‡½æ•°å¼å®</p><p>å‡½æ•°å¼å®çš„ä½œç”¨ç±»ä¼¼äºå‡½æ•°ï¼Œå¹¶å…·æœ‰ç±»ä¼¼çš„ç”¨é€”ã€‚</p></li><li><p>å¯¹è±¡å¼å®</p><p>å¯ä»¥è¢«å®šä¹‰æˆä»¥ä¸‹ä¸¤ç§å½¢å¼ï¼š</p><ul><li><p>#define identifier</p></li><li><p>#define identifier substitution_text</p><blockquote><p>æ­¤å¤„ï¼Œidentifierï¼šå®åã€ä¸€èˆ¬æ˜¯å¤§å†™å­—æ¯ï¼Œç”¨ä¸‹åˆ’çº¿è¡¨ç¤ºç©ºæ ¼ã€‘ï¼›substitution_textï¼šæ›¿æ¢æ–‡æœ¬(æ›¿æ¢è¾“å‡ºæ–‡æœ¬)</p></blockquote></li></ul><p>1.å¸¦æœ‰è¾“å‡ºæ–‡æœ¬(substitution_text)ï¼šå½“é¢„å¤„ç†å™¨å¤„ç†æ­¤æ¡æŒ‡ä»¤æ—¶ï¼Œå®å å°†ä¼šè¢«æ›¿æ¢ä¸ºâ€˜è¾“å‡ºæ–‡æœ¬â€™ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MY_NAME <span class="meta-string">"Alex"</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"My name is: "</span> &lt;&lt; MY_NAME;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢„å¤„ç†ç¨‹åºå°†ä¸Šè¿°è½¬æ¢ä¸ºä»¥ä¸‹å†…å®¹:</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"My name is: "</span> &lt;&lt; <span class="string">"Alex"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.ä¸å¸¦è¾“å‡ºæ–‡æœ¬ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> USE_YEN</span></span><br></pre></td></tr></table></figure><p>å¦‚ä½ æ‰€æƒ³ï¼Œè¿™æ¡å®æŒ‡ä»¤å·¥ä½œæ–¹å¼ï¼šæ ‡è¯†ç¬¦çš„ä»»ä½•è¿›ä¸€æ­¥å‡ºç°éƒ½å°†è¢«åˆ é™¤ï¼Œå¹¶å°†è¢«nothingæ›¿æ¢!</p></li></ol><h4 id="æ¡ä»¶ç¼–è¯‘"><a href="#æ¡ä»¶ç¼–è¯‘" class="headerlink" title="æ¡ä»¶ç¼–è¯‘"></a>æ¡ä»¶ç¼–è¯‘</h4><p><strong>æ¡ä»¶ç¼–è¯‘ï¼šconditional compilation</strong></p><p>ä½¿ç”¨<strong>æ¡ä»¶ç¼–è¯‘çš„é¢„å¤„ç†æŒ‡ä»¤</strong>å¯ä»¥è®¾ç½®åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ç¼–è¯‘ï¼Œä»€ä¹ˆæ¡ä»¶ä¸‹ä¸ç¼–è¯‘ã€‚æ¯”è¾ƒå¸¸è§çš„æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š<em>#ifdef*ã€</em>#ifndef<em>ã€</em>#endif*</p><ul><li><p><strong><em>#ifdef</em></strong> é¢„å¤„ç†æŒ‡ä»¤å…è®¸é¢„å¤„ç†å™¨æ£€æŸ¥è¿™ä¸ªæ ‡è¯†ç¬¦(identifier)æ˜¯å¦å·²ç»è¢« #define(å®šä¹‰äº†)ã€‚å¦‚æœè¢«å®šä¹‰ï¼Œé‚£ä¹ˆåœ¨<em>#ifdef*å’Œ</em>#endif*ä¹‹é—´çš„ä»£ç å°†ä¼šè¢«ç¼–è¯‘ï¼›å¦‚æœæ²¡è¢«å®šä¹‰ï¼Œè¿™äº›ä»£ç å°†ä¼šè¢«å¿½ç•¥ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRINT_JOE</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> PRINT_JOE</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Joe\n"</span>; <span class="comment">// if PRINT_JOE is defined, compile this code</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> PRINT_BOB</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob\n"</span>; <span class="comment">// if PRINT_BOB is defined, compile this code</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong><em>ifndef</em></strong>æŒ‡ä»¤å’Œ<em>ifdef*æŒ‡ä»¤çš„ä½œç”¨æ˜¯ç›¸åçš„ã€‚å³ï¼Œå¦‚æœè¿™ä¸ªæ ‡è¯†ç¬¦æ²¡æœ‰è¢« #defineï¼Œé‚£ä¹ˆåœ¨</em>#ifndef<em>å’Œ</em>#endif*ä¹‹é—´çš„ä»£ç æ‰ä¼šè¢«ç¼–è¯‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> PRINT_BOB</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob\n"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœæ˜¯â€œBobâ€,å› ä¸ºPRINT_BOBæ²¡æœ‰è¢« #defineï¼Œæ‰€æœ‰æ‰ä¼šæ‰§è¡Œã€‚</p></li><li><p><strong><em>#if 0</em></strong> ï¼šæ¡ä»¶ç¼–è¯‘çš„å¦ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯ä½¿ç”¨<em>#if 0</em>æ¥æ’é™¤æ­£åœ¨ç¼–è¯‘çš„ä»£ç å—(å°±åƒå®ƒåœ¨ä¸€ä¸ªæ³¨é‡Šå—ä¸­ä¸€æ ·):</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Joe\n"</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> 0 <span class="comment">// Don't compile anything starting here</span></span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Bob\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Steve\n"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// until this point</span></span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ã€æ³¨ã€‘<strong>å¯¹è±¡å¼å®</strong>ä¸ä¼šå½±å“<strong>é¢„å¤„ç†å™¨çš„å…¶ä»–æŒ‡ä»¤</strong></p><p>å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FOO 9 <span class="comment">// Here's a macro substitution</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> FOO <span class="comment">// This FOO does not get replaced because itâ€™s part of another preprocessor directive</span></span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; FOO; <span class="comment">// This FOO gets replaced with 9 because it's part of the normal code</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h4 id="å®å®šä¹‰çš„èŒƒå›´"><a href="#å®å®šä¹‰çš„èŒƒå›´" class="headerlink" title="å®å®šä¹‰çš„èŒƒå›´"></a>å®å®šä¹‰çš„èŒƒå›´</h4><p>æŒ‡ä»¤åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œä»ä¸Šåˆ°ä¸‹é€ä¸ªæ–‡ä»¶åœ°è§£æã€‚</p><ol><li><strong>åŒä¸€æ–‡ä»¶ä¸­</strong></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MY_NAME <span class="meta-string">"Alex"</span></span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"My name is: "</span> &lt;&lt; MY_NAME;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶ï¼Œä¸Šé¢çš„ä»£ç è¡¨é¢ä¸Šçœ‹èµ·æ¥ï¼š<em>#define MY_NAME â€œAlexâ€</em>æ˜¯å®šä¹‰åœ¨å‡½æ•°<em>foo</em>å†…éƒ¨çš„ã€‚<strong>ä½†æ˜¯é¢„å¤„ç†å™¨å°†ä¸ä¼šæ³¨æ„ï¼Œå› ä¸ºå®ƒä¸æ‡‚C++ä¸­çš„æ¦‚å¿µï¼Œä¾‹å¦‚å‡½æ•°ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªç¨‹åºçš„æ‰§è¡Œæµç¨‹ä¸#define MY_NAME â€œAlexâ€åœ¨å‡½æ•°fooä¹‹å‰æˆ–ä¹‹åå®šä¹‰çš„è¡Œä¸ºç›¸åŒã€‚</strong>ä½†æ˜¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹ æƒ¯äºå°† <code>#define identifiers</code>è¿™ç§å®å®šä¹‰æ”¾åœ¨å‡½æ•°çš„å¤–é¢ã€‚</p><ol start="2"><li><strong>åŒä¸€é¡¹ç›®çš„ä¸åŒæ–‡ä»¶ä¸­</strong></li></ol><p>é¢„å¤„ç†ç¨‹åºå®Œæˆåï¼Œå°†ä¸¢å¼ƒè¯¥æ–‡ä»¶ä¸­å®šä¹‰çš„æ‰€æœ‰æ ‡è¯†ç¬¦ã€‚è¿™æ„å‘³ç€æŒ‡ä»¤ä»…ä»<strong>å®šä¹‰ç‚¹</strong>åˆ°<strong>å®šä¹‰å®ƒä»¬çš„æ–‡ä»¶æœ«å°¾</strong>æœ‰æ•ˆã€‚<u>åœ¨ä¸€ä¸ªä»£ç æ–‡ä»¶ä¸­å®šä¹‰çš„æŒ‡ä»¤ä¸ä¼šå½±å“åŒä¸€é¡¹ç›®ä¸­çš„å…¶ä»–ä»£ç æ–‡ä»¶ã€‚</u></p><p>exampleï¼š</p><p><code>function.cpp:</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> PRINT</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Printing!"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> PRINT</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Not printing!"</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doSomething</span><span class="params">()</span></span>; <span class="comment">// forward declaration for function doSomething()</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRINT</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    doSomething();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œçš„ç»“æœæ˜¯ï¼šNot printing!</p><p><strong>å› ä¸ºæ–‡ä»¶ä¹‹é—´çš„å®å®šä¹‰äº’ä¸å½±å“ã€‚</strong></p><h2 id="2-11-å¤´æ–‡ä»¶"><a href="#2-11-å¤´æ–‡ä»¶" class="headerlink" title="2.11 å¤´æ–‡ä»¶"></a>2.11 å¤´æ–‡ä»¶</h2><p><strong>å¤´æ–‡ä»¶ï¼šHeader files</strong></p><p>å½“ç¨‹åºå˜å¾—è¶Šæ¥è¶Šå¤§äº†ï¼Œå¯¹æ¯ä¸ªå‡½æ•°éƒ½è¿›è¡Œæå‰å£°æ˜æ˜¯å¾ˆä¹å‘³æ— è¶£çš„ã€‚å¦‚æœèƒ½å¤Ÿå°†æ‰€æœ‰çš„ æå‰å£°æ˜ æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œç„¶ååœ¨éœ€è¦æ—¶å¯¼å…¥å®ƒä»¬ï¼Œè¿™ä¸æ˜¯å¾ˆå¥½å—?</p><blockquote><p><strong>code files</strong>ï¼š<strong>æºæ–‡ä»¶(åç¼€ .cpp)</strong>ï¼›<strong>header files</strong>ï¼š<strong>å¤´æ–‡ä»¶(åç¼€ .h æˆ– .hpp)</strong></p></blockquote><p>å¤´æ–‡ä»¶çš„ä¸»è¦ç”¨é€”å°±æ˜¯ï¼šå°† å£°æ˜ å¼•å…¥ æºæ–‡ä»¶ ä¸­ã€‚</p><h4 id="ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶"><a href="#ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶"></a>ä½¿ç”¨æ ‡å‡†åº“å¤´æ–‡ä»¶</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºä½¿ç”¨<em>std::cout</em>ã€‚ä½†æ˜¯è¿™ä¸ªç¨‹åºæ²¡æœ‰æä¾›å…³äº<em>std::cout</em>çš„å£°æ˜æˆ–è€…å®šä¹‰ï¼Œé‚£ç¼–è¯‘å™¨æ˜¯å¦‚ä½•çŸ¥é“<em>std::cout</em>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç­”ï¼šå› ä¸º<em>std::cout<em>åœ¨å¤´æ–‡ä»¶â€œiostreamâ€ ä¸­ å·²ç»æå‰å£°æ˜è¿‡äº†ã€‚å½“æˆ‘ä»¬<code>#include &lt;iostream&gt;</code>æ—¶ï¼Œæˆ‘ä»¬å°±è¯·æ±‚é¢„å¤„ç†å™¨å°†å¤´æ–‡ä»¶â€œiostreamâ€ä¸­çš„æ‰€æœ‰å†…å®¹(å½“ç„¶ä¹ŸåŒ…å«</em>std::cout</em>)éƒ½å¤åˆ¶è¿‡æ¥ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong><red>å½“<code>#include xxx</code>æ—¶ï¼Œxxxå¤´æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹éƒ½è¢«å¼•å…¥åˆ°å½“å‰æ–‡ä»¶ä¸­ã€‚</red></p></blockquote><p><strong>å¤´æ–‡ä»¶é€šå¸¸åªåŒ…å«ï¼šå‡½æ•°å’Œå¯¹è±¡çš„å£°æ˜ï¼Œä¸åŒ…å«å®ƒä»¬çš„å®šä¹‰</strong>ã€‚</p><blockquote><p>å¦‚ <em>std::cout</em>åœ¨å¤´æ–‡ä»¶â€œiostreamâ€ä¸­<u>å£°æ˜</u>ï¼Œ ä½† <u>å®šä¹‰</u>ä¸ºc++æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨é“¾æ¥å™¨é˜¶æ®µè‡ªåŠ¨é“¾æ¥åˆ°ç¨‹åºä¸­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter2/IncludeLibrary.png" alt="IncludeLibrary"></p></blockquote><h4 id="åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶"><a href="#åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶"></a>åˆ›å»ºè‡ªå·±çš„å¤´æ–‡ä»¶</h4><p>æ­¥éª¤ï¼š</p><ol><li><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦(header guaed)</strong></li><li>ç„¶åæ·»åŠ å¤´æ–‡ä»¶(åç¼€ .h)è¿›è¡Œå£°æ˜ï¼›ç›¸åº”çš„ä¹Ÿè¦æ·»åŠ æºæ–‡ä»¶(åç¼€ .cpp)è¿›è¡Œå®šä¹‰ã€‚ã€æ³¨æ„å¤´æ–‡ä»¶ã€æºæ–‡ä»¶çš„åå­—è¦ä¸€æ ·ã€‘</li></ol><p>åˆ›å»ºå®Œä¹‹åï¼š</p><p><code>add.h</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1) We really should have a header guard here, but will omit it for simplicity (we'll cover header guards in the next lesson)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2) This is the content of the .h file, which is where the declarations go</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>; <span class="comment">// function prototype for add.h -- don't forget the semicolon!</span></span><br></pre></td></tr></table></figure><p><code>add.cpp</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"add.h"</span> <span class="comment">// Insert contents of add.h at this point.  Note use of double quotes here.ã€ä¸æ˜¯æ ‡å‡†åº“çš„å¤´æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨åŒå¼•å·""ã€‘</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum of 3 and 4 is "</span> &lt;&lt; add(<span class="number">3</span>, <span class="number">4</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç¨‹åºçš„ç¼–è¯‘ã€é“¾æ¥è¿‡ç¨‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter2/IncludeHeader.png" alt="IncludeHeader"></p><h4 id="å¤´æ–‡ä»¶çš„-lt-gt-amp-â€â€"><a href="#å¤´æ–‡ä»¶çš„-lt-gt-amp-â€â€" class="headerlink" title="å¤´æ–‡ä»¶çš„&lt;&gt;&amp;â€â€"></a>å¤´æ–‡ä»¶çš„&lt;&gt;&amp;â€â€</h4><p><strong>å°–æ‹¬å·</strong>ï¼š<strong>Angled brackets</strong> ï¼Œå³<strong>&lt;&gt;</strong>ã€‚å°–æ‹¬å·ç”¨æ¥å‘Šè¯‰é¢„å¤„ç†ç¨‹åºæˆ‘ä»¬åŒ…å«äº†ç¼–è¯‘å™¨åŒ…å«çš„å¤´æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒåº”è¯¥åœ¨<u>ç³»ç»Ÿç›®å½•ä¸­æŸ¥æ‰¾é‚£ä¸ªå¤´æ–‡ä»¶</u>ã€‚</p><p><strong>åŒå¼•å·</strong>ï¼š<strong>double-quotes</strong>ï¼Œå³<strong>â€œâ€</strong>ã€‚åŒå¼•å·å‘Šè¯‰é¢„å¤„ç†å™¨è¿™æ˜¯ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¤´æ–‡ä»¶ï¼Œæ‰€ä»¥å®ƒåº”è¯¥åœ¨å½“å‰ç›®å½•ä¸­å¯»æ‰¾è¿™ä¸ªå¤´æ–‡ä»¶ã€‚å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå®ƒä¼šæ£€æŸ¥å…¶ä»–çš„åŒ…å«è·¯å¾„(å·²æŒ‡å®šä¸ºcompiler/IDEè®¾ç½®çš„ä¸€éƒ¨åˆ†çš„è·¯å¾„)ã€‚å¦‚æœè¿˜æ˜¯å¤±è´¥çš„è¯ï¼Œå®ƒå°†å»ç³»ç»Ÿç›®å½•ä¸­å¯»æ‰¾è¿™ä¸ªå¤´æ–‡ä»¶ã€‚</p><h4 id="â€œiostreamâ€æ²¡-h-åç¼€ï¼Ÿ"><a href="#â€œiostreamâ€æ²¡-h-åç¼€ï¼Ÿ" class="headerlink" title="â€œiostreamâ€æ²¡ .h åç¼€ï¼Ÿ"></a>â€œiostreamâ€æ²¡ .h åç¼€ï¼Ÿ</h4><ol><li><p>å¥½å¥‡ï¼Œä¸ºä»€ä¹ˆâ€œiostreamâ€(æˆ–è€…å…¶ä»–æ ‡å‡†åº“å¤´æ–‡ä»¶)æ²¡æœ‰åç¼€ .hï¼Ÿ</p><p>ç­”ï¼šå› ä¸º<em>iostream.h</em>æ˜¯å¦ä¸€ä¸ªå¤´æ–‡ä»¶</p></li><li><p><em>iostream.h</em>ä¸<em>iostream</em>ï¼š</p><p>åœ¨C++æœ€å¼€å§‹åˆ›å»ºçš„æ—¶å€™ï¼Œæ‰€æœ‰æ ‡å‡†åº“éƒ½æ˜¯æœ‰ .h åç¼€çš„ã€‚ä½†æ˜¯ï¼Œåæ¥ANSIå§”å‘˜ä¼šä¿®æ”¹C++ï¼Œå°†æ‰€æœ‰çš„æ ‡å‡†åº“æ”¾åœ¨ <em>std å‘½åç©ºé—´</em> ä¸­ï¼Œè¿›è€Œé¿å…ä¸ç”¨æˆ·è‡ªå®šä¹‰çš„æ ‡è¯†ç¬¦ å†²çªã€‚</p><p>ä½†æ˜¯ä¸ºé¢˜æ¥äº†ï¼Œå°†è¿™äº›æ ‡å‡†åº“ç§»å…¥<em>std å‘½åç©ºé—´</em> åï¼Œä»¥å‰çš„ç¨‹åºå°†æ— æ³•è¿è¡Œã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ–°çš„å¤´æ–‡ä»¶ï¼š<em>iostream</em>å‡ºç°ï¼Œè¿™ä¸ªæ–°å¤´æ–‡ä»¶åŒ…å«äº† <em>iostream.h</em>çš„æ‰€æœ‰å†…å®¹ã€‚ç„¶åï¼Œæ—§çš„ç¨‹åºä¾ç„¶å¯ä»¥ç”¨<code>#include &lt;iostream.h&gt;</code>ï¼Œæ–°ç¨‹åºå°±ç”¨<code>#include &lt;iostream&gt;</code></p></li></ol><h4 id="å¤´æ–‡ä»¶è·¯å¾„å»ºè®®"><a href="#å¤´æ–‡ä»¶è·¯å¾„å»ºè®®" class="headerlink" title="å¤´æ–‡ä»¶è·¯å¾„å»ºè®®"></a>å¤´æ–‡ä»¶è·¯å¾„å»ºè®®</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"headers/myHeader.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../moreHeaders/myOtherHeader.h"</span></span></span><br></pre></td></tr></table></figure><p>è¿™ç§è®¾ç½®æˆè·¯å¾„å½¢å¼çš„å¤´æ–‡ä»¶ï¼Œå‡è®¾ç°åœ¨è·¯å¾„æ²¡é—®é¢˜ã€‚ä½†æ˜¯å¾ˆæœ‰å¯èƒ½åœ¨æŸä¸€å¤©ï¼Œä½ çš„æ–‡ä»¶ä½ç½®å°±ä¸å°å¿ƒçš„è¢«ç§»åŠ¨äº†ï¼Œè¿™æ—¶å€™å°±ç”¨ä¸äº†äº†ã€‚</p><p>ã€å»ºè®®ã€‘å°†ä½ å¹³å¸¸ä¼šç”¨åˆ°çš„å¾ˆå¤šä¸åŒçš„æ–‡ä»¶æ”¾åœ¨æ¯”è¾ƒå›ºå®šçš„åœ°æ–¹ï¼Œç„¶ååœ¨ä½ çš„ compiler/IDE è¿™ä¸ªå›ºå®šåœ°æ–¹çš„ä½ç½®ã€‚è¿™æ ·å½“å®ƒåœ¨å½“å‰ç›®å½•ä¸­æ‰¾ä¸åˆ°å®ƒä»¬æ—¶ï¼Œå®ƒå°±ä¼šå»ä½ è®¾ç½®çš„å›ºå®šä½ç½®æ‰¾ã€‚è¿™é€šå¸¸å¯ä»¥é€šè¿‡åœ¨IDEé¡¹ç›®è®¾ç½®ä¸­è®¾ç½®åŒ…å«è·¯å¾„æˆ–æœç´¢ç›®å½•æ¥å®ç°ã€‚</p><blockquote><p>visual studioè®¾ç½®æ–¹æ³•ï¼š</p><p>åœ¨â€œè§£å†³æ–¹æ¡ˆâ€ä¸­ï¼Œç‚¹å‡»projectçš„â€œå±æ€§â€ï¼Œç„¶åçœ‹åˆ°â€œVC++ç›®å½•â€ä¸­çš„â€œåŒ…å«ç›®å½•(include directories)â€ï¼Œåœ¨è¿™é‡Œé¢æ·»åŠ ä½ è¦ä½¿ç”¨çš„å¤´æ–‡ä»¶çš„ç›®å½•ã€‚</p></blockquote><p>è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œå¦‚æœè¦æ›´æ”¹ç›®å½•ç»“æ„ï¼Œåªéœ€æ›´æ”¹å•ä¸ªç¼–è¯‘å™¨æˆ–IDEè®¾ç½®ï¼Œè€Œä¸å¿…æ›´æ”¹æ¯ä¸ªä»£ç æ–‡ä»¶ã€‚</p><h2 id="2-12-å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"><a href="#2-12-å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦" class="headerlink" title="2.12 å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"></a>2.12 å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</h2><p><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦ï¼šheader guards</strong></p><h3 id="é‡å¤å®šä¹‰"><a href="#é‡å¤å®šä¹‰" class="headerlink" title="é‡å¤å®šä¹‰"></a>é‡å¤å®šä¹‰</h3><p><strong>duplicate definitionï¼šé‡å¤å®šä¹‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å˜é‡é‡å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x; <span class="comment">// this is a definition for variable x</span></span><br><span class="line">    <span class="keyword">int</span> x; <span class="comment">// compile error: duplicate definition</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡½æ•°é‡å®šä¹‰</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">()</span> <span class="comment">// this is a definition for function foo</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">()</span> <span class="comment">// compile error: duplicate definition</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; foo();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ¯”è¾ƒå®¹æ˜“ä¿®å¤ã€‚</p><hr><p>ä½†æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­çš„å®šä¹‰è¢«includeä¸æ­¢ä¸€æ¬¡ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨ ä¸€ä¸ªå¤´æ–‡ä»¶ åˆ#include å…¶ä»–å¤´æ–‡ä»¶ï¼š</p><p><code>square.h</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œä¸å»ºè®®å‡ºç° å®šä¹‰ï¼›ä½†æ˜¯è¿™é‡Œä¸ºäº†æ–¹ä¾¿ä¸¾ä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>geometry.h</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span></span></span><br></pre></td></tr></table></figure><p><code>main.cpp</code>:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geometry.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªç¨‹åºã€‚é¦–å…ˆï¼Œåœ¨<code>main.cpp</code>ä¸­<em>#include square.h</em> ï¼Œå®ƒ(<em>square.h</em>)å°†<code>getSquareSides</code>å‡½æ•°çš„å®šä¹‰å¤åˆ¶åˆ°main.cppä¸­ã€‚ç„¶åï¼Œ<code>main.cpp</code>åˆ<em>#include geometry.h</em> ï¼Œå®ƒ(<em>geometry.h</em>)åˆåŒ…å«äº†<em>square.h</em>ï¼Œæ‰€ä»¥ä¹Ÿä¼šå°†<em>square.h</em>ä¸­çš„å†…å®¹(åŒ…æ‹¬<code>getSquareSides</code>å‡½æ•°)å¤åˆ¶åˆ°<em>geometry.h</em>ï¼Œè¿›è€Œä¹Ÿå°±è¢«å¤åˆ¶åˆ°<em>main.cpp</em>ä¸­ã€‚</p><p>æ‰€ä»¥ï¼Œå½“è§£æå®Œæ‰€æœ‰çš„<em>#include</em>ä¹‹åï¼Œmain.cppå°±å˜æˆè¿™æ ·ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span>  <span class="comment">// from square.h</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span> <span class="comment">// from geometry.h (via square.h)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œå°±ä¼šå‡ºç°é‡å¤å®šä¹‰ï¼Œç¼–è¯‘ä¹Ÿä¼šå‡ºé”™ã€‚æ¯ä¸ªå•ç‹¬çš„æ–‡ä»¶æ²¡é—®é¢˜ï¼Œä½†æ˜¯å› ä¸ºmain.cppæœ€ç»ˆ#includeäº†ä¸¤æ¬¡square.hçš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡åˆ°äº†é—®é¢˜ã€‚å¦‚ä½•è§£å†³å‘¢ï¼Ÿï¼Ÿï¼Ÿç­”ï¼šä½¿ç”¨<strong>header guard</strong></p><h3 id="å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"><a href="#å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦" class="headerlink" title="å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦"></a>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</h3><p><strong>å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦(header guard)</strong>æ˜¯<strong>æ¡ä»¶ç¼–è¯‘(conditional compilation)</strong>çš„æŒ‡ä»¤ï¼Œå®ƒçš„å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SOME_UNIQUE_NAME_HERE <span class="comment">//SOME_UNIQUE_NAME_HEREï¼šä½ å¯ä»¥ç”¨ä»»ä½•åå­—ä»£æ›¿å®ƒ</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SOME_UNIQUE_NAME_HERE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯å†™å…³äº å£°æ˜ çš„ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>å½“è¿™ä¸ªå¤´æ–‡ä»¶è¢«<em>#included</em>æ—¶ï¼Œé¢„å¤„ç†å™¨æ£€æŸ¥<code>SOME_UNIQUE_NAME_HERE</code>æ˜¯å¦è¢«å®šä¹‰è¿‡ã€‚</p><ul><li>å¦‚æœè¿™æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œ<code>SOME_UNIQUE_NAME_HERE</code>è¿˜æ²¡æœ‰è¢«åˆ›å»ºã€‚ç„¶åå°±ä¼šå®šä¹‰<code>SOME_UNIQUE_NAME_HERE</code>ï¼Œè€Œä¸”ä¼šåŒ…å«æ–‡ä»¶çš„å†…å®¹ã€‚</li><li>å¦‚æœè¿™ä¸ªå¤´æ–‡ä»¶ä¹‹å‰å·²ç»è¢«åŒ…å«åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆ<code>SOME_UNIQUE_NAME_HERE</code>æ˜¯å·²ç»è¢«å®šä¹‰è¿‡çš„ï¼Œè€Œä¸”å…¶å†…å®¹ä¹Ÿä»¥ç»è¢«åŒ…å«åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚æ‰€ä»¥è¿™ä¸ªå¤´æ–‡ä»¶çš„å†…å®¹å°†ä¼šè¢«å¿½ç•¥ï¼ˆç”±äº<strong><code>#ifndef</code></strong>ï¼‰ã€‚</li></ul><hr><p><strong>æ¯ä¸€ä¸ªå¤´æ–‡ä»¶éƒ½åº”è¯¥è¦æœ‰å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</strong>ã€‚</p><hr><p><strong>å¥½çš„å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦å‘½åè§„åˆ™</strong>ï¼š</p><p><code>&lt;PROJECT&gt;_&lt;PATH&gt;_&lt;FILE&gt;_H</code>æˆ–è€…<code>&lt;FILE&gt;_&lt;LARGE RANDOM NUMBER&gt;_H</code>æˆ–è€…<code>&lt;FILE&gt;_&lt;CREATION DATE&gt;_H</code></p><hr><p>è¯·æ³¨æ„ï¼Œå¤´æ–‡ä»¶ä¿æŠ¤çš„ç›®æ ‡æ˜¯é˜²æ­¢<strong>æºæ–‡ä»¶</strong>å¤šæ¬¡æ¥æ”¶åˆ°è¢«ä¿æŠ¤çš„<strong>å¤´æ–‡ä»¶</strong>ã€‚æ ¹æ®è®¾è®¡ï¼Œå¤´æ–‡ä»¶ä¿æŠ¤<strong>ä¸</strong>ä¼šé˜»æ­¢å°†ç»™å®šçš„å¤´æ–‡ä»¶(ä¸€æ¬¡)åŒ…å«åˆ°å•ç‹¬çš„æºç æ–‡ä»¶ä¸­ã€‚è¿™ä¹Ÿä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼š</p><p><code>square.h</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SQUARE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SQUARE_H</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquareSides</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquarePerimeter</span><span class="params">(<span class="keyword">int</span> sideLength)</span></span>; <span class="comment">// forward declaration for getSquarePerimeter</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><code>square.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span>  <span class="comment">// square.h is included once here</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSquarePerimeter</span><span class="params">(<span class="keyword">int</span> sideLength)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sideLength * getSquareSides();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>main.cpp</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"square.h"</span> <span class="comment">// square.h is also included once here</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"a square has "</span> &lt;&lt; getSquareSides() &lt;&lt; <span class="string">" sides\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"a square of length 5 has perimeter length "</span> &lt;&lt; getSquarePerimeter(<span class="number">5</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œsquare.håŒ…å«åœ¨main.cppå’Œsquare.cppä¸­ã€‚è¿™æ„å‘³ç€square.hçš„å†…å®¹å°†è¢«åŒ…å«ä¸€æ¬¡åˆ°square.cppä¸­ï¼Œä¸€æ¬¡åˆ°main.cppä¸­ã€‚</p><blockquote><p>ç»†èŠ‚ï¼š</p><p>å½“<code>square.h</code>è¢«åŒ…å«åœ¨<code>square.cpp</code>ä¸­æ—¶ï¼Œåœ¨<code>square.cpp</code>ç»“æŸä¹‹å‰ï¼Œ<code>SQUARE_H</code>éƒ½ä¸€ç›´è¢«å®šä¹‰ã€‚ï¼ˆè¿™é˜»æ­¢äº†<code>square.h</code>è¢«å¤šæ¬¡åŒ…å«äº<code>square.cpp</code>ã€‚ä¹ŸçœŸæ˜¯å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦èµ·ä½œç”¨çš„ï¼‰ã€‚ç„¶è€Œï¼Œä¸€æ—¦<code>square.cpp</code>ç»“æŸåï¼Œ<code>SQUARE_H</code>å°†ä¸å†è¢«å®šä¹‰ã€‚è¿™å°±æ„å‘³ç€å½“é¢„å¤„ç†å™¨è¿è¡Œ<code>main.cpp</code>æ—¶ï¼Œ<code>SQUARE_H</code>åœ¨<code>main.cpp</code>ä¸­æœ€åˆæ˜¯æ²¡æœ‰å®šä¹‰çš„ã€‚</p><p>ç»“æœå°±æ˜¯ï¼Œ<code>square.cpp</code>å’Œ<code>main.cpp</code>éƒ½å¤åˆ¶äº†<em>getSquareSides</em>çš„å®šä¹‰ã€‚è¿™ä¸ªç¨‹åºå°†<strong>å¯ä»¥è¢«ç¼–è¯‘</strong>ï¼Œä½†æ˜¯ä¼š<strong>é“¾æ¥å‡ºé”™</strong>ï¼ˆé“¾æ¥å™¨ä¼šæŠ±æ€¨ä¸ºä»€ä¹ˆä¼šæœ‰ä¸æ­¢ä¸€ä¸ªçš„<em>getSquareSides</em>çš„å®šä¹‰ï¼‰</p></blockquote><p><strong>æœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯ï¼šå°†å‡½æ•°çš„<u>å®šä¹‰</u>æ”¾åœ¨æºæ–‡ä»¶ä¸­(å³ .cppæ–‡ä»¶ä¸­)ï¼Œå¤´æ–‡ä»¶ä¸­åªå«æœ‰<u>å£°æ˜</u>ã€‚</strong></p><h3 id="pragma-once"><a href="#pragma-once" class="headerlink" title="#pragma once"></a>#pragma once</h3><p><code>#program once</code>çš„ä½œç”¨å’Œå¤´æ–‡ä»¶æ ‡è¯†ç¬¦ç›¸åŒï¼Œä½†æ˜¯å®ƒæ›´åŠ çŸ­ã€‚</p><blockquote><p>ä½†æ˜¯ï¼Œ<code>#program once</code>ä¸æ˜¯C++å®˜æ–¹åŸç”Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥<strong>ä¸æ˜¯æ‰€æœ‰çš„ç¼–è¯‘å™¨éƒ½æ”¯æŒå®ƒ</strong>ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter-10</title>
      <link href="/archives/2f66ae56.html"/>
      <url>/archives/2f66ae56.html</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©çš„æ”¹è¿›å†…å®¹ï¼š</p><ol><li>å¦‚ä½•è¿›è¡Œè¯­æ³•Fenixå’Œè§£é‡ŠPascalçš„ç¨‹åºå¤´éƒ¨ï¼›</li><li>å¦‚ä½•è¿›è¡Œè¯­æ³•åˆ†æPascalçš„å˜é‡å£°æ˜ï¼›</li><li>å°†æ›´æ–°è§£é‡Šå™¨ï¼Œç”¨<em>DIV</em>å…³é”®å­—æ¥è¡¨ç¤ºæ•´æ•°çš„å‡ºå‘ã€ç”¨å“â€<strong>/</strong>â€œæ¥è¡¨ç¤ºæµ®ç‚¹æ•°çš„é™¤æ³•ï¼›</li><li>æ·»åŠ Pascalè¯­è¨€çš„æ³¨é‡ŠåŠŸèƒ½</li></ol><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-10/lsbasi_part10_intro.png" alt="img"></p><a id="more"></a><h2 id="æºç ä¸‹è½½"><a href="#æºç ä¸‹è½½" class="headerlink" title="æºç ä¸‹è½½"></a>æºç ä¸‹è½½</h2><p>åœ¨è¿›è¡Œç»†è‡´çš„è®²è§£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä¸‹è½½æœ¬èŠ‚çš„è§£é‡Šå™¨çš„<a href="https://github.com/rspivak/lsbasi/blob/master/part10/python/spi.py" target="_blank" rel="noopener">æºç ï¼šspy.py</a>å’Œä¸€ä¸ªç®€å•çš„Pascalè¯­è¨€çš„<a href="https://github.com/rspivak/lsbasi/blob/master/part10/python/part10.pas" target="_blank" rel="noopener">ç¨‹åºï¼špart10.pas</a>ã€‚ç„¶åå†åœ¨å‘½ä»¤æç¤ºç¬¦(Windows10ç³»ç»Ÿ å¯ç›´æ¥åœ¨å·¦ä¸‹è§’æœç´¢æ¡†ä¸­æœç´¢â€œcmdâ€)ä¸­è¿›è¡Œè¾“å…¥ï¼š<code>python spi.py part10.pas</code>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-10/image-20200325134921750.png" alt="image-20200325134921750"></p><p>å¥½äº†ã€‚ç°åœ¨æ¥çœ‹çœ‹ä»Šå¤©è¦æ”¹è¿›çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ï¼š</p><ol><li>å¦‚ä½•è¿›è¡Œè¯­æ³•Fenixå’Œè§£é‡ŠPascalçš„ç¨‹åºå¤´éƒ¨ï¼›</li><li>å¦‚ä½•è¿›è¡Œè¯­æ³•åˆ†æPascalçš„å˜é‡å£°æ˜ï¼›</li><li>å°†æ›´æ–°è§£é‡Šå™¨ï¼Œç”¨<em>DIV</em>å…³é”®å­—æ¥è¡¨ç¤ºæ•´æ•°çš„å‡ºå‘ã€ç”¨å“â€<strong>/</strong>â€œæ¥è¡¨ç¤ºæµ®ç‚¹æ•°çš„é™¤æ³•ï¼›</li><li>æ·»åŠ Pascalè¯­è¨€çš„æ³¨é‡ŠåŠŸèƒ½</li></ol><h2 id="æ›´æ–°åçš„è¯­æ³•è§„åˆ™"><a href="#æ›´æ–°åçš„è¯­æ³•è§„åˆ™" class="headerlink" title="æ›´æ–°åçš„è¯­æ³•è§„åˆ™"></a>æ›´æ–°åçš„è¯­æ³•è§„åˆ™</h2><p>æ›´æ–°åçš„è¯­æ³•è§„åˆ™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-10/lsbasi_part10_grammar1.png" alt="lsbasi_part10_grammar1"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-10/lsbasi_part10_grammar2.png" alt="lsbasi_part10_grammar2"></p><blockquote><p>è¿™é‡Œç»™å‡ºä¸€ä¸ªç®€å•åœ°Pascalè¯­è¨€çš„ç¨‹åºï¼Œä¾¿äºç†è§£å…¶è¯­æ³•ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PROGRAM</span> Part10;</span><br><span class="line"><span class="keyword">VAR</span></span><br><span class="line">   number     : INTEGER;</span><br><span class="line">   a, b, c, x : INTEGER;</span><br><span class="line">   y          : REAL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">BEGIN</span> <span class="comment">&#123;Part10&#125;</span></span><br><span class="line">   <span class="keyword">BEGIN</span></span><br><span class="line">      number := <span class="number">2</span>;</span><br><span class="line">      a := number;</span><br><span class="line">      b := <span class="number">10</span> * a + <span class="number">10</span> * number <span class="keyword">DIV</span> <span class="number">4</span>;</span><br><span class="line">      c := a - - b</span><br><span class="line">   <span class="keyword">END</span>;</span><br><span class="line">   x := <span class="number">11</span>;</span><br><span class="line">   y := <span class="number">20</span> / <span class="number">7</span> + <span class="number">3.14</span>;</span><br><span class="line">   <span class="comment">&#123; writeln('a = ', a); &#125;</span></span><br><span class="line">   <span class="comment">&#123; writeln('b = ', b); &#125;</span></span><br><span class="line">   <span class="comment">&#123; writeln('c = ', c); &#125;</span></span><br><span class="line">   <span class="comment">&#123; writeln('number = ', number); &#125;</span></span><br><span class="line">   <span class="comment">&#123; writeln('x = ', x); &#125;</span></span><br><span class="line">   <span class="comment">&#123; writeln('y = ', y); &#125;</span></span><br><span class="line"><span class="keyword">END</span>.  <span class="comment">&#123;Part10&#125;</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="1-program"><a href="#1-program" class="headerlink" title="1. program"></a>1. program</h3><p>ç¨‹åºå®šä¹‰çš„è¯­æ³•è§„åˆ™ï¼ŒåŒ…æ‹¬ï¼šä¿ç•™å­—â€œ<strong><em>PROGRAM</em></strong>â€ã€ç¨‹åºçš„<strong>åå­—</strong>ã€ä¸€ä¸ªä»¥ç‚¹â€œ<strong>.</strong>â€ç»“å°¾çš„<strong>block</strong>ã€‚å¦‚ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PROGRAM</span> Part10;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">END</span>.</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„Pascalç¨‹åº</p></blockquote><h3 id="2-block"><a href="#2-block" class="headerlink" title="2. block"></a>2. block</h3><p>blockåŒ…å«ï¼šä¸€ä¸ª<strong>å£°æ˜è§„åˆ™</strong>ã€<strong>å¤åˆè¯­å¥</strong>ï¼Œå¦‚ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¤ºä¾‹1</span></span><br><span class="line"><span class="keyword">VAR</span></span><br><span class="line">   number : INTEGER;</span><br><span class="line"></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">END</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¤ºä¾‹2</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">END</span></span><br></pre></td></tr></table></figure><h3 id="3-declarations"><a href="#3-declarations" class="headerlink" title="3. declarations"></a>3. declarations</h3><p>Pascalçš„å£°æ˜æœ‰å‡ ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯å¯é€‰çš„ã€‚æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬åªè®¨è®ºå˜é‡å£°æ˜çš„éƒ¨åˆ†ã€‚å˜é‡å£°æ˜è§„åˆ™ï¼šè¦ä¹ˆæœ‰ä¸€ä¸ªå˜é‡å£°æ˜çš„å­è§„åˆ™ï¼Œè¦ä¹ˆæ˜¯ç©ºçš„ã€‚</p><h3 id="4-VAR"><a href="#4-VAR" class="headerlink" title="4. VAR"></a>4. VAR</h3><p>Pascalæ˜¯é™æ€ç±»è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä½¿ç”¨æ¯ä¸€ä¸ªå˜é‡ä¹‹å‰ï¼Œéƒ½éœ€è¦æ˜ç¡®çš„å£°æ˜å®ƒçš„ç±»å‹ã€‚å˜é‡çš„å£°æ˜åœ¨ç¨‹åºä¸­ç”¨<strong>VAR</strong>ä¿ç•™å­—ï¼Œå¦‚ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">VAR</span></span><br><span class="line">   number     : INTEGER;</span><br><span class="line">   a, b, c, x : INTEGER;</span><br><span class="line">   y          : REAL;</span><br></pre></td></tr></table></figure><h3 id="5-type-spec"><a href="#5-type-spec" class="headerlink" title="5. type_spec"></a>5. type_spec</h3><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæ•°æ®ç±»å‹æ˜¯ä¸¤ç§ï¼šINTEGER å’Œ REAL(float)ï¼Œå¸¸å‡ºç°åœ¨å˜é‡å£°æ˜éƒ¨åˆ†ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">VAR</span></span><br><span class="line">   a : INTEGER;</span><br><span class="line">   b : REAL;</span><br></pre></td></tr></table></figure><blockquote><p>æœ¬èŠ‚ä¸­æ²¡æœ‰è¿›è¡Œè®¾è®¡ç±»å‹æ£€æŸ¥ï¼Œè¿™å°†ä¼šåœ¨åç»­æ–‡ç« ä¸­æ·»åŠ </p></blockquote><h3 id="6-term"><a href="#6-term" class="headerlink" title="6. term"></a>6. term</h3><p>termè§„åˆ™æ›´æ–°ä¹‹åï¼Œå°†æ•´æ•°ã€æµ®ç‚¹æ•°çš„å‡ºå‘åˆ†å¼€è¡¨ç¤ºï¼šDIVã€/</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">20</span> / <span class="number">7</span> = <span class="number">2.85714285714</span> <span class="comment">//æµ®ç‚¹æ•°å‡ºå‘</span></span><br><span class="line"><span class="number">20</span> <span class="keyword">DIV</span> <span class="number">7</span> = <span class="number">2</span>           <span class="comment">//æ•´æ•°é™¤æ³•</span></span><br></pre></td></tr></table></figure><h3 id="7-factor"><a href="#7-factor" class="headerlink" title="7. factor"></a>7. factor</h3><p>æ›´æ–°ä¹‹åå¯ä»¥å¤„ç†æ•´æ•°ã€æµ®ç‚¹æ•°çš„å¸¸é‡ã€‚</p><hr><p>ä»¥ä¸‹æ˜¯ä»Šå¤©çš„å®Œæ•´è¯­æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">program : PROGRAM variable SEMI block DOT</span><br><span class="line"></span><br><span class="line">block : declarations compound_statement</span><br><span class="line"></span><br><span class="line">declarations : VAR (variable_declaration SEMI)+</span><br><span class="line">             | empty</span><br><span class="line"></span><br><span class="line">variable_declaration : ID (COMMA ID)* COLON type_spec</span><br><span class="line"></span><br><span class="line">type_spec : INTEGER | REAL</span><br><span class="line"></span><br><span class="line">compound_statement : BEGIN statement_list END</span><br><span class="line"></span><br><span class="line">statement_list : statement</span><br><span class="line">               | statement SEMI statement_list</span><br><span class="line"></span><br><span class="line">statement : compound_statement</span><br><span class="line">          | assignment_statement</span><br><span class="line">          | empty</span><br><span class="line"></span><br><span class="line">assignment_statement : variable ASSIGN expr</span><br><span class="line"></span><br><span class="line">empty :</span><br><span class="line"></span><br><span class="line">expr : term ((PLUS | MINUS) term)*</span><br><span class="line"></span><br><span class="line">term : factor ((MUL | INTEGER_DIV | FLOAT_DIV) factor)*</span><br><span class="line"></span><br><span class="line">factor : PLUS factor</span><br><span class="line">       | MINUS factor</span><br><span class="line">       | INTEGER_CONST</span><br><span class="line">       | REAL_CONST</span><br><span class="line">       | LPAREN expr RPAREN</span><br><span class="line">       | variable</span><br><span class="line"></span><br><span class="line">variable: ID</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°Lexer"><a href="#æ›´æ–°Lexer" class="headerlink" title="æ›´æ–°Lexer"></a>æ›´æ–°Lexer</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œlexerçš„æ”¹å˜ï¼š</p><ol><li>æ–°çš„tokens</li><li>æ–°çš„ä¿ç•™å­—</li><li>æ·»åŠ å¤„ç†Pascalè¯­è¨€çš„æ³¨é‡Šï¼Œç”¨<em>skip_comment</em></li><li>æ›´æ–°<em>integer</em></li><li>æ›´æ–°<em>get_next_token</em> ï¼Œä½¿å…¶èƒ½å¤Ÿè¿”å›æ–°æ·»åŠ çš„tokens</li></ol><p>è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ä¸€ä¸‹ä¸Šé¢æåˆ°çš„å˜åŒ–:</p><ol><li><p>ä¸ºäº†å¤„ç†ç¨‹åºå¤´ã€å˜é‡çš„å£°æ˜ã€æ•´æ•°ä¸æµ®ç‚¹æ•°å¸¸é‡ä»¥åŠå®ƒä»¬çš„é™¤æ³•ã€‚æˆ‘ä»¬éœ€è¦æ·»åŠ æ–°çš„tokensï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ›´æ–°â€œINTEGERâ€çš„å«ä¹‰ï¼šè¡¨ç¤ºä¸€ä¸ªæ•´æ•°ç±»å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•´æ•°å¸¸é‡ã€‚</p><p>ä¸‹é¢æ˜¯æ›´æ–°åå…¨éƒ¨çš„<strong>tokens</strong>:</p><ul><li>PROGRAM (reserved keyword)</li><li>VAR (reserved keyword)</li><li>COLON (:)</li><li>COMMA (,)</li><li>INTEGER (we change it to mean integer type and not integer constant like 3 or 5)</li><li>REAL (for Pascal REAL type)</li><li>INTEGER_CONST (for example, 3 or 5)</li><li>REAL_CONST (for example, 3.14 and so on)</li><li>INTEGER_DIV for integer division (the <strong><em>DIV</em></strong> reserved keyword)</li><li>FLOAT_DIV for float division ( forward slash / )</li></ul></li><li><p>å…¨éƒ¨çš„<strong>ä¿ç•™å­—</strong>tokenï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">RESERVED_KEYWORDS = &#123;</span><br><span class="line">    <span class="string">'PROGRAM'</span>: Token(<span class="string">'PROGRAM'</span>, <span class="string">'PROGRAM'</span>),</span><br><span class="line">    <span class="string">'VAR'</span>: Token(<span class="string">'VAR'</span>, <span class="string">'VAR'</span>),</span><br><span class="line">    <span class="string">'DIV'</span>: Token(<span class="string">'INTEGER_DIV'</span>, <span class="string">'DIV'</span>),</span><br><span class="line">    <span class="string">'INTEGER'</span>: Token(<span class="string">'INTEGER'</span>, <span class="string">'INTEGER'</span>),</span><br><span class="line">    <span class="string">'REAL'</span>: Token(<span class="string">'REAL'</span>, <span class="string">'REAL'</span>),</span><br><span class="line">    <span class="string">'BEGIN'</span>: Token(<span class="string">'BEGIN'</span>, <span class="string">'BEGIN'</span>),</span><br><span class="line">    <span class="string">'END'</span>: Token(<span class="string">'END'</span>, <span class="string">'END'</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¤„ç†<strong>æ³¨é‡Š</strong>ï¼Œæ·»åŠ ä¸€ä¸ª<em>skip_comment</em> å‡½æ•°æ¥å¤„ç†æ³¨é‡Šï¼Œå®ƒçš„åŸç†å°±æ˜¯åœ¨æ‰¾åˆ°å³èŠ±æ‹¬å·â€œï½›â€ä¹‹å‰ï¼Œä¸¢å¼ƒæ‰€æœ‰å­—ç¬¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">skip_comment</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> self.current_char != <span class="string">'&#125;'</span>:</span><br><span class="line">        self.advance()</span><br><span class="line">    self.advance()  <span class="comment"># the closing curly brace</span></span><br></pre></td></tr></table></figure></li><li><p>é‡æ–°å‘½å<strong><em>integer</em>å‡½æ•°</strong>ä¸º<strong><em>number</em>å‡½æ•°</strong>ï¼Œï¼Œä½¿å…¶èƒ½å¤Ÿå¤„ç†æ•´å‹å¸¸é‡å’Œæµ®ç‚¹å‹å¸¸é‡ï¼Œå¦‚3å’Œ3.14ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">number</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""Return a (multidigit) integer or float consumed from the input."""</span></span><br><span class="line">    result = <span class="string">''</span></span><br><span class="line">    <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">        result += self.current_char</span><br><span class="line">        self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> self.current_char == <span class="string">'.'</span>:</span><br><span class="line">        result += self.current_char</span><br><span class="line">        self.advance()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (</span><br><span class="line">            self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span></span><br><span class="line">            self.current_char.isdigit()</span><br><span class="line">        ):</span><br><span class="line">            result += self.current_char</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">        token = Token(<span class="string">'REAL_CONST'</span>, float(result))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        token = Token(<span class="string">'INTEGER_CONST'</span>, int(result))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> token</span><br></pre></td></tr></table></figure></li><li><p>æ›´æ–°<strong><em>get_next_token</em>å‡½æ•°</strong>ï¼Œä½¿å…¶èƒ½å¤Ÿè¿”å›æ–°å¢çš„tokensï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">'&#123;'</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            self.skip_comment()</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line">            <span class="keyword">return</span> self.number()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">':'</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            <span class="keyword">return</span> Token(COLON, <span class="string">':'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">','</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            <span class="keyword">return</span> Token(COMMA, <span class="string">','</span>)</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">'/'</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            <span class="keyword">return</span> Token(FLOAT_DIV, <span class="string">'/'</span>)</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ›´æ–°Parser"><a href="#æ›´æ–°Parser" class="headerlink" title="æ›´æ–°Parser"></a>æ›´æ–°Parser</h2><p>æ€»ç»“Parserçš„å˜åŒ–ï¼š</p><ol><li>æ–°çš„<strong>æŠ½è±¡è¯­æ³•æ ‘ç»“ç‚¹ï¼ˆAST nodesï¼‰</strong>ï¼š<em>Program</em>, <em>Block</em>, <em>VarDecl</em>, <em>Type</em></li><li>å¯¹åº”æ–°çš„è¯­æ³•è§„åˆ™çš„å‡½æ•°ï¼š<em>block</em>, <em>declarations</em>, <em>variable_declaration</em>, å’Œ <em>type_spec</em>.</li><li>æ›´æ–°å·²ç»å­˜åœ¨çš„paeserä¸­çš„æ–¹æ³•ï¼š<em>program</em>, <em>term</em>, and <em>factor</em></li></ol><p>è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ä¸€ä¸‹ä¸Šé¢æåˆ°çš„å˜åŒ–:</p><ol><li><p>æ–°çš„<strong>AST nodes</strong>ï¼š</p><ul><li><p><em>Program</em> AST nodeï¼šè¡¨ç¤ºä¸€ä¸ªç¨‹åºï¼Œä¹Ÿæ˜¯æˆ‘ä»¬çš„æ ¹èŠ‚ç‚¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Program</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, block)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.block = block</span><br></pre></td></tr></table></figure></li><li><p><em>Block</em> AST nodeï¼šåŒ…å«å£°æ˜ä¸å¤åˆè¯­å¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Block</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, declarations, compound_statement)</span>:</span></span><br><span class="line">        self.declarations = declarations</span><br><span class="line">        self.compound_statement = compound_statement</span><br></pre></td></tr></table></figure></li><li><p><em>VarDecl</em> AST nodeï¼šè¡¨ç¤ºä¸€ä¸ªå˜é‡å£°æ˜ï¼Œå®ƒåŒ…å«ä¸€ä¸ªè¾¹æ¢èŠ‚ç‚¹å’Œå˜é‡çš„ç±»å‹ç»“ç‚¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VarDecl</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, var_node, type_node)</span>:</span></span><br><span class="line">        self.var_node = var_node</span><br><span class="line">        self.type_node = type_node</span><br></pre></td></tr></table></figure></li><li><p><em>Type</em> AST nodeï¼šè¡¨ç¤ºä¸€ä¸ªå˜é‡ç±»å‹ï¼ˆINTEGER or REALï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Type</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, token)</span>:</span></span><br><span class="line">        self.token = token</span><br><span class="line">        self.value = token.value</span><br></pre></td></tr></table></figure></li></ul></li><li><p>å¯¹åº”<strong>æ–°å¢çš„è¯­æ³•è§„åˆ™çš„å‡½æ•°(æ–¹æ³•)</strong>ï¼š<em>block</em>, <em>declarations</em>, <em>variable_declaration</em>, å’Œ <em>type_spec</em>.ã€è¿™äº›æ–¹æ³•è´Ÿè´£è§£ææ–°çš„è¯­è¨€ç»“æ„å’Œæ„é€ æ–°çš„AST nodesã€‘ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">block</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""block : declarations compound_statement"""</span></span><br><span class="line">    declaration_nodes = self.declarations()</span><br><span class="line">    compound_statement_node = self.compound_statement()</span><br><span class="line">    node = Block(declaration_nodes, compound_statement_node)</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">declarations</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""declarations : VAR (variable_declaration SEMI)+</span></span><br><span class="line"><span class="string">                    | empty</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    declarations = []</span><br><span class="line">    <span class="keyword">if</span> self.current_token.type == VAR:</span><br><span class="line">        self.eat(VAR)</span><br><span class="line">        <span class="keyword">while</span> self.current_token.type == ID:</span><br><span class="line">            var_decl = self.variable_declaration()</span><br><span class="line">            declarations.extend(var_decl)</span><br><span class="line">            self.eat(SEMI)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> declarations</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">variable_declaration</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""variable_declaration : ID (COMMA ID)* COLON type_spec"""</span></span><br><span class="line">    var_nodes = [Var(self.current_token)]  <span class="comment"># first ID</span></span><br><span class="line">    self.eat(ID)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> self.current_token.type == COMMA:</span><br><span class="line">        self.eat(COMMA)</span><br><span class="line">        var_nodes.append(Var(self.current_token))</span><br><span class="line">        self.eat(ID)</span><br><span class="line"></span><br><span class="line">    self.eat(COLON)</span><br><span class="line"></span><br><span class="line">    type_node = self.type_spec()</span><br><span class="line">    var_declarations = [</span><br><span class="line">        VarDecl(var_node, type_node)</span><br><span class="line">        <span class="keyword">for</span> var_node <span class="keyword">in</span> var_nodes</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">return</span> var_declarations</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">type_spec</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""type_spec : INTEGER</span></span><br><span class="line"><span class="string">                 | REAL</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    token = self.current_token</span><br><span class="line">    <span class="keyword">if</span> self.current_token.type == INTEGER:</span><br><span class="line">        self.eat(INTEGER)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        self.eat(REAL)</span><br><span class="line">    node = Type(token)</span><br><span class="line">    <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure></li><li><p>æ›´æ–°å·²æœ‰çš„<em>program</em>, <em>term</em>, å’Œ, <em>factor</em> æ–¹æ³•æ¥é€‚åº”è¯­æ³•çš„æ”¹å˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">program</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""program : PROGRAM variable SEMI block DOT"""</span></span><br><span class="line">    self.eat(PROGRAM)</span><br><span class="line">    var_node = self.variable()</span><br><span class="line">    prog_name = var_node.value</span><br><span class="line">    self.eat(SEMI)</span><br><span class="line">    block_node = self.block()</span><br><span class="line">    program_node = Program(prog_name, block_node)</span><br><span class="line">    self.eat(DOT)</span><br><span class="line">    <span class="keyword">return</span> program_node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""term : factor ((MUL | INTEGER_DIV | FLOAT_DIV) factor)*"""</span></span><br><span class="line">    node = self.factor()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, INTEGER_DIV, FLOAT_DIV):</span><br><span class="line">        token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">            self.eat(MUL)</span><br><span class="line">        <span class="keyword">elif</span> token.type == INTEGER_DIV:</span><br><span class="line">            self.eat(INTEGER_DIV)</span><br><span class="line">        <span class="keyword">elif</span> token.type == FLOAT_DIV:</span><br><span class="line">            self.eat(FLOAT_DIV)</span><br><span class="line"></span><br><span class="line">        node = BinOp(left=node, op=token, right=self.factor())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""factor : PLUS factor</span></span><br><span class="line"><span class="string">              | MINUS factor</span></span><br><span class="line"><span class="string">              | INTEGER_CONST</span></span><br><span class="line"><span class="string">              | REAL_CONST</span></span><br><span class="line"><span class="string">              | LPAREN expr RPAREN</span></span><br><span class="line"><span class="string">              | variable</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    token = self.current_token</span><br><span class="line">    <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">        self.eat(PLUS)</span><br><span class="line">        node = UnaryOp(token, self.factor())</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">        self.eat(MINUS)</span><br><span class="line">        node = UnaryOp(token, self.factor())</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">elif</span> token.type == INTEGER_CONST:</span><br><span class="line">        self.eat(INTEGER_CONST)</span><br><span class="line">        <span class="keyword">return</span> Num(token)</span><br><span class="line">    <span class="keyword">elif</span> token.type == REAL_CONST:</span><br><span class="line">        self.eat(REAL_CONST)</span><br><span class="line">        <span class="keyword">return</span> Num(token)</span><br><span class="line">    <span class="keyword">elif</span> token.type == LPAREN:</span><br><span class="line">        self.eat(LPAREN)</span><br><span class="line">        node = self.expr()</span><br><span class="line">        self.eat(RPAREN)</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        node = self.variable()</span><br><span class="line">        <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure></li></ol><p>ç°åœ¨æ¥çœ‹çœ‹æˆ‘ä»¬çš„<strong>æŠ½è±¡è¯­æ³•æ ‘<em>Abstract Syntax Tree</em></strong>ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªPascalç¨‹åºï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PROGRAM</span> Part10AST;</span><br><span class="line"><span class="keyword">VAR</span></span><br><span class="line">   a, b : INTEGER;</span><br><span class="line">   y    : REAL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">BEGIN</span> <span class="comment">&#123;Part10AST&#125;</span></span><br><span class="line">   a := <span class="number">2</span>;</span><br><span class="line">   b := <span class="number">10</span> * a + <span class="number">10</span> * a <span class="keyword">DIV</span> <span class="number">4</span>;</span><br><span class="line">   y := <span class="number">20</span> / <span class="number">7</span> + <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">END</span>.  <span class="comment">&#123;Part10AST&#125;</span></span><br></pre></td></tr></table></figure><p>å®ƒçš„è§£ææ ‘ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-10/lsbasi_part10_ast-1585124028847.png" alt="lsbasi_part10_ast"></p><p>åœ¨å›¾ä¸­å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ·»åŠ çš„æ–°èŠ‚ç‚¹ã€‚</p><h2 id="æ›´æ–°Interpreter"><a href="#æ›´æ–°Interpreter" class="headerlink" title="æ›´æ–°Interpreter"></a>æ›´æ–°Interpreter</h2><p>ç°åœ¨ï¼Œå‰©ä¸‹çš„å°±æ˜¯å‘è§£é‡Šå™¨ç±»æ·»åŠ æ–°çš„è®¿é—®è€…æ–¹æ³•ã€‚ä¸‹é¢æ˜¯å°†è¦æ–°å¢çš„å››ä¸ªè®¿é—®æ–¹æ³•ï¼ˆå¯¹åº”æ–°å¢çš„å››ç§ç»“ç‚¹ï¼‰ï¼š</p><ul><li><em>visit_Program</em></li><li><em>visit_Block</em></li><li><em>visit_VarDecl</em></li><li><em>visit_Type</em></li></ul><ol><li><p>å…¶ä¸­å¯¹äº<em>VarDecl</em>å’Œ<em>Type</em>ï¼Œè§£é‡Šå™¨å¯¹ä»–ä»¬ä»€ä¹ˆéƒ½ä¸åšï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_Program</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    self.visit(node.block)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_Block</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> declaration <span class="keyword">in</span> node.declarations:</span><br><span class="line">        self.visit(declaration)</span><br><span class="line">    self.visit(node.compound_statement)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_VarDecl</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="comment"># Do nothing</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_Type</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="comment"># Do nothing</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li><li><p>æ›´æ–°<em>visit_BinOp</em> æ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤Ÿå‡†ç¡®çš„è§£é‡Šæ•´æ•°å’Œæµ®ç‚¹æ•°çš„é™¤æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_BinOp</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> node.op.type == PLUS:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) + self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == MINUS:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) - self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == MUL:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) * self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == INTEGER_DIV:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) // self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == FLOAT_DIV:</span><br><span class="line">        <span class="keyword">return</span> float(self.visit(node.left)) / float(self.visit(node.right))</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæ‰©å±•äº†Pascalè§£é‡Šå™¨çš„å“ªäº›éƒ¨åˆ†ï¼š</p><ul><li>æ·»åŠ æ–°çš„è¯­æ³•è§„åˆ™å’Œæ›´æ–°ç°æœ‰çš„è§„åˆ™ï¼›</li><li>æ·»åŠ æ–°tokenï¼Œå¹¶ç›¸åº”åœ°æ·»åŠ æ–°æ–¹æ³•å»å¤„ç†è¿™äº›tokensï¼Œæ›´æ–°äº†ç°æœ‰çš„æ–¹æ³•ï¼›</li><li>parserä¸­ï¼šä¸ºæ–°çš„è¯­æ³•ç»“æ„æ·»åŠ æ–°çš„AST nodesï¼›</li><li>å‘æˆ‘ä»¬çš„é€’å½’ä¸‹é™è§£æå™¨æ·»åŠ ä¸æ–°è¯­æ³•è§„åˆ™ç›¸å¯¹åº”çš„æ–°æ–¹æ³•ï¼Œå¹¶æ›´æ–°ä¸€äº›ç°æœ‰çš„æ–¹æ³•ï¼›</li><li>interpreterä¸­æ·»åŠ æ–°çš„è®¿é—®æ–¹æ³•ï¼Œæ›´æ–°äº†ä¸€ä¸ªç°å­˜çš„è®¿é—®æ–¹æ³•</li></ul><p>æˆ‘ä»¬ä¹Ÿå‡ºå»äº†ä¸€äº›â€œHACKSâ€(part9 ä¸­æåˆ°çš„)ï¼š</p><ul><li>æœ¬æ–‡çš„è§£é‡Šå™¨å¯ä»¥å¤„ç†ç¨‹åºå¤´éƒ¨(<strong><em>PROGRAM</em></strong> header)</li><li>å˜é‡å¯ä»¥ç”¨VARå…³é”®å­—æ¥å£°æ˜</li><li>å°†æ•´æ•°ä¸æµ®ç‚¹æ•°çš„é™¤æ³•åˆ†å¼€æ¥</li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Letâ€™s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LSBASIæ•´ç†</title>
      <link href="/archives/6fc94bb0.html"/>
      <url>/archives/6fc94bb0.html</url>
      
        <content type="html"><![CDATA[<center><red>æŒç»­æ›´æ–°</red></center><a id="more"></a><h2 id="part-3"><a href="#part-3" class="headerlink" title="part 3"></a><a href="https://www.longlongqin.top/archives/f957.html">part 3</a></h2><ul><li>å®ç°äº†<strong>åŠ å‡æ··åˆè¿ç®—</strong>ï¼Œå¹¶å¼•å…¥<strong>è¯­æ³•å›¾æ¦‚å¿µ</strong></li></ul><h2 id="part-4"><a href="#part-4" class="headerlink" title="part 4"></a><a href="https://www.longlongqin.top/archives/3b16.html">part 4</a></h2><ul><li>å®ç°äº†æ•´æ•°çš„<strong>ä¹˜é™¤æ··åˆè¿ç®—</strong>ï¼Œå¼•å…¥<strong>ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•(context-free-grammars)ï¼Œå³BNF</strong></li></ul><h2 id="part-5"><a href="#part-5" class="headerlink" title="part 5"></a><a href="https://www.longlongqin.top/archives/173c.html">part 5</a></h2><ul><li>å®ç°äº†<strong>åŠ å‡ä¹˜é™¤æ··åˆè¿ç®—</strong>ï¼Œå¼•å…¥<strong>ç»“åˆå¾‹(associativity)</strong>å’Œ<strong>ä¼˜å…ˆçº§(precedence)</strong></li></ul><h2 id="part-6"><a href="#part-6" class="headerlink" title="part 6"></a><a href="https://www.longlongqin.top/archives/167c.html">part 6</a></h2><ul><li>æ–°å¢<strong>æ‹¬å·è¿ç®—</strong></li></ul><h2 id="part-7"><a href="#part-7" class="headerlink" title="part 7"></a><a href="https://www.longlongqin.top/archives/5a757a52.html">part 7</a></h2><ul><li>ä»æœ¬å°èŠ‚å¼€å§‹ï¼Œå°†<code>interpreter</code>å’Œ<code>parser</code>åˆ†å¼€æ¥å®ç°ã€‚å¹¶å¼•å…¥<strong>æŠ½è±¡è¯­æ³•æ ‘(AST)</strong>å’Œ<strong>è§£ææ ‘(parse tree)</strong>æ¦‚å¿µ</li></ul><h2 id="part-8"><a href="#part-8" class="headerlink" title="part 8"></a><a href="https://www.longlongqin.top/archives/ae12.html">part 8</a></h2><ul><li>æ–°å¢<strong>ä¸€å…ƒæ“ä½œç¬¦(unary operators)</strong>ï¼šâ€œ+â€ï¼Œâ€œ-â€</li></ul><h2 id="part-9"><a href="#part-9" class="headerlink" title="part 9"></a><a href="https://www.longlongqin.top/archives/8632918.html">part 9</a></h2><h2 id="æ•´ä½“åˆ†æ"><a href="#æ•´ä½“åˆ†æ" class="headerlink" title="æ•´ä½“åˆ†æ"></a>æ•´ä½“åˆ†æ</h2><p>æ•´ä½“åˆ†æï¼Œä¸ç®¡æ˜¯part xï¼Œéƒ½ä¸€èµ·åˆ†æï¼Œçœ‹çœ‹ä»–çš„æ•´ä½“ç»“æ„ï¼š</p><h3 id="Lexer"><a href="#Lexer" class="headerlink" title="Lexer"></a>Lexer</h3><ul><li><p>tokenç±»å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">INTEGER       = <span class="string">'INTEGER'</span> <span class="comment">#ç”¨äºè¡¨ç¤ºæ•´æ•°ç±»å‹</span></span><br><span class="line">REAL          = <span class="string">'REAL'</span>  <span class="comment">#è¡¨ç¤ºæµ®ç‚¹å‹</span></span><br><span class="line">INTEGER_CONST = <span class="string">'INTEGER_CONST'</span> <span class="comment">#æ•´å‹å¸¸é‡</span></span><br><span class="line">REAL_CONST    = <span class="string">'REAL_CONST'</span>  <span class="comment">#æµ®ç‚¹å‹å¸¸é‡</span></span><br><span class="line">PLUS          = <span class="string">'PLUS'</span></span><br><span class="line">MINUS         = <span class="string">'MINUS'</span></span><br><span class="line">MUL           = <span class="string">'MUL'</span></span><br><span class="line">INTEGER_DIV   = <span class="string">'INTEGER_DIV'</span> <span class="comment">#æ•´å‹æ•°çš„é™¤æ³•</span></span><br><span class="line">FLOAT_DIV     = <span class="string">'FLOAT_DIV'</span> <span class="comment">#æµ®ç‚¹æ•°çš„é™¤æ³•</span></span><br><span class="line">LPAREN        = <span class="string">'LPAREN'</span> <span class="comment">#å·¦å°æ‹¬å·</span></span><br><span class="line">RPAREN        = <span class="string">'RPAREN'</span> <span class="comment">#å³å°æ‹¬å·</span></span><br><span class="line">ID            = <span class="string">'ID'</span> <span class="comment">#è¡¨ç¤ºæœ‰æ•ˆçš„æ ‡è¯†ç¬¦</span></span><br><span class="line">ASSIGN        = <span class="string">'ASSIGN'</span> <span class="comment">#è¿™ç§tokenè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ï¼Œâ€œ:=â€,ç”¨äºèµ‹å€¼è¯­å¥</span></span><br><span class="line">BEGIN         = <span class="string">'BEGIN'</span> </span><br><span class="line">END           = <span class="string">'END'</span></span><br><span class="line">SEMI          = <span class="string">'SEMI'</span> <span class="comment"># è¡¨ç¤ºåˆ†å·ï¼Œç”¨äºæ ‡è®°å¤åˆè¯­å¥ä¸­çš„ä¸€ä¸ªå¥å­çš„ç»“å°¾</span></span><br><span class="line">DOT           = <span class="string">'DOT'</span> <span class="comment">#ç‚¹ï¼Œç”¨äºPascalè¯­è¨€ä¸­programçš„å®šä¹‰</span></span><br><span class="line">PROGRAM       = <span class="string">'PROGRAM'</span> </span><br><span class="line">VAR           = <span class="string">'VAR'</span></span><br><span class="line">COLON         = <span class="string">'COLON'</span> <span class="comment">#å†’å·</span></span><br><span class="line">COMMA         = <span class="string">'COMMA'</span> <span class="comment">#é€—å·</span></span><br><span class="line">EOF           = <span class="string">'EOF'</span></span><br></pre></td></tr></table></figure></li><li><p>ä¿ç•™å­—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">RESERVED_KEYWORDS = &#123;</span><br><span class="line">    <span class="string">'PROGRAM'</span>: Token(<span class="string">'PROGRAM'</span>, <span class="string">'PROGRAM'</span>),</span><br><span class="line">    <span class="string">'VAR'</span>: Token(<span class="string">'VAR'</span>, <span class="string">'VAR'</span>),</span><br><span class="line">    <span class="string">'DIV'</span>: Token(<span class="string">'INTEGER_DIV'</span>, <span class="string">'DIV'</span>),</span><br><span class="line">    <span class="string">'INTEGER'</span>: Token(<span class="string">'INTEGER'</span>, <span class="string">'INTEGER'</span>),</span><br><span class="line">    <span class="string">'REAL'</span>: Token(<span class="string">'REAL'</span>, <span class="string">'REAL'</span>),</span><br><span class="line">    <span class="string">'BEGIN'</span>: Token(<span class="string">'BEGIN'</span>, <span class="string">'BEGIN'</span>),</span><br><span class="line">    <span class="string">'END'</span>: Token(<span class="string">'END'</span>, <span class="string">'END'</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¯æ³•åˆ†æå™¨çš„ç»“æ„ï¼š</p><ol><li><p>æœ‰ä¸€ä¸ª<code>___init__</code>çš„å‡½æ•°ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼›</p></li><li><p>ä¸€ä¸ªæç¤ºé”™è¯¯çš„å‡½æ•°<code>error</code>ï¼›</p></li><li><p>ç„¶åå¼€å§‹å¤„ç†â€œè¯â€ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå‡½æ•°<code>advance</code>ç”¨äºå‘å‰è¿›ä¸€æ­¥(posä¼šâ•1ï¼‰ï¼š</p><ul><li><p><code>peek</code>ï¼šä¸ºäº†åœ¨ä»¥ç›¸åŒçš„å­—ç¬¦å¼€å¤´æ—¶ï¼ŒåŒºåˆ†æ˜¯â€œä¿ç•™å­—â€è¿˜æ˜¯â€œæ ‡è¯†ç¬¦â€ã€‚</p><blockquote><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æ¶ˆè€—ä¸‹ä¸€ä¸ªå­—ç¬¦çš„æƒ…å†µä¸‹å»æŸ¥çœ‹ç¼“å†²åŒºï¼šå°±æ˜¯åˆ©ç”¨peek_posç§»åŠ¨æŸ¥çœ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œè€ŒçœŸæ­£çš„posä¸åŠ¨ã€‚</p></blockquote></li><li><p><code>skip_comment</code>ï¼šå¤„ç†æ³¨é‡Šï¼›</p></li><li><p><code>skip_whitespace</code>ï¼šå¤„ç†ç©ºæ ¼ï¼›</p></li><li><p><code>number</code>ï¼šåœ¨part10ä¹‹å‰ï¼Œå«åšintegerï¼Œå› ä¸ºç°åœ¨ä¸ä»…æœ‰æ•´å‹æ•°æ®ï¼Œè¿˜æœ‰æµ®ç‚¹å‹çš„ã€‚æ‰€ä»¥æ”¹åä¸ºnumberã€‚</p></li><li><p><code>_id</code>ï¼šå¤„ç†â€œæ ‡è¯†ç¬¦â€å’Œâ€œä¿ç•™å­—â€</p></li></ul></li><li><p><code>get_next_token</code>ï¼šè¯æ³•åˆ†æå™¨çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå‰é¢çš„éƒ½æ˜¯è®¾è®¡ï¼Œç°åœ¨æ‰å¼€å§‹è¯†åˆ«å‡ºä¸€ä¸ªä¸ªçš„tokenï¼Œä¸‹é¢å°±æ˜¯åˆ—å‡ºè¯†åˆ«tokençš„ç§ç±»ï¼š</p><blockquote><p>å…¶å®è¿™é‡Œå«åšï¼š<code>get_token_and_go_next</code>æ¯”è¾ƒç›´è§‚ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ï¼Œå…ˆè¯†åˆ«å‡ºä¸€ä¸ªtokenï¼Œç„¶åå†ç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªtoken</p></blockquote><ol><li>å·¦æ‹¬å·tokenï¼š<strong>â€œ{â€</strong></li><li><strong>ä¿ç•™å­—</strong>tokenã€<strong>æ ‡è¯†ç¬¦</strong>tokenã€‚ï¼ˆç”¨å‡½æ•°<code>_id()</code>æ¥å®Œæˆï¼‰</li><li><strong>æ•´å‹å˜é‡</strong>token</li><li>èµ‹å€¼ç¬¦å·<strong>â€œ:=â€</strong>token</li><li>å†’å·<strong>â€œ:â€</strong>token</li><li>åˆ†å·<strong>â€œ;â€</strong>token</li><li>é€—å·<strong>â€œ,â€</strong>token</li><li><strong>åŠ ã€å‡ã€ä¹˜</strong> token</li><li>é™¤æ³•token<ul><li>æ•´æ•°é™¤æ³•ï¼š<strong>â€œDIVâ€</strong> token</li><li>æµ®ç‚¹æ•°é™¤æ³•ï¼š<strong>â€œ/â€</strong> token</li></ul></li><li>å·¦å°æ‹¬å·<strong>â€œ(â€</strong> token ï¼› &amp; å³å°æ‹¬å·<strong>â€œ)â€</strong> token</li><li>ç‚¹<strong>â€œ.â€</strong> token</li></ol></li></ol></li></ul><h3 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h3><p>â€‹ è¯­æ³•åˆ†æï¼Œä¸»è¦æ˜¯åˆ†æè¯æ³•åˆ†æå™¨ä¼ è¿‡æ¥çš„ä¸€ä¸ªä¸ªtokenï¼Œåˆ†æå®ƒä»¬ä¹‹é—´çš„è¿ç®—å…³ç³»ï¼Œå³è¯­æ³•ï¼š</p><p>å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œå³è¯­æ³•ï¼Œç”¨<strong>æŠ½è±¡è¯­æ³•æ ‘</strong>æ¥è¡¨ç¤ºï¼š</p><ol><li>ä¸€ä¸ªåŸºç±»ï¼š<code>AST</code>ã€‚ï¼ˆåé¢çš„ç»§æ‰¿äºå®ƒï¼‰</li><li>ä¸€ä¸ªäºŒå…ƒæ“ä½œç¬¦ç±»ï¼š<code>BinOp(AST)</code>ï¼ˆè¡¨ç¤ºåŠ å‡ä¹˜é™¤è¿ç®—ï¼‰</li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„äº‘ä¹¦ç­¾</title>
      <link href="/archives/eaabd222.html"/>
      <url>/archives/eaabd222.html</url>
      
        <content type="html"><![CDATA[<p center large><center><green>æœé›†å­¦ä¹ èµ„æ–™&å¥½ç”¨çš„å·¥å…·</green></center></p><a id="more"></a><hr><h2 id="â… -CS-å­¦ä¹ "><a href="#â… -CS-å­¦ä¹ " class="headerlink" title="â…  CS å­¦ä¹ "></a><red>â…  CS å­¦ä¹ </red></h2><h3 id="00å…¨ç§‘èµ„æ–™"><a href="#00å…¨ç§‘èµ„æ–™" class="headerlink" title="00å…¨ç§‘èµ„æ–™"></a>00å…¨ç§‘èµ„æ–™</h3><h4 id="1-é¢è¯•ç¬”è®°é›†åˆ"><a href="#1-é¢è¯•ç¬”è®°é›†åˆ" class="headerlink" title="1. é¢è¯•ç¬”è®°é›†åˆ"></a>1. é¢è¯•ç¬”è®°é›†åˆ</h4><table><thead><tr><th>èµ„æº</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><a href="https://github.com/CyC2018/CS-Notes" target="_blank" rel="noopener">CS-Notes</a></strong>ã€<a href="https://cyc2018.github.io/CS-Notes/#/" target="_blank" rel="noopener">ç½‘é¡µç‰ˆ</a>ã€ã€<a href="https://github.com/longlongqin/CS-Notes" target="_blank" rel="noopener">å¤‡ç”¨é“¾æ¥</a>ã€‘</td><td>ğŸ“š æŠ€æœ¯é¢è¯•å¿…å¤‡åŸºç¡€çŸ¥è¯†ã€Leetcodeã€è®¡ç®—æœºæ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œã€ç³»ç»Ÿè®¾è®¡ã€Javaã€Pythonã€C++</td></tr><tr><td><strong><a href="https://github.com/linw7/Skill-Tree" target="_blank" rel="noopener">å‡†å¤‡ç§‹æ‹›ï¼Œæ¬¢è¿æ¥æ ‘ä¸Šå–æœå®</a></strong></td><td>è¿™é‡Œå°†ä»¥æœ€çŸ­çš„ç¯‡å¹…ï¼Œæœ€æ¸…æ™°çš„å±‚çº§ç»“æ„å»æ€»ç»“é‚£äº›å¯¹C++åå°å¼€å‘æœ€ä¸ºæ ¸å¿ƒçš„å†…å®¹ã€‚</td></tr><tr><td><strong><a href="https://github.com/zhengjianglong915/note-of-interview" target="_blank" rel="noopener">ã€Šäº’è”ç½‘é¢è¯•ç¬”è®°ã€‹</a></strong></td><td>æ”¶é›†å’Œåˆ†æäº’è”ç½‘å¸¸è§é¢è¯•é¢˜ï¼Œå¹¶å°†è¿™äº›é¢è¯•çŸ¥è¯†æ•´ç†æˆæ–‡æ–¹ä¾¿å¤§å®¶æŸ¥é˜…ã€‚ä¸»è¦æ˜¯é¢å‘javaç¨‹åºå‘˜ï¼Œä½†åŸºç¡€çŸ¥è¯†éƒ¨åˆ†ä¸åŒè¯­è¨€ç¨‹åºå‘˜(c,c++,pythonç­‰ï¼‰éƒ½å¯ä»¥å‚è€ƒ</td></tr><tr><td><strong><a href="https://github.com/huihut/interview" target="_blank" rel="noopener">C/C++ç¬”è®°</a></strong></td><td>C/C++ æŠ€æœ¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ŒåŒ…æ‹¬è¯­è¨€ã€ç¨‹åºåº“ã€æ•°æ®ç»“æ„ã€ç®—æ³•ã€ç³»ç»Ÿã€ç½‘ç»œã€é“¾æ¥è£…è½½åº“ç­‰çŸ¥è¯†åŠé¢è¯•ç»éªŒã€æ‹›è˜ã€å†…æ¨ç­‰ä¿¡æ¯ã€‚ <a href="https://interview.huihut.com" target="_blank" rel="noopener">https://interview.huihut.com</a></td></tr></tbody></table><hr><h4 id="2-æ•™ç¨‹é›†åˆ"><a href="#2-æ•™ç¨‹é›†åˆ" class="headerlink" title="2. æ•™ç¨‹é›†åˆ"></a>2. æ•™ç¨‹é›†åˆ</h4><ol><li><p><a href="https://github.com/Ewenwan/ShiYanLou" target="_blank" rel="noopener"><strong>å­¦ä¹ C &amp; C++</strong></a></p><blockquote><p>å­¦ä¹ C &amp; C++ &amp; python&amp;æ±‡ç¼–è¯­è¨€ LLVMç¼–è¯‘å™¨ æ•°æ®ç»“æ„ ç®—æ³• æ“ä½œç³»ç»Ÿ å•ç‰‡æœº linux é¢è¯•</p></blockquote></li></ol><hr><h3 id="01å®ç”¨ç½‘ç«™"><a href="#01å®ç”¨ç½‘ç«™" class="headerlink" title="01å®ç”¨ç½‘ç«™"></a>01å®ç”¨ç½‘ç«™</h3><ol><li><p><strong><a href="https://www.geeksforgeeks.org/" target="_blank" rel="noopener">geeksforgeeks</a></strong></p><blockquote><p>æ˜¯å°åº¦çš„ä¸€å®¶è‡´åŠ›äºè®¡ç®—æœºç§‘å­¦çš„ç™¾ç§‘å…¨ä¹¦ï¼Œæ ¹æ®ä¸åŒçš„ç”¨æˆ·è®¡ç®—æœºæ°´å¹³è€Œå‘å¸ƒä¸åŒçš„éš¾åº¦ç­‰çº§ï¼Œä»åŸºç¡€åˆ°ä¸“å®¶çº§ï¼Œå†…å®¹æ¶µç›–äº†ç¼–ç¨‹ã€ç®—æ³•ã€é¢è¯•é—®é¢˜ç­‰ã€‚â€‹</p></blockquote></li><li></li></ol><hr><h3 id="02é¡¹ç›®ç»ƒä¹ "><a href="#02é¡¹ç›®ç»ƒä¹ " class="headerlink" title="02é¡¹ç›®ç»ƒä¹ "></a>02é¡¹ç›®ç»ƒä¹ </h3><p><a href="https://github.com/tuvtran/project-based-learning#cc" target="_blank" rel="noopener">åŸºäºé¡¹ç›®å­¦ä¹ </a>ï¼ˆproject-based-learning)</p><hr><h3 id="03ç¼–ç¨‹ç›¸å…³ä¹¦ç±"><a href="#03ç¼–ç¨‹ç›¸å…³ä¹¦ç±" class="headerlink" title="03ç¼–ç¨‹ç›¸å…³ä¹¦ç±"></a>03ç¼–ç¨‹ç›¸å…³ä¹¦ç±</h3><ol><li><a href="https://github.com/EbookFoundation/free-programming-books" target="_blank" rel="noopener">è‹±æ–‡ç‰ˆ</a></li><li><a href="https://github.com/justjavac/free-programming-books-zh_CN" target="_blank" rel="noopener">ä¸­æ–‡ç‰ˆ</a></li></ol><hr><h3 id="04ç§‘ç›®"><a href="#04ç§‘ç›®" class="headerlink" title="04ç§‘ç›®"></a>04ç§‘ç›®</h3><h4 id="1-æ•°æ®ç»“æ„"><a href="#1-æ•°æ®ç»“æ„" class="headerlink" title="1. æ•°æ®ç»“æ„"></a>1. æ•°æ®ç»“æ„</h4><p>é€‚åˆå›é¡¾çŸ¥è¯†ç‚¹ï¼š<a href="https://oi-wiki.org/" target="_blank" rel="noopener">https://oi-wiki.org/</a></p><hr><table><thead><tr><th>å­¦ä¹ æ•™ç¨‹</th><th>æè¿°</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td><a href="https://www.cnblogs.com/skywang12345/p/3603935.html" target="_blank" rel="noopener"><strong>æ•°æ®ç»“æ„ä¸ç®—æ³•ç³»åˆ—</strong></a></td><td>åšå®¢å›­ä¸­çš„ä¸€ä¸ªåšä¸»å†™çš„</td><td><strong><u>å†çœ‹</u>ğŸ‘ï¸</strong></td></tr><tr><td><strong><a href="https://github.com/nonstriater/Learn-Algorithms" target="_blank" rel="noopener">ç®—æ³•å­¦ä¹ ç¬”è®°</a></strong></td><td>è¿™é‡Œçš„å†…å®¹æ˜¯å­¦ä¹ ç®—æ³•è¿‡ç¨‹çš„ä¸€äº›è®°å½•ï¼Œå¸Œæœ›èƒ½ä¸€ç›´åšæŒä¸‹å»ã€‚</td><td></td></tr><tr><td><a href="https://github.com/xiufengcheng/DATASTRUCTURE" target="_blank" rel="noopener">å¤‡ç”¨</a></td><td></td><td></td></tr></tbody></table><hr><table><thead><tr><th>å¯è§†åŒ–å·¥å…·</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><a href="https://visualgo.net/zh" target="_blank" rel="noopener">Visualgo</a></strong></td><td>å¯è§†åŒ–çš„è§‚å¯Ÿæ•°æ®ç»“æ„çš„æ“ä½œ</td></tr><tr><td><strong><a href="http://www.cs.usfca.edu/~galles/visualization/Algorithms.html" target="_blank" rel="noopener">David Galleså¯è§†åŒ–æ¼”ç¤º(JS)</a></strong></td><td>æ—§é‡‘å±±å¤§å­¦David Galleså¯è§†åŒ–æ¼”ç¤º(JS)</td></tr><tr><td><a href="https://github.com/algorithm-visualizer/algorithm-visualizer" target="_blank" rel="noopener"><strong>å¯ä»¥ä»ä»£ç ä¸­å¯è§†åŒ–ç®—æ³•</strong></a></td><td>ç®—æ³•å¯è§†åŒ–å·¥å…·æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„åœ¨çº¿å¹³å°ï¼Œå¯ä»¥ä»ä»£ç ä¸­å¯è§†åŒ–ç®—æ³•ã€‚</td></tr><tr><td><a href="https://github.com/xiufengcheng/DATASTRUCTURE#å¯è§†åŒ–" target="_blank" rel="noopener"><strong>æ›´å¤šå¯è§†åŒ–å·¥å…·</strong></a></td><td></td></tr></tbody></table><hr><h4 id="2-learn-OpenGL"><a href="#2-learn-OpenGL" class="headerlink" title="2. learn OpenGL"></a>2. learn OpenGL</h4><p>ä¸­æ–‡æ•™å­¦ç½‘å€ï¼š<a href="https://learnopengl-cn.github.io/intro/" target="_blank" rel="noopener">https://learnopengl-cn.github.io/intro/</a></p><hr><h4 id="3-C-C"><a href="#3-C-C" class="headerlink" title="3. C/C++"></a>3. C/C++</h4><hr><p><strong>Cè¯­è¨€ç›¸å…³ï¼š</strong></p><p><a href="https://wizardforcel.gitbooks.io/lcthw/content/" target="_blank" rel="noopener"><strong>ç¬¨åŠæ³•å­¦C</strong></a></p><hr><center>å®˜æ–¹æ–‡æ¡£</center><ul><li><a href="https://en.cppreference.com/w/" target="_blank" rel="noopener"><strong>cppreference</strong></a></li></ul><hr><center>ç›¸å…³ç½‘ç«™</center><table><thead><tr><th>ç½‘ç«™</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong><a href="http://www.cplusplus.com/" target="_blank" rel="noopener">Cplusplus</a></strong></td><td>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå­¦ä¹  C++ çš„ä¼˜ç§€ç½‘ç«™ï¼Œé™¤äº†æä¾›ç›¸åº”çš„æ•™ç¨‹ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆæ£’çš„è®ºå›ã€‚å’Œå…¶å®ƒç½‘ç«™ç›¸æ¯”ï¼Œå®ƒçš„ä»·å€¼æ›´å¤šä½“ç°åœ¨å‚è€ƒä¸Šï¼Œå› ä¸ºé‡Œé¢è§£é‡Šäº†è®¸å¤šç¼–ç¨‹æ¦‚å¿µï¼Œå¦‚æœå¯¹æŸä¸ªç‰¹å®šçš„ä¸œè¥¿æ„Ÿåˆ°å›°æƒ‘ï¼Œé‚£ä¹ˆè¿™äº›æ¦‚å¿µå°†ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</td></tr><tr><td><strong><a href="https://www.tutorialspoint.com/cplusplus/index.htm" target="_blank" rel="noopener">TutorialsPoint</a></strong></td><td>Tutorialspoint æ˜¯ä¸€ä¸ªé¡¶çº§ç½‘ç«™ï¼Œä¹‹æ‰€ä»¥è¿™ä¹ˆè¯´ï¼Œæ˜¯å› ä¸ºä½ æƒ³å­¦çš„ä»»ä½•æŠ€æœ¯ï¼ˆåŒ…æ‹¬ C++ï¼‰ï¼Œå®ƒå‡ ä¹éƒ½æä¾›äº†è¯¦ç»†çš„æ•™ç¨‹ã€‚ä¿å­˜å¥½å°±å¯¹äº†ï¼Œè¶…çº§æœ‰ç”¨ã€‚</td></tr><tr><td><strong><a href="https://github.com/fffaraz/awesome-cpp" target="_blank" rel="noopener">Awesome C++</a></strong></td><td>GitHub ä¸Šçš„ Awesome-XXX ç³»åˆ—çš„èµ„æºæ•´ç†ï¼Œawesome-cpp å°±æ˜¯ fffaraz å‘èµ·ç»´æŠ¤çš„ C++ èµ„æºåˆ—è¡¨ï¼Œå†…å®¹åŒ…æ‹¬ï¼šæ ‡å‡†åº“ã€Web åº”ç”¨æ¡†æ¶ã€äººå·¥æ™ºèƒ½ã€æ•°æ®åº“ã€å›¾ç‰‡å¤„ç†ã€æœºå™¨å­¦ä¹ ã€æ—¥å¿—ã€ä»£ç åˆ†æç­‰</td></tr></tbody></table><hr><center>å­¦ä¹ è·¯çº¿</center><p><a href="http://www.renrenstudy.com/default/cplus-advanced-learning/" target="_blank" rel="noopener">C++å­¦ä¹ è¿›é˜¶(é™ˆçš“)</a></p><center>å­¦ä¹ æ•™ç¨‹</center><table><thead><tr><th>èµ„æ–™</th><th>æè¿°</th></tr></thead><tbody><tr><td><a href="https://www.learncpp.com/cpp-tutorial/syntax-and-semantic-errors/" target="_blank" rel="noopener">LearnCpp</a></td><td>ä¸€ä¸ªå¾ˆå¥½åœ°C++å­¦ä¹ ç½‘ç«™</td></tr><tr><td><a href="https://www.cnblogs.com/nihaoCPP/p/3925336.html" target="_blank" rel="noopener">ä½ å¥½ï¼ŒC++</a></td><td>è¾…åŠ©å­¦ä¹ æ–‡ç« é˜…è¯»ï¼ˆæœ‰æ—¶é—´å¯ä»¥çœ‹ï¼‰</td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><hr><h2 id="â…¡-å…³æ³¨çš„åšå®¢"><a href="#â…¡-å…³æ³¨çš„åšå®¢" class="headerlink" title="â…¡ å…³æ³¨çš„åšå®¢"></a>â…¡ å…³æ³¨çš„åšå®¢</h2><h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><ol><li><a href="http://linux.vbird.org/linux_basic/" target="_blank" rel="noopener"><strong>é³¥å“¥çš„ Linux ç§æˆ¿èœ</strong></a></li></ol><hr><h2 id="â…¢-Githubä¸­çš„èµ„æº"><a href="#â…¢-Githubä¸­çš„èµ„æº" class="headerlink" title="â…¢ Githubä¸­çš„èµ„æº"></a>â…¢ Githubä¸­çš„èµ„æº</h2><center>[githubä»“åº“æ’å](https://gitstar-ranking.com/repositories)</center><ol><li><p><a href="https://github.com/kamranahmedse/developer-roadmap" target="_blank" rel="noopener">webå¼€å‘äººå‘˜çš„è·¯çº¿å›¾</a></p></li><li><p><strong>è‡ªå­¦è®¡ç®—æœºè¯¾ç¨‹çš„å‚è€ƒ</strong></p><ul><li><p><strong><a href="https://github.com/ossu/computer-science-cn" target="_blank" rel="noopener">è®¡ç®—æœºæŠ€æœ¯ä¸ç§‘å­¦è‡ªå­¦ä¹‹æ—…</a></strong>(ä¸­æ–‡)</p><blockquote><p>å¼€æºç¤¾åŒºå¤§å­¦è®¡ç®—æœºç§‘å­¦è¯¾ç¨‹ä¸­æ–‡é¡¹ç›®ï¼ˆOSSU CS CN)æ—¨åœ¨ä¸ºè‹±è¯­èƒ½åŠ›æœ‰å¾…æé«˜çš„ä¸­æ–‡å­¦ä¹ è€…æä¾›å…¨ä¸­æ–‡çš„åœ¨çº¿æœ¬ç§‘è®¡ç®—æœºç§‘å­¦å­¦ä¹ è¯¾ç¨‹ã€‚æ¶ˆé™¤å­¦ä¹ è€…åœ¨è‡ªå­¦è®¡ç®—æœºè¯¾ç¨‹ä¸­é‡åˆ°çš„è¯­è¨€éšœç¢ã€‚è¯·æ³¨æ„æœ¬è¯¾ç¨‹å¹¶ä¸æ˜¯è‹±æ–‡è¯¾ç¨‹çš„å¯¹ç…§ç¿»è¯‘ï¼Œè€Œæ˜¯åœ¨å…¶åŸºç¡€ä¸Šç»“åˆåœ°åŒºå®é™…æƒ…å†µæä¾›å…¨ä¸­æ–‡çš„åœ¨çº¿æ•™è‚²ã€‚<strong>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä»ç„¶æ¨èå­¦æœ‰ä½™åŠ›è€…åœ¨å­¦ä¹ å®Œæœ¬è¯¾ç¨‹åç³»ç»Ÿå­¦ä¹ å’ŒæŒæ¡è‹±è¯­æŠ€èƒ½ã€‚</strong></p></blockquote></li><li><p><strong><a href="https://github.com/ossu/computer-science" target="_blank" rel="noopener">computer-science</a></strong></p><blockquote><p>é€šå¾€å…è´¹è‡ªå­¦è®¡ç®—æœºç§‘å­¦æ•™è‚²çš„é“è·¯!</p></blockquote></li></ul></li></ol><h2 id="â…¡-å·¥å…·"><a href="#â…¡-å·¥å…·" class="headerlink" title="â…¡ å·¥å…·"></a><red>â…¡ å·¥å…·</red></h2><h3 id="01å†™ä½œç›¸å…³"><a href="#01å†™ä½œç›¸å…³" class="headerlink" title="01å†™ä½œç›¸å…³"></a>01å†™ä½œç›¸å…³</h3><ol><li><p><strong>ç¼–è¾‘å™¨</strong></p><ul><li><p><strong><a href="https://github.com/mdnice/markdown-nice" target="_blank" rel="noopener">å…¬ä¼—å·æ’ç‰ˆ(æ”¯æŒMarkdown)</a></strong>ï¼š<strong>æ¨è</strong>ã€åˆ†ä¸ºï¼šGoogleæ’ä»¶ &amp; åœ¨çº¿ç‰ˆã€‘</p><ul><li><a href="https://mdnice.com/" target="_blank" rel="noopener">åœ¨çº¿ç‰ˆ</a></li></ul></li><li><p><strong><a href="https://www.135editor.com/" target="_blank" rel="noopener">135ç¼–è¾‘å™¨</a></strong>ï¼š</p><blockquote><p>ä¸€æ¬¾å¼ºå¤§çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« æ’ç‰ˆ</p></blockquote></li></ul></li><li><p><strong>æ’ä»¶</strong></p><ul><li><p><a href="https://yiban.io/" target="_blank" rel="noopener">å£¹ä¼´</a>ï¼š</p><blockquote><p>å£¹ä¼´è¿è¥ç¥å™¨_æ–°åª’ä½“å°ç¼–æœ€å–œæ¬¢çš„å¾®ä¿¡æ’ç‰ˆå·¥å…·</p></blockquote></li></ul></li><li><p><strong><a href="https://urlify.cn/" target="_blank" rel="noopener">çŸ­é“¾ç”Ÿæˆ</a></strong></p></li><li><p><strong><a href="https://squoosh.app/" target="_blank" rel="noopener">å›¾ç‰‡å‹ç¼©</a></strong></p></li><li><p><strong><a href="http://tools.jb51.net/static/colorpicker/" target="_blank" rel="noopener">RGBåŠå…¶å®ƒç±»å‹é¢œè‰²æŸ¥è¯¢</a></strong></p></li><li><p><strong>æ— ç‰ˆæƒå›¾ç‰‡</strong></p><ol><li><p><a href="https://pixabay.com/images/search/" target="_blank" rel="noopener"><strong>Pixabay</strong></a>ï¼š</p><blockquote><p>Pixabayæ˜¯ä¸€ä¸ªæ”¯æŒä¸­æ–‡æœç´¢çš„å…è´¹å¯å•†ç”¨å›¾åº“ã€‚</p></blockquote></li><li><p><a href="https://gratisography.com/" target="_blank" rel="noopener"><strong>Gratisography</strong></a>ï¼š</p><blockquote><p>Gratisographyæ˜¯ä¸€ä¸ªå…è´¹é«˜åˆ†è¾¨ç‡æ‘„å½±å›¾ç‰‡åº“ï¼Œæ‰€æœ‰çš„å›¾ç‰‡éƒ½å¯ä»¥ç”¨äºä¸ªäººæˆ–è€…å•†ä¸šç”¨é€”ï¼Œæ¯å‘¨æ›´æ–°å›¾ç‰‡ä½ åªéœ€è¦ç‚¹å‡»å³å¯ä¸‹è½½ã€‚</p></blockquote></li><li><p><a href="https://unsplash.com/" target="_blank" rel="noopener"><strong>Unsplash</strong></a>ï¼š</p><blockquote><p>æ¯å¤©æ›´æ–°ä¸€å¼ é«˜è´¨é‡çš„å›¾ç‰‡ç´ æï¼Œå…¨æ˜¯ç”Ÿæ´»ä¸­çš„æ™¯è±¡ä½œå“ï¼Œæ¸…æ–°çš„ç”Ÿæ´»æ°”æ¯å›¾ç‰‡ã€‚</p></blockquote></li><li><p><a href="https://www.pexels.com/" target="_blank" rel="noopener"><strong>Pexels</strong></a>ï¼š</p><blockquote><p>æ ¹æ®è‹±æ–‡å…³é”®è¯æœç´¢å›¾ç‰‡ï¼Œè¿˜èƒ½æ ¹æ®ä¸åŒé¢œè‰²åˆ†ç±»æŸ¥æ‰¾ï¼ŒåŒ¹é…çš„å›¾ç‰‡å¤å¤è‡ªå¸¦æ»¤é•œï¼Œé£æ ¼ç®€çº¦ï¼Œå›¾ç‰‡è´¨é‡å¾ˆé«˜ï¼Œç´ æä¸°å¯Œã€‚</p></blockquote></li><li><p><a href="https://visualhunt.com/" target="_blank" rel="noopener"><strong>VisualHunt</strong></a>ï¼š</p><blockquote><p>å¯ä»¥é€šè¿‡é¢œè‰²æ¥æŸ¥æ‰¾å›¾ç‰‡ã€‚</p></blockquote></li><li><p><a href="https://www.photock.jp/" target="_blank" rel="noopener"><strong>Photock</strong></a>ï¼š</p><blockquote><p>å¤©ç©ºã€æ°´ã€æ²³ã€æµ·ã€è‰åªã€ç«ã€å±±ã€åŠ¨ç‰©ã€å»ºç­‘ã€å¤œæ™¯ã€æ—¥æœ¬æ™¯ç‚¹ã€æ—¥æœ¬å†å²æ–‡åŒ–å›¾ç‰‡ç­‰ç­‰ã€‚</p></blockquote></li><li><p><a href="http://pngimg.com/" target="_blank" rel="noopener"><strong>pngimg</strong></a>ï¼š</p><blockquote><p>å…¨éƒ¨éƒ½æ˜¯æ— èƒŒæ™¯å›¾ç‰‡ï¼Œéå¸¸é€‚åˆé‚£äº›éœ€è¦pngé€æ˜åº•é…å›¾çš„ã€‚è€Œä¸”å®ƒåˆ†ç±»ä¹Ÿå¾ˆç»†ï¼Œæ‰¾èµ·æ¥æ–¹ä¾¿ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/%E8%B5%84%E6%BA%90%E6%95%B4%E5%90%88/image-20200323143423265.png" alt="image-20200323143423265"></p></blockquote></li><li><p><a href="https://www.foodiesfeed.com/" target="_blank" rel="noopener"><strong>Foodiesfeed</strong></a>ï¼š</p><blockquote><p>ä¸“æ³¨äº<u>ç¾é£Ÿ</u>çš„å›¾ç‰‡ç½‘ç«™ï¼Œé«˜æ¸…æ— æ°´å°ï¼Œæ ¹æ®åˆ†ç±»é€‰æ‹©åŒ¹é…å…³é”®è¯ã€‚</p></blockquote></li><li><p><a href="https://www.everypixel.com/" target="_blank" rel="noopener"><strong>Everypixel</strong></a>ï¼š</p><blockquote><p>Everypixel æ˜¯ä¸€æ¬¾å¸®åŠ©ç”¨æˆ·å¯»æ‰¾å…è´¹å›¾ç‰‡ç´ æçš„æœç´¢å¼•æ“ï¼Œé€‰æ‹©å…è´¹æˆ–ä»˜è´¹ï¼Œåˆ©ç”¨AIå’Œå›¾ç‰‡åˆ†ææŠ€æœ¯ç­›é€‰å›¾ç‰‡ï¼Œå¹¶æŸ¥çœ‹å›¾ç‰‡æ¥æºç½‘ç«™ã€‚</p></blockquote></li><li><p><a href="https://www.howtostartanllc.org/free-stock-photos/" target="_blank" rel="noopener">https://www.howtostartanllc.org/free-stock-photos/</a></p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªæ±‡æ€»äº†å¾ˆå¤šä¸ªå…è´¹å›¾ç‰‡ç½‘ç«™çš„å¯¼èˆªã€‚</p></blockquote></li></ol></li></ol><hr><h3 id="02-äº‘åŒæ­¥å¤‡ä»½åŠŸèƒ½"><a href="#02-äº‘åŒæ­¥å¤‡ä»½åŠŸèƒ½" class="headerlink" title="02 äº‘åŒæ­¥å¤‡ä»½åŠŸèƒ½"></a>02 äº‘åŒæ­¥å¤‡ä»½åŠŸèƒ½</h3><ol><li><p><a href="https://www.jianguoyun.com/" target="_blank" rel="noopener"><strong>åšæœäº‘</strong></a></p><blockquote><p>å¯ä»¥å®ç°æœ¬åœ°ä¸äº‘ç«¯å®æ—¶åŒæ­¥ï¼Œè¿˜å¸¦æœ‰å†å²ç‰ˆæœ¬å›é€€åŠŸèƒ½ã€‚ç¼ºç‚¹ï¼šæ¯æœˆä¸Šä¼ åªæœ‰1Gå®¹é‡ï¼Œåªèƒ½åŒæ­¥ä½“ç§¯è¾ƒå°çš„æ–‡ä»¶ã€‚</p></blockquote></li><li><p><a href="https://www.fangcloud.com/" target="_blank" rel="noopener"><strong>äº¿æ–¹äº‘</strong></a>ï¼š</p><blockquote><p>å¯ä»¥å®ç°æœ¬åœ°ä¸äº‘ç«¯å®æ—¶åŒæ­¥ï¼Œè¿˜å¸¦æœ‰å†å²ç‰ˆæœ¬å›é€€åŠŸèƒ½ã€‚åŠŸèƒ½å’Œåšæœäº‘ç±»ä¼¼ã€‚</p></blockquote></li></ol><hr><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><ol><li><a href="https://github.com/mdnice/markdown-resume" target="_blank" rel="noopener">Markdown ç®€å†æ’ç‰ˆ</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> forme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡¸åŒ…æ€»ç»“</title>
      <link href="/archives/bf113a1c.html"/>
      <url>/archives/bf113a1c.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‡¸åŒ…çš„ç›¸å…³â€œtestâ€æµ‹è¯•"><a href="#å‡¸åŒ…çš„ç›¸å…³â€œtestâ€æµ‹è¯•" class="headerlink" title="å‡¸åŒ…çš„ç›¸å…³â€œtestâ€æµ‹è¯•"></a><a href="https://www.longlongqin.top/archives/510d.html">å‡¸åŒ…çš„ç›¸å…³â€œtestâ€æµ‹è¯•</a></h2><p><strong>ä¸€äº›å®šä¹‰ï¼š</strong></p><ul><li><p><strong>å‡¸åŒ…[Convex Hull]</strong>ï¼šç®€å•ç†è§£ä¸ºå°†å¾ˆå¤šé’‰å­å›´ä½çš„â€œçš®ç­‹â€ã€‚</p></li><li><p><strong>æç‚¹(Extreme Point)</strong>ï¼šæœ‰ä¸€ä¸ªç‚¹é›†Sã€‚å¦‚æœå­˜åœ¨é€šè¿‡ç‚¹Pçš„ç›´çº¿Lï¼Œä½¿å¾—ç‚¹é›†Sä¸­é™¤äº†ç‚¹Pä¹‹å¤–çš„å…¶ä»–çš„ç‚¹éƒ½åœ¨è¿™ä¸ªç›´çº¿çš„åŒä¸€ä¾§ï¼Œåˆ™è¿™ä¸ªç‚¹På°±æ˜¯<strong>æç‚¹(Extreme Points)</strong>ã€‚</p></li><li><p><strong>æè¾¹(Extreme Edge)</strong>ï¼šä¸¤ä¸ªæç‚¹è¿æˆçš„è¾¹ï¼Œå‰©ä½™çš„æ‰€æœ‰ç‚¹å‡ä¼šåœ¨è¯¥è¾¹çš„ä¸€ä¾§ã€‚</p></li></ul><h3 id="To-Left-Test"><a href="#To-Left-Test" class="headerlink" title="To-Left Test"></a>To-Left Test</h3><p>To-Leftæµ‹è¯•æ˜¯ç›¸å¯¹äºå¦å¤–è¿™ä¸¤ä¸ªç‚¹æ‰€ç¡®å®šçš„é‚£æ¡<strong>æœ‰å‘</strong>ç›´çº¿è€Œè¨€çš„ï¼Œä»»ä½•ä¸€æ¡æœ‰å‘ç›´çº¿ä¸ä»…ä¼šæŠŠå¹³é¢åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çŸ¥é“å“ªä¸€è¾¹æ˜¯å·¦è¾¹ï¼Œå“ªä¸€è¾¹æ˜¯å³è¾¹ã€‚To-Leftï¼Œå…¶å®å°±æ˜¯è¯´è¿™ä¸ªç‚¹ç›¸å¯¹äºåˆšæ‰çš„é‚£æ¡æœ‰å‘çº¿è€Œè¨€åˆ°åº•æ˜¯ä½äºå®ƒçš„å·¦ä¾§(å°±æ˜¯true)ï¼Œè¿˜æ˜¯å³ä¾§(å°±æ˜¯false)ã€‚</p><blockquote><p>è¿™é‡Œç”¨åˆ°äº†è¡Œåˆ—å¼æ¥æ±‚ä¸‰è§’å½¢é¢ç§¯ï¼ˆè¯·çœ‹ä¸‹é¢æ‰‹å†™è¯æ˜ï¼‰ã€‚ä¸‹å›¾ä¸­çš„è¿™ä¸ªè¡Œåˆ—å¼å®é™…ä¸Šç®—çš„æ˜¯å®ƒçš„â€é¢ç§¯(æŒ‡ï¼šæœ‰å‘é¢ç§¯ï¼‰â€çš„<strong>ä¸¤å€</strong>ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ToLeft</span> <span class="params">(Point p, Point q, Point s)</span> <span class="comment">//åˆ¤æ–­ç‚¹så¯¹äºçº¿æ®µpqçš„ä½ç½®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Area2(p,q,s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Area2</span><span class="params">(Point p, Point q, Point s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p.x*q.y - p.y*q.x + q.x*s.y - q.y*s.x</span><br><span class="line">            +s.x * p.y - s.y *p.x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¡Œåˆ—å¼æ¥æ±‚ä¸‰è§’å½¢é¢ç§¯çš„è¯æ˜ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="%E5%87%B8%E5%8C%85%E6%80%BB%E7%BB%93/v2-7c2f030cc1b9012bfefe41f0598ec6e9_720w.jpg" alt="img"></p></blockquote><center>å›¾ç‰‡æ¥æºäºï¼šhttps://zhuanlan.zhihu.com/p/35543479</center><h3 id="In-Trangle-Test"><a href="#In-Trangle-Test" class="headerlink" title="In-Trangle Test"></a>In-Trangle Test</h3><p>å…¶å®è¿™ä¸ªç®—æ³•å°±æ˜¯åˆ¤æ–­ç‚¹æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚</p><p>è¿™ä¸ªæµ‹è¯•æœ€ç›´æ¥çš„ç†è§£ä¸ºï¼šä½¿ç”¨äº†ä¸‰æ¬¡<em>To-Left Test</em>ï¼Œä¸‰è§’å½¢æœ‰ä¸‰æ¡è¾¹ï¼Œæ‰€ä»¥æ¯ä¸€æ¡è¾¹éƒ½æµ‹è¯•ä¸€æ¬¡ï¼š</p><ul><li>ä¸‰æ¬¡<em>To-Left Test</em>ç»“æœç›¸åŒçš„ï¼ˆå‡ä¸ºtrueæˆ–è€…æ˜¯falseï¼‰ï¼Œåˆ™è¯æ˜åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚</li><li>ä¸‰æ¬¡ç»“æœä¸­æœ‰ä¸€æ¬¡ä¸ç›¸åŒï¼Œåˆ™è¯æ˜åœ¨ä¸‰è§’å½¢å¤–éƒ¨ã€‚</li></ul><h3 id="åˆ¤æ–­æè¾¹"><a href="#åˆ¤æ–­æè¾¹" class="headerlink" title="åˆ¤æ–­æè¾¹"></a>åˆ¤æ–­æè¾¹</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//åˆ¤æ–­æè¾¹çš„æ ¸å¿ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">checkEdge</span><span class="params">(Point S[], <span class="keyword">int</span> n, <span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> lEmpty =TRUE, REmpty = TRUE;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n&amp;&amp;(LEmpty||REmpty); k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k!=p &amp;&amp; k!=q)</span><br><span class="line">            ToLeft(S[p], S[q], S[k]) ? LEmpty=FALSE: REmpty=FALSE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(LEmpty || REmpty)</span><br><span class="line">        S[p].extreme =S[q].extreme= TRUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="in-convex-polygon-test"><a href="#in-convex-polygon-test" class="headerlink" title="in-convex-polygon test"></a>in-convex-polygon test</h3><p><strong>åˆ¤å®šå¾…å®šç‚¹æ˜¯å¦ä½äºæŸå¤šè¾¹å½¢å†…éƒ¨ï¼ˆin-convex-polygon testï¼‰</strong></p><p>å®ç°çš„æ–¹æ³•å°±æ˜¯ï¼šæŒ‰ä¸€å®šæ–¹å‘ï¼ˆçº¦å®šä¸ºé€†æ—¶é’ˆï¼‰å‡¸åŒ…çš„æ¯æ¡è¾¹å’Œå¾…å®šç‚¹åšToLeft testï¼Œä¸€æ—¦æœ‰ä¸€æ¬¡testä¸ºfalseå°±è¯´æ˜æ”¹ç‚¹åœ¨å‡¸åŒ…å¤–é¢ã€‚</p><h2 id="æ„é€ å‡¸åŒ…çš„æ–¹æ³•"><a href="#æ„é€ å‡¸åŒ…çš„æ–¹æ³•" class="headerlink" title="æ„é€ å‡¸åŒ…çš„æ–¹æ³•"></a>æ„é€ å‡¸åŒ…çš„æ–¹æ³•</h2><h3 id="1-åˆ©ç”¨æç‚¹æ³•"><a href="#1-åˆ©ç”¨æç‚¹æ³•" class="headerlink" title="1 åˆ©ç”¨æç‚¹æ³•"></a>1 åˆ©ç”¨<strong>æç‚¹æ³•</strong></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">extremePoint</span> <span class="params">(<span class="built_in">point</span> S[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> s=<span class="number">0</span>; s&lt;n; s++)</span><br><span class="line">        S[s].extreme = TRUE;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;n; p++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> q=p+<span class="number">1</span>; q&lt;n; q++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> r=q+<span class="number">1</span>; r&lt;n; r++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> s=<span class="number">0</span>; s&lt;n; s++)</span><br><span class="line">                &#123;</span><br><span class="line"><span class="keyword">if</span>(s==p || s==q || s==r ||!S[s].extreme)</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(Intriangle(S[p],S[q],S[r],S[s]))</span><br><span class="line">                        S[s].extreme = FALSE;</span><br><span class="line">                &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^4)</p></blockquote><h3 id="2-åˆ©ç”¨æè¾¹æ³•"><a href="#2-åˆ©ç”¨æè¾¹æ³•" class="headerlink" title="2 åˆ©ç”¨æè¾¹æ³•"></a>2 åˆ©ç”¨<strong>æè¾¹æ³•</strong></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> markEEï¼ˆ<span class="built_in">point</span> S[], <span class="keyword">int</span> nï¼‰</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;n;k++) <span class="comment">//å°†æ‰€æœ‰ç‚¹çš„åˆå§‹çŠ¶æ€éƒ½è®¾ç½®æˆï¼šéæç‚¹</span></span><br><span class="line">        S[K].extreme = FALSE; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;n; p++) <span class="comment">//éå†æ¯æ¡è¾¹ï¼Œçœ‹ä»–æ˜¯å¦æ˜¯æè¾¹</span></span><br><span class="line">        <span class="keyword">for</span>(q=p+<span class="number">1</span>; q&lt;n; q++)</span><br><span class="line">            checkEdge(S,n,p,q) <span class="comment">//åˆ¤æ–­æè¾¹çš„æ ¸å¿ƒ</span></span><br><span class="line">&#125;</span><br><span class="line"> <span class="comment">//åˆ¤æ–­æè¾¹çš„æ ¸å¿ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">checkEdge</span><span class="params">(Point S[], <span class="keyword">int</span> n, <span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> lEmpty =TRUE, REmpty = TRUE;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n&amp;&amp;(LEmpty||REmpty); k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k!=p &amp;&amp; k!=q)</span><br><span class="line">            ToLeft(S[p], S[q], S[k]) ? LEmpty=FALSE: REmpty=FALSE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(LEmpty || REmpty)</span><br><span class="line">        S[p].extreme =S[q].extreme= TRUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^3)</p></blockquote><h3 id="3-incremental-constructionï¼ˆå¢é‡æ„é€ ï¼‰"><a href="#3-incremental-constructionï¼ˆå¢é‡æ„é€ ï¼‰" class="headerlink" title="3 incremental constructionï¼ˆå¢é‡æ„é€ ï¼‰"></a>3 incremental constructionï¼ˆå¢é‡æ„é€ ï¼‰</h3><p>è¯¦ç»†è®²è§£ï¼š<a href="https://www.longlongqin.top/archives/7c53.html">https://www.longlongqin.top/archives/7c53.html</a></p><p><strong>è¯¥ç®—æ³•çš„æ ¸å¿ƒæ­¥éª¤å°±æ˜¯ï¼š</strong>å¤æ‚åº¦ O(n^2)</p><ol><li><p>åˆ¤å®šæ–°åŠ å…¥ç‚¹ä¸å‡¸åŒ…çš„ä½ç½®å…³ç³»ï¼šç”¨<strong>in-convex-polygon test</strong></p><blockquote><p>in-convex-polygon teståœ¨ä¸Šé¢æœ‰è®²</p></blockquote></li><li><p>å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹ï¼š<strong>support-line</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200311230823679.png" alt="æ–°ç‚¹å‡†å¤‡æ’å…¥ç°æœ‰å‡¸åŒ…"></p><p>å¦‚ä¸Šé¢çš„ç‚¹xï¼Œå¦‚ä½•æ’å…¥ç°æœ‰å‡¸åŒ…å½“ä¸­å‘¢ï¼Ÿ</p><p><strong>æ’å…¥è¿‡ç¨‹ï¼š</strong>æ’å…¥è¿‡ç¨‹å…¶å®å°±æ˜¯å¯»æ‰¾ä¸¤ä¸ªè¿æ¥ç‚¹så’Œtï¼Œç„¶åå°†æ–°ç‚¹xä¸tã€såˆ†åˆ«è¿æ¥å¾—åˆ°æ–°çš„å‡¸åŒ…ã€‚tã€sä¸¤ä¸ªç‚¹å°†åŸå‡¸åŒ…çš„è¾¹ç•Œåˆ†æˆä¸¤éƒ¨åˆ†ï¼šstå’Œtsä¸¤ä¸ªé‚®ç®±çº¿æ®µã€‚æ„é€ æ–°å‡¸åŒ…å°±è¦ä¿ç•™è¿œç«¯stï¼Œèˆå¼ƒè¿‘ç«¯tsã€‚å–ä»£tsçš„æ˜¯xå’Œsã€tçš„è¿æ¥çº¿xtå’Œxsã€‚å…¶ä¸­xtã€xsè¢«ç§°ä¸º<strong>åˆ‡çº¿ï¼ˆtangentï¼‰</strong>æˆ–è€…<strong>support lineï¼ˆæ”¯æ’‘çº¿ï¼‰</strong>ã€‚ï¼ˆé…åˆä¸‹å›¾ç†è§£ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-8afbf4ebfa808eec9ffff8c111ae6465_720w.jpg" alt="img"></p><ul><li><p>ç°åœ¨å°±æ˜¯<strong>å¦‚ä½•æ‰¾åˆ°tã€sè¿™ä¸¤ä¸ªç‚¹ï¼Ÿ</strong></p><p>åœ¨å‡¸åŒ…ä¸Šä»»å–ä¸€ç‚¹vï¼ŒæŒ‰<strong>é€†</strong>æ—¶é’ˆæ–¹å‘vç‚¹ä¼šæœ‰ä¸€ä¸ªç›´æ¥å‰é©±ç‚¹å’Œç›´æ¥åç»§ç‚¹ã€‚è€ƒå¯Ÿæœ‰å‘ç›´çº¿xvä¸ç‚¹vç›´æ¥å‰é©±å’Œç›´æ¥åç»§çš„ä½ç½®å…³ç³»ï¼ˆä¸¤æ¬¡to left testï¼‰ï¼Œè®°ä¸ºä¸€ä¸ª<strong>patternè¡¨</strong>ã€‚</p><p>ã€ç»“æœæ— éæ˜¯å››ç§æƒ…å†µï¼švçš„ç›´æ¥å‰é©±å’Œç›´æ¥åç»§ç›¸å¯¹äºæœ‰å‘ç›´çº¿xvçš„ä½ç½®æ˜¯RLï¼ŒLRï¼ŒLLï¼ŒRRã€‚ä¾‹å¦‚ä¸Šå›¾é»„è‰²ç‚¹vï¼Œæ˜¯Rå’ŒLï¼›è“è‰²ç‚¹våˆ†åˆ«æ˜¯Lå’ŒRã€‚å®é™…ä¸Šå‡¸åŒ…è¾¹ç•Œstä¸Šæ‰€æœ‰ç‚¹çš„patternéƒ½ä¸ºRLï¼Œtsä¸Šæ‰€æœ‰ç‚¹çš„patternéƒ½ä¸ºLRã€‚å…³é”®ç‚¹åœ¨äºï¼šç‚¹Sçš„patternæ˜¯LLï¼Œç‚¹tçš„patternä¸ºRRã€‚ã€‘</p></li></ul></li></ol><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„ä¸¤æ­¥åˆä¸ºä¸€æ­¥ï¼š<strong><u>å¯¹äºæ¯ä¸ªå¾…å®šç‚¹xï¼Œä¸å¿…ç‰¹æ„å»è€ƒè™‘å®ƒä¸å‡¸åŒ…çš„ä½ç½®å…³ç³»ï¼Œè€Œæ˜¯éå†å‡¸åŒ…ä¸Šæ¯ä¸€ä¸ªç‚¹ã€‚</u></strong></p><blockquote><p>å¯¹äºå‡¸åŒ…<strong>è¾¹ç•Œ</strong>ä¸Šçš„æ¯ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬éƒ½èƒ½é€šè¿‡ä¸¤æ¬¡to left testè¿…é€Ÿåˆ¤æ–­å‡ºpatternã€‚</p><p>å¯¹äºxä½äºå‡¸åŒ…<strong>å¤–éƒ¨</strong>çš„æƒ…å†µï¼Œç»è¿‡éå†å‡¸åŒ…çš„ç‚¹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å¾—åˆ°så’Œtçš„ä½ç½®ï¼Œå¾—åˆ°ä¸¤æ¡support lineï¼Œä»è€Œæ„é€ å‡ºæ–°çš„å‡¸åŒ…ï¼›</p><p>è€Œå¯¹äºxä½äºå‡¸åŒ…<strong>å†…éƒ¨</strong>çš„æƒ…å†µï¼Œå‡¸åŒ…è¾¹ç•Œæ¯ä¸ªç‚¹éƒ½ä¸å¯èƒ½å‡ºç°RRæˆ–LLçš„æƒ…å†µï¼Œç›´æ¥èˆå¼ƒxå³å¯ã€‚</p></blockquote><h3 id="4-Jarvis-March"><a href="#4-Jarvis-March" class="headerlink" title="4 Jarvis March"></a>4 Jarvis March</h3><p>è¯¦ç»†è®²è§£ï¼š<a href="https://longlongqin.top/archives/9c7f.html" target="_blank" rel="noopener">https://longlongqin.top/archives/9c7f.html</a></p><p>åˆç§°ï¼šGift Wrapping</p><p>ç®—æ³•æ­¥éª¤ï¼š</p><ol><li>åˆå§‹åŒ–æ‰€æœ‰ç‚¹ï¼Œè®¾ç½®ç‚¹é›†çš„åˆæ€ä¸º <strong>éæç‚¹</strong></li><li>æ‰¾åˆ°å¼€å§‹çš„ç¬¬ä¸€ä¸ªæç‚¹ï¼šç”¨<strong>LTLæ–¹æ³•</strong></li><li>å¯»æ‰¾ä¸‹ä¸€ä¸ªæç‚¹ï¼šç”¨<strong><em>ToLeft test</em></strong>å¯»æ‰¾ä¸‹ä¸€ä¸ªæç‚¹</li><li>å¾ªç¯æ­¥éª¤3ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰æç‚¹</li></ol><p>ä¹Ÿå°±æ˜¯ï¼šé¦–å…ˆä»ä»»ä½•ä¸€ä¸ªæç‚¹ï¼ˆç”¨LTLç¡®å®šï¼‰å¼€å§‹ï¼Œç„¶åæ‰¾åˆ°ä¸€æ¡ä»¥è¿™ä¸ªæç‚¹ä¸ºç«¯ç‚¹çš„æè¾¹ã€‚ç„¶åæ²¿ç€è¿™ä¸ªæè¾¹çš„å¦ä¸€ä¸ªç«¯ç‚¹<strong>ï¼ˆendpointï¼‰</strong>å‡ºå‘ï¼Œå†æ‰¾å‡ºä¸‹ä¸€æ¡æè¾¹ã€‚å¦‚æ­¤åå¤æ“ä½œï¼Œæœ€ç»ˆä¼šæ‰¾åˆ°ä¸€æ¡ä»¥æœ€åˆæç‚¹ä¸ºendpointçš„æè¾¹ï¼Œå¾—åˆ°ä¸€ä¸ªå°é—­çš„ç¯ï¼Œå‡¸åŒ…ä¹Ÿæ„é€ å®Œæˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200312175230158.png" alt="image-20200312175230158"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LTL</span><span class="params">(Point S[], <span class="keyword">int</span> n)</span> <span class="comment">//å¯»æ‰¾æœ€ä¸‹andæœ€å·¦çš„ç‚¹ä½œä¸ºç¬¬ä¸€ä¸ªæç‚¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ltl = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;n; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(S[k].y &lt; S[ltl].y || (S[k].y==S[ltl].y &amp;&amp; S[k].x&lt;S[ltl].x) )</span><br><span class="line">            ltl = k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ltl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Javis</span> <span class="params">(Point S[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">    S[k].extreme=FALSE; <span class="comment">//1.å°†æ‰€æœ‰ç‚¹æ ‡è®°ä¸ºéæç‚¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> ltl = LTL(S, n); <span class="comment">//2.æ‰¾åˆ°ltl</span></span><br><span class="line">    <span class="keyword">int</span> k = ltl; </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        S[k].extreme = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">-1</span>; <span class="comment">//è¦æ‰¾çš„ä¸‹ä¸€ä¸ªæç‚¹ç”¨sè¡¨ç¤º</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t=<span class="number">0</span>; t&lt;n; t++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (t!=k &amp;&amp; t!=s &amp;&amp; ( s==<span class="number">-1</span> || !ToLeft(S[K],S[s],S[t]) ) )</span><br><span class="line">                s = t; </span><br><span class="line">        &#125;  </span><br><span class="line">        S[k].succ = s; <span class="comment">//æ–°çš„æè¾¹ç¡®å®š</span></span><br><span class="line">        k = sï¼› <span class="comment">//æ›´æ–°kçš„å€¼ï¼Œå˜ä¸ºä¸‹ä¸€æ¬¡æŸ¥æ‰¾çš„è¾¹çš„èµ·ç‚¹</span></span><br><span class="line">    &#125; <span class="keyword">while</span>(k != ltl) <span class="comment">//å¦‚æœå¾ªç¯å›åˆ°äº†åŸæ¥çš„ç‚¹ï¼Œåˆ™ç»“æŸ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤æ‚åº¦ï¼šJarvis Marchç®—æ³•ç®—æ³•çš„å¤æ‚åº¦<strong>æ›´å‡†ç¡®çš„è¡¨ç¤ºä¸ºO(nh)ã€‚</strong>hï¼ˆå‡¸åŒ…è¾¹ç•Œçš„ç‚¹çš„ä¸ªæ•°ï¼‰åˆç”±æœ€ç»ˆè¾“å‡ºç»“æœï¼Œå³å‡¸åŒ…æœ¬èº«æ¥å†³å®šï¼Œè¾“å‡ºç»“æœå†³å®šäº†æ„é€ è¿‡ç¨‹çš„å¤æ‚åº¦ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œè¾“å‡ºæ•æ„Ÿæ€§â€ã€‚è¿™ç§ç±»å‹çš„ç®—æ³•åˆè¢«ç§°ä¸ºoutput sensitive algorithmã€‚è¿™ç§ç‰¹æ€§åœ¨å…¶å®ƒå‡¸åŒ…ç®—æ³•ä¸­ä¹Ÿä¼šä½“ç°ã€‚</p><h3 id="5-Graham-Scan"><a href="#5-Graham-Scan" class="headerlink" title="5 Graham Scan"></a>5 Graham Scan</h3><p>è¯¦ç»†è®²è§£ï¼›<a href="https://longlongqin.top/archives/3478.html" target="_blank" rel="noopener">https://longlongqin.top/archives/3478.html</a></p><p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p><ol><li><p><strong>é¢„æ’åº(presorting)</strong>ï¼šå³æ‰¾åˆ°æŸä¸ªåŸºå‡†ç‚¹ï¼Œç„¶åå°†å…¶ä½™æ‰€æœ‰çš„ç‚¹æŒ‰ç…§ç›¸å¯¹äºåŸºå‡†ç‚¹çš„<strong>æåæ ‡</strong>æ’åºã€‚å®ƒä¸»è¦åšäº†ä¸‰ä¸ªäº‹æƒ…ï¼š</p><blockquote><p>1ã€<strong>æ‰¾å‡ºåŸºå‡†ç‚¹</strong>ï¼šç”¨<strong>lowest-then-leftmost pointï¼ˆLTLï¼‰</strong>ï¼Œç„¶åå¯¹å…¶ä»–ç‚¹æŒ‰ç…§æåæ ‡æ’åºï¼šæ ¹æ®æè§’æ’åºçš„æ–¹æ³•ï¼Œåœ¨ï¼šï¼ˆ<a href="https://longlongqin.top/archives/510d.html#è¡¥ï¼šæ ¹æ®æè§’æ’åºï¼‰" target="_blank" rel="noopener">https://longlongqin.top/archives/510d.html#è¡¥ï¼šæ ¹æ®æè§’æ’åºï¼‰</a></p><p>2ã€<strong>æ‰¾å‡ºèµ·å§‹è¾¹</strong>ï¼šä»æ’å¥½åºçš„ç‚¹é›†ï¼Œé€‰å–å‰ä¸¤ä¸ªç‚¹ï¼Œå°±æ˜¯èµ·å§‹è¾¹ã€‚</p><p>3ã€<strong>å°†èµ·å§‹è¾¹ ä¸ å‰©ä¸‹çš„n-2æ¡è¾¹åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„æ ˆ(stack)ä¸­ï¼š</strong>å¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="%E5%87%B8%E5%8C%85%E6%80%BB%E7%BB%93/image-20200314181609764.png" alt="æ ˆï¼šTå’ŒS"></p></blockquote></li><li><p><strong>Scanæ‰«æ</strong></p><p>è¿™ä¸€æ­¥æ˜¯ç®—æ³•çš„æ ¸å¿ƒã€‚</p><p>scançš„è¿‡ç¨‹ä¸»è¦å…³æ³¨ä¸‰ä¸ªç‚¹ï¼š<strong>æ ˆSçš„æ ˆé¡¶ï¼ˆS[0]ï¼‰ã€æ¬¡æ ˆé¡¶ï¼ˆS[1]ï¼‰å’Œæ ˆTçš„æ ˆé¡¶ï¼ˆT[0]ï¼‰</strong>ã€‚ä¹Ÿå°±ä¸‹å›¾çº¢è‰²æ ‡æ³¨çš„ä¸‰ä¸ªç‚¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207210925858.jpg" alt="img"></p><ul><li>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæ¯æ¬¡å¾…å¤„ç†çš„S[0]å’ŒS[1]æ„æˆçš„è¾¹ä¸€å®šæ˜¯ä¸€æ¡æè¾¹ï¼ˆå¦‚ä¸Šå›¾ç‚¹1å’Œç‚¹2ï¼‰ï¼Œç®—æ³•<strong>å…³é”®æ­¥éª¤</strong>å°±æ˜¯å¯¹è¾¹è¿™æ¡æè¾¹å’ŒT[0]åšto left testï¼Œåˆ¤æ–­T[0]ä½äºè¾¹S[0]S[1]çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚è‹¥åœ¨å·¦è¾¹åˆ™ç»§ç»­æ‹“å±•ï¼Œè‹¥åœ¨å³è¾¹åˆ™å¦å®šæ‰æ­¤å‰è®¤å®šçš„æè¾¹ã€‚æ— è®ºç»“æœå¦‚ä½•ï¼Œæ¯æ¬¡åˆ¤å®šéƒ½ä¼šå°†é—®é¢˜è§„æ¨¡ç¼©å°ä¸€ä¸ªå•å…ƒï¼Œç®—æ³•ç»“æŸæ—¶Tæœ€ç»ˆè‚¯å®šä¸ºç©ºã€‚Tç©ºåï¼Œ<strong>Sä¸­å­˜ç•™ä¸‹çš„ç‚¹æ­£æ˜¯å‡¸åŒ…çš„æç‚¹</strong>ï¼Œè¿™äº›ç‚¹è‡ªåº•è€Œä¸Šæ­£æ˜¯å‡¸åŒ…è¾¹ç•Œç‚¹çš„é€†æ—¶é’ˆéå†ï¼Œä¹Ÿå¾—åˆ°äº†æ•´ä¸ªå‡¸åŒ…æ„é€ é—®é¢˜çš„è§£ã€‚</li></ul></li></ol><p><strong>å¤æ‚åº¦ï¼š</strong></p><p>Graham Scanç®—æ³•å¤æ‚åº¦ç”±ä¸‰éƒ¨åˆ†å†³å®šï¼š</p><ul><li>persortingï¼Œé‡‡ç”¨ä¸€èˆ¬æ’åºç®—æ³•ï¼Œå¤æ‚åº¦æ˜¯O(nlogn)</li><li>é€æ­¥è¿­ä»£ï¼ŒO(n)ï¼šç®—æ³•ä¸€æ­¥æ­¥çº³å…¥æ–°ç‚¹ï¼Œä¼šè¿­ä»£næ­¥ã€‚</li><li>scanï¼ŒO(?)</li></ul><p><strong>æ‰€ä»¥ç®—æ³•çš„æ€»ä½“å¤æ‚åº¦ï¼šO(nlogn + n * ?) ï¼Œå¯è§scançš„å¤æ‚åº¦å†³å®šäº†ç®—æ³•æ€»ä½“çš„å¤æ‚åº¦ã€‚</strong></p><ul><li>ç®—æ³•ä¸€æ­¥æ­¥çº³å…¥æ–°ç‚¹ï¼Œä¼šè¿­ä»£næ­¥ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªç‚¹ä¸Šéƒ½æœ‰å¯èƒ½åšå›æº¯æ“ä½œï¼Œæ‰€ä»¥scançš„å¤æ‚åº¦æ˜¯ä¸ç¡®å®šçš„ã€‚æˆ‘ä»¬æ¥ä»¥ä¸Šå›¾æœ€åæƒ…å†µä¸ºä¾‹ï¼Œåˆ°ç¬¬8ä¸ªç‚¹æ—¶åˆ¤å®šä¸ºfalseï¼Œèˆå¼ƒç‚¹7ï¼Œå›æº¯ã€‚ä¸‹ä¸€æ­¥åˆ¤æ–­ä¹Ÿä¸ºfalseï¼Œèˆå¼ƒç‚¹6ï¼Œå›æº¯ã€‚å¦‚æ­¤å›æº¯ç›´åˆ°ç®—æ³•å¼€å§‹çš„ç‚¹2ã€‚è¿™æ¬¡scanå€’é€€äº†é«˜è¾¾O(n)ä¸ªç‚¹ï¼Œå¦‚æœæ¯æ¬¡scanéƒ½æ˜¯å¦‚æ­¤é‚£ä¹ˆç®—æ³•æ•´ä½“å¤æ‚åº¦å°±ä¸ºï¼šO(nlogn + n * n) = O(n^2)äº†ï¼Œé‚£è¿™ç§ç®—æ³•çš„æ„ä¹‰ä¹Ÿå°±ä¸å¤§äº†ã€‚</li></ul><p>å…¶å®ä¸Šè¿°åˆ†æå¹¶éé”™è¯¯ï¼Œåªæ˜¯ä¸å¤Ÿç²¾ç¡®ã€‚O(n^2)ç¡®å®æ˜¯Graham Scanç®—æ³•çš„ä¸€ä¸ª<strong>ä¸Šç•Œ</strong>ï¼Œä½†æ˜¯è¿™ä¸ªä¸Šç•Œå¹¶ä¸æ˜¯ç´§çš„ã€‚</p><p>é—®é¢˜å°±å‡ºåœ¨åˆ†æå‡å®šäº†æ¯æ¬¡éƒ½ä¼šå‡ºç°å›é€€é«˜è¾¾O(n)ä¸ªç‚¹ã€‚</p><p><strong>ä»£ç éƒ¨åˆ†ï¼š</strong><a href="https://longlongqin.top/archives/d4fa.html" target="_blank" rel="noopener">https://longlongqin.top/archives/d4fa.html</a></p><h2 id="6-Divide-And-Conquer"><a href="#6-Divide-And-Conquer" class="headerlink" title="6 [Divide And Conquer]"></a>6 [Divide And Conquer]</h2><p>è¯¦ç»†è®²è§£ï¼š<a href="https://longlongqin.top/archives/f32f.html" target="_blank" rel="noopener">https://longlongqin.top/archives/f32f.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¸åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯»ä¹¦ç¬”è®°</title>
      <link href="/archives/7b67faab.html"/>
      <url>/archives/7b67faab.html</url>
      
        <content type="html"><![CDATA[<center>é™ˆçš“â€”â€”ç¨‹åºå‘˜ç»ƒçº§æ”»ç•¥</center><h2 id="æåŠçš„ä¹¦ç±-amp-æ‰‹å†Œç­‰"><a href="#æåŠçš„ä¹¦ç±-amp-æ‰‹å†Œç­‰" class="headerlink" title="æåŠçš„ä¹¦ç±&amp;æ‰‹å†Œç­‰"></a>æåŠçš„ä¹¦ç±&amp;æ‰‹å†Œç­‰</h2><p>ä¹¦ç±åˆ—è¡¨ï¼š<a href="https://github.com/git-zjx/programmer_training_strategy" target="_blank" rel="noopener">https://github.com/git-zjx/programmer_training_strategy</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¸­æ’å…¥pdf</title>
      <link href="/archives/448ac7f1.html"/>
      <url>/archives/448ac7f1.html</url>
      
        <content type="html"><![CDATA[<p>æ³•1ï¼šå®‰è£…hexo-pdfæ’ä»¶</p><p>æ³•2ï¼šåˆ©ç”¨htmlè¯­æ³•ï¼šå¯ä»¥è½»æ¾è®¾å®šå°ºå¯¸</p><a id="more"></a><h2 id="å®‰è£…hexo-pdfæ’ä»¶"><a href="#å®‰è£…hexo-pdfæ’ä»¶" class="headerlink" title="å®‰è£…hexo-pdfæ’ä»¶"></a>å®‰è£…hexo-pdfæ’ä»¶</h2><h3 id="hexo-pdf"><a href="#hexo-pdf" class="headerlink" title="hexo-pdf"></a><a href="https://github.com/superalsrk/hexo-pdf" target="_blank" rel="noopener">hexo-pdf</a></h3><p>Hexo tag for embeded pdf</p><h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-pdf</span><br></pre></td></tr></table></figure><h4 id="Normal-PDF"><a href="#Normal-PDF" class="headerlink" title="Normal PDF"></a>Normal PDF</h4><p>pdfé“¾æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf http:&#x2F;&#x2F;7xov2f.com1.z0.glb.clouddn.com&#x2F;bash_freshman.pdf %&#125;</span><br></pre></td></tr></table></figure><p>æœ¬åœ°ï¼ˆ<u>æˆ‘çš„å¤±è´¥äº†ï¼Œè¿˜æ²¡æ‰¾åˆ°åŸå› </u>ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf .&#x2F;bash_freshman.pdf %&#125;</span><br></pre></td></tr></table></figure><h4 id="Google-drive"><a href="#Google-drive" class="headerlink" title="Google drive"></a>Google drive</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf https:&#x2F;&#x2F;drive.google.com&#x2F;file&#x2F;d&#x2F;0B6qSwdwPxPRdTEliX0dhQ2JfUEU&#x2F;preview %&#125;</span><br></pre></td></tr></table></figure><h4 id="Slideshare"><a href="#Slideshare" class="headerlink" title="Slideshare"></a>Slideshare</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf http:&#x2F;&#x2F;www.slideshare.net&#x2F;slideshow&#x2F;embed_code&#x2F;key&#x2F;8Jl0hUt2OKUOOE %&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼šå›¾ç‰‡æ¥æºäºç½‘ç»œ</p><div class="row"><embed src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/PDF/Google_Cpp_Style_guide_CN.pdf" width="100%" height="550" type="application/pdf"></div><hr><h2 id="åˆ©ç”¨htmlè¯­æ³•"><a href="#åˆ©ç”¨htmlè¯­æ³•" class="headerlink" title="åˆ©ç”¨htmlè¯­æ³•"></a>åˆ©ç”¨htmlè¯­æ³•</h2><h3 id="é¦–å…ˆä¿®æ”¹-config-ymlæ–‡ä»¶"><a href="#é¦–å…ˆä¿®æ”¹-config-ymlæ–‡ä»¶" class="headerlink" title="é¦–å…ˆä¿®æ”¹_config.ymlæ–‡ä»¶"></a>é¦–å…ˆä¿®æ”¹_config.ymlæ–‡ä»¶</h3><p><strong>å°†_config.ymlä¸­çš„post_asset_folderé€‰é¡¹ç½®ä¸ºtrue</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure><p>å…³äºè¿™ä¸ªé€‰é¡¹çš„åŠŸèƒ½è¯´æ˜å¦‚ä¸‹:</p><blockquote><p>å½“æ‚¨è®¾ç½®post_asset_folderä¸ºtrueå‚æ•°åï¼Œåœ¨å»ºç«‹æ–‡ä»¶æ—¶ï¼ŒHexo<br>ä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªä¸æ–‡ç« åŒåçš„æ–‡ä»¶å¤¹ï¼Œæ‚¨å¯ä»¥æŠŠä¸è¯¥æ–‡ç« ç›¸å…³çš„æ‰€æœ‰èµ„æºéƒ½æ”¾åˆ°é‚£ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œæ‚¨ä¾¿å¯ä»¥æ›´æ–¹ä¾¿çš„ä½¿ç”¨èµ„æºã€‚</p></blockquote><h3 id="ç„¶åæ–°å»ºä¸€ç¯‡æ–‡ç« "><a href="#ç„¶åæ–°å»ºä¸€ç¯‡æ–‡ç« " class="headerlink" title="ç„¶åæ–°å»ºä¸€ç¯‡æ–‡ç« "></a>ç„¶åæ–°å»ºä¸€ç¯‡æ–‡ç« </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new</span><br></pre></td></tr></table></figure><blockquote><p>ç”±äºä¸Šä¸€æ­¥å·²ç»å°†post_asset_folderé€‰é¡¹è®¾ä¸ºäº†true<br>æ‰€ä»¥è¿™ä¸€æ­¥æ–°å»ºæ–‡ç« æ—¶ä¼šåˆ›å»ºä¸€ä¸ªmdæ–‡ä»¶å’Œä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹<br>ä¸ºäº†æ–¹ä¾¿å™è¿°ï¼Œæˆ‘ç”¨testä½œä¸ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹å</p></blockquote><h3 id="ç¼–è¾‘test-md"><a href="#ç¼–è¾‘test-md" class="headerlink" title="ç¼–è¾‘test.md"></a>ç¼–è¾‘test.md</h3><blockquote><p>ç”¨vimæˆ–è€…åˆ«çš„ç¼–è¾‘å™¨æ‰“å¼€test.md</p><p>test.mdæ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç </p><p><code>&lt;object data=&quot;./test/test.pdf&quot; type=&quot;application/pdf&quot; width=&quot;100%&quot; height=&quot;100%&quot;&gt;</code></p><p>å…³äºè¿™å¥ä»£ç ç®€å•çš„è§£é‡Š<br>dataè¡¨ç¤ºä½ è¦ä¸Šä¼ çš„pdfçš„è·¯å¾„,ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå°†ä½ è¦ä¸Šä¼ çš„pdfæ”¾å…¥ç¬¬äºŒæ­¥ç”Ÿæˆçš„testæ–‡ ä»¶å¤¹<br>typeå’Œwidthå°±ä¸è¯´äº†ï¼Œè¿™é‡Œæ³¨æ„heightä¸èƒ½è®¾æˆ100%ï¼Œä¸ç„¶å¤ªçŸ®äº†ï¼Œæ˜¾ç¤ºæ•ˆæœä¸å¥½<br>å¯ä»¥ç”¨æµè§ˆå™¨é¢„è§ˆï¼Œé€šè¿‡F12é¢„ä¼°ä¸€ä¸‹é«˜åº¦ã€‚æˆ‘æœ€åä»£ç å¦‚ä¸‹ï¼Œä¾›å‚è€ƒ</p><p><code>&lt;object data=&quot;https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/PDF/Google_Cpp_Style_guide_CN.pdf &quot; type=&quot;application/pdf&quot; width=&quot;100%&quot; height=&quot;877px&quot;&gt;</code></p></blockquote><p>è¿™é‡Œä¸ä¸€å®šéç”¨objectæ ‡ç­¾ï¼Œembedã€iframeæ ‡ç­¾ä¹Ÿä¸€æ ·</p><p>å…·ä½“å‚è€ƒ:<a href="https://blog.csdn.net/qappleh/article/details/80250492" target="_blank" rel="noopener">ç½‘é¡µé“¾æ¥</a></p><h2 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a><u><strong>æ³¨æ„</strong></u>ï¼š</h2><p><u>ç”¨htmlæ–¹æ³•ï¼Œåœ¨æˆ‘çš„ä¸»é¢˜ä¸­ï¼Œå¦‚æœå®ƒåé¢æœ‰æ–‡å­—ï¼Œä¼šæ˜¾ç¤ºä¸å‡ºæ¥ï¼ŒåŸå› ä¸è¯¦ã€‚</u>æ‰€ä»¥å®ä¾‹æˆ‘æ”¾åœ¨æ–‡ç« åº•éƒ¨å±•ç¤ºäº†</p><hr><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://github.com/superalsrk/hexo-pdf" target="_blank" rel="noopener">hexo-pdfå®˜æ–¹æ•™ç¨‹</a></p><p><a href="http://miracle778.site/pdf-test/pdf-test.html" target="_blank" rel="noopener">hexoä¸­æ’å…¥pdfè§£å†³æ–¹æ³•</a></p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p><a href="http://lingr7.coding.me/2019/10/02/theme-hexo-pdf%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7-%E8%A7%A3%E5%86%B3hexo-pdf%E6%96%87%E4%BB%B6%E6%98%BE%E7%A4%BA%E4%B8%8D%E5%85%A8%E7%9A%84%E9%97%AE%E9%A2%98.html" target="_blank" rel="noopener">theme-hexo-pdfä½¿ç”¨æŠ€å·§â€”-è§£å†³hexo-pdfæ–‡ä»¶æ˜¾ç¤ºä¸å…¨çš„é—®é¢˜</a></p><object data="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/PDF/Google_Cpp_Style_guide_CN.pdf" width="100%" height="877px"></object>]]></content>
      
      
      <categories>
          
          <category> hexoåšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexoæ˜¾ç¤ºpdf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LearnCpp chapter1</title>
      <link href="/archives/a0a78e77.html"/>
      <url>/archives/a0a78e77.html</url>
      
        <content type="html"><![CDATA[<center><p center large><red>LearnCpp-chapter1</red></p></center><center><red>https://www.learncpp.com</red></center><a id="more"></a><h2 id="0-5-ä»‹ç»compiler-linker-and-libraries"><a href="#0-5-ä»‹ç»compiler-linker-and-libraries" class="headerlink" title="0.5 ä»‹ç»compiler, linker, and libraries"></a>0.5 ä»‹ç»compiler, linker, and libraries</h2><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter1/Development-min.png" alt="Development-min"></p><h3 id="Step-4-Compiling-your-source-code"><a href="#Step-4-Compiling-your-source-code" class="headerlink" title="Step 4: Compiling your source code"></a>Step 4: Compiling your source code</h3><p>ä¸ºäº†ç¼–è¯‘C++ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¼–è¯‘å™¨ã€‚ç¼–è¯‘å™¨ä¸»è¦æ˜¯å¯¹æ¯ä¸€ä¸ª<code>.cpp</code>æ–‡ä»¶åšä¸¤ä»¶äº‹æƒ…ï¼š</p><ol><li>å®ƒæ£€æŸ¥ä½ çš„ä»£ç æ˜¯å¦ç¬¦åˆC++çš„è§„åˆ™ã€‚å¦‚æœä¸ç¬¦åˆï¼Œå°±ä¼šæŠ¥é”™ï¼ˆåŒæ—¶è¿”å›ç›¸åº”çš„è¡Œå·ï¼‰æ¥å¸®åŠ©ä½ ç¡®å®šä»€ä¹ˆéœ€è¦ä¿®æ”¹ï¼ŒåŒæ—¶åœæ­¢ç¼–è¯‘</li><li>å®ƒå°†C++æºä»£ç ç¿»è¯‘æˆæœºå™¨ä»£ç æ–‡ä»¶ï¼ˆå«åšï¼š<red><strong>object file</strong></red>ï¼‰ã€‚<strong>object file</strong>çš„åå­—é€šå¸¸æ˜¯è¿™ç§å½¢å¼ï¼š<u><em>name*</em>.o<strong>*</strong></u> æˆ–è€… <u>*name.obj***</u>ï¼ˆå…¶ä¸­nameä¸<code>.cpp</code>æ–‡ä»¶çš„nameæ˜¯å¯¹åº”çš„ï¼‰ã€‚</li></ol><p>ä¾‹å¦‚ï¼šä¸‹é¢çš„ä¸‰ä¸ª.cppçš„æºæ–‡ä»¶ï¼Œç¼–è¯‘ä¹‹åå½¢æˆï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter1/CompileSource-min.png" alt="The compilation process"></p><hr><h3 id="Step-5-Linking-object-files-and-libraries"><a href="#Step-5-Linking-object-files-and-libraries" class="headerlink" title="Step 5: Linking object files and libraries"></a>Step 5: Linking object files and libraries</h3><p><strong>ç¼–è¯‘å™¨compiler **ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆè‹¥å¹²çš„ object filesã€‚æ¥ä¸‹æ¥å°±éœ€è¦</strong>é“¾æ¥å™¨Linker**å‡ºé©¬äº†ã€‚linkerçš„å·¥ä½œä¸»è¦æœ‰ä¸‰æ–¹é¢ï¼š</p><ol><li><p>å°†æ‰€æœ‰çš„object filesï¼ˆç¼–è¯‘ä¹‹åç”Ÿæˆçš„ï¼‰åˆå¹¶æˆä¸ºä¸€ä¸ª<em>å¯æ‰§è¡Œç¨‹åºexecutable program</em></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter1/LinkingObjects-min.png" alt="LinkingObjects-min"></p></li><li><p>æ­¤å¤–ï¼Œlinkerè¿˜å¯ä»¥é“¾æ¥<strong>åº“æ–‡ä»¶library files</strong>ï¼ˆlibrary filesæ˜¯ä¸€ä¸ªå·²ç»é¢„ç¼–è¯‘å¥½çš„ä»£ç ç»è¿‡â€œæ‰“åŒ…â€ï¼Œåœ¨å…¶ä»–ç¨‹åºä¸­é‡ç”¨ï¼‰</p><blockquote><p>C++æœ‰æœ‰ä¸€ä¸ªæ‰©å……çš„åº“ï¼Œå«åšï¼šæ ‡å‡†åº“<strong>C++ Standard Library</strong>ã€‚å®ƒæä¾›é¢å¤–çš„åŠŸèƒ½æ€§åº“ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„<em>iostream library</em></p><p>ä½ å¯ä»¥æœ‰é€‰æ‹©æ€§çš„å»é“¾æ¥å…¶ä»–åº“ï¼Œæ¯”å¦‚å½“ä½ æƒ³å†™ä¸€ä¸ªæ’­æ”¾å£°éŸ³çš„ç¨‹åºã€‚ä½ è‚¯å®šä¸æƒ³ä»å¤´åˆ°å°¾çš„å»å†™å¦‚ä½•å»è¯»å–æ–‡ä»¶ã€æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰æ•ˆâ€¦.. è¿™æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸‹è½½ç›¸å…³çš„åº“è¿›è¡Œåˆ©ç”¨å°±æ–¹ä¾¿å¾ˆå¤šäº†ã€‚</p></blockquote></li><li><p>è¿æ¥å™¨ä¼šç¡®ä¿æ‰€æœ‰çš„è·¨æ–‡ä»¶ä¾èµ–é¡¹éƒ½æ­£ç¡®çš„è§£æäº†ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼š</p><p>å¦‚æœä½ åœ¨ä¸€ä¸ª.cppæ–‡ä»¶ä¸­å®šä¹‰äº†â€Aâ€ï¼Œç„¶ååœ¨å¦ä¸€ä¸ª.cppæ–‡ä»¶ä¸­å»ä½¿ç”¨â€Aâ€ã€‚linkerå°±ä¼šå°†è¿™ä¸¤ä¸ªæ–‡ä»¶è”ç³»èµ·æ¥ã€‚å¦‚æœé“¾æ¥ä¸æˆåŠŸï¼Œå°±ä¼šæŠ¥é”™å¹¶ä¸”è¿æ¥ç»ˆæ­¢</p></blockquote></li></ol><p>åªè¦linkeræˆåŠŸçš„å®Œæˆæ‰€æœ‰çš„â€œobject files å’Œ libraries â€çš„é“¾æ¥å·¥ä½œï¼Œä½ å°±ä¼šå¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç„¶åä½ å°±å¯ä»¥è¿è¡Œå®ƒã€‚</p><table><thead><tr><th align="left">Makefile</th></tr></thead><tbody><tr><td align="left">ã€æ³¨ã€‘æœ‰äº›å¼€å‘ç¯å¢ƒä½¿ç”¨<strong>Makefile</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæè¿°å¦‚ä½•æ„å»ºä¸€ä¸ªç¨‹åºçš„æ–‡ä»¶ï¼ˆå“ªä¸€ä¸ªæ–‡ä»¶è¦ç¼–è¯‘&amp;é“¾æ¥ï¼Œæˆ–è€…ä»¥ä¸åŒæ–¹å¼å¤„ç†ï¼‰å®ƒæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ã€‚ä½†æ˜¯åœ¨æœ¬ç³»åˆ—è¯¾ç¨‹æˆ‘ä»¬ä¸å›å»è®²è§£å®ƒã€‚</td></tr></tbody></table><h3 id="Steps-6-amp-7-Testing-and-Debugging"><a href="#Steps-6-amp-7-Testing-and-Debugging" class="headerlink" title="Steps 6 &amp; 7: Testing and Debugging"></a>Steps 6 &amp; 7: Testing and Debugging</h3><p>å¦‚æœä½ çš„å¯æ‰§è¡Œç¨‹åºæ²¡æœ‰æŒ‰ç…§é¢„æœŸçš„å·¥ä½œï¼Œé‚£ä¹ˆä½ å°±éœ€è¦è°ƒè¯•ã€‚</p><h2 id="Integrated-development-environments-IDEs"><a href="#Integrated-development-environments-IDEs" class="headerlink" title="Integrated development environments (IDEs)"></a>Integrated development environments (IDEs)</h2><p><u>ã€noteã€‘step3ã€4ã€5ã€7ï¼ˆeditor, compiler, linker, debuggerï¼‰éƒ½æ˜¯éœ€è¦è½¯ä»¶çš„ã€‚</u></p><p>å½“ç„¶ï¼Œä½ å¯ä»¥æ¯ä¸€éƒ¨åˆ†éƒ½æ˜¯ç”¨ç‹¬ç«‹çš„è½¯ä»¶ï¼Œä½†æ˜¯æœ‰è¿™æ ·çš„ä¸€ä¸ªè½¯ä»¶åŒ…ï¼š<u><strong>integrated development environment (IDE)é›†æˆå¼€å‘ç¯å¢ƒ</strong></u> å°†ä¸Šé¢å››æ­¥ä¸€ä½“åŒ–ã€‚</p><hr><h2 id="0-6-compling-your-first-program"><a href="#0-6-compling-your-first-program" class="headerlink" title="0.6 compling your first program"></a>0.6 compling your first program</h2><p><strong>Console projects</strong></p><p>æ§åˆ¶å°é¡¹ç›®æ²¡æœ‰<strong>graphical user interface (GUI)å›¾å½¢ç”¨æˆ·ç•Œé¢</strong>ï¼Œå®ƒåœ¨æ§åˆ¶å°ä¸­æ‰“å°textï¼Œä»è¾“å…¥è®¾å¤‡é”®ç›˜è¯»å–ä¿¡æ¯ã€‚å¹¶ä¸”è¢«ç¼–è¯‘æˆç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p><strong>Workspaces / solutions</strong></p><p>å½“åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œè®¸å¤šIDEä¼šè‡ªåŠ¨ç»™è¿™ä¸ªé¡¹ç›®åˆ›å»ºä¸€ä¸ª â€œworkspaceâ€ æˆ– â€œsolutionâ€ ã€‚</p><p><strong>workspace or solution</strong>ï¼šæ˜¯ä¸€ä¸ªå¯ä»¥å®¹çº³å¤šä¸ªç›¸å…³çš„é¡¹ç›®çš„containerã€‚ï¼ˆä¾‹å¦‚ï¼Œä½ æ­£åœ¨å†™ä¸€ä¸ªæ¸¸æˆï¼Œä½ æƒ³æœ‰ä¸€ä¸ªå•äºº ä¸ å¤šäººåˆ†å¼€çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£å°±éœ€è¦åˆ›å»ºä¸¤ä¸ªé¡¹ç›®ã€‚<strong>ä½†æ˜¯</strong>å°†è¿™ä¸¤ä¸ªé¡¹ç›®åˆ†å¼€å§‹æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºå®ƒä»¬å±äºåŒä¸€ä¸ªæ¸¸æˆçš„ã€‚æ‰€ä»¥ï¼Œ<u>æœ€å¥½çš„å°±æ˜¯æ¯ä¸€ä¸ªéƒ½è¢«é…ç½®ä¸ºå•ä¸ªå·¥ä½œç©ºé—´/è§£å†³æ–¹æ¡ˆä¸­çš„ ä¸€ä¸ªå•ç‹¬é¡¹ç›®</u>ã€‚ï¼‰</p><h2 id="0-8-C-ä¸­å¸¸è§é—®é¢˜"><a href="#0-8-C-ä¸­å¸¸è§é—®é¢˜" class="headerlink" title="0.8 C++ä¸­å¸¸è§é—®é¢˜"></a>0.8 C++ä¸­å¸¸è§é—®é¢˜</h2><h3 id="General-run-time-issues"><a href="#General-run-time-issues" class="headerlink" title="General run-time issues"></a>General run-time issues</h3><ol><li><p><strong>å½“æ‰§è¡Œç¨‹åºæ—¶ï¼Œæ§åˆ¶å°çª—å£é—ªçƒï¼Œç„¶åç«‹å³å…³é—­ï¼Ÿ</strong></p><ul><li>1ã€é¦–å…ˆç¡®ä¿ä¸‹é¢çš„è¿™å‡ è¡Œåœ¨ä½ çš„æºç¨‹åºçš„æœ€ä¸Šéƒ¨ï¼ˆvisio studio ç”¨æˆ·ï¼Œè¯·ç¡®è®¤å¦‚æœæœ‰ #include â€œpch.hâ€ or #include â€œstdafx.hâ€ ï¼Œé‚£ä¹ˆè®©å®ƒåœ¨æœ€é¡¶é¡¶é¡¶éƒ¨çš„ï¼‰</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li>2ã€åœ¨main()å‡½æ•°ä¸­çš„ç»“æŸéƒ¨åˆ†ï¼ˆ<u>ä½†è¦åœ¨return è¯­å¥ä¹‹å‰</u>ï¼‰æ·»åŠ å¦‚ä¸‹ï¼š</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span>.<span class="built_in">clear</span>(); <span class="comment">// reset any error flags</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="built_in">std</span>::numeric_limits&lt;<span class="built_in">std</span>::streamsize&gt;::<span class="built_in">max</span>(), <span class="string">'\n'</span>); <span class="comment">// ignore any characters in the input buffer until we find an enter character</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span>.<span class="built_in">get</span>(); <span class="comment">// get one more char from the user</span></span><br></pre></td></tr></table></figure><p><u>é¿å…ä½¿ç”¨</u>ï¼š<code>system(&quot;pause&quot;)</code> å› ä¸ºå®ƒåªèƒ½åœ¨ç‰¹å®šçš„æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨</p></li><li><p><strong>è¿è¡Œç¨‹åºï¼Œå¾—åˆ°çª—å£ï¼Œä½†æ²¡æœ‰è¾“å‡ºï¼Ÿ</strong></p><p>æœ‰å¯èƒ½æ˜¯ä½ çš„xxå®‰å…¨ç®¡å®¶ç­‰æ‹¦æˆªçš„ã€‚è¯•ç€å…³é—­å®ƒä»¬ï¼Œç„¶åé‡æ–°è¿è¡Œ</p></li><li><p><strong>ç¨‹åºç¼–è¯‘æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰æ­£ç¡®å·¥ä½œï¼Ÿ</strong></p><p>å»debugå®ƒ</p></li></ol><h3 id="General-compile-time-issues"><a href="#General-compile-time-issues" class="headerlink" title="General compile-time issues"></a>General compile-time issues</h3><ol><li><p><strong>å½“ç¼–è¯‘ç¨‹åºæ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªæœªè§£æçš„å¤–éƒ¨ç¬¦å·ï¼š_main or _WinMain@16 ï¼Ÿ</strong></p><p>è¯´æ˜ä½ çš„ç¼–è¯‘å™¨æ‰¾ä¸åˆ°main()å‡½æ•°ã€‚</p></li></ol><h3 id="Visual-Studio-issues"><a href="#Visual-Studio-issues" class="headerlink" title="Visual Studio issues"></a>Visual Studio issues</h3><ol><li><p><strong>ä½¿ç”¨Microsoft Visual c++è¿›è¡Œç¼–è¯‘æ—¶ï¼Œå¾—åˆ°C1010 fatal errorï¼Œå¹¶ä¸”ä¼´éšç€æç¤ºä¿¡æ¯ï¼Œå¦‚ï¼šâ€c:\vcprojects\test.cpp(263) :fatal error C1010: unexpected end of file while looking for precompiled header directiveâ€</strong></p><p>ç­”ï¼šè¿™ç§é—®é¢˜å‡ºç°åœ¨ï¼šå½“microsoft visual c++ç¼–è¯‘å™¨è¢«è®¾ç½®ä¸ºä½¿ç”¨é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œä½†æ‚¨çš„c++ä»£ç æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ª(æˆ–å¤šä¸ª)æ²¡æœ‰å°†<code>#include â€œstdafx.hâ€</code> or <code>#include â€œpch.hâ€</code>ä½œä¸ºä»£ç æ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚</p><p>å»ºè®®ï¼š</p><ol><li><p>åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå°†é¢„ç¼–è¯‘å¤´ <em>precompiled headers</em>é€‰é¡¹å…³é—­ã€‚</p></li><li><p>å¦‚æœæ‚¨å¸Œæœ›ä¿æŒæ‰“å¼€é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼Œè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€æ‰¾åˆ°äº§ç”Ÿé”™è¯¯çš„æ–‡ä»¶(åœ¨ä¸Šé¢çš„é”™è¯¯ä¸­ï¼Œtest.cppæ˜¯ç½ªé­ç¥¸é¦–)ï¼Œå¹¶åœ¨æ–‡ä»¶çš„<u>æœ€é¡¶éƒ¨</u>æ·»åŠ ä»¥ä¸‹è¡Œ:</p><p><code>#include â€œpch.hâ€</code>æˆ–è€…<code>#include â€œstdafx.hâ€</code>ã€è€ç‰ˆæœ¬çš„VSä½¿ç”¨â€œstdafx.hâ€ ï¼Œå½“å…¶ä¸­ä¸€ä¸ªä¸èµ·ä½œç”¨ï¼Œå¯ä»¥æ¢æˆå¦å¤–ä¸€ä¸ªã€‘</p><blockquote><p>æ³¨æ„ï¼Œæ¯ä¸€ä¸ªC++æ–‡ä»¶éƒ½æ˜¯ä»è¿™ä¸€è¡Œå¼€å§‹çš„ã€‚å¦‚æœä¸æƒ³ä»è¿™ä¸€è¡Œå¼€å§‹ï¼Œé‚£å°±åœ¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™å…³é—­â€œé¢„ç¼–è¯‘å¤´æ–‡ä»¶â€é€‰é¡¹</p></blockquote></li></ol></li><li><p>å‡ºç°é”™è¯¯ï¼š<strong>â€œ1MSVCRTD.lib(exe_winmain.obj) : error LNK2019: unresolved external symbol _WinMain@16 referenced in function â€œint __cdecl invoke_main(void)â€ (?invoke_main@@YAHXZ)â€</strong></p><p>ç­”ï¼šæ‚¨å¯èƒ½å·²ç»åˆ›å»ºäº†ä¸€ä¸ªWindowså›¾å½¢åŒ–åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯æ§åˆ¶å°åº”ç”¨ç¨‹åºã€‚é‡æ–°åˆ›å»ºé¡¹ç›®ï¼Œå¹¶ç¡®ä¿å°†å…¶åˆ›å»ºä¸ºWindows(æˆ–Win32)æ§åˆ¶å°é¡¹ç›®ã€‚</p></li></ol><h2 id="0-9-é…ç½®ç¼–è¯‘å™¨-â€œç”Ÿæˆï¼ˆbuildï¼‰â€é…ç½®"><a href="#0-9-é…ç½®ç¼–è¯‘å™¨-â€œç”Ÿæˆï¼ˆbuildï¼‰â€é…ç½®" class="headerlink" title="0.9 é…ç½®ç¼–è¯‘å™¨:â€œç”Ÿæˆï¼ˆbuildï¼‰â€é…ç½®"></a>0.9 é…ç½®ç¼–è¯‘å™¨:â€œç”Ÿæˆï¼ˆbuildï¼‰â€é…ç½®</h2><p><strong>debug configuration</strong> ï¼šå¯ä»¥å¸®åŠ©ä½ è°ƒè¯•ä½ çš„ç¨‹åºï¼Œè€Œä¸”ä¹Ÿæ˜¯IDEé»˜è®¤çš„ã€‚ä½†æ˜¯å®ƒä¼šå…³æ‰æ‰€æœ‰çš„ä¼˜åŒ–ï¼ŒåŒ…å«è°ƒè¯•ä¿¡æ¯ï¼ˆè¿™ä¼šè®©ä½ çš„é¡¹ç›®å˜å¾—å¾ˆå¤§ã€å¾ˆæ…¢ï¼‰ã€‚</p><p><strong>release configuration</strong>ï¼šå½“ä½ å°†ä½ çš„ç¨‹åºå‘å¸ƒç»™å…¬ä¼—çš„æ—¶å€™ä½¿ç”¨releaseæ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼ä¼šä¼˜åŒ–é¡¹ç›®çš„å¤§å°å’Œå®ƒçš„æ€§èƒ½ï¼Œè€Œä¸”ä¸ä¼šåŒ…å«é¢å¤–çš„è°ƒè¯•ä¿¡æ¯ã€‚æ‰€ä»¥è¿™ç§æ¨¡å¼é€‚ç”¨äºï¼šæµ‹è¯•ä½ çš„ä»£ç çš„æ€§èƒ½.</p><h2 id="0-10-é…ç½®ç¼–è¯‘å™¨-ç¼–è¯‘å™¨æ‰©å±•"><a href="#0-10-é…ç½®ç¼–è¯‘å™¨-ç¼–è¯‘å™¨æ‰©å±•" class="headerlink" title="0.10 é…ç½®ç¼–è¯‘å™¨:ç¼–è¯‘å™¨æ‰©å±•"></a>0.10 é…ç½®ç¼–è¯‘å™¨:ç¼–è¯‘å™¨æ‰©å±•</h2><p>c++æ ‡å‡†å®šä¹‰äº†å…³äºç¨‹åºåœ¨ç‰¹å®šç¯å¢ƒä¸‹åº”è¯¥å¦‚ä½•è¡¨ç°çš„è§„åˆ™ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†éµå¾ªè¿™äº›è§„åˆ™ã€‚ç„¶è€Œï¼Œè®¸å¤šç¼–è¯‘å™¨å®ç°è‡ªå·±å¯¹è¯­è¨€çš„æ›´æ”¹ï¼Œé€šå¸¸æ˜¯ä¸ºäº†å¢å¼ºä¸è¯¥è¯­è¨€çš„å…¶ä»–ç‰ˆæœ¬(ä¾‹å¦‚C99)çš„å…¼å®¹æ€§ï¼Œæˆ–è€…æ˜¯å‡ºäºå†å²åŸå› ã€‚è¿™äº›ç‰¹å®šäºç¼–è¯‘å™¨çš„è¡Œä¸ºç§°ä¸º<strong>ç¼–è¯‘å™¨æ‰©å±•ï¼ˆCompiler extensionsï¼‰</strong>ã€‚</p><p>ç¼–å†™ä½¿ç”¨ç¼–è¯‘å™¨æ‰©å±•çš„ç¨‹åºå…è®¸ä½ ç¼–å†™ä¸c++æ ‡å‡†ä¸å…¼å®¹çš„ç¨‹åºã€‚ä½¿ç”¨éæ ‡å‡†æ‰©å±•çš„ç¨‹åºé€šå¸¸æ— æ³•åœ¨å…¶ä»–ç¼–è¯‘å™¨ä¸Šç¼–è¯‘(è¿™äº›ç¼–è¯‘å™¨ä¸æ”¯æŒç›¸åŒçš„æ‰©å±•)ï¼Œæˆ–è€…å³ä½¿å®ƒä»¬æ”¯æŒï¼Œä¹Ÿå¯èƒ½æ— æ³•æ­£ç¡®è¿è¡Œã€‚</p><p>æ³¨æ„ï¼Œç¼–è¯‘å™¨æ‰©å±•é€šå¸¸æ˜¯é»˜è®¤å¯ç”¨çš„ï¼Œè¿™å¯¹åˆå­¦è€…æ˜¯ä¸å‹å¥½çš„ï¼Œå› ä¸ºå®ƒä¼šè®©åˆå­¦è€…è§‰å¾—æŸäº›è¡Œä¸ºæ˜¯ç¬¦åˆå®˜æ–¹C++çš„æ ‡å‡†ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å› ä¸ºç¼–è¯‘å™¨åªæ˜¯è¿‡äºå®½æ¾ã€‚</p><p>å› ä¸ºï¼Œç¼–è¯‘å™¨æ‰©å±•ä»æ¥éƒ½ä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœå¼€å¯å¯èƒ½è®©ä½ è¯¯ä»¥ä¸ºä½ å†™çš„ä»£ç æ˜¯ç¬¦åˆC++æ ‡å‡†çš„ã€‚<u>æ‰€ä»¥ï¼Œå»ºè®®ï¼Œå»ºè®®å…³é—­ç¼–è¯‘å™¨æ‰©å±•ã€‚</u></p><h2 id="0-11-é…ç½®ç¼–è¯‘å™¨-warningå’Œerror"><a href="#0-11-é…ç½®ç¼–è¯‘å™¨-warningå’Œerror" class="headerlink" title="0.11 é…ç½®ç¼–è¯‘å™¨:warningå’Œerror"></a>0.11 é…ç½®ç¼–è¯‘å™¨:warningå’Œerror</h2><p>å‡ºç°erroræç¤ºï¼šè¯´æ˜ä½ å†™çš„ä»£ç å¯èƒ½ä¸ç¬¦åˆC++è¯­è¨€çš„æ ‡å‡†ã€‚</p><p>å‡ºç°warningæç¤ºï¼šè¯´æ˜ç¼–è¯‘å™¨è®¤ä¸ºä½ çš„ä»£ç çš„æŸäº›åœ°æ–¹<u>å¯èƒ½</u>æœ‰äº›é”™è¯¯ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸èƒ½ç™¾åˆ†ç™¾ç¡®å®šã€‚</p><blockquote><p>å¥½ä¹ æƒ¯ï¼š</p><p>ä¸è¦è®©warningæç¤ºå †ç§¯ï¼Œè¦å°½ä½ æ‰€èƒ½çš„å»è§£å†³warningæç¤ºã€‚</p></blockquote><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å‡ºç°çš„warningæ˜¯éœ€è¦æˆ‘ä»¬å°½é‡å»è§£å†³çš„ã€‚ä½†åœ¨æå°‘æ•°æƒ…å†µçš„warningæç¤ºï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ä¸è¦äº§ç”Ÿè¿™ä¸ªè­¦å‘Šã€‚C++å®˜æ–¹ä¸æ”¯æŒè¿™æ ·ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šå•ç‹¬çš„ç¼–è¯‘å™¨ï¼ˆå¦‚ï¼švisio studio xx å’ŒGCCï¼‰ä¼šæä¾›è§£å†³æ–¹æ¡ˆï¼šåˆ©ç”¨ä¸å¯ç§»æ¤ <u># pragma æŒ‡ä»¤</u> æ¥æš‚æ—¶çš„å…³é—­è¿™ä¸ªè­¦å‘Šã€‚</p><blockquote><p>å¥½ä¹ æƒ¯ï¼š</p><p>å°†ä½ çš„ç»é«˜çº§åˆ«è°ƒåˆ°æœ€å¤§ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ å­¦ä¹ çš„æ—¶å€™ï¼Œä»–ä¼šå¸®ä½ è¯†åˆ«æ½œåœ¨çš„é—®é¢˜ã€‚</p></blockquote><h3 id="å°†warningsè§†ä¸ºerrors"><a href="#å°†warningsè§†ä¸ºerrors" class="headerlink" title="å°†warningsè§†ä¸ºerrors"></a>å°†warningsè§†ä¸ºerrors</h3><p>å¦‚æœåœ¨ä½ å­¦ä¹ çš„æ—¶å€™ï¼Œæœ€å¥½å‘Šè¯‰ç¼–è¯‘å™¨è®©å®ƒæŠŠwarningå½“åšerrorå¯¹å¾…ï¼Œç„¶åä½ å°±ä¸å¾—ä¸å»è§£å†³å‡ºç°çš„warningäº†ã€‚</p><h2 id="0-12-é…ç½®ç¼–è¯‘å™¨-é€‰æ‹©ä¸€ä¸ªC-æ ‡å‡†"><a href="#0-12-é…ç½®ç¼–è¯‘å™¨-é€‰æ‹©ä¸€ä¸ªC-æ ‡å‡†" class="headerlink" title="0.12 é…ç½®ç¼–è¯‘å™¨: é€‰æ‹©ä¸€ä¸ªC++æ ‡å‡†"></a>0.12 é…ç½®ç¼–è¯‘å™¨: é€‰æ‹©ä¸€ä¸ªC++æ ‡å‡†</h2><p>C++çš„æ ‡å‡†æœ‰å¾ˆå¤šï¼Œå¦‚ï¼šC++98, C++03, C++11, C++14, C++17, ç­‰. é€šå¸¸æƒ…å†µï¼Œç¼–è¯‘å™¨çš„æ ‡å‡†éƒ½æ˜¯é»˜è®¤çš„ï¼Œè€Œä¸æ˜¯æœ€æ–°çš„C++æ ‡å‡†ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨æŒ‡å®šçš„æ ‡å‡†ç‰ˆæœ¬ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚</p><h3 id="æ­£åœ¨åˆ¶å®šä¸­çš„æ ‡å‡†çš„åå­—"><a href="#æ­£åœ¨åˆ¶å®šä¸­çš„æ ‡å‡†çš„åå­—" class="headerlink" title="æ­£åœ¨åˆ¶å®šä¸­çš„æ ‡å‡†çš„åå­—"></a>æ­£åœ¨åˆ¶å®šä¸­çš„æ ‡å‡†çš„åå­—</h3><p>æœ‰ä¸€äº›è¯­è¨€æ ‡å‡†æ˜¯æŒ‰ç…§ä»–æœ€ç»ˆå®šæ¡ˆæ—¶å€™çš„å¹´ä»½ï¼ˆå¦‚ï¼ŒC++17æ˜¯åœ¨2017å¹´å®Œæˆçš„ï¼‰ã€‚ä½†æ˜¯ï¼Œå½“ä¸€ä¸ªæ–°çš„è¯­è¨€æ ‡å‡†æ­£åœ¨åˆ¶å®šingçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®å®šå®ƒæœ€ç»ˆå®Œæˆçš„æ—¶é—´ã€‚è¿™ä¸ªæ—¶å€™è¿™ä¸ªè¯­è¨€æ ‡å‡†çš„åå­— å°†ä¼šè¢«æœ€ç»ˆå®Œæˆæ—¶å€™çš„åå­—æ›¿ä»£ï¼Œï¼ˆå¦‚ï¼Œ<em>C++11</em>åœ¨åˆ¶ä½œingæ—¶ï¼Œåå­—ä¸º<em>C++1x</em>ï¼Œå½“æœ€ç»ˆå®Œæˆçš„æ—¶å€™â€œ<em>C++1x</em>â€å°±ä¼šè¢«æ›¿æ¢ï¼‰ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¸€äº›ï¼š</p><ul><li>c++1x = C++11</li><li>c++1y = C++14</li><li>c++1z = C++17</li><li>c++2a = C++20</li></ul><p>æ‰€ä»¥ï¼Œå¦‚æœä½ çœ‹è§C++1Zï¼Œè¿™å°±ä»£è¡¨C++17</p><p><u>ã€æ³¨æ„ã€‘</u>ï¼šåœ¨VS xxxxç³»åˆ—çš„IDEä¸­ï¼Œæ˜¯ä¸èƒ½è®¾ç½®å…¨å±€çš„è¯­è¨€æ ‡å‡†çš„ï¼Œä½ åªèƒ½ä¸€ä¸ªä¸€ä¸ªé¡¹ç›®çš„å»è®¾ç½®</p><h2 id="1-1-è¯­å¥ä¸ç¨‹åºç»“æ„"><a href="#1-1-è¯­å¥ä¸ç¨‹åºç»“æ„" class="headerlink" title="1.1 è¯­å¥ä¸ç¨‹åºç»“æ„"></a>1.1 è¯­å¥ä¸ç¨‹åºç»“æ„</h2><p><strong>Statements and the structure of a program</strong></p><h3 id="è¯­å¥"><a href="#è¯­å¥" class="headerlink" title="è¯­å¥"></a>è¯­å¥</h3><p><strong>è¯­å¥(Statements)</strong>æ˜¯ä¸€ç§æŒ‡ä»¤ç±»å‹ï¼Œå®ƒä½¿ç¨‹åºæ‰§è¡ŒæŸäº›æ“ä½œã€‚å®ƒæ˜¯æœ€å°çš„ç‹¬ç«‹è®¡ç®—å•å…ƒã€‚åœ¨C++ä¸­ï¼Œä¸€ä¸ªå•ç‹¬çš„è¯­å¥å°±å¯èƒ½ä¼šè¢«ç¼–è¯‘æˆå¾ˆå¤šæœºå™¨è¯­è¨€æŒ‡ä»¤ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†å¾ˆå¤šç§è¯­å¥ï¼š</p><ol><li>Declaration statements(å£°æ˜è¯­å¥)</li><li>Jump statementsï¼ˆå¾ªç¯è¯­å¥ï¼‰</li><li>Expression statementsï¼ˆè¡¨è¾¾å¼è¯­å¥ï¼‰</li><li>Compound statementsï¼ˆå¤åˆè¯­å¥ï¼‰</li><li>Selection statements (conditionals) (æ¡ä»¶è¯­å¥)</li><li>Iteration statements (loops) ï¼ˆå¾ªç¯è¯­å¥ï¼‰</li><li>Try blocks</li></ol><h3 id="å‡½æ•°ä¸mainå‡½æ•°"><a href="#å‡½æ•°ä¸mainå‡½æ•°" class="headerlink" title="å‡½æ•°ä¸mainå‡½æ•°"></a>å‡½æ•°ä¸mainå‡½æ•°</h3><p><strong>å‡½æ•°</strong>æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„è¯­å¥é›†åˆã€‚</p><blockquote><p>æ¯ä¸€ä¸ªC++ç¨‹åºéƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ª<code>main</code>å‡½æ•°ã€‚ä¸€ä¸ªç¨‹åºå¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œå¼€å§‹äºmainå‡½æ•°ä¸­çš„ç¬¬ä¸€æ¡è¯­å¥ï¼Œç„¶åæŒ‰ç…§é¡ºåºæ‰§è¡Œä½™ä¸‹è¯­å¥ã€‚</p></blockquote><p>è¯´åˆ°å‡½æ•°ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°<em>main()</em> æˆ–è€… <em>doSomething()</em>ï¼Œåé¢çš„æ‹¬å·å…¶å®èµ·äº†ä¸€ä¸ªè¯´æ˜ä½œç”¨ã€‚è¿™ä¸ªæ‹¬å·å°±è¯´æ˜ä»–å‰é¢çš„é‚£ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªå‡½æ•°çš„åå­—ã€‚</p><h4 id="åˆ†æâ€œhello-worldâ€"><a href="#åˆ†æâ€œhello-worldâ€" class="headerlink" title="åˆ†æâ€œhello worldâ€"></a>åˆ†æâ€œhello worldâ€</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>ç¬¬ä¸€è¡Œï¼šä¸€ä¸ªé¢„å¤„ç†æŒ‡ä»¤ã€‚è¿™ä¸ªé¢„å¤„ç†å™¨æŒ‡ä»¤æŒ‡ç¤ºï¼Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨iostreamåº“çš„å†…å®¹ï¼Œå®ƒæ˜¯c++æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œå…è®¸æˆ‘ä»¬ä»æ§åˆ¶å°ä¸Šè¯»å†™æ–‡æœ¬ã€‚æˆ‘ä»¬éœ€è¦è¿™ä¸€è¡Œä»¥ä¾¿åœ¨ç¬¬5è¡Œä¸Šä½¿ç”¨std::coutã€‚æ’é™¤è¿™ä¸€è¡Œå°†å¯¼è‡´ç¬¬5è¡Œå‡ºç°ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“std::coutæ˜¯ä»€ä¹ˆã€‚</li><li>ç¬¬2è¡Œæ˜¯ç©ºçš„ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥å®ƒã€‚è¿™ä¸€è¡Œçš„å­˜åœ¨åªæ˜¯ä¸ºäº†å¸®åŠ©ä½¿ç¨‹åºå¯¹äººç±»æ›´å…·å¯è¯»æ€§(é€šè¿‡åˆ†éš”#includeé¢„å¤„ç†æŒ‡ä»¤å’Œç¨‹åºçš„åç»­éƒ¨åˆ†)ã€‚</li><li>ç¬¬3è¡Œå‘Šè¯‰ç¼–è¯‘å™¨æˆ‘ä»¬è¦ç¼–å†™(å®šä¹‰)ä¸€ä¸ªåä¸ºmainçš„å‡½æ•°ã€‚æ¯ä¸ªc++ç¨‹åºå¿…é¡»æœ‰ä¸€ä¸ªä¸»å‡½æ•°ï¼Œå¦åˆ™å®ƒå°†æ— æ³•ç¼–è¯‘ã€‚</li><li>ç¬¬4è¡Œå’Œç¬¬7è¡Œå‘Šè¯‰ç¼–è¯‘å™¨å“ªäº›è¡Œæ˜¯ä¸»å‡½æ•°çš„ä¸€éƒ¨åˆ†ã€‚ç¬¬4è¡Œä¸Šçš„å·¦å¤§æ‹¬å·å’Œç¬¬7è¡Œä¸Šçš„å³å¤§æ‹¬å·ä¹‹é—´çš„æ‰€æœ‰å†…å®¹éƒ½è¢«è®¤ä¸ºæ˜¯ä¸»å‡½æ•°çš„ä¸€éƒ¨åˆ†ã€‚è¿™å«åšå‡½æ•°ä½“</li><li>ç¬¬5è¡Œæ˜¯mainå‡½æ•°ä¸­çš„ç¬¬ä¸€ä¸ªè¯­å¥ï¼Œä¹Ÿæ˜¯è¿è¡Œç¨‹åºæ—¶æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªè¯­å¥ã€‚cout(ä»£è¡¨â€œå­—ç¬¦è¾“å‡ºâ€)å’Œ&lt;&lt;æ“ä½œç¬¦å…è®¸æˆ‘ä»¬å°†å­—æ¯æˆ–æ•°å­—å‘é€åˆ°è¦è¾“å‡ºçš„æ§åˆ¶å°ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å‘å®ƒå‘é€æ–‡æœ¬â€œHello world!â€ï¼Œå°†è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚æ­¤è¯­å¥åˆ›å»ºç¨‹åºçš„å¯è§è¾“å‡ºã€‚</li><li>ç¬¬6è¡Œæ˜¯ä¸€ä¸ªè¿”å›è¯­å¥ã€‚å½“å¯æ‰§è¡Œç¨‹åºå®Œæˆè¿è¡Œæ—¶ï¼Œç¨‹åºå°†ä¸€ä¸ªå€¼å‘é€å›æ“ä½œç³»ç»Ÿï¼Œä»¥æŒ‡ç¤ºå®ƒæ˜¯å¦æˆåŠŸè¿è¡Œã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿™ä¸ªç‰¹æ®Šçš„returnè¯­å¥å°†0çš„å€¼è¿”å›ç»™æ“ä½œç³»ç»Ÿï¼Œè¿™æ„å‘³ç€â€œä¸€åˆ‡æ­£å¸¸!â€è¿™æ˜¯æ‰§è¡Œçš„ç¨‹åºä¸­çš„æœ€åä¸€æ¡è¯­å¥ã€‚</li></ul></blockquote><p>ç»“å°¾ï¼Œ<strong>ä»€ä¹ˆæ˜¯C++ æ ‡å‡†åº“ï¼Ÿ</strong></p><ul><li>ç­”ï¼šä¸€ä¸ªæ ‡å‡†åº“æ–‡ä»¶æ˜¯ä¸€ä¸ª é¢„ç¼–è¯‘ä»£ç çš„é›†åˆï¼Œå®ƒè¢«â€œæ‰“åŒ…â€èµ·æ¥ï¼Œä»¥ä¾›å…¶ä»–ç¨‹åºé‡ç”¨ã€‚</li></ul><h2 id="1-2-æ³¨é‡Š"><a href="#1-2-æ³¨é‡Š" class="headerlink" title="1.2 æ³¨é‡Š"></a>1.2 æ³¨é‡Š</h2><p><strong>æ­£ç¡®çš„æ³¨é‡Š</strong>ï¼š</p><ul><li>At the library, program, or function level, use comments to describe <em>what</em>.</li><li>Inside the library, program, or function, use comments to describe <em>how</em>.</li><li>At the statement level, use comments to describe <em>why</em>.</li></ul><h2 id="1-3-â€”-Introduction-to-variables"><a href="#1-3-â€”-Introduction-to-variables" class="headerlink" title="1.3 â€” Introduction to variables"></a>1.3 â€” Introduction to variables</h2><p><strong>dataï¼šæ•°æ®</strong></p><blockquote><p>dataå°±æ˜¯å¯ä»¥è¢«ç”µè„‘ç§»åŠ¨ã€å­˜å‚¨ã€å¤„ç†çš„ä»»ä½•ä¿¡æ¯ã€‚</p><p>è®¡ç®—æœºä¸Šçš„æ•°æ®é€šå¸¸ä»¥ä¸€ç§ä¾¿äºå­˜å‚¨æˆ–å¤„ç†çš„æ ¼å¼å­˜å‚¨(å› æ­¤äººç±»æ— æ³•è¯»æ‡‚)ï¼Œè¿™ç§æ ¼å¼å°±æ˜¯ï¼šäºŒè¿›åˆ¶ï¼ˆbinaryï¼‰</p></blockquote><p><strong>Objects and variablesï¼šå¯¹è±¡å’Œæ•°æ®</strong></p><ul><li><p><strong>RAM(random access memory)</strong>ï¼šéšæœºå­˜å–å­˜å‚¨å™¨ã€‚åœ¨ç¨‹åºä¸­ï¼Œä½ å¯ä»¥æŠŠRAMçœ‹ä½œä¸€åˆ—é‚®ç®±ï¼Œå®ƒå¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å­˜å‚¨æ•°æ®ã€‚å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å•ä¸ªæ•°æ®ï¼Œç§°ä¸º<strong>value</strong></p></li><li><p>åœ¨C++ä¸­ï¼Œä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ã€‚ä½†å¯ä»¥é€šè¿‡objectæ¥è®¿é—®å†…å­˜ã€‚ä¸€æ—¦åˆ›å»ºobjectï¼Œç¼–è¯‘å™¨å°±è‡ªåŠ¨çš„å†³å®šè¿™ä¸ªobjectå­˜æ”¾åœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚</p><blockquote><p><strong>object</strong>ï¼šæ˜¯å…·æœ‰valueå’Œå…¶ä»–ç›¸å…³å±æ€§çš„å­˜å‚¨åŒºåŸŸã€‚</p></blockquote><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯´ï¼Œè·å–è¿™ä¸ªobjectçš„valueï¼Œç¼–è¯‘å™¨ç›´åˆ°è¿™ä¸ªvalueå­˜å‚¨åœ¨å†…å­˜çš„å…·ä½“ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<u>æˆ‘ä»¬å¯ä»¥åªå…³æ³¨ä½¿ç”¨object(å¯¹è±¡)æ¥å­˜å‚¨å’Œæ£€ç´¢valueï¼Œè€Œä¸”ä¸ç”¨æ‹…å¿ƒå®ƒåœ¨å†…å­˜ä¸­çš„å­˜å‚¨ä½ç½®ã€‚</u></p></li><li><p>object(å¯¹è±¡)å¯ä»¥å‘½åä¹Ÿå¯ä»¥ä¸å‘½åã€‚æœ‰åå­—çš„objectå«åšï¼š<strong>variable(å˜é‡)</strong>ã€‚è¿™ä¸ªobjectçš„åå­—ï¼Œå«åšï¼š<strong>æ ‡è¯†ç¬¦(identifier)</strong>ã€‚</p><blockquote><p>åœ¨ä¸€èˆ¬ç¼–ç¨‹ä¸­ï¼Œå¯¹è±¡é€šå¸¸æŒ‡å†…å­˜ä¸­çš„å˜é‡ã€æ•°æ®ç»“æ„æˆ–å‡½æ•°ã€‚åœ¨c++ä¸­ï¼Œâ€œå¯¹è±¡â€çš„å®šä¹‰è¾ƒçª„ï¼Œå°†å‡½æ•°æ’é™¤åœ¨å¤–ã€‚</p></blockquote></li></ul><p><strong>Variable instantiationï¼šå˜é‡å®ä¾‹åŒ–</strong></p><ul><li><p>ä¸ºäº†åˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œéœ€è¦ç”¨ä¸€ç§ç‰¹æ®Šçš„å£°æ˜ï¼š<strong>å®šä¹‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x; <span class="comment">// define a variable named x, of type int</span></span><br></pre></td></tr></table></figure><ol><li><p>åœ¨ç¼–è¯‘æ—¶ï¼Œå½“ç¼–è¯‘å™¨çœ‹åˆ°è¿™ä¸ªè¯­å¥ï¼Œå®ƒä¼šå‘Šè¯‰è‡ªå·±æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åå­—å«xï¼Œç±»å‹ä¸ºintã€‚ä»æ­¤ä¹‹åï¼Œåªè¦ç¼–è¯‘å™¨çœ‹åˆ°æ ‡è¯†ç¬¦xï¼Œå®ƒå°±çŸ¥é“æˆ‘ä»¬åœ¨å¼•ç”¨è¿™ä¸ªå˜é‡ã€‚</p></li><li><p>ç¨‹åºè¿è¡Œæ—¶(ç§°ä¸ºï¼š<strong>runtime</strong>)ï¼Œè¯¥å˜é‡å°†ä¼šè¢«<strong><u>å®ä¾‹åŒ–</u></strong>ã€‚<u>å˜é‡åœ¨ç”¨æ¥å­˜å‚¨valuesä¹‹å‰ï¼Œå¿…é¡»è¦å…ˆå®ä¾‹åŒ–ã€‚</u></p><blockquote><p><strong>å®ä¾‹åŒ–</strong>ï¼šå¯¹è±¡(object)å°†ä¼šè¢«åˆ›å»ºï¼Œå¹¶ä¸”ä¼šåˆ†é…ä¸€ä¸ªå†…å­˜åœ°å€ã€‚</p></blockquote><p>ä¸ºäº†ä¾¿äºä¸¾ä¾‹ï¼Œå‡è®¾å˜é‡xæ˜¯åœ¨å†…å­˜ä½ç½®140å¤„å®ä¾‹åŒ–çš„ã€‚å½“ç¨‹åºä½¿ç”¨å˜é‡xæ—¶ï¼Œå®ƒå°†è®¿é—®å†…å­˜ä½ç½®140ä¸­çš„å€¼ã€‚å®ä¾‹åŒ–çš„å¯¹è±¡æœ‰æ—¶ä¹Ÿç§°ä¸º<strong>å®ä¾‹</strong>ã€‚</p></li></ol></li></ul><p><strong>Data typesï¼šæ•°æ®ç±»å‹</strong></p><ul><li><strong>Data types(æ›´é€šç”¨çš„ç§°å‘¼ï¼štype)</strong>ï¼šå®ƒå‘Šè¯‰ç¼–è¯‘å™¨å˜é‡å°†ä¼šå­˜å‚¨ä»€ä¹ˆç±»å‹çš„value</li></ul><p>åœ¨c++ä¸­ï¼Œå˜é‡çš„ç±»å‹å¿…é¡»åœ¨ç¼–è¯‘æ—¶(å½“ç¨‹åºè¢«ç¼–è¯‘æ—¶)å·²çŸ¥ï¼Œå¦‚æœä¸é‡æ–°ç¼–è¯‘ç¨‹åºï¼Œå°±ä¸èƒ½æ›´æ”¹è¯¥ç±»å‹ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªæ•´å‹å˜é‡åªèƒ½åŒ…å«æ•´å‹å€¼ã€‚å¦‚æœå¸Œæœ›å­˜å‚¨å…¶ä»–ç±»å‹çš„å€¼ï¼Œåˆ™éœ€è¦ä½¿ç”¨ä¸åŒçš„å˜é‡ã€‚</p><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><ol><li><strong>Data</strong> is any sequence of symbols (numbers, letters, etcâ€¦) that can be interpreted to mean something.</li><li>A <strong>value</strong> is a single piece of data stored in memory.ã€å€¼æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å•ä¸ªæ•°æ®å—ã€‚ã€‘</li><li>A <strong>variable</strong> is a named region of memory.ã€å˜é‡æ˜¯ä¸€ä¸ªå‘½åçš„å†…å­˜åŒºåŸŸã€‚ã€‘</li><li>An <strong>identifier</strong> is the name that a variable is accessed by.ã€æ ‡è¯†ç¬¦æ˜¯å˜é‡è¢«è®¿é—®çš„åç§°ã€‘</li><li>A <strong>type</strong> tells the program how to interpret a value in memory.ã€ç±»å‹æ˜¯å‘Šè¯‰ç¨‹åºå¦‚ä½•è§£é‡Šå†…å­˜ä¸­çš„å€¼ã€‘</li></ol><h2 id="1-4-å˜é‡èµ‹å€¼ä¸åˆå§‹åŒ–"><a href="#1-4-å˜é‡èµ‹å€¼ä¸åˆå§‹åŒ–" class="headerlink" title="1.4 å˜é‡èµ‹å€¼ä¸åˆå§‹åŒ–"></a>1.4 å˜é‡èµ‹å€¼ä¸åˆå§‹åŒ–</h2><p><strong>å®šä¹‰å˜é‡</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x; <span class="comment">// define an integer variable named x</span></span><br><span class="line"><span class="keyword">int</span> y, z; <span class="comment">// define two integer variables, named y and z</span></span><br></pre></td></tr></table></figure><p><strong>å˜é‡èµ‹å€¼ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">width</span>; <span class="comment">// define an integer variable named width</span></span><br><span class="line"><span class="built_in">width</span> = <span class="number">5</span>; <span class="comment">// copy assignment of value 5 into variable width</span></span><br></pre></td></tr></table></figure><p><strong>åˆå§‹åŒ–å˜é‡</strong>ï¼š(å®šä¹‰&amp;èµ‹å€¼åŒæ—¶è¿›è¡Œ)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span>; <span class="comment">//åˆå§‹åŒ–å˜é‡aä¸º1</span></span><br></pre></td></tr></table></figure><blockquote><p>C++åˆå§‹åŒ–å˜é‡çš„å½¢å¼æœ‰ä¸‰ç§ï¼š</p><ol><li><p>ä½¿ç”¨<strong>â€œ=â€</strong> <strong>copy initialization</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">width</span> = <span class="number">5</span>; <span class="comment">// copy initialization of value 5 into variable width</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨æ‹¬å·<strong>â€œ()â€</strong> <strong>direct initialization</strong> ã€è¿™ç§åœ¨ä¸€äº›é«˜çº§æ•°æ®ç±»å‹ä¸Šï¼Œæ€§èƒ½è¾ƒå¥½ã€‘</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">width</span><span class="params">(<span class="number">5</span>)</span></span>; <span class="comment">// direct brace initialization of value 5 into variable width (preferred)</span></span><br></pre></td></tr></table></figure></li><li><p><red>ä½¿ç”¨å¤§æ‹¬å·<strong>â€œ{}â€</strong> <strong>Brace initialization</strong>(<strong>uniform initialization</strong>)[æ¨èè¿™ç§]</red></p><blockquote><p>è¿™ç§å¯ä»¥ç”¨äºå¯¹è±¡åˆå§‹åŒ–<u>ä¸€ç³»åˆ—</u>çš„æ•°æ®</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ¨èç¬¬ä¸€ç§å½¢å¼*/</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">width</span>&#123; <span class="number">5</span> &#125;; <span class="comment">// direct brace initialization of value 5 into variable width (preferred)</span></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">height</span> = &#123; <span class="number">6</span> &#125;; <span class="comment">// copy brace initialization of value 6 into variable height</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œç©ºåˆå§‹åŒ–ï¼šç”¨ç©ºçš„èŠ±æ‹¬å·å¯¹æ•°æ®è¿›è¡Œ<strong>Zero initialization</strong>ã€‚å®ƒè¡¨ç¤ºå¯¹è¯¥å˜é‡åˆå§‹åŒ–ä¸º0ï¼Œæˆ–è€…ä¸ºç©ºã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">width</span>&#123;&#125;; <span class="comment">//zero initialization to value 0</span></span><br></pre></td></tr></table></figure></li></ol></blockquote><p>å¯¹äºä¸Šè¿°ä¸‰ç§åˆå§‹åŒ–æ–¹æ³•ï¼Œçœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">1.2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">b</span><span class="params">(<span class="number">2.8</span>)</span></span>;</span><br><span class="line">    <span class="keyword">int</span> c&#123; <span class="number">3.1</span> &#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; a &lt;&lt; b &lt;&lt; c &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="built_in">cin</span>.ignore(numeric_limits&lt;streamsize&gt;::<span class="built_in">max</span>(), <span class="string">'\n'</span>);</span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">get</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LearnCpp-chapter1/image-20200325231749396.png" alt="ç¬¬ä¸‰ç§åˆå§‹åŒ–æ–¹æ³•æ›´ä¸¥è°¨"></p><p>ä»è¿è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œç¬¬1å’Œ2ç§æ–¹æ³•åªä¼šåŸºäº<strong>â€œè­¦å‘Šâ€</strong>ï¼Œå®ƒä»¬è¿è¡Œç»“æœå°±æ˜¯åªæŠŠæ•´æ•°éƒ¨åˆ†åˆå§‹åŒ–ç»™å“åº”å˜é‡ï¼›è€Œç¬¬ä¸‰ç§å°±ç›´æ¥æç¤º<strong>â€œå‡ºé”™â€</strong>ã€‚</p><hr><p>å˜é‡åˆå§‹åŒ–æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚å¦‚æœä¸åˆå§‹åŒ–ï¼Œç¼–è¯‘å™¨å¯èƒ½æŠ¥é”™çš„ãƒ¾(â‰§Oâ‰¦)ã€ƒå—·~</p><h2 id="1-5ä»‹ç»è¾“å…¥è¾“å‡ºæµï¼šcout-cin-endl"><a href="#1-5ä»‹ç»è¾“å…¥è¾“å‡ºæµï¼šcout-cin-endl" class="headerlink" title="1.5ä»‹ç»è¾“å…¥è¾“å‡ºæµï¼šcout cin endl"></a>1.5ä»‹ç»è¾“å…¥è¾“å‡ºæµï¼šcout cin endl</h2><ol><li><p><strong>std::endl ä¸ â€˜\nâ€™</strong></p><p><strong>ä½¿ç”¨â€™\nâ€™çš„æ•ˆç‡æ¯”std::endlé«˜</strong>ã€‚å› ä¸ºï¼š</p></li></ol><ul><li><strong>std::endl</strong>åšä¸¤ä»¶äº‹ï¼š1ã€å°†å…‰æ ‡ä¸€åˆ€ä¸‹ä¸€è¡Œï¼›2ã€å®ƒâ€œåˆ·æ–°â€è¾“å‡º(ç¡®ä¿å®ƒç«‹å³æ˜¾ç¤ºåœ¨å±å¹•ä¸Š)</li><li><strong>â€˜\nâ€™</strong>åªåšä¸€ä»¶äº‹ï¼š1ã€å°†å…‰æ ‡ä¸€åˆ€ä¸‹ä¸€è¡Œï¼›</li></ul><ol start="2"><li><p>&lt;&lt; ã€&gt;&gt;</p><p>&lt;&lt;ï¼š insertion operator (<code>&lt;&lt;</code>)</p><p>&gt;&gt;ï¼š extraction operator (<code>&gt;&gt;</code>)</p></li></ol><h2 id="1-6-æœªåˆå§‹åŒ–-amp-æœªå®šä¹‰"><a href="#1-6-æœªåˆå§‹åŒ–-amp-æœªå®šä¹‰" class="headerlink" title="1.6 æœªåˆå§‹åŒ–&amp;æœªå®šä¹‰"></a>1.6 æœªåˆå§‹åŒ–&amp;æœªå®šä¹‰</h2><ol><li><p><strong>åˆå§‹åŒ–ã€èµ‹å€¼ã€æœªåˆå§‹åŒ–ï¼š</strong></p><p>ä¸åƒå…¶ä»–è¯­è¨€ï¼ŒC/C++åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œä¸ä¼šè‡ªåŠ¨çš„ç»™å˜é‡èµ‹å€¼(æ¯”å¦‚è¯´ 0)ã€‚æ‰€ä»¥è¯´ï¼Œå¦‚æœä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘å™¨åˆ†é…åˆ°ä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå¦‚æœä»–æ²¡æœ‰è¢«äººä¸ºçš„èµ‹å€¼ï¼Œå®ƒé»˜è®¤çš„å€¼å°±æ˜¯è¿™ä¸ªå†…å­˜åœ°å€åŸæ¥å­˜å‚¨çš„å€¼ï¼ˆä¹Ÿå«â€œåƒåœ¾å€¼â€ï¼‰ã€‚</p><ul><li>Initialization = åœ¨å¯¹è±¡è¢«å®šä¹‰çš„åŒæ—¶ç»™å®ƒèµ‹å€¼ï¼›</li><li>Assignment = åœ¨å¯¹è±¡è¢«å®šä¹‰ä¹‹<strong>å</strong>ï¼Œå†èµ‹å€¼ç»™å®ƒï¼›</li><li>Uninitialized = å¯¹è±¡åªæ˜¯è¢«å®šä¹‰ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è¢«èµ‹å€¼ã€‚</li></ul><blockquote><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥<u><strong>è®°ä½è¦åˆå§‹åŒ–å¯¹è±¡</strong></u>ï¼ˆå› ä¸ºç°åœ¨ï¼Œåˆå§‹åŒ–å¯¹è±¡çš„æˆæœ¬ä¸å¸¦æ¥çš„å¥½å¤„ç›¸æ¯”ï¼Œæˆæœ¬ä¸å€¼ä¸€æï¼‰ã€‚</p><p>ä¸åˆå§‹åŒ–å¯¹è±¡ï¼Œå¯èƒ½ä¼šå‡ºç°æ— æ³•é¢„æ–™çš„é”™è¯¯ã€‚</p></blockquote></li><li><p><strong>æœªåˆå§‹åŒ–è¡Œä¸ºï¼Œå¯èƒ½å¸¦æ¥ä»¥ä¸‹ç—‡çŠ¶</strong>ï¼š</p><ul><li>ç¨‹åºæ¯æ¬¡è¿è¡Œéƒ½ä¼šæœ‰ä¸åŒçš„ç»“æœï¼›</li><li>ç¨‹åºæ¯æ¬¡è¿è¡Œéƒ½ä¼šå‡ºç°ä¸€ä¸ªç›¸åŒçš„é”™è¯¯ç»“æœï¼›</li><li>ç¨‹åºç»“æœä¸ç¨³å®šï¼šæœ‰æ—¶ç»“æœæ­£ç¡®ï¼Œæœ‰æ—¶ç»“æœæ˜¯é”™è¯¯çš„ï¼›</li><li>ç¨‹åºä¼¼ä¹å·¥ä½œï¼Œä½†æ˜¯ç¨åçš„ç»“æœä¸æ­£ç¡®ï¼›</li><li>ç¨‹åºå´©æºƒï¼›</li><li>ç¨‹åºå¯ä»¥åœ¨ä¸€äº›ç¼–è¯‘å™¨ä¸Šè¿è¡Œï¼Œä½†åœ¨å…¶ä»–ç¼–è¯‘å™¨ä¸­ä¸èƒ½è¿è¡Œï¼›</li></ul></li></ol><h2 id="1-7-å…³é”®å­—-amp-æ ‡è¯†ç¬¦"><a href="#1-7-å…³é”®å­—-amp-æ ‡è¯†ç¬¦" class="headerlink" title="1.7 å…³é”®å­—&amp;æ ‡è¯†ç¬¦"></a>1.7 å…³é”®å­—&amp;æ ‡è¯†ç¬¦</h2><p><strong>å…³é”®å­—ï¼š</strong></p><p>C++17ä¸­çš„å…³é”®å­—ï¼ˆ<strong>keywords</strong> æˆ–è€… <strong>reserved words</strong>ï¼‰æœ‰84ä¸ªå…³é”®å­—ã€‚</p><p><strong>æ ‡è¯†ç¬¦ï¼š</strong></p><p>å˜é‡ã€å‡½æ•°ã€ç±»ã€æ¨¡å—ã€æˆ–ä»»ä½•å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰é¡¹ç›®çš„ <strong>çš„åå­—</strong> å«åšï¼šæ ‡è¯†ç¬¦ã€‚</p><p>å‘½åè§„åˆ™ï¼š</p><ol><li>æ ‡è¯†ç¬¦åå­—ä¸èƒ½å’Œä¿ç•™å­—é‡åï¼›</li><li>æ ‡è¯†ç¬¦åªèƒ½ç”±å­—æ¯ã€ä¸‹åˆ’çº¿ã€æ•°å­—ï¼›</li><li>æ ‡è¯†ç¬¦å¿…é¡»ä»¥ å­—æ¯ æˆ– æ•°å­— å¼€å¤´ï¼ˆâ€œä»¥ä¸‹åˆ’çº¿å¼€å¤´â€çš„ä¸€èˆ¬éƒ½æ˜¯æ“ä½œç³»ç»Ÿçš„ä¿ç•™å­—ï¼›åº“ï¼Œæˆ–è€…æ˜¯ç¼–è¯‘å™¨ä½¿ç”¨çš„ï¼‰ï¼›</li><li>C++å¯¹å¤§å°å†™æ•æ„Ÿï¼Œæ‰€ä»¥waå’ŒWAå’ŒWaå’ŒwAäº’ä¸ç›¸åŒã€‚</li></ol><h2 id="1-8-å¸¸é‡-amp-æ“ä½œç¬¦"><a href="#1-8-å¸¸é‡-amp-æ“ä½œç¬¦" class="headerlink" title="1.8 å¸¸é‡&amp;æ“ä½œç¬¦"></a>1.8 å¸¸é‡&amp;æ“ä½œç¬¦</h2><p><strong>å¸¸é‡(literalï¼Œliteral constant)</strong>ï¼šæ˜¯ä¸€ä¸ªå·²ç›´æ¥æ’å…¥æºä»£ç çš„å›ºå®šå€¼ã€‚</p><blockquote><p>å¸¸é‡ä¸å˜é‡éƒ½æœ‰ä¸€ä¸ªvalueï¼ˆå’Œä¸€ä¸ªtypeï¼‰ã€‚ä½†æ˜¯ï¼Œ<strong>å¸¸é‡çš„å€¼ä¸å¯æ›´æ”¹</strong>ã€‚</p></blockquote><p><strong>æ“ä½œç¬¦(Operators)</strong>ï¼šåœ¨æ•°å­¦ä¸­ï¼Œæ“ä½œæ˜¯ä¸€ç§æ•°å­¦è®¡ç®—ï¼ŒåŒ…æ‹¬0ä¸ªæˆ–å¤šä¸ªè¾“å…¥å€¼(ç§°ä¸º<strong>æ“ä½œæ•°<em>operands</em></strong>)ï¼Œå®ƒä»¬äº§ç”Ÿä¸€ä¸ªæ–°å€¼(ç§°ä¸ºè¾“å‡ºå€¼)ã€‚è¦æ‰§è¡Œçš„ç‰¹å®šæ“ä½œç”±ä¸€ä¸ªç§°ä¸ºæ“ä½œç¬¦çš„ç»“æ„(é€šå¸¸æ˜¯ä¸€ä¸ªç¬¦å·æˆ–ä¸€å¯¹ç¬¦å·)è¡¨ç¤ºã€‚</p><p>æ“ä½œç¬¦åˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li><strong>ä¸€å…ƒæ“ä½œç¬¦(Unary operators)</strong>ï¼šåªæœ‰ä¸€ä¸ªæ“ä½œæ•°ï¼›</li><li><strong>äºŒå…ƒæ“ä½œç¬¦(Binary operators)</strong>ï¼šæœ‰ä¸¤ä¸ªæ“ä½œæ•°ï¼ˆå·¦è¾¹ã€å³è¾¹å„ä¸€ä¸ªï¼‰ï¼›</li><li><strong>ä¸‰å…ƒæ“ä½œç¬¦(Ternary operators)</strong>ï¼šæœ‰ä¸‰ä¸ªæ“ä½œæ•°ã€‚åœ¨C++ä¸­åªæœ‰ä¸€ä¸ªä¸‰å…ƒæ“ä½œç¬¦ã€‚</li></ul><h2 id="1-9-è¡¨è¾¾å¼"><a href="#1-9-è¡¨è¾¾å¼" class="headerlink" title="1.9 è¡¨è¾¾å¼"></a>1.9 è¡¨è¾¾å¼</h2><ol><li><p><strong>è¡¨è¾¾å¼ä¸è¯­å¥çš„åŒºåˆ«</strong>ï¼Ÿ</p><p>å½“æˆ‘ä»¬éœ€è¦ç¨‹åºæ‰§è¡ŒæŸä¸ªæ“ä½œæ—¶ï¼Œä½¿ç”¨<strong>è¯­å¥</strong>ï¼›å½“æˆ‘ä»¬éœ€è¦ç¨‹åºè®¡ç®—æœ‰ä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œä½¿ç”¨<strong>è¡¨è¾¾å¼</strong>ã€‚</p></li><li><p>è¡¨è¾¾å¼ã€è¯­å¥ã€è¡¨è¾¾å¼è¯­å¥ï¼Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x; <span class="comment">//è¯­å¥ä¸å«è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">int</span> x=<span class="number">5</span>; <span class="comment">//è¯­å¥åŒ…å«è¡¨è¾¾å¼</span></span><br><span class="line">x=<span class="number">5</span>;  <span class="comment">//è¡¨è¾¾å¼è¯­å¥</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="æ€»ç»“chapter-1"><a href="#æ€»ç»“chapter-1" class="headerlink" title="æ€»ç»“chapter 1"></a>æ€»ç»“chapter 1</h1><ul><li><p><strong>è¯­å¥(statement)</strong>ï¼šæ˜¯ä¸€ç§æŒ‡ä»¤ï¼Œå®ƒé€šå¸¸ä½¿ç¨‹åºæ‰§è¡ŒæŸäº›æ“ä½œï¼Œè¯­å¥ä»¥åˆ†å·ï¼ˆsemicolonï¼‰ç»“å°¾ã€‚</p></li><li><p><strong>é¢„å¤„ç†æŒ‡ä»¤(Preprocessor directives)</strong>ï¼šå‘Šè¯‰ç¼–è¯‘å™¨æ‰§è¡Œä¸€ç§ç‰¹æ®Šä»»åŠ¡ã€‚åœ¨æœ¬ç« ä¸­ï¼Œç”¨åˆ°çš„æ˜¯â€<code>#include &lt;iostream&gt;</code>â€œ</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter-9</title>
      <link href="/archives/8632918.html"/>
      <url>/archives/8632918.html</url>
      
        <content type="html"><![CDATA[<p><yellow>ä»Šå¤©è¦å­¦ä¹ çš„å†…å®¹ï¼š</yellow></p><ol><li>å¦‚ä½•parse and interpret ä¸€ä¸ªPascalç¨‹åºçš„<strong>å®šä¹‰ definition</strong></li><li>å¦‚ä½•parse and interpret <strong>å¤åˆè¯­å¥compound statements</strong></li><li>å¦‚ä½•parse and interpret <strong>èµ‹å€¼è¯­å¥(åŒ…æ‹¬å˜é‡)assignment statements, including variables.</strong></li><li>ä»‹ç»ç¬¦å·è¡¨ï¼Œä»¥åŠå¦‚ä½•å­˜å‚¨å’ŒæŸ¥æ‰¾å˜é‡ã€‚</li></ol><a id="more"></a><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part9/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part9/</a></p><p>æœ¬èŠ‚æºä»£ç ï¼š<a href="https://github.com/rspivak/lsbasi/tree/master/part9/python" target="_blank" rel="noopener">https://github.com/rspivak/lsbasi/tree/master/part9/python</a></p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ Pascalç¨‹åºï¼Œæ¥ä»‹ç»æ–°æ¦‚å¿µï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">BEGIN</span></span><br><span class="line">        number := <span class="number">2</span>;</span><br><span class="line">        a := number;</span><br><span class="line">        b := <span class="number">10</span> * a + <span class="number">10</span> * number / <span class="number">4</span>;</span><br><span class="line">        c := a - - b</span><br><span class="line">    <span class="keyword">END</span>;</span><br><span class="line">    x := <span class="number">11</span>;</span><br><span class="line"><span class="keyword">END</span>.</span><br></pre></td></tr></table></figure><p>ä»Šå¤©æ‰€å­¦å†…å®¹ä¸å‰é¢çš„part1~8ç›¸æ¯”æœ‰äº†å¾ˆå¤§çš„é£è·ƒï¼Œç°åœ¨ä¸å†æ˜¯åƒä»¥å‰ä¸€æ ·åªæ˜¯ä¸€ä¸ªè®¡ç®—å™¨äº†ã€‚æˆ‘ä»¬è¦æå‡ä¸€ä¸‹æ¡£æ¬¡äº†ğŸ˜Š</p><h2 id="æ–°çš„è¯­æ³•æ ‘åŠè§„åˆ™"><a href="#æ–°çš„è¯­æ³•æ ‘åŠè§„åˆ™" class="headerlink" title="æ–°çš„è¯­æ³•æ ‘åŠè§„åˆ™"></a><red>æ–°çš„è¯­æ³•æ ‘åŠè§„åˆ™</red></h2><p>ç°åœ¨ï¼Œæ¥çœ‹çœ‹æ–°è¯­è¨€ç»“æ„çš„<em>è¯­æ³•æ ‘syntax diagrams</em> ä»¥åŠå…¶å¯¹åº”çš„<em>è¯­æ³•è§„åˆ™grammar rules</em></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_syntax_diagram_01.png" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_syntax_diagram_02.png" alt="img">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_syntax_diagram_03.png" alt="img"></p><h3 id="pascalè¯­æ³•"><a href="#pascalè¯­æ³•" class="headerlink" title="pascalè¯­æ³•"></a><red>pascalè¯­æ³•</red></h3><p>ä¸€ä¸ªPascalè¯­æ³•ç”±ä¸€ä¸‹ç»„æˆ&lt;<red>è¿™ä¸æ˜¯å®Œæ•´çš„å®šä¹‰ï¼Œä¼šåœ¨åé¢æ–‡ç« æ…¢æ…¢æ‰©å±•</red>&gt;ï¼š</p><ul><li><strong>BEGIN</strong>å¼€å¤´</li><li>ä¸­é—´æ˜¯<strong>å¤åˆè¯­å¥<em>compound statement</em></strong></li><li>ä¸€ä¸ª<strong>ç‚¹(dot) â€œ.â€</strong>ç»“æŸ</li></ul><h4 id="compound-statement"><a href="#compound-statement" class="headerlink" title="compound statement"></a><red><em>compound statement</em></red></h4><p><em>compound statement</em>æ˜¯ä¸€ä¸ªblock(åŒºå—)ï¼š</p><ul><li>å®ƒæ ‡æœ‰BEGIN å’Œ END ï¼Œä¸­é—´å¯èƒ½(ä¹Ÿå¯èƒ½æ²¡æœ‰)åŒ…å«æœ‰<u>ä¸€æ®µè¯­å¥</u>æˆ–<u>å…¶ä»–çš„å¤åˆè¯­å¥<em>compound statement</em></u></li><li>æ‰€æœ‰åµŒå…¥åœ¨å¤åˆè¯­å¥ä¸­çš„å¥å­ï¼Œé™¤äº†æœ€åä¸€ä¸ªï¼Œå…¶ä»–çš„éƒ½è¦ä»¥åˆ†å·â€œ;â€ç»“å°¾</li><li>åœ¨blockä¸­çš„æœ€åä¸€ä¸ªå¥å­(last statement)å¯èƒ½æˆ–å¯èƒ½æ²¡æœ‰ ä¸­æ–­åˆ†å·â€œ;â€</li></ul><p>å¦‚ä¸‹é¢æ‰€ç¤ºï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">â€œ<span class="keyword">BEGIN</span> <span class="keyword">END</span>â€</span><br><span class="line">â€œ<span class="keyword">BEGIN</span> a := <span class="number">5</span>; x := <span class="number">11</span> <span class="keyword">END</span>â€</span><br><span class="line">â€œ<span class="keyword">BEGIN</span> a := <span class="number">5</span>; x := <span class="number">11</span>; <span class="keyword">END</span>â€</span><br><span class="line">â€œ<span class="keyword">BEGIN</span> <span class="keyword">BEGIN</span> a := <span class="number">5</span> <span class="keyword">END</span>; x := <span class="number">11</span> <span class="keyword">END</span>â€</span><br></pre></td></tr></table></figure><h4 id="statement-list"><a href="#statement-list" class="headerlink" title="statement list"></a><red><em>statement list</em></red></h4><p>ä¸€ä¸ª<strong><em>statement list</em></strong> å«æœ‰0ä¸ªæˆ–å¤šä¸ªè¯­å¥ï¼Œå…¶ä½äº<em>compound statement</em>å†…ã€‚å¦‚ä¸Šé¢çš„ä¾‹å­</p><h4 id="statement"><a href="#statement" class="headerlink" title=" statement"></a><red><em>statement</em></red></h4><p>ä¸€ä¸ª<em>statement<em>å¯ä»¥æ˜¯ä¸€ä¸ª *compound statement</em>ï¼Œ ä¸€ä¸ªèµ‹å€¼è¯­å¥<em>assignment statement</em>ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç©ºè¯­å¥*empty</em> statementã€‚</p><h4 id="assignment-statement"><a href="#assignment-statement" class="headerlink" title="assignment statement"></a><red><em>assignment statement</em></red></h4><p>ä¸€ä¸ªèµ‹å€¼è¯­å¥çš„ç»„æˆï¼š<u>ä¸€ä¸ªå˜é‡</u> åé¢è·Ÿç€ <u>ä¸€ä¸ªæŒ‡å®šçš„tokenï¼ˆtwo characters, â€˜:â€™ and â€˜=â€™ï¼‰</u> åé¢è·Ÿç€ <u>ä¸€ä¸ªè¡¨è¾¾å¼</u>ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â€œa := <span class="number">11</span>â€</span><br><span class="line">â€œb := a + <span class="number">9</span> - <span class="number">5</span> * <span class="number">2</span>â€</span><br></pre></td></tr></table></figure><h4 id="varible"><a href="#varible" class="headerlink" title="varible"></a><red><em>varible</em></red></h4><p>ä¸€ä¸ª <strong>å˜é‡<em>variable</em></strong>æ˜¯ä¸€ä¸ª<u>æ ‡è¯†ç¬¦<em>identifier</em></u>ã€‚æˆ‘ä»¬å°†ç”¨ID tokenæ¥è¡¨ç¤ºvariablesï¼Œè¿™ä¸ªtokençš„valueæ˜¯å˜é‡çš„åå­—(å¦‚ï¼Œâ€˜aâ€™ã€â€˜numberâ€™ã€â€˜xâ€™â€¦..)ã€‚åœ¨ä¸‹é¢çš„ä¸€ä¸ªblockçš„ä»£ç ä¸­çš„â€˜aâ€™ã€â€˜bâ€™å°±æ˜¯å˜é‡ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">â€œ<span class="keyword">BEGIN</span> a := <span class="number">11</span>; b := a + <span class="number">9</span> - <span class="number">5</span> * <span class="number">2</span> <span class="keyword">END</span>â€</span><br></pre></td></tr></table></figure><h4 id="empty-statement"><a href="#empty-statement" class="headerlink" title="empty statement"></a><red><strong><em>empty</em></strong> statement</red></h4><p>ä¸€ä¸ªç©ºè¯­å¥è¡¨ç¤ºä¸€ä¸ªè¯­æ³•è§„åˆ™ï¼Œè¿™ä¸ªè¯­æ³•è§„åˆ™æ²¡æœ‰æ›´æ·±å±‚çš„äº§ç”Ÿå¼<em>productions<em>ã€‚æˆ‘ä»¬ä½¿ç”¨</em>empty_statement<em>è¯­æ³•è§„åˆ™æ¥æè¿°è¯­æ³•åˆ†æä¸­æœ«å°¾çš„</em>statement_list</em> ï¼›åŒæ—¶ä¹Ÿå…è®¸ä¸€ä¸ªç©ºçš„å¤åˆè¯­å¥<em>compound statements</em>è¡¨ç¤ºä¸ºï¼šâ€˜BEGIN ENDâ€™</p><h4 id="factor"><a href="#factor" class="headerlink" title="factor"></a><red><em>factor</em></red></h4><p><em>factor</em>çš„è§„åˆ™æ›´æ–°ä¸ºå¤„ç†å˜é‡ã€‚</p><h3 id="å®Œæ•´çš„è¯­æ³•"><a href="#å®Œæ•´çš„è¯­æ³•" class="headerlink" title="å®Œæ•´çš„è¯­æ³•"></a>å®Œæ•´çš„è¯­æ³•</h3><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">program</span> : compound_statement DOT</span><br><span class="line"></span><br><span class="line">compound_statement : <span class="keyword">BEGIN</span> statement_list <span class="keyword">END</span></span><br><span class="line"></span><br><span class="line">statement_list : statement</span><br><span class="line">               | statement SEMI statement_list</span><br><span class="line"></span><br><span class="line">statement : compound_statement</span><br><span class="line">          | assignment_statement</span><br><span class="line">          | empty</span><br><span class="line"></span><br><span class="line">assignment_statement : variable ASSIGN expr</span><br><span class="line"></span><br><span class="line">empty :</span><br><span class="line"></span><br><span class="line">expr: term ((PLUS | MINUS) term)*</span><br><span class="line"></span><br><span class="line">term: factor ((MUL | DIV) factor)*</span><br><span class="line"></span><br><span class="line">factor : PLUS factor</span><br><span class="line">       | MINUS factor</span><br><span class="line">       | INTEGER</span><br><span class="line">       | LPAREN expr RPAREN</span><br><span class="line">       | variable</span><br><span class="line"></span><br><span class="line">variable: ID</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„è¯­æ³•ä¸­ï¼Œ</p><ul><li>åœ¨<em>compound_statement</em> rule ä¸­æ²¡æœ‰ç”¨â€œ*â€æ¥è¡¨ç¤ºé‡å¤ï¼ˆ0æˆ–å¤šæ¬¡ï¼‰ï¼Œè€Œæ˜¯æ˜ç¡®çš„åˆ¶å®šäº† <em>statement_list</em> ruleã€‚è¿™æ˜¯å¦ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºâ€œ0æˆ–å¤šæ¬¡â€çš„æ“ä½œã€‚è¿™åœ¨åé¢çš„è¯­æ³•åˆ†æå™¨ï¼ˆå¦‚<a href="http://www.dabeaz.com/ply/" target="_blank" rel="noopener">PLY</a>ï¼‰ä¼šæ´¾ä¸Šç”¨åœºã€‚</li><li>æˆ‘è¿˜å°†è§„åˆ™ï¼šâ€œ(PLUS | MINUS) factorâ€ä¹Ÿç»†åˆ†æˆä¸¤ä¸ªè§„åˆ™ã€‚</li></ul><h2 id="ä¿®æ”¹lexer-parser-interpreter"><a href="#ä¿®æ”¹lexer-parser-interpreter" class="headerlink" title="ä¿®æ”¹lexer,parser,interpreter"></a><red>ä¿®æ”¹lexer,parser,interpreter</red></h2><p>ä¸ºäº†æ”¯æŒæ›´æ–°åçš„è¯­æ³•ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„æ­¤ç•ªåˆ†æå™¨ã€è¯­æ³•åˆ†æå™¨å’Œè§£é‡Šå™¨ã€‚</p><h3 id="lexerçš„æ”¹å˜"><a href="#lexerçš„æ”¹å˜" class="headerlink" title="lexerçš„æ”¹å˜"></a><red>lexerçš„æ”¹å˜</red></h3><p>ä¸‹é¢æ˜¯æˆ‘ä»¬æ­¤ç•ªåˆ†æå™¨æœ‰æ”¹åŠ¨çš„åœ°æ–¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_lexer.png" alt="img"></p><ol><li><p>ä¸ºäº†æ”¯æŒPascalç¨‹åºçš„å®šä¹‰ã€å¤åˆè¯­å¥ã€èµ‹å€¼è¯­å¥ã€å˜é‡ã€‚æˆ‘ä»¬éœ€è¦æ–°çš„tokenç±»å‹ï¼šï¼ˆPascal programâ€™s definition, compound statements, assignment statements, and variablesï¼‰</p><ul><li>BEGIN (æ ‡è®°å¤åˆè¯­å¥çš„å¼€å§‹)</li><li>END (æ ‡è®°å¤åˆè¯­å¥çš„ç»“æŸ)</li><li>DOT (ä¸€ä¸ªtokenè¡¨ç¤º ç‚¹ï¼Œç”¨äºPascalç¨‹åºçš„å®šä¹‰)</li><li>ASSIGN (ä¸€ä¸ªtokenè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ï¼Œ â€˜:=â€™)åœ¨Pascalä¸­ï¼Œèµ‹å€¼æ“ä½œç¬¦ä¸åŒäºå…¶ä»–è¯­è¨€ï¼ˆå¦‚Cè¯­è¨€ç”¨ â€œ=â€ï¼‰</li><li>SEMI (ä¸€ä¸ªtokenè¡¨ç¤ºåˆ†å·â€˜ ; â€™ ã€‚ç”¨æ¥æ ‡è®°åœ¨å¤åˆè¯­å¥ä¸­çš„ä¸€ä¸ªå¥å­çš„ç»“å°¾)</li><li>IDï¼ˆä¸€ä¸ªtokenè¡¨ç¤º æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ã€‚ï¼‰</li></ul></li><li><p>æœ‰æ—¶å€™ï¼Œä¸ºäº†åŒºåˆ†ä¸åŒtokenï¼ˆå®ƒä»¬éƒ½ä»¥ç›¸åŒçš„å­—ç¬¦ä¸ºå¼€å¤´ï¼Œå¦‚ï¼šâ€˜:â€™ vs â€˜:=â€™ or â€˜==â€™ vs â€˜=&gt;â€™ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸æ¶ˆè€—ä¸‹ä¸€ä¸ªå­—ç¬¦çš„æƒ…å†µä¸‹å»æŸ¥çœ‹è¾“å…¥ç¼“å†²åŒºã€‚ä¸ºäº†è¿™ä¸ªç‰¹æ®Šçš„ç›®çš„ï¼Œæˆ‘ä»‹ç»ä¸€ç§æŸ¥çœ‹æ–¹æ³•<em>peek</em> methodï¼Œè¿™ç§æ–¹æ³•å°†å¸®åŠ©æˆ‘ä»¬æ ‡è®°èµ‹å€¼è¯­å¥ã€‚è¿™ä¸ªæ–¹æ³•ä¸æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æƒ³æ—©ä¸€ç‚¹ä»‹ç»ä¸€ä¸‹ï¼Œå¹¶ä¸”å®ƒä¹Ÿä½¿å¾—<em>get_next_token</em>å‡½æ•°ç®€æ´ä¸€äº›ã€‚</p><p>å®ƒæ‰€åšçš„ç›®çš„å°±æ˜¯ï¼šä»æ–‡æœ¬ç¼“å†²åŒºè¿”å›ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œä½†ä¸å¢åŠ <em>self.pos</em>çš„å€¼ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ–¹æ³•çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">peek</span><span class="params">(self)</span>:</span></span><br><span class="line">    peek_pos = self.pos + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> peek_pos &gt; len(self.text) - <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> self.text[peek_pos]</span><br></pre></td></tr></table></figure></li><li><p>å› ä¸ºpascalä¸­çš„ å˜é‡ å’Œ ä¿ç•™å­— éƒ½æ˜¯ æ ‡è¯†ç¬¦ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªæ–¹æ³•æ¥åŒºåˆ†å®ƒä»¬ï¼Œæ–¹æ³•ä¸ºï¼š<strong><em>_id</em></strong>ã€‚å®ƒå·¥ä½œçš„åŸç†ï¼šè¯æ³•åˆ†æå™¨å¯¹è¿™ä¸ªå­—æ¯ã€æ•°å­—åºåˆ—è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹è¿™ä¸ªåºåˆ—æ˜¯å¦æ˜¯ä¿ç•™å­—<em>reserved keyword</em>ï¼Œå¦‚æœæ˜¯ï¼Œå°±è¿”å›ä¸€ä¸ªé¢„å…ˆæ„é€ çš„tokenæ¥è¡¨ç¤ºè¿™ä¸ªä¿ç•™å­—ï¼›å¦‚æœä¸æ˜¯ï¼Œå°±è¿”å›ä¸€ä¸ªæ–°çš„ID tokenï¼ˆå®ƒçš„å€¼å°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼ˆlexemeï¼‰.ä¸‹é¢æ˜¯å®ƒçš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">RESERVED_KEYWORDS = &#123;</span><br><span class="line">    <span class="string">'BEGIN'</span>: Token(<span class="string">'BEGIN'</span>, <span class="string">'BEGIN'</span>),</span><br><span class="line">    <span class="string">'END'</span>: Token(<span class="string">'END'</span>, <span class="string">'END'</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_id</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""Handle identifiers and reserved keywords"""</span></span><br><span class="line">    result = <span class="string">''</span></span><br><span class="line">    <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isalnum():</span><br><span class="line">        result += self.current_char</span><br><span class="line">        self.advance()</span><br><span class="line"></span><br><span class="line">    token = RESERVED_KEYWORDS.get(result, Token(ID, result))</span><br><span class="line">    <span class="keyword">return</span> token</span><br></pre></td></tr></table></figure></li><li><p>è¯æ³•åˆ†æå™¨çš„å‡½æ•°<em>get_next_token</em>çš„æ”¹å˜:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">if</span> self.current_char.isalpha():</span><br><span class="line">            <span class="keyword">return</span> self._id()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">':'</span> <span class="keyword">and</span> self.peek() == <span class="string">'='</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            self.advance()</span><br><span class="line">            <span class="keyword">return</span> Token(ASSIGN, <span class="string">':='</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">';'</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            <span class="keyword">return</span> Token(SEMI, <span class="string">';'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.current_char == <span class="string">'.'</span>:</span><br><span class="line">            self.advance()</span><br><span class="line">            <span class="keyword">return</span> Token(DOT, <span class="string">'.'</span>)</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure></li></ol><h3 id="parserçš„æ”¹å˜"><a href="#parserçš„æ”¹å˜" class="headerlink" title="parserçš„æ”¹å˜"></a><red>parserçš„æ”¹å˜</red></h3><p>ä¸‹é¢æ˜¯å®ƒçš„æ€»çš„å˜åŒ–ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_parser.png" alt="img"></p><ol><li><p>æ–°çš„ASTç»“ç‚¹ï¼š</p><ul><li><p><strong><em>Compound</em> AST node</strong>ï¼šè¡¨ç¤ºä¸€ä¸ªå¤åˆè¯­å¥ï¼Œåœ¨å®ƒçš„å­©å­çš„å˜é‡ä¸­åŒ…å«ç€è¯­å¥èŠ‚ç‚¹çš„åˆ—è¡¨ï¼›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Compound</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="string">"""Represents a 'BEGIN ... END' block"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.children = []</span><br></pre></td></tr></table></figure></li><li><p><strong><em>Assign</em> AST node</strong>ï¼šè¡¨ç¤ºèµ‹å€¼è¯­å¥ã€‚å®ƒçš„å·¦å­©å­çš„å€¼æ˜¯<strong><em>Var</em> node</strong>ï¼Œå³å­©å­ç»“ç‚¹å­˜å‚¨ç€ç”±exprè§£æå™¨è¿”å›çš„ç»“ç‚¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Assign</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, left, op, right)</span>:</span></span><br><span class="line">        self.left = left</span><br><span class="line">        self.token = self.op = op</span><br><span class="line">        self.right = right</span><br></pre></td></tr></table></figure></li><li><p><strong><em>Var</em> AST node</strong>ï¼šè¡¨ç¤ºä¸€ä¸ªå˜é‡ï¼Œå®ƒçš„valueå°±æ˜¯ç€è¿™ä¸ªå˜é‡çš„åå­—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Var</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="string">"""The Var node is constructed out of ID token."""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, token)</span>:</span></span><br><span class="line">        self.token = token</span><br><span class="line">        self.value = token.value</span><br></pre></td></tr></table></figure></li><li><p><strong><em>NoOp</em> node</strong>ï¼šç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç©ºè¯­å¥ã€‚å¦‚<code>â€˜BEGIN ENDâ€™</code> æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å¤åˆè¯­å¥ä½†æ²¡æœ‰å¥å­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NoOp</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>æˆ‘ä»¬ä¹‹å‰è®²è¿‡ï¼Œåœ¨æˆ‘ä»¬çš„é€’å½’çš„è¯­æ³•åˆ†æå™¨ä¸­æ¯ä¸€ä¸ªè¯­æ³•çš„è§„åˆ™éƒ½æœ‰ç›¸åº”çš„å‡½æ•°(method)ã€‚è¿™æ¬¡å°†å¢åŠ 7ä¸ªæ–°çš„å‡½æ•°ã€‚è¿™äº›å‡½æ•°éƒ½æ˜¯ç”¨äºè¯­æ³•åˆ†æä¸­æ–°çš„è¯­æ³•å’Œæ–°çš„ASTç»“ç‚¹ã€‚ä¸‹é¢å°±æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">program</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""program : compound_statement DOT"""</span></span><br><span class="line">    node = self.compound_statement()</span><br><span class="line">    self.eat(DOT)</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compound_statement</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    compound_statement: BEGIN statement_list END</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    self.eat(BEGIN)</span><br><span class="line">    nodes = self.statement_list()</span><br><span class="line">    self.eat(END)</span><br><span class="line"></span><br><span class="line">    root = Compound()</span><br><span class="line">    <span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">        root.children.append(node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">statement_list</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    statement_list : statement</span></span><br><span class="line"><span class="string">                   | statement SEMI statement_list</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    node = self.statement()</span><br><span class="line"></span><br><span class="line">    results = [node]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> self.current_token.type == SEMI:</span><br><span class="line">        self.eat(SEMI)</span><br><span class="line">        results.append(self.statement())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> self.current_token.type == ID:</span><br><span class="line">        self.error()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">statement</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    statement : compound_statement</span></span><br><span class="line"><span class="string">              | assignment_statement</span></span><br><span class="line"><span class="string">              | empty</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> self.current_token.type == BEGIN:</span><br><span class="line">        node = self.compound_statement()</span><br><span class="line">    <span class="keyword">elif</span> self.current_token.type == ID:</span><br><span class="line">        node = self.assignment_statement()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        node = self.empty()</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">assignment_statement</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    assignment_statement : variable ASSIGN expr</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    left = self.variable()</span><br><span class="line">    token = self.current_token</span><br><span class="line">    self.eat(ASSIGN)</span><br><span class="line">    right = self.expr()</span><br><span class="line">    node = Assign(left, token, right)</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">variable</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    variable : ID</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    node = Var(self.current_token)</span><br><span class="line">    self.eat(ID)</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">empty</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""An empty production"""</span></span><br><span class="line">    <span class="keyword">return</span> NoOp()</span><br></pre></td></tr></table></figure></li><li><p><strong><em>factor</em></strong> å‡½æ•°çš„ä¿®æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""factor : PLUS  factor</span></span><br><span class="line"><span class="string">              | MINUS factor</span></span><br><span class="line"><span class="string">              | INTEGER</span></span><br><span class="line"><span class="string">              | LPAREN expr RPAREN</span></span><br><span class="line"><span class="string">              | variable</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    token = self.current_token</span><br><span class="line">    <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">        self.eat(PLUS)</span><br><span class="line">        node = UnaryOp(token, self.factor())</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        node = self.variable()</span><br><span class="line">        <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure></li><li><p><strong><em>parse</em></strong> ï¼šæ›´æ–°ä¹‹åï¼Œå®ƒä»ç¨‹åºçš„å®šä¹‰å¼€å§‹è¯­æ³•çš„åˆ†æï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self)</span>:</span></span><br><span class="line">    node = self.program()</span><br><span class="line">    <span class="keyword">if</span> self.current_token.type != EOF:</span><br><span class="line">        self.error()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure></li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">BEGIN</span></span><br><span class="line">        number := <span class="number">2</span>;</span><br><span class="line">        a := number;</span><br><span class="line">        b := <span class="number">10</span> * a + <span class="number">10</span> * number / <span class="number">4</span>;</span><br><span class="line">        c := a - - b</span><br><span class="line">    <span class="keyword">END</span>;</span><br><span class="line">    x := <span class="number">11</span>;</span><br><span class="line"><span class="keyword">END</span>.</span><br></pre></td></tr></table></figure><p>å®ƒçš„è§£ææ ‘ä¸ºï¼ˆä¸ºäº†ç®€æ´ï¼Œä¸‹é¢çš„æ ‘ä¸­å˜é‡çš„åå­—æ‰€åœ¨ç»“ç‚¹å°±æ˜¯<strong><em>Var</em> node</strong>ï¼Œ <strong>Assign node</strong>èµ‹å€¼ç»“ç‚¹è¡¨ç¤ºä¸º â€˜:=â€™ ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://ruslanspivak.com/lsbasi-part9/lsbasi_part9_full_ast.png" alt="img"></p><h3 id="interpreterçš„æ”¹å˜"><a href="#interpreterçš„æ”¹å˜" class="headerlink" title="interpreterçš„æ”¹å˜"></a><red>interpreterçš„æ”¹å˜</red></h3><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_interpreter.png" alt="img"></p><p>ä¸ºäº†è§£é‡Šæ–°çš„ASTç»“ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨interpreterä¸­æ·»åŠ ç›¸åº”çš„visitor å‡½æ•°ï¼š</p><ul><li>visit_Compound</li><li>visit_Assign</li><li>visit_Var</li><li>visit_NoOp</li></ul><p>å…¶ä¸­ï¼Œ<code>visit_Compound</code>ï¼šéå†å®ƒçš„å­©å­èŠ‚ç‚¹ï¼Œ<code>visit_NoOp</code>ï¼šä»€ä¹ˆéƒ½ä¸åšã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_Compound</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> child <span class="keyword">in</span> node.children:</span><br><span class="line">        self.visit(child)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_NoOp</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p><code>visit_Assign</code>ï¼šå½“æˆ‘ä»¬ç»™å˜é‡èµ‹å€¼æ—¶ï¼Œéœ€è¦å°†è¯¥å˜é‡çš„å€¼å­˜åˆ°æŸä¸ªåœ°æ–¹ï¼Œå¾…ç”¨ã€‚è¿™ä¹Ÿå°±æ˜¯æ­¤å‡½æ•°çš„åŠŸèƒ½ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_Assign</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    var_name = node.left.value</span><br><span class="line">    self.GLOBAL_SCOPE[var_name] = self.visit(node.right)</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªå‡½æ•°å­˜å‚¨äº†ä¸€ä¸ªé”®-å€¼å¯¹key-value pairï¼ˆä¸€ä¸ªå˜é‡åã€ä¸€ä¸ªå˜é‡çš„å€¼ï¼‰ï¼Œå­˜å‚¨åœ¨<em>symbol table</em> GLOBAL_SCOPEã€‚</p><ul><li><p>what is <em>symbol table</em>?</p><p><strong><em>symbol table</em></strong>æ˜¯ä¸€ä¸ªæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆabstract data type (<strong>ADT</strong>)ï¼‰ï¼Œç”¨äºè·Ÿè¸ªæºç ä¸­å„ç§ç¬¦å·ã€‚ç›®å‰çš„ç¬¦å·ç±»å‹è¿˜åªæœ‰å˜é‡ï¼Œæˆ‘ä»¬ç”¨Pythonå­—å…¸è¶‹åŠ¿çº¿ç¬¦å·è¡¨çš„ADTã€‚</p><p>ï¼ˆåœ¨è¿™é‡Œç”¨ç¬¦å·å­—è¡¨ å®ç°çš„ç¬¨æ‹™ï¼šå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªå¸¦æœ‰ç‰¹æ®Šæ–¹æ³•çš„ç‹¬ç«‹ç±»ï¼Œè€Œæ˜¯ä¸€ä¸ªç®€å•çš„Pythonå­—å…¸ï¼Œè€Œä¸”å®ƒçš„å¦å¤–èŒè´£æ˜¯ å†…å­˜ç©ºé—´ã€‚åœ¨åé¢çš„æ–‡ç« ä¸­ï¼ŒåŸä½œè€…å°†ä¼šå¸¦æˆ‘ä»¬äº†è§£symbol tablesçš„ç»†èŠ‚ï¼‰</p></li></ul></blockquote><ul><li><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹â€œa := 3;â€ çš„ASTï¼Œå’Œå®ƒçš„ symbol table ï¼ˆ<em>visit_Assign</em> å‡½æ•°å¤„ç†å‰å’Œå¤„ç†åçš„ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_ast_st01-1584541191100.png" alt="lsbasi_part9_ast_st01"></p></li></ul><p>ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¥å­ï¼šâ€œb := a + 7;â€çš„ASTï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_ast_only_st02.png" alt="lsbasi_part9_ast_only_st02"></p><p><code>visit_Var</code>ï¼šå¯ä»¥çœ‹å‡ºï¼Œèµ‹å€¼è¯­å¥å¾—åˆ°å³åŠéƒ¨åˆ†ï¼šâ€œa + 7â€ æåŠå˜é‡aï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆçŸ¥é“å˜é‡açš„valueï¼Œè¿™å°±æ˜¯visit_Varå‡½æ•°è¦å¹²çš„äº‹æƒ…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_Var</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    var_name = node.value</span><br><span class="line">    val = self.GLOBAL_SCOPE.get(var_name)</span><br><span class="line">    <span class="keyword">if</span> val <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">raise</span> NameError(repr(var_name))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> val</span><br></pre></td></tr></table></figure><blockquote><p>visit ä¸€ä¸ª <em>Var</em> ç»“ç‚¹ï¼šå®ƒé¦–å…ˆå¾—åˆ°å˜é‡çš„åå­—ï¼›ç„¶åè¿™ä¸ªå˜é‡åå­—ä½œä¸ºè¿›å…¥<em>GLOBAL_SCOPE</em> dictionaryçš„keyğŸ”‘å»å¯»æ‰¾å˜é‡çš„valueï¼Œå¦‚æœæ‰¾åˆ°äº† å°±è¿”å›å˜é‡åœ°å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±NameErrorå‡½æ•°ä¼ºå€™ã€‚</p><p>ä¸‹é¢æ˜¯â€œb := a + 7;â€çš„ASTå’Œç¬¦å·è¡¨ï¼ˆèµ‹å€¼å‰å’Œå¤åˆ¶åï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_ast_st02.png" alt="lsbasi_part9_ast_st02"></p></blockquote><hr><p>ä¸Šé¢å°±æ˜¯ä»Šå¤©æ‰€æœ‰éœ€è¦è¿›è¡Œçš„updateäº†ã€‚</p><p>At the end of the main program, we simply print the contents of the symbol table GLOBAL_SCOPE to standard output.</p><p>Letâ€™s take our updated interpreter for a drive both from a Python interactive shell and from the command line. Make sure that you downloaded both the source code for the interpreter and the <a href="https://github.com/rspivak/lsbasi/blob/master/part9/python/assignments.txt" target="_blank" rel="noopener">assignments.txt</a> file before testing:</p><p>Launch your Python shell:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ python</span><br><span class="line">&gt;&gt;&gt; from spi import Lexer, Parser, Interpreter</span><br><span class="line">&gt;&gt;&gt; text &#x3D; &quot;&quot;&quot;\</span><br><span class="line">... BEGIN</span><br><span class="line">...</span><br><span class="line">...     BEGIN</span><br><span class="line">...         number :&#x3D; 2;</span><br><span class="line">...         a :&#x3D; number;</span><br><span class="line">...         b :&#x3D; 10 * a + 10 * number &#x2F; 4;</span><br><span class="line">...         c :&#x3D; a - - b</span><br><span class="line">...     END;</span><br><span class="line">...</span><br><span class="line">...     x :&#x3D; 11;</span><br><span class="line">... END.</span><br><span class="line">... &quot;&quot;&quot;</span><br><span class="line">&gt;&gt;&gt; lexer &#x3D; Lexer(text)</span><br><span class="line">&gt;&gt;&gt; parser &#x3D; Parser(lexer)</span><br><span class="line">&gt;&gt;&gt; interpreter &#x3D; Interpreter(parser)</span><br><span class="line">&gt;&gt;&gt; interpreter.interpret()</span><br><span class="line">&gt;&gt;&gt; print(interpreter.GLOBAL_SCOPE)</span><br><span class="line">&#123;&#39;a&#39;: 2, &#39;x&#39;: 11, &#39;c&#39;: 27, &#39;b&#39;: 25, &#39;number&#39;: 2&#125;</span><br></pre></td></tr></table></figure><p>And from the command line, using a source file as input to our interpreter:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python spi.py assignments.txt</span><br><span class="line">&#123;&#39;a&#39;: 2, &#39;x&#39;: 11, &#39;c&#39;: 27, &#39;b&#39;: 25, &#39;number&#39;: 2&#125;</span><br></pre></td></tr></table></figure><p>If you havenâ€™t tried it yet, try it now and see for yourself that the interpreter is doing its job properly.</p><h2 id="summary"><a href="#summary" class="headerlink" title="summary"></a><red>summary</red></h2><p>è®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼Œä½ ä»Šå¤©æ‰©å±•äº†Pascalè§£é‡Šå™¨çš„å“ªäº›éƒ¨åˆ†ï¼š</p><ol><li>æ·»åŠ æ–°çš„è¯­æ³•è§„åˆ™</li><li>æ·»åŠ æ–°çš„tokenï¼Œå’Œå®ƒå¯¹åº”è¯æ³•åˆ†æå™¨ä¸­çš„æ–¹æ³•ï¼ˆä¹Ÿæ›´æ–°äº†<em>get_next_token</em>ï¼‰</li><li>åœ¨ parser ä¸­ä¸ºæ–°çš„è¯­æ³•ç»“æ„æ·»åŠ æ–°çš„ASTç»“ç‚¹</li><li>åœ¨ï¼ˆé€’å½’ä¸‹é™çš„ï¼‰è¯­æ³•åˆ†æä¸­ æ·»åŠ ç›¸åº”å¯¹åº”æ–°è¯­æ³•è§„åˆ™çš„æ–°å‡½æ•°ï¼Œ</li><li>åœ¨interpreterä¸­å¢æ·»äº†æ–°çš„visitorå‡½æ•°</li><li>æ–°å¢ ç”¨äºå­˜å‚¨å’ŒæŸ¥æ‰¾å˜é‡çš„å­—å…¸</li></ol><h2 id="HACKS"><a href="#HACKS" class="headerlink" title="HACKS"></a><red>HACKS</red></h2><p>ç°åœ¨è¦ä»‹ç»ä¸€ä¸‹â€œhacksâ€ï¼ˆä¸å®Œå–„çš„åœ°æ–¹ï¼‰ï¼Œå¹¶ä¸”éšç€ç³»åˆ—æ–‡ç« çš„æ·±å…¥ï¼Œæˆ‘ä»¬è¿˜å°†ä¸€æ­¥æ­¥è§£å†³è¿™äº›å†…å®¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-9/lsbasi_part9_hacks.png" alt="lsbasi_part9_hacks"></p><p>ä¸Šå›¾ä¸­çš„ä¸å®Œå–„çš„åœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯è¿™äº›ï¼š</p><ol><li><p><em>program</em> è¯­æ³•è§„åˆ™ç›®å‰ä¸å®Œå–„ï¼Œåœ¨åç»­æ–‡ç« ä¼šæ‰©å±•ï¼›</p></li><li><p>Pascalè¯­è¨€æ˜¯ä¸€ä¸ªé™æ€ç±»å‹è¯­è¨€ï¼Œåœ¨ä½¿ç”¨å˜é‡ä¹‹å‰å¿…é¡»è¦å…ˆå£°æ˜ï¼›</p></li><li><p>æ²¡æœ‰ç±»å‹æ£€æµ‹ï¼Œç›®å‰è¿˜ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚ä½†å½“æœ‰æ›´å¤šç±»å‹çš„æ—¶å€™ï¼Œå°±éœ€è¦ç±»å‹æ£€æµ‹ï¼›</p></li><li><p>ç¬¦å·è¡¨</p></li><li><p>ç›®å‰ä¸ºæ­¢ï¼Œéƒ½æ˜¯ç”¨â€œ/â€æ¥è¡¨ç¤ºé™¤æ³•ã€‚ä½†åœ¨Pascalè¯­è¨€ä¸­ï¼Œå¿…é¡»è¦ç”¨å…³é”®å­—â€œdivâ€æ¥è¡¨ç¤ºæ•´æ•°é™¤æ³•ï¼›</p></li><li><p>åœ¨Pascalè¯­è¨€ä¸­ï¼Œæ ‡è¯†ç¬¦ å’Œ ä¿ç•™å­— æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„(case insensitive)ã€‚ä½†æ˜¯åœ¨ç›®å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æŠŠå®ƒè®¾è®¡æˆäº†åŒºåˆ†å¤§å°å†™ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Front-matterçš„è§„åˆ™</title>
      <link href="/archives/138a.html"/>
      <url>/archives/138a.html</url>
      
        <content type="html"><![CDATA[<p>æ–‡ç« å†™ä½œæ—¶ï¼Œçš„front matter çš„å‚æ•°</p><a id="more"></a><p>å‚æ•°æè¿°<code>layout</code>å¸ƒå±€<code>title</code>æ ‡é¢˜<code>date</code>å»ºç«‹æ—¥æœŸ<code>updated</code>æ›´æ–°æ—¥æœŸ<code>comments</code>å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½<code>tags</code>æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰<code>categories</code>åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰<code>permalink</code>è¦†ç›–æ–‡ç« ç½‘å€</p><p>å…¶ä¸­ï¼Œåˆ†ç±»å’Œæ ‡ç­¾éœ€è¦åŒºåˆ«ä¸€ä¸‹ï¼Œåˆ†ç±»å…·æœ‰é¡ºåºæ€§å’Œå±‚æ¬¡æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´<code>Foo</code>ï¼Œ<code>Bar</code>ä¸ç­‰äº<code>Bar</code>ï¼Œ<code>Foo</code>ï¼›è€Œæ ‡ç­¾æ²¡æœ‰é¡ºåºå’Œå±‚æ¬¡ã€‚</p><p><strong>æ³¨æ„ï¼šæ¯ä¸ªå†’å·åé¢æ˜¯æœ‰ä¸€ä¸ªç©ºæ ¼çš„ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">title: æ–‡ç« çš„front-matterè§„åˆ™ <span class="comment">// ä½ çš„åšå®¢åå­—    </span></span><br><span class="line">date: <span class="number">2019</span><span class="number">-08</span><span class="number">-10</span> <span class="number">21</span>:<span class="number">44</span>:<span class="number">44</span>  <span class="comment">//æ–‡ç« åˆ›å»ºçš„æ—¥æœŸ</span></span><br><span class="line">author: longlongqin   <span class="comment">//ä½œè€…åå­—</span></span><br><span class="line">img: /medias/banner/<span class="number">6.</span>jpg <span class="comment">//æ–‡ç« çš„æ˜¾ç¤ºçš„æ—¶å€™çš„èƒŒæ™¯</span></span><br><span class="line">coverImg: /medias/banner/<span class="number">6.</span>jpg  </span><br><span class="line">top: <span class="literal">true</span></span><br><span class="line">cover: <span class="literal">true</span></span><br><span class="line">toc: <span class="literal">true</span></span><br><span class="line">password: </span><br><span class="line">mathjax: <span class="literal">true</span></span><br><span class="line">summary: è¿™æ˜¯ä½ è‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</span><br><span class="line">tags:</span><br><span class="line">- Hexo</span><br><span class="line">- Github</span><br><span class="line">- åšå®¢</span><br><span class="line">categories:</span><br><span class="line">- è½¯ä»¶å®‰è£…ä¸é…ç½®</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">é…ç½®é€‰é¡¹</th><th align="left">é»˜è®¤å€¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">title</td><td align="left"><code>Markdown</code> çš„æ–‡ä»¶æ ‡é¢˜</td><td align="left">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td align="left">date</td><td align="left">æ–‡ä»¶åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="left">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td align="left">author</td><td align="left">æ ¹ <code>_config.yml</code>ä¸­çš„ <code>author</code></td><td align="left">æ–‡ç« ä½œè€…</td></tr><tr><td align="left">img</td><td align="left"><code>featureImages</code>ä¸­çš„æŸä¸ªå€¼</td><td align="left">æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td align="left">top</td><td align="left"><code>true</code></td><td align="left">æ¨èæ–‡ç« ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ <code>top</code> å€¼ä¸º <code>true</code>ï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µæ¨èæ–‡ç« </td></tr><tr><td align="left">cover</td><td align="left"><code>false</code></td><td align="left"><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« æ˜¯å¦éœ€è¦åŠ å…¥åˆ°é¦–é¡µè½®æ’­å°é¢ä¸­</td></tr><tr><td align="left">coverImg</td><td align="left">æ— </td><td align="left"><code>v1.0.2</code>ç‰ˆæœ¬æ–°å¢ï¼Œè¡¨ç¤ºè¯¥æ–‡ç« åœ¨é¦–é¡µè½®æ’­å°é¢éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é»˜è®¤ä½¿ç”¨æ–‡ç« çš„ç‰¹è‰²å›¾ç‰‡</td></tr><tr><td align="left">password</td><td align="left">æ— </td><td align="left">æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® <code>password</code> çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ <code>SHA256</code> åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>verifyPassword</code> é€‰é¡¹</td></tr><tr><td align="left">toc</td><td align="left"><code>true</code></td><td align="left">æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>toc</code> é€‰é¡¹</td></tr><tr><td align="left">mathjax</td><td align="left"><code>false</code></td><td align="left">æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ ï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ <code>mathjax</code>ï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td align="left">summary</td><td align="left">æ— </td><td align="left">æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™ç¨‹åºä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td align="left">categories</td><td align="left">æ— </td><td align="left">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td align="left">tags</td><td align="left">æ— </td><td align="left">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr><tr><td align="left">reprintPolicy</td><td align="left">cc_by</td><td align="left">æ–‡ç« è½¬è½½è§„åˆ™ï¼Œ å¯ä»¥æ˜¯ cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint æˆ– pay ä¸­çš„ä¸€ä¸ª</td></tr></tbody></table><p><strong>æ³¨æ„</strong>:</p><blockquote><ol><li>å¦‚æœ <code>img</code> å±æ€§ä¸å¡«å†™çš„è¯ï¼Œæ–‡ç« ç‰¹è‰²å›¾ä¼šæ ¹æ®æ–‡ç« æ ‡é¢˜çš„ <code>hashcode</code> çš„å€¼å–ä½™ï¼Œç„¶åé€‰å–ä¸»é¢˜ä¸­å¯¹åº”çš„ç‰¹è‰²å›¾ç‰‡ï¼Œä»è€Œè¾¾åˆ°è®©æ‰€æœ‰æ–‡ç« éƒ½çš„ç‰¹è‰²å›¾<strong>å„æœ‰ç‰¹è‰²</strong>ã€‚</li><li><code>date</code> çš„å€¼å°½é‡ä¿è¯æ¯ç¯‡æ–‡ç« æ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºæœ¬ä¸»é¢˜ä¸­ <code>Gitalk</code> å’Œ <code>Gitment</code> è¯†åˆ« <code>id</code> æ˜¯é€šè¿‡ <code>date</code> çš„å€¼æ¥ä½œä¸ºå”¯ä¸€æ ‡è¯†çš„ã€‚</li><li>å¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„åŠŸèƒ½ï¼Œä¸ä»…è¦åœ¨ Front-matter ä¸­è®¾ç½®é‡‡ç”¨äº† SHA256 åŠ å¯†çš„ password çš„å€¼ï¼Œè¿˜éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> ä¸­æ¿€æ´»äº†é…ç½®ã€‚æœ‰äº›åœ¨çº¿çš„ SHA256 åŠ å¯†çš„åœ°å€ï¼Œå¯ä¾›ä½ ä½¿ç”¨ï¼š<a href="http://tool.oschina.net/encrypt?type=2" target="_blank" rel="noopener">å¼€æºä¸­å›½åœ¨çº¿å·¥å…·</a>ã€<a href="http://encode.chahuo.com/" target="_blank" rel="noopener">chahuo</a>ã€<a href="http://tool.chinaz.com/tools/hash.aspx" target="_blank" rel="noopener">ç«™é•¿å·¥å…·</a>ã€‚</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> front-matteré…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter-8</title>
      <link href="/archives/ae12.html"/>
      <url>/archives/ae12.html</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©ï¼Œå°†è¦åœ¨å‰é¢çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ <strong>ä¸€å…ƒæ“ä½œç¬¦unary operators</strong>ï¼šunary plus (+) and unary minus (-) operatorsã€‚</p><a id="more"></a><p><strong>ä»Šå¤©å°†è¦å®Œæˆçš„ä»»åŠ¡ï¼š</strong></p><ul><li>æ‰©å±•è¯­æ³•ï¼Œèƒ½å¤Ÿå¤„ç†â€œ+â€ã€â€œ-â€ä¸€å…ƒæ“ä½œç¬¦ï¼›</li><li>æ·»åŠ ä¸€ä¸ªæ–°çš„ç»“ç‚¹ç±»ï¼š<em>UnaryOp</em> AST node classï¼›</li><li>æ‰©å±•è¯­æ³•åˆ†æå™¨parserï¼Œç”Ÿæˆå«æœ‰<em>UnaryOp</em> nodesç»“ç‚¹çš„æŠ½è±¡è¯­æ³•æ ‘ï¼›</li><li>æ‰©å±•è§£é‡Šå™¨interpreterã€‚å¹¶ä¸”å¢æ·»ä¸€ä¸ªæ–°çš„<em>visit_UnaryOp</em> methodå‡½æ•°ï¼Œå®ƒå¯ä»¥è§£æä¸€å…ƒæ“ä½œç¬¦</li></ul><p>ç°åœ¨ï¼Œå¼€å§‹å§ã€‚</p><h1 id="ä¸€å…ƒæ“ä½œç¬¦"><a href="#ä¸€å…ƒæ“ä½œç¬¦" class="headerlink" title="ä¸€å…ƒæ“ä½œç¬¦"></a>ä¸€å…ƒæ“ä½œç¬¦</h1><h2 id="ä¸€å…ƒæ“ä½œç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€å…ƒæ“ä½œç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€å…ƒæ“ä½œç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€å…ƒæ“ä½œç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><strong>äºŒå…ƒæ“ä½œç¬¦ï¼š</strong></p><p>ä¹‹å‰ï¼Œæˆ‘ä»¬çš„è®¡ç®—å™¨éƒ½æ˜¯å›´ç»•ç€è¿™äº›äºŒå…ƒæ“ä½œç¬¦ (+, -, *, /)åœ¨å·¥ä½œï¼Œè¿™äº›æ“ä½œç¬¦æ“ä½œä¸¤ä¸ªæ“ä½œæ•°ï¼ˆthe operators that operate on two operands.ï¼‰ã€‚</p><p><strong>ä¸€å…ƒæ“ä½œç¬¦<em>unary operator</em> ï¼š</strong></p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“ä¸€å…ƒæ“ä½œç¬¦æ˜¯ï¼šä¸€ä¸ªæ“ä½œç¬¦åªæ“ä½œä¸€ä¸ªæ“ä½œæ•°ã€‚ï¼ˆA <em>unary operator</em> is an operator that operates on one <em>operand</em> only.ï¼‰</p><h2 id="ä¸€å…ƒæ“ä½œç¬¦çš„è§„åˆ™"><a href="#ä¸€å…ƒæ“ä½œç¬¦çš„è§„åˆ™" class="headerlink" title="ä¸€å…ƒæ“ä½œç¬¦çš„è§„åˆ™"></a>ä¸€å…ƒæ“ä½œç¬¦çš„è§„åˆ™</h2><p>ä¸‹é¢æ˜¯ä¸€å…ƒæ“ä½œç¬¦â€œ+ã€-â€çš„è§„åˆ™ï¼š</p><ul><li>ä¸€å…ƒæ“ä½œç¬¦<code>-</code>ï¼šå®ƒä¼šä½¿å®ƒçš„æ“ä½œæ•°å–åï¼ˆnegationï¼‰</li><li>ä¸€å…ƒæ“ä½œç¬¦<code>+</code>ï¼šä»–å¯¹äºå®ƒçš„æ“ä½œæ•°æ²¡å½±å“ï¼Œå³ï¼Œå®ƒçš„æ“ä½œæ•°ä¸æ”¹å˜ä»€ä¹ˆ</li><li>ä¸€å…ƒæ“ä½œç¬¦æ¯”äºŒå…ƒæ“ä½œç¬¦ï¼ˆ+, -, *, and /ï¼‰æœ‰ç€æ›´é«˜çš„ä¼˜å…ˆçº§ï¼ˆprecedenceï¼‰</li></ul><p>ä¾‹å­ï¼š</p><ol><li><p><strong>â€œ+ - 3â€</strong></p><p>å…¶ä¸­ï¼Œè¿™ç¬¬ä¸€ä¸ªä½ç½®çš„â€œ+â€è¡¨ç¤ºä¸€å…ƒæ“ä½œç¬¦åŠ å·æ“ä½œï¼›ç¬¬äºŒä¸ªä½ç½®çš„â€œ-â€è¡¨ç¤ºä¸€å…ƒæ“ä½œç¬¦å‡å·æ“ä½œã€‚æ‰€ä»¥ï¼Œâ€œ+ - 3â€å°±ç›¸å½“äºâ€œ+ (- (3))â€ï¼Œå³ï¼Œç­‰äº-3ã€‚</p><p>ã€æ³¨ã€‘ï¼šè¿™é‡Œçš„-3å¹³å¸¸æƒ…å†µè¯´å®ƒæ˜¯ä¸€ä¸ªè´Ÿæ•´æ•°ï¼ˆnegative integerï¼‰ï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬ç§°å®ƒæ˜¯ï¼šä¸€ä¸ªä¸€å…ƒæ“ä½œç¬¦â€œ-â€ï¼Œå®ƒçš„æ“ä½œæ•°æ˜¯3ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_exp1.png" alt="img"></p></li><li><p><strong>â€œ5 - - 2â€</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_exp2.png" alt="img"></p><p><u>åœ¨è¿™ä¸ªè¡¨è¾¾å¼ä¸­ï¼Œç¬¬ä¸€ä¸ªâ€œ-â€è¡¨ç¤ºä¸€ä¸ªäºŒå…ƒæ“ä½œç¬¦ï¼šå‡æ³•ã€‚ç¬¬äºŒä¸ªâ€œ-â€è¡¨ç¤ºä¸€ä¸ªä¸€å…ƒæ“ä½œç¬¦ï¼šå–åã€‚</u></p><p>æ¯”å¦‚ä¸‹é¢çš„ä¸€äº›ä¾‹å­ï¼Œä¹Ÿæ˜¯è¿™ä¸ªæ ·å­ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_exp3.png" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_exp4.png" alt="img"></p></li></ol><h1 id="å¼€å§‹ä¿®æ”¹"><a href="#å¼€å§‹ä¿®æ”¹" class="headerlink" title="å¼€å§‹ä¿®æ”¹"></a>å¼€å§‹ä¿®æ”¹</h1><h2 id="å°†ä¸€å…ƒæ“ä½œç¬¦æ·»åŠ å…¥è¯­æ³•"><a href="#å°†ä¸€å…ƒæ“ä½œç¬¦æ·»åŠ å…¥è¯­æ³•" class="headerlink" title="å°†ä¸€å…ƒæ“ä½œç¬¦æ·»åŠ å…¥è¯­æ³•"></a>å°†ä¸€å…ƒæ“ä½œç¬¦æ·»åŠ å…¥è¯­æ³•</h2><h3 id="ä¿®æ”¹factor"><a href="#ä¿®æ”¹factor" class="headerlink" title="ä¿®æ”¹factor"></a>ä¿®æ”¹factor</h3><p>å› ä¸ºï¼Œä¸€å…ƒæ“ä½œç¬¦çš„ä¼˜å…ˆçº§é«˜äºäºŒå…ƒæ“ä½œç¬¦ã€‚æ‰€ä»¥ï¼Œå‡½æ•°<code>factor</code>éœ€è¦éœ€æ”¹ã€‚å®ƒä¹‹å‰çš„è§„åˆ™ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_factor_before.png" alt="æ›´æ–°å‰"></p><p>æ›´æ–°åçš„ï¼Œè§„åˆ™ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_factor_after.png" alt="æ›´æ–°å"></p><blockquote><p>ä»æ›´æ–°åçš„factorå‡½æ•°çš„è§„åˆ™ï¼Œå¯çŸ¥ï¼š<strong>å®ƒæ‰©å±•ä¹‹åèƒ½å¤Ÿå¼•ç”¨å®ƒæœ¬èº«</strong>ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å°±èƒ½å¤Ÿå†™å‡ºç±»ä¼¼äºï¼š- - - + - 3â€è¿™æ ·çš„å¼å­ï¼Œè¿™æ˜¯åˆæ³•çš„å¸¦æœ‰å¾ˆå¤šä¸€å…ƒæ“ä½œç¬¦çš„è¡¨è¾¾å¼ã€‚</p></blockquote><p>å…¶å®ï¼Œè¿™é‡Œä¿®æ”¹è¯­æ³•ï¼Œåªç”¨ä¿®æ”¹<code>factor</code>å‡½æ•°çš„äº§ç”Ÿå¼ï¼Œå…¶ä»–çš„<code>expr</code>ã€<code>term</code>äº§ç”Ÿå¼ä¸å˜ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_grammar.png" alt="img"></p><h2 id="æ‰©å±•æŠ½è±¡è¯­æ³•æ ‘çš„ç»“ç‚¹ç±»"><a href="#æ‰©å±•æŠ½è±¡è¯­æ³•æ ‘çš„ç»“ç‚¹ç±»" class="headerlink" title="æ‰©å±•æŠ½è±¡è¯­æ³•æ ‘çš„ç»“ç‚¹ç±»"></a>æ‰©å±•æŠ½è±¡è¯­æ³•æ ‘çš„ç»“ç‚¹ç±»</h2><p>ä¸‹ä¸€æ­¥å°±æ˜¯è¦æ·»åŠ ä¸€ä¸ªAST node classï¼Œæ¥è¡¨ç¤ºä¸€å…ƒæ“ä½œç¬¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnaryOp</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, op, expr)</span>:</span></span><br><span class="line">        self.token = self.op = op</span><br><span class="line">        self.expr = expr</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼šopã€exprï¼š</p><ul><li>opï¼šä»£è¡¨ä¸€å…ƒæ“ä½œç¬¦çš„tokenï¼ˆ+æˆ–-ï¼‰</li><li>exprï¼šè¡¨ç¤ºä¸€ä¸ªASTçš„ç»“ç‚¹ï¼ˆè¦ä¸exprå‡½æ•°åŒºåˆ†ï¼Œè¿™ä¸¤ä¸ªçŸ¥è¯†åå­—ä¸€æ ·ï¼Œä½†æ˜¯ä»£è¡¨çš„ä¸œè¥¿ä¸ä¸€æ ·ï¼‰</li></ul><h2 id="æ‰©å±•è¯­æ³•åˆ†æå™¨parser"><a href="#æ‰©å±•è¯­æ³•åˆ†æå™¨parser" class="headerlink" title="æ‰©å±•è¯­æ³•åˆ†æå™¨parser"></a>æ‰©å±•è¯­æ³•åˆ†æå™¨parser</h2><p>ä¹‹å‰æˆ‘ä»¬ä¿®æ”¹äº†è¯­æ³•è§„åˆ™ï¼Œå½“ä¸­çš„factorå‡½æ•°çš„äº§ç”Ÿå¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬å°†è¦ä¿®æ”¹ä»£ç ï¼Œä½¿å…¶èƒ½å¤Ÿå¤„ç†äº§ç”Ÿå¼ä¸­çš„ â€œ(PLUS | MINUS) factorâ€ å­è§„åˆ™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""factor : (PLUS | MINUS) factor | INTEGER | LPAREN expr RPAREN"""</span></span><br><span class="line">    token = self.current_token</span><br><span class="line">    <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">        self.eat(PLUS)</span><br><span class="line">        node = unaryop(token, self.factor())</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">        self.eat(MINUS)</span><br><span class="line">        node = unaryop(token, self.facot())</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">elif</span> token.type == INTEGER:</span><br><span class="line">        self.eat(INTEGER)</span><br><span class="line">        node = NUM(token)</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">elif</span> token.type == LPAREN:</span><br><span class="line">        self.eat(LPAREN)</span><br><span class="line">        node = self.expr()</span><br><span class="line">        self.eat(RPAREN)</span><br><span class="line">        <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•è§£é‡Šå™¨Interpreter"><a href="#æ‰©å±•è§£é‡Šå™¨Interpreter" class="headerlink" title="æ‰©å±•è§£é‡Šå™¨Interpreter"></a>æ‰©å±•è§£é‡Šå™¨Interpreter</h2><p>ç°åœ¨æˆ‘ä»¬è¿˜éœ€è¦æ‰©å±•è§£é‡Šå™¨ç±»<em>Interpreter</em> class ï¼Œå‘å…¶ä¸­æ·»åŠ <em>visit_UnaryOp</em> å‡½æ•°ï¼Œæ¥è§£é‡Šä¸€å…ƒæ“ä½œç¬¦ç»“ç‚¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_UnaryOp</span><span class="params">(self, node)</span></span></span><br><span class="line">op = node.op.type #tokençš„ç±»å‹</span><br><span class="line">    <span class="keyword">if</span> op == PLUS:</span><br><span class="line">        <span class="keyword">return</span> +self.visit(node.expr)</span><br><span class="line">    <span class="keyword">elif</span> op == MINUS:</span><br><span class="line">        <span class="keyword">return</span> -self.visit(node.expr)</span><br></pre></td></tr></table></figure><h1 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h1><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼Œè¡¨è¾¾å¼ â€œ5 - - - 2â€ ï¼Œé€šè¿‡æˆ‘ä»¬çš„è§£æå™¨æ¥è¯å®è¿™ä¸ªæ–°çš„<em>visit_UnaryOp</em>å‡½æ•°ç¡®å®èµ·ä½œç”¨äº†ã€‚</p><p>ä¸‹é¢æ˜¯å¦‚ä½•ä»Python shellä¸­å®ç°:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> spi <span class="keyword">import</span> BinOp, UnaryOp, Num, MINUS, INTEGER, Token</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>five_tok = Token(INTEGER, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>two_tok = Token(INTEGER, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>minus_tok = Token(MINUS, <span class="string">'-'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>expr_node = BinOp(</span><br><span class="line"><span class="meta">... </span>    Num(five_tok),</span><br><span class="line"><span class="meta">... </span>    minus_tok,</span><br><span class="line"><span class="meta">... </span>    UnaryOp(minus_token, UnaryOp(minus_token, Num(two_tok)))</span><br><span class="line"><span class="meta">... </span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> spi <span class="keyword">import</span> Interpreter</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inter = Interpreter(<span class="literal">None</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inter.visit(expr_node)</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ASTæ ‘çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-8/lsbasi_part8_ast.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„é€ å‡¸åŒ…â€”â€”Divide And Conquer</title>
      <link href="/archives/f32f.html"/>
      <url>/archives/f32f.html</url>
      
        <content type="html"><![CDATA[<p>Graham Scanç®—æ³•è¯´æ˜äº†å‡¸åŒ…æ„é€ é—®é¢˜çš„ä¸‹ç•ŒO(nlogn)æ˜¯å¯ä»¥è¾¾åˆ°çš„ã€‚å…¶å®O(nlogn)çš„ç®—æ³•è¿œä¸æ­¢è¿™ä¸€ç§ï¼Œåˆ†æ²»æ³•å°±æ˜¯ä¸€ç§èƒ½è¾¾åˆ°O(nlogn)å¤æ‚åº¦çš„æ€æƒ³ã€‚åœ¨æ­¤å¼•å…¥è¿ç”¨åˆ†æ²»æ€æƒ³çš„ä¸¤ç§ç®—æ³•æ¥æ„é€ å‡¸åŒ…ã€‚</p><a id="more"></a><h1 id="å½’å¹¶æ’åºä¸åˆ†æ²»æ€æƒ³"><a href="#å½’å¹¶æ’åºä¸åˆ†æ²»æ€æƒ³" class="headerlink" title="å½’å¹¶æ’åºä¸åˆ†æ²»æ€æƒ³"></a>å½’å¹¶æ’åºä¸åˆ†æ²»æ€æƒ³</h1><p>å¼•å…¥æ–°ç®—æ³•ä¹‹å‰ä¾æ—§å…ˆæ¥å›é¡¾ä¸€ä¸ªç»å…¸æ’åºç®—æ³•ï¼šå½’å¹¶æ’åºï¼ˆmerge sortï¼‰ã€‚å½’å¹¶æ’åºçš„åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315163056136.png" alt="image-20200315163056136"></p><p>ç®—æ³•åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>åˆ†ï¼ˆdivideï¼‰</strong>å’Œ<strong>å½’å¹¶ï¼ˆmergeï¼‰</strong>ã€‚</p><ul><li><strong>åˆ†</strong>çš„é˜¶æ®µå°†å¾…æ’åºåˆ—å‡åˆ†åˆ°ä¸€ä¸ªä¸ªå­åºåˆ—ï¼ˆå¦‚å›¾ä¸­åˆ’åˆ†åˆ°å•ä¸ªå…ƒç´ ï¼‰ã€‚</li><li><strong>å½’å¹¶</strong>é˜¶æ®µå°†åˆ†å¥½çš„å­åºåˆ—ä¸¤ä¸¤åˆå¹¶æˆæœ‰åºåºåˆ—ï¼Œé‡å¤åˆå¹¶çš„è¿‡ç¨‹ç›´åˆ°æ•´ä½“å½’ä¸ºä¸€ä¸ªåºåˆ—ã€‚</li></ul><p>å½’å¹¶è¿‡ç¨‹å…±lognæ­¥ï¼Œæ¯æ­¥è€—è´¹nçš„æ—¶é—´ï¼Œæ€»ä½“å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</p><p>å½’å¹¶æ’åºçš„è¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åˆ†æ²»ï¼ˆdivide-and-conquerï¼‰ç­–ç•¥ã€‚å‡¸åŒ…æ„é€ é—®é¢˜ä¹Ÿå¯ä»¥å¥—ç”¨è¿™ç§ç­–ç•¥æ¥åˆ†è€Œæ²»ä¹‹ï¼Œé€æ­¥æ±‚è§£ã€‚<u>æˆ‘ä»¬å¯ä»¥å°†å¾…å¤„ç†ç‚¹é›†Såˆ†ä¸ºåŒç­‰è§„æ¨¡çš„ä¸¤ä¸ªå­ç‚¹é›†ï¼Œå¹¶åˆ†åˆ«å¯¹å…¶æ±‚å‡¸åŒ…ã€‚</u></p><p>æœ‰äº†ä¸¤ä¸ªå­è§£åï¼Œé—®é¢˜å°±å˜æˆäº†å¦‚ä½•<strong>é€‚å½“åŠ ä¸€äº›è¾¹</strong>ï¼Œå°†ä¸¤ä¸ªå­å‡¸åŒ…mergeæˆæ•´ä½“è§£ã€‚<strong>åˆ†æ²»æ³•æ ¸å¿ƒçš„ä»»åŠ¡å°±æ˜¯å¦‚ä½•mergeã€‚</strong></p><h1 id="Divide-And-Conquerï¼ˆ1ï¼‰"><a href="#Divide-And-Conquerï¼ˆ1ï¼‰" class="headerlink" title="Divide And Conquerï¼ˆ1ï¼‰"></a>Divide And Conquerï¼ˆ1ï¼‰</h1><h2 id="é¢„å¤„ç†ä¸ºstar-shaped-polygon"><a href="#é¢„å¤„ç†ä¸ºstar-shaped-polygon" class="headerlink" title="é¢„å¤„ç†ä¸ºstar-shaped polygon"></a>é¢„å¤„ç†ä¸ºstar-shaped polygon</h2><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315163119718.png" alt="image-20200315163119718"></p><p>åˆ†æ²»æ³•è§£å†³é—®é¢˜çš„è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šå¤§äº‹åŒ–å°ï¼Œå°äº‹åŒ–äº†ã€‚å°±æ˜¯é¦–å…ˆå°†é—®é¢˜åˆ’åˆ†ä¸ºæ˜“æ±‚è§£çš„å­é—®é¢˜ï¼Œå­é—®é¢˜å¥—ç”¨å·²çŸ¥æ–¹æ³•è§£ç­”å³å¯ã€‚ä¾‹å¦‚å­å‡¸åŒ…çš„æ„é€ å°±èƒ½ç”¨Graham Scanæ¥è§£å†³ã€‚</p><p>Graham Scanè§£å†³é—®é¢˜çš„å‰ææ˜¯ï¼šå‚ç…§åŸºå‡†ç‚¹ï¼Œå…¶ä»–ç‚¹æŒ‰æè§’æœ‰åºæ’åˆ—ï¼Œä¹Ÿå°±æ˜¯æ„æˆäº†ä¸€ä¸ªæœ‰åºçš„æ˜Ÿå½¢å¤šè¾¹å½¢ï¼ˆstar-shaped polygonï¼‰ã€‚<strong>é¦–å…ˆè¦åšçš„å°±æ˜¯å°†ä¸¤ä¸ªå­å‡¸åŒ…é¢„å¤„ç†æˆä¸¤ä¸ªstar-shaped polygonã€‚</strong></p><blockquote><p><strong>star-shaped polygonæ˜Ÿå½¢å¤šè¾¹å½¢</strong>æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å…¶å®å°±æ˜¯åœ¨å¤šè¾¹å½¢å†…éƒ¨å­˜åœ¨ä¸€ä¸ªç‚¹Aï¼Œè¿™ä¸ªç‚¹ä¸å¤šè¾¹å½¢å†…ä»»æ„ä¸€ç‚¹çš„è¿çº¿éƒ½åœ¨å¤šè¾¹å½¢å†…éƒ¨ï¼Œå°±å«åšæ˜Ÿå½¢å¤šè¾¹å½¢ï¼Œè¿™ä¸€ä¸ªç‚¹Aå°±å«åšå¤šè¾¹å½¢çš„å†…æ ¸ã€‚</p></blockquote><p>ç”±äºä»»ä½•ä¸€ä¸ªå‡¸å¤šè¾¹å½¢éƒ½æ˜¯star-shaped polygonï¼Œå®ƒå¿…ç„¶æœ‰ä¸€ä¸ªæ ¸ï¼Œå…¶ä»–ç‚¹æŒ‰æè§’æœ‰åºæ’åˆ—ã€‚<u>é—®é¢˜åœ¨äºå¦‚ä½•æ‰¾åˆ°ä¸€ä¸ªå…¬å…±æ ¸</u>ï¼Œä½¿å¾—ä¸¤ä¸ªå­å‡¸åŒ…åŒæ—¶å…³äºè¿™ä¸ªæ ¸æ˜¯æè§’æœ‰åºæ’åˆ—çš„ã€‚ä¹Ÿå°±æ˜¯å…¬å…±æ ¸å¤„äºä¸¤ä¸ªå‡¸åŒ…çš„äº¤éƒ¨åˆ†ï¼Œè¿™æ ·æ˜¯æœ€å¥½å¤„ç†çš„æƒ…å†µï¼ˆå¦‚ä¸‹å·¦å›¾ï¼‰ã€‚ä¸è¿‡è¿˜æœ‰å¯èƒ½æœ‰å…¶ä»–æƒ…å†µï¼Œä¸èƒ½æ‰¾åˆ°å…¬å…±æ ¸ï¼ˆå¦‚ä¸‹ä¸­å›¾ï¼‰ï¼Œç”šè‡³ä¸¤ä¸ªå‡¸åŒ…æ ¹æœ¬ä¸ç›¸äº¤ï¼ˆå¦‚ä¸‹å³å›¾ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315163145301.png" alt="image-20200315163145301"></p><p>è¿™å°±è¦å°†åˆ†æ²»ç­–ç•¥åˆ†ä¸åŒæƒ…å†µæ¥å®ç°ï¼š</p><h3 id="ä¸¤ä¸ªå­å‡¸åŒ…æœ‰å…¬å…±æ ¸ï¼š"><a href="#ä¸¤ä¸ªå­å‡¸åŒ…æœ‰å…¬å…±æ ¸ï¼š" class="headerlink" title="ä¸¤ä¸ªå­å‡¸åŒ…æœ‰å…¬å…±æ ¸ï¼š"></a>ä¸¤ä¸ªå­å‡¸åŒ…æœ‰å…¬å…±æ ¸ï¼š</h3><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315163518484.png" alt="image-20200315163518484"></p><p><u>å…ˆæ‰¾å…¶ä¸­ä¸€ä¸ªå­å‡¸åŒ…çš„æ ¸</u>ï¼šæˆ‘ä»¬å¯ä»¥ä»»å–è¯¥å­å‡¸åŒ…ä¸Šçš„ä¸‰ç‚¹æ„æˆä¸‰è§’å½¢ï¼Œæ±‚ä¸‰è§’å½¢é‡å¿ƒä½œä¸ºæ ¸ã€‚</p><p><u>ç„¶ååˆ¤æ–­è¿™ä¸ªæ ¸æ˜¯å¦ä¹Ÿåœ¨å¦ä¸€ä¸ªå­å‡¸åŒ…å†…éƒ¨</u>ï¼Œè‹¥åˆ¤å®šä¸ºçœŸï¼Œå°±æ˜¯æœ‰å…¬å…±æ ¸çš„æœ€ç®€å•æƒ…å†µã€‚åˆ¤å®šæ–¹æ³•ä¹Ÿå°±æ˜¯ä¹‹å‰æè¿‡çš„<u>in convex polygon test</u>ï¼Œå¯¹å‡¸åŒ…æ¯æ¡è¾¹åšto left testå³å¯ï¼Œåœ¨çº¿æ€§æ—¶é—´å†…å¯ä»¥åˆ¤å®šã€‚</p><p><strong>æ‰¾åˆ°å…¬å…±æ ¸ä¹‹åï¼Œè¿›è¡Œå‡¸åŒ…å½¢æˆ</strong>ï¼šâ€”-ç”¨äºŒè·¯å½’å¹¶</p><p>ç›¸å¯¹äºå…¬å…±æ ¸ï¼Œä¸¤ä¸ªå­å‡¸åŒ…çš„å„è‡ªæœ‰åºæ’åˆ—ï¼Œç›¸äº’äº¤é”™ã€‚è¦åšçš„å°±æ˜¯å°†äºŒè€…ç‚¹åºåˆ—åˆå¹¶ï¼Œæ–¹æ³•æ­£æ˜¯ç»å…¸çš„<strong>äºŒè·¯å½’å¹¶</strong>ï¼Œçº¿æ€§æ—¶é—´å¯ä»¥å®Œæˆã€‚æœ€åè¿›è¡ŒGraham Scanå³å¯å¾—åˆ°å¤§å‡¸åŒ…ã€‚</p><h3 id="ä¸€ä¸ªå­å‡¸åŒ…çš„æ ¸è½åœ¨å¦ä¸€ä¸ªå­å‡¸åŒ…å¤–éƒ¨ï¼š"><a href="#ä¸€ä¸ªå­å‡¸åŒ…çš„æ ¸è½åœ¨å¦ä¸€ä¸ªå­å‡¸åŒ…å¤–éƒ¨ï¼š" class="headerlink" title="ä¸€ä¸ªå­å‡¸åŒ…çš„æ ¸è½åœ¨å¦ä¸€ä¸ªå­å‡¸åŒ…å¤–éƒ¨ï¼š"></a>ä¸€ä¸ªå­å‡¸åŒ…çš„æ ¸è½åœ¨å¦ä¸€ä¸ªå­å‡¸åŒ…å¤–éƒ¨ï¼š</h3><p>å­˜åœ¨å…¬å…±æ ¸çš„æƒ…å†µå¤„ç†æ˜¯å¾ˆç®€å•çš„ï¼Œå†çœ‹ç¬¬ä¸€ä¸ªå­å‡¸åŒ…çš„æ ¸è½åœ¨ç¬¬äºŒä¸ªå­å‡¸åŒ…å¤–éƒ¨çš„æƒ…å†µã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315164325225.png" alt="image-20200315164325225"></p><p>è¿™ä¸­æƒ…å†µä¸<strong>å¢é‡æ„é€ æ³•</strong>çš„æƒ…å†µå¾ˆç›¸ä¼¼ï¼ŒP1çš„æ ¸xç›¸å¯¹äºP2å°±æ˜¯ä¸€ä¸ªæ–°åŠ å…¥çš„ç‚¹ã€‚åšå‡ºä¸¤æ¡support lineï¼šxâ†’tå’Œxâ†’sï¼Œèˆå¼ƒP2ä¸Štâ†’sè·¯å¾„çš„ç‚¹å³å¯ã€‚è¿™æ ·P2ä¸­å‰©ä½™ç‚¹ä¸xæ„æˆäº†ä¸€ä¸ªæ˜Ÿå½¢å¤šè¾¹å½¢ï¼Œxä¹Ÿæˆä¸ºäº†P2çš„æ ¸ã€‚<strong>è¿™å°±è½¬åŒ–æˆäº†ç¬¬ä¸€ç§æœ‰å…¬å…±æ ¸çš„æƒ…å†µã€‚</strong></p><h1 id="Divide-And-Conquerï¼ˆ2ï¼‰"><a href="#Divide-And-Conquerï¼ˆ2ï¼‰" class="headerlink" title="Divide And Conquerï¼ˆ2ï¼‰"></a>Divide And Conquerï¼ˆ2ï¼‰</h1><p>ä¸Šè¿°åˆ†æ²»ç­–ç•¥çš„ç®—æ³•è¿‡äºå¤æ‚ï¼Œæ‰€ä»¥å¼•å…¥ä¸€ç§æ›´åŠ ç®€æ˜çš„åˆ†æ²»ç­–ç•¥ã€‚è¿™ç§åˆ†æ²»ç­–ç•¥ä¹Ÿä¼šä¸ºä¸‰è§’å‰–åˆ†ç­‰é—®é¢˜æä¾›æ€è·¯ã€‚</p><p>é¦–å…ˆè§„å®šä¸€ç§ç‚¹é›†åˆ’åˆ†çš„ç­–ç•¥ã€‚å‡è®¾å¾…åˆå¹¶çš„ä¸¤ä¸ªå­å‡¸åŒ…æ˜¯æ²¿ç€æŸæ–¹å‘æ˜¯åˆ†ç¦»çš„ï¼Œ<strong>äºŒè€…ä¸ç›¸äº¤</strong>ï¼ˆDivide And Conquerï¼ˆ1ï¼‰ä¸­æ˜¯æœ‰ç›¸äº¤çš„ï¼‰ã€‚ä¾‹å¦‚ä¸‹å›¾å‡¸åŒ…P1å’ŒP2å°±æ˜¯ç›¸äº’åˆ†ç¦»çš„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315164957102.png" alt="image-20200315164957102"></p><p><strong>è¿™æ ·åˆ’åˆ†ä¼šä½¿å¾—åˆå¹¶æ›´åŠ ç®€æ˜ï¼Œä¸å¿…åŒºåˆ†å¤šç§å¤æ‚æƒ…å†µ</strong>ã€‚</p><h2 id="é¢„å¤„ç†"><a href="#é¢„å¤„ç†" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h2><p>ä¸ºäº†æ»¡è¶³è¿™ç§åˆ’åˆ†ç­–ç•¥ï¼Œ<strong>éœ€è¦å¼•å…¥ä¸€ç§é¢„å¤„ç†</strong>ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªxæ–¹å‘çš„æ’åºè¿‡ç¨‹ï¼ˆX-sortingï¼‰ã€‚æ’åºåå°±å¯å–ç‚¹xåæ ‡çš„ä¸­å€¼ï¼Œå°†ç‚¹é›†åˆ’åˆ†ä¸ºè§„æ¨¡ç›¸å½“çš„å·¦å³ä¸¤ä¸ªå­é›†ã€‚æ¯ä¸ªå‡¸åŒ…éƒ½æœ‰å…¶<strong>æœ€å·¦ç‚¹l</strong>å’Œ<strong>æœ€å³ç‚¹r</strong>ï¼Œå¦‚ä¸Šå›¾ã€‚</p><h2 id="mergeæ“ä½œ"><a href="#mergeæ“ä½œ" class="headerlink" title="mergeæ“ä½œ"></a>mergeæ“ä½œ</h2><p>ç°åœ¨<strong>mergeæ“ä½œ</strong>å°±æ˜¯å°†ä¸¤ä¸ªå·¦å³ç›¸ç¦»çš„ä¸¤ä¸ªå­å‡¸åŒ…åˆå¹¶ä¸ºä¸€ä¸ªå¤§å‡¸åŒ…çš„è¿‡ç¨‹äº†ã€‚è¿ç®—çš„å…³æ³¨çš„æ­£æ˜¯ä¸¤å¯¹lå’Œrç‚¹ã€‚</p><p>å…ˆç›´è§‚æ„Ÿå—ä¸€ä¸‹mergeæ“ä½œè¦æ·»åŠ çš„æ–°æè¾¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315165142262.png" alt="image-20200315165142262"></p><p>ä¸Šä¸‹ä¸¤æ¡ç´«è‰²è¾¹æ­£æ˜¯è¦æ±‚çš„æ–°è¾¹ï¼Œåˆç§°æ”¯æ’‘è¾¹ï¼ˆ<strong>support line</strong>ï¼‰ï¼Œ<u>å¹¶ä¸”æ¯æ¬¡merge<strong>åªä¼š</strong>å¢åŠ <strong>ä¸¤æ¡</strong>æ–°è¾¹</u>ã€‚ä¸¤æ¡è¾¹ç±»ä¼¼ä¸¤ä¸ªåœ†çš„<strong>å…¬åˆ‡çº¿ï¼ˆcommon tangentï¼‰</strong>ï¼Œå°†äºŒè€…è¿æ¥èµ·æ¥ã€‚</p><blockquote><p>æ³¨æ„ï¼Œæ³¨æ„ï¼Œæ³¨æ„ï¼š<strong>çœ¼ç›å¯èƒ½ä¼šæ¬ºéª—ä½ </strong></p><p>ç›´è§‚ä¸Šæ„Ÿè§‰ï¼Œä¸¤æ¡support lineæ­£æ˜¯ä¸¤ä¸ªå­å‡¸åŒ…çš„æœ€é«˜ç‚¹tå’Œæœ€ä½ç‚¹bç›¸äº’è¿æ¥å¾—åˆ°çš„ï¼Œè¿™äº›ç‚¹åªéœ€çº¿æ€§æ—¶é—´å°±èƒ½æ‰¾åˆ°ã€‚<u>å½“çœŸå¦‚æ­¤çš„è¯å‡¸åŒ…æ„é€ çš„ä¸‹ç•Œå°±æˆäº†O(n)ï¼Œæ˜¾ç„¶ç›´è§‰æ˜¯é”™è¯¯çš„ã€‚</u>ä¾‹å¦‚ä¸‹é¢çš„ä¸¤ç§æƒ…å†µï¼Œsupport lineå°±å’Œbã€tä¸¤ç‚¹æ²¡æœ‰ç›´æ¥å…³ç³»äº†ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315165430771.png" alt="image-20200315165430771">)<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315165443290.png" alt="image-20200315165443290"></p><p>æ„é€ support lineçš„è¿‡ç¨‹éœ€è¦ç¼œå¯†çš„åˆ†æï¼Œå¹¶éå‡­ç›´è§‰èƒ½å¾—åˆ°çš„ã€‚</p></blockquote><h3 id="ç¼åˆï¼ˆstitchï¼‰â€”æ„é€ support-line"><a href="#ç¼åˆï¼ˆstitchï¼‰â€”æ„é€ support-line" class="headerlink" title="ç¼åˆï¼ˆstitchï¼‰â€”æ„é€ support line"></a>ç¼åˆï¼ˆstitchï¼‰â€”æ„é€ support line</h3><p>å°†ä¸¤ä¸ªå­å‡¸åŒ…è¿æ¥çš„è¿‡ç¨‹æ›´åƒå¤ä»£å¦‡å¥³ç”¨é’ˆå°†ä¸¤å—å¸ƒç¼åˆåœ¨ä¸€èµ·ï¼ˆä½†æ˜¯è¿™é‡Œçš„ä¸¤ä¸ªå‡¸åŒ…çš„é—´è·æ˜¯ä¸èƒ½å˜çš„ï¼Œä»…ä»…æ˜¯ç”¨çº¿å°†å…¶è¿æ¥åœ¨ä¸€èµ·ã€‚è€Œä¸”è¿™é‡Œè¿æ¥åªéœ€è¦æœ€åæ‰¾å‡ºæ¥çš„é‚£ä¸¤æ¡çº¿ï¼Œå…¶ä½™å‰©ä¸‹çš„ä¸­é—´â€œå·¥å…·çº¿â€éƒ½è¦èˆå»ï¼‰ã€‚</p><p>æ„é€ è¿‡ç¨‹é¦–å…ˆä»<strong>å·¦å‡¸åŒ…çš„rç‚¹</strong>å’Œ<strong>å³å‡¸åŒ…çš„lç‚¹</strong>è¿çº¿å¼€å§‹ï¼Œä»¥è¿™æ¡çº¿ä¸ºåŸºç¡€é€æ­¥å¾—åˆ°support lineã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315165636768.png" alt="image-20200315165636768"></p><blockquote><p>æ³¨æ„ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼š</p><p>å¦‚ä½•å¾—åˆ°å„å­å‡¸åŒ…çš„lç‚¹å’Œrç‚¹ã€‚æ¯æ¬¡åˆå¹¶éƒ½ä¼šäº§ç”Ÿæ–°çš„å‡¸åŒ…ï¼Œæ‰€ä»¥å‡¸åŒ…æ˜¯ä¸€ä¸ªåŠ¨æ€çš„ç»“æ„ã€‚å½“ç„¶å¯ä»¥æ¯æ¬¡è®¡ç®—å‡ºæœ€å·¦ç‚¹å’Œæœ€å³ç‚¹ï¼Œåªéœ€è¦çº¿æ€§æ—¶é—´ã€‚ä½†æ˜¯è¿™å¹¶ä¸æ˜¯æœ€ä¼˜çš„æ–¹å¼ã€‚è€ƒè™‘åˆ†æ²»çš„æ€æƒ³ï¼Œå°±æ•´ä¸ªmergeæµç¨‹æ¥è®²ï¼Œæ˜¯è‡ªåº•å‘ä¸Šå°†å­å‡¸åŒ…ä¸¤ä¸¤åˆå¹¶çš„è¿‡ç¨‹ã€‚å› æ­¤åªè¦åœ¨æœ€åº•å±‚ä¸Šæœ€å°çš„å­å‡¸åŒ…ä¸­è®°å½•æœ€å·¦ç‚¹å’Œæœ€å³ç‚¹ï¼Œæ¯æ¬¡mergeæ›´æ–°ä¸€ä¸‹è¿™ä¸¤ä¸ªå˜é‡å³å¯ï¼Œåªéœ€è¦O(1)çš„å¸¸æ•°æ—¶é—´ï¼è¿™ç§ä¼˜åŒ–å¯¹æ•´ä½“çš„å¤æ‚åº¦ä¸Šçº¿nlognè™½ç„¶æ²¡æœ‰å½±å“ï¼Œä¹Ÿèƒ½ä¸ºç¨‹åºèŠ‚çœä¸€éƒ¨åˆ†çš„å¼€é”€ã€‚</p></blockquote><h4 id="ç¼åˆä¸ŠåŠéƒ¨åˆ†"><a href="#ç¼åˆä¸ŠåŠéƒ¨åˆ†" class="headerlink" title="ç¼åˆä¸ŠåŠéƒ¨åˆ†"></a>ç¼åˆä¸ŠåŠéƒ¨åˆ†</h4><blockquote><p>å†çœ‹å¦‚ä½•å°†æœ€åˆçš„r-lçº¿å˜æˆsupport lineï¼Œåœ¨æ­¤ä»¥<strong>å¯»æ‰¾upper support lineä¸ºä¾‹</strong>ï¼ˆä¸Šåˆ‡çº¿ï¼Œç›¸åº”çš„è¿˜éœ€è¦è®¡ç®—ä¸‹åˆ‡çº¿ï¼‰ã€‚<strong><u>ç®—æ³•çš„æ ¸å¿ƒä¾ç„¶æ˜¯to left test</u></strong>ã€‚</p></blockquote><ul><li><strong>é¦–å…ˆçœ‹<code>l</code>ç‚¹</strong>ï¼Œä»r-lçº¿å‡ºå‘ï¼Œå¯ä»¥å‘ç°ç›¸å¯¹äºå¯¹äºrâ†’læ—¶ï¼Œlçš„å‰é©±ã€åç»§æ˜¯LRå‹çš„ã€‚è€Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯RRå‹çš„ã€‚æ‰€ä»¥å¿…é¡»è¦æ‰¾lçš„å‰é©±ã€‚ç›´åˆ°åœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†lçš„ä¸€ä¸ªå‰é©±ç‚¹æ»¡è¶³RRå‹ï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315171448455.png" alt="æ‰¾åˆ°lç‚¹çš„å‰é©±æ»¡è¶³å½“å‰å½¢åŠ¿çš„RR"></p><ul><li><p><strong>å†çœ‹<code>r</code>ç‚¹</strong>ï¼ŒåŒæ ·çš„ï¼Œä»æ­¤æ—¶çš„çŠ¶æ€ï¼Œæ¥è§‚å¯Ÿrçš„ç±»å‹ï¼šæ˜¯RLå‹çš„ã€‚è¦æƒ³æˆä¸ºLLå‹ï¼Œrå¿…é¡»è¦æ‰¾å®ƒçš„åé©±ã€‚</p><p>åœ¨æŸä¸€æ—¶åˆ»ï¼Œræ‰¾åˆ°rçš„åç»§ï¼ˆå°±æ˜¯è¯¥å‡¸åŒ…ç‚¹tï¼‰ä½¿å…¶æ»¡è¶³LLå‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315171826930.png" alt="æ‰¾åˆ°rçš„åé©±æ»¡è¶³å½“å‰å½¢åŠ¿çš„LL"></p></li><li><p><strong>åè¿‡æ¥ç»§ç»­çœ‹<code>l</code></strong>ï¼Œæ­¤æ—¶ï¼Œ<strong>å…·ä½“çš„è¯´åº”è¯¥æ˜¯æ£€æµ‹lçš„å‰é©±ç‚¹<code>l&#39;</code></strong>ï¼Œç»æ£€æµ‹ï¼Œ<code>l&#39;</code>å·²ç»ä¸å†æ»¡è¶³RRå‹äº†ï¼Œç¼–ç¨‹äº†LRå‹ï¼Œæ‰€ä»¥è¿˜è¦ç»§ç»­å¯»æ‰¾å®ƒçš„å‰é©±ç‚¹ï¼Œä½¿å…¶å†æ¬¡æ»¡è¶³RRå‹ã€‚</p><p>æŸä¸€æ—¶åˆ»ï¼Œæ‰¾åˆ°å®ƒçš„å‰é©±ï¼ˆå°±æ˜¯è¯¥å‡¸åŒ…çš„ç‚¹tï¼‰ï¼Œä½¿å…¶æˆä¸ºRRå‹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315171826931.png" alt="image-20200315171826931"></p><ul><li><strong>åè¿‡æ¥ç»§ç»­çœ‹<code>r</code></strong>ï¼Œæ­¤æ—¶ï¼Œæ›´å‡†ç¡®çš„åº”è¯¥è¯´æ˜¯åœ¨çœ‹<code>r&#39;</code>ï¼Œç»æ£€æµ‹ï¼Œè¯¥åº—ç¬¦åˆLLå‹ã€‚è‡³æ­¤ï¼Œæ‰€è°“çš„<code>r</code>å’Œ<code>l</code>éƒ½å·²ç»ç¬¦åˆRRæˆ–LLå‹äº†ã€‚ä»è€Œå·²ç»æ‰¾åˆ°<strong>upper support line</strong>äº†ã€‚ç»“æŸä¸ŠåŠéƒ¨åˆ†ã€‚</li></ul></li></ul><blockquote><p>å›é¡¾ç”±r-lçº¿é€æ­¥æ¨è¿›å¾—åˆ°support lineçš„è¿‡ç¨‹ï¼Œæ¯æ¬¡æ“ä½œä¸€ä¸ªç«¯ç‚¹ï¼Œå¾—åˆ°æ˜¯ä¸€ç§â€œZâ€å­—å½¢ï¼ˆzig-zagï¼‰çš„æ¨è¿›è½¨è¿¹ã€‚æ“ä½œç‚¹çš„åˆ‡æ¢ç”±å¦ä¸€ç‚¹æ»¡è¶³è¦æ±‚å†³å®šï¼Œè€Œç®—æ³•åœæ­¢çš„ä¾æ®æ˜¯ä¸¤ä¸ªç«¯ç‚¹åŒæ—¶æ»¡è¶³äº†è¦æ±‚ã€‚è¿™ç§æ–¹å¼ç±»ä¼¼å¿«é€Ÿæ’åºæ„é€ è½´ç‚¹çš„è¿‡ç¨‹ï¼Œå·¦å³ä¸¤è½´ç‚¹äº¤æ›¿æ“ä½œï¼Œç›´åˆ°äºŒè€…éƒ½æ»¡è¶³è¦æ±‚æ—¶ç®—æ³•åœæ­¢ã€‚</p></blockquote><h4 id="ç¼åˆä¸‹åŠéƒ¨åˆ†"><a href="#ç¼åˆä¸‹åŠéƒ¨åˆ†" class="headerlink" title="ç¼åˆä¸‹åŠéƒ¨åˆ†"></a>ç¼åˆä¸‹åŠéƒ¨åˆ†</h4><p>ç¼åˆä¸‹åŠéƒ¨åˆ†çš„æµç¨‹ä¸ï¼Œä¸ŠåŠéƒ¨åˆ†æµç¨‹ä¸€æ ·ã€‚</p><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>åˆ†æä¸€ä¸‹ç®—æ³•æ—¶é—´å¤æ‚åº¦ã€‚<strong>ç®—æ³•é¦–å…ˆè¦æŒ‰ç…§xåæ ‡æ’åºï¼Œæ’åºå¤æ‚åº¦ä¸ºO(nlogn)ã€‚</strong>å†çœ‹mergeè¿‡ç¨‹ï¼Œæ— è®ºæ˜¯å·¦ä¾§å­å‡¸åŒ…è¿˜æ˜¯å³ä¾§å­å‡¸åŒ…ï¼Œå¯¹äºå…¶æ¯ä¸ªç‚¹çš„æ“ä½œè‡³å¤šåªæœ‰ä»¥æ­¤ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡å½’å¹¶æ˜¯çº¿æ€§æ—¶é—´ã€‚å½’å¹¶å…±lognæ¬¡ï¼Œç®—æ³•çš„<strong>æ€»ä½“å¤æ‚åº¦å°±æ˜¯O(nlogn)</strong>äº†ã€‚</p><h1 id="æ›´å¤šçš„è€ƒè™‘"><a href="#æ›´å¤šçš„è€ƒè™‘" class="headerlink" title="æ›´å¤šçš„è€ƒè™‘"></a>æ›´å¤šçš„è€ƒè™‘</h1><p>åœ¨è¿™äº›ç®—æ³•è®²è§£ä¸­ï¼Œ<strong>é€šå¸¸éƒ½æ˜¯ä¸è€ƒè™‘é€€åŒ–çš„æƒ…å†µ</strong>ï¼Œå¦‚ï¼Œä¸‰ç‚¹å…±çº¿â€¦â€¦</p><p>æœ€åæ€»ç»“ä¸€ä¸‹ç¬¬äºŒç§åˆ†æ²»æ³•çš„ç‰¹ç‚¹ã€‚æ­¤å‰<a href="http://blog.csdn.net/houszchina/article/details/79261505" target="_blank" rel="noopener">Jarvis Marchç®—æ³•</a>è™½ç„¶ä»¥å¹³æ–¹å¤æ‚åº¦ä¸ºä¸Šç•Œï¼Œä½†å…¶â€è¾“å‡ºæ•æ„Ÿæ€§â€œä½¿å¾—å®é™…å¤æ‚åº¦ä¸ºO(hn)ï¼Œæœ€å¥½æƒ…å†µä¸‹ä»…ç”šè‡³ä¸ºçº¿æ€§ã€‚ä¾‹å¦‚å¦‚ä¸‹æƒ…å†µï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Divide-And-Conquererer/image-20200315174908920.png" alt="image-20200315174908920"></p><p>Jarvis Marchç®—æ³•çš„å¤æ‚åº¦å˜ä¸ºäº†O(4n)ï¼Œè€Œæ­¤æ—¶åˆ†æ²»æ³•ä¾æ—§ä¼šç»å†æŒ‰éƒ¨å°±ç­çš„X-sortingï¼Œä¸€ä¸Šæ¥å°±æ³¨å®šäº†O(nlogn)çš„å¤æ‚åº¦ï¼Œç„¶åç»å†åŒæ ·O(nlogn)çš„mergeè¿‡ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ç§åˆ†æ²»æ³•åœ¨å„ç§æƒ…å†µä¸‹çš„è¡¨ç°éƒ½æ˜¯å¾ˆå‡åŒ€çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—å‡ ä½• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„é€ å‡¸åŒ…-Graham Scanæ³•</title>
      <link href="/archives/3478.html"/>
      <url>/archives/3478.html</url>
      
        <content type="html"><![CDATA[<h1 id="Graham-Scanç®—æ³•çš„æµç¨‹"><a href="#Graham-Scanç®—æ³•çš„æµç¨‹" class="headerlink" title="Graham Scanç®—æ³•çš„æµç¨‹"></a>Graham Scanç®—æ³•çš„æµç¨‹</h1><p>å‡è®¾å¾…å¤„ç†ç‚¹é›†Så…±æœ‰nä¸ªç‚¹ã€‚</p><h2 id="1ã€é¢„å¤„ç†"><a href="#1ã€é¢„å¤„ç†" class="headerlink" title="1ã€é¢„å¤„ç†"></a>1ã€é¢„å¤„ç†</h2><ol><li><p><strong>é¢„æ’åº(presorting</strong>ï¼‰</p><p>Graham Scané¦–å…ˆè¦åšçš„æ˜¯ä¸€ä¸ªé¢„å¤„ç†æ’åºæ“ä½œï¼ˆ<strong>presorting</strong>ï¼‰ã€‚å³æ‰¾åˆ°æŸä¸ªåŸºå‡†ç‚¹ï¼Œç„¶åå°†å…¶ä½™æ‰€æœ‰çš„ç‚¹æŒ‰ç…§ç›¸å¯¹äºåŸºå‡†ç‚¹çš„<strong>æåæ ‡</strong>æ’åºã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207204917568.jpg" alt="img"></p><blockquote><p>ç‚¹çš„æ’åºå¯ä»¥å¥—ç”¨ä»»æ„æ’åºç®—æ³•çš„æ¡†æ¶ï¼Œåªæ˜¯å°†æ’åºå¯¹è±¡ç”±æ•°å€¼å˜ä¸ºäº†å¹³é¢ä¸Šçš„ç‚¹ï¼Œè€Œæ¯”è¾ƒå™¨æ”¹ä¸º<strong>to left test</strong>å®ç°ã€‚</p></blockquote><p><strong>å¦‚ä½•æ‰¾å‡ºç¬¬ä¸€ä¸ªç‚¹ï¼šç‚¹1ï¼Ÿ</strong></p><blockquote><p>ä»¥ç‚¹1ä¸ºåŸºå‡†ç‚¹ï¼Œå…¶ä½™ç‚¹æŒ‰ç…§ç›¸å½“äºç‚¹1çš„æè§’ä¾æ¬¡æ’åºä¸º2ã€3ã€4â€¦â€¦ç†è®ºä¸Šè®²ä»»ä½•ä¸€ä¸ªç‚¹éƒ½èƒ½å½“ç¬¬ä¸€ä¸ªåŸºå‡†ç‚¹ï¼Œä¸ºäº†ç®€åŒ–ç®—æ³•é€šå¸¸é€‰æ‹©<strong>lowest-then-leftmost pointï¼ˆLTLï¼‰</strong>ä½œä¸ºåŸºå‡†ç‚¹ã€‚</p></blockquote></li><li><p><strong>æ‰¾å‡ºèµ·å§‹è¾¹</strong></p><p>å¯¹äºä¸åŸºå‡†ç‚¹1æè§’æœ€å°çš„ç‚¹ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­ç‚¹2ï¼ˆå‡è®¾æ²¡æœ‰ä¸‰ç‚¹å…±çº¿çš„æƒ…å†µï¼‰ã€‚å°†ç‚¹1å’Œç‚¹2ä½œä¸ºç®—æ³•çš„èµ·å§‹ç‚¹ã€‚</p></li><li><p><strong>å°†èµ·å§‹è¾¹ ä¸ å‰©ä¸‹çš„n-2æ¡è¾¹åˆ†åˆ«å­˜å‚¨åœ¨ä¸åŒçš„æ ˆ(stack)ä¸­ï¼š</strong></p><p>ç®—æ³•å¼€å§‹å‰å…ˆå°†èµ·å§‹ç‚¹1å’Œ2å…¥æ ˆSï¼Œå…¶ä»–çš„n-2ä¸ªç‚¹å…¥æ ˆTï¼Œå¦‚ä¸‹å›¾ã€‚æ³¨æ„Så’ŒTä¸­å…ƒç´ çš„å…¥æ ˆé¡ºåºã€‚è‡³æ­¤é¢„å¤„ç†å·²ç»å®Œæˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314181609764.png" alt="æ ˆï¼šTå’ŒS"></p><blockquote><p>Graham Scanç”¨åˆ°çš„æ•°æ®ç»“æ„ã€‚æ•´ä¸ªç®—æ³•éå¸¸ç®€æ˜ï¼Œæ ¸å¿ƒæ•°æ®ç»“æ„åªæœ‰ä¸¤ä¸ª<strong>æ ˆ</strong>ï¼Œåˆ†åˆ«è®°ä½œæ ˆ<strong>S</strong>å’Œæ ˆ<strong>T</strong>ã€‚ä¾¿äºç†è§£æˆ‘ä»¬å°†Så’ŒTç”»æˆå¼€å£ç›¸å¯¹çš„å½¢å¼ï¼Œå¦‚ä¸Šå›¾ã€‚</p></blockquote></li></ol><h2 id="2ã€scanæ“ä½œ-æ­¤å¤„ä¸ºé€†æ—¶é’ˆæ‰«æ"><a href="#2ã€scanæ“ä½œ-æ­¤å¤„ä¸ºé€†æ—¶é’ˆæ‰«æ" class="headerlink" title="2ã€scanæ“ä½œ(æ­¤å¤„ä¸ºé€†æ—¶é’ˆæ‰«æ)"></a>2ã€scanæ“ä½œ(æ­¤å¤„ä¸ºé€†æ—¶é’ˆæ‰«æ)</h2><p>å®Œæˆé¢„å¤„ç†ä¹‹åï¼Œå°±èƒ½å¼€å§‹ç®—æ³•çš„æ ¸å¿ƒï¼šscanæ“ä½œã€‚scançš„è¿‡ç¨‹ä¸»è¦å…³æ³¨ä¸‰ä¸ªç‚¹ï¼š<strong>æ ˆSçš„æ ˆé¡¶ï¼ˆS[0]ï¼‰ã€æ¬¡æ ˆé¡¶ï¼ˆS[1]ï¼‰å’Œæ ˆTçš„æ ˆé¡¶ï¼ˆT[0]ï¼‰</strong>ã€‚ä¹Ÿå°±ä¸‹å›¾çº¢è‰²æ ‡æ³¨çš„ä¸‰ä¸ªç‚¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207210925858.jpg" alt="img"></p><p>å¯¹è¿™ä¸‰ä¸ªå…³æ³¨çš„ç‚¹ï¼Œè¿›è¡Œæ£€æµ‹ï¼Œæ£€æµ‹çš„æ¡†æ¶ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314182719216.png" alt="image-20200314182719216"></p><ul><li>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œ<u>æ¯æ¬¡å¾…å¤„ç†çš„S[0]å’ŒS[1]æ„æˆçš„è¾¹ä¸€å®šæ˜¯ä¸€æ¡æè¾¹ï¼ˆå¦‚ä¸Šå›¾ç‚¹1å’Œç‚¹2ï¼‰</u>ï¼Œç®—æ³•<strong>å…³é”®æ­¥éª¤</strong><u>å°±æ˜¯å¯¹è¾¹è¿™æ¡æè¾¹å’ŒT[0]åšto left testï¼Œåˆ¤æ–­T[0]ä½äºè¾¹S[0]S[1]çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚è‹¥åœ¨å·¦è¾¹åˆ™ç»§ç»­æ‹“å±•ï¼Œè‹¥åœ¨å³è¾¹åˆ™å¦å®šæ‰æ­¤å‰è®¤å®šçš„æè¾¹ã€‚</u>æ— è®ºç»“æœå¦‚ä½•ï¼Œæ¯æ¬¡åˆ¤å®šéƒ½ä¼šå°†é—®é¢˜è§„æ¨¡ç¼©å°ä¸€ä¸ªå•å…ƒï¼Œç®—æ³•ç»“æŸæ—¶Tæœ€ç»ˆè‚¯å®šä¸ºç©ºã€‚Tç©ºåï¼ŒSä¸­å­˜ç•™ä¸‹çš„ç‚¹æ­£æ˜¯å‡¸åŒ…çš„æç‚¹ï¼Œè¿™äº›ç‚¹è‡ªåº•è€Œä¸Šæ­£æ˜¯å‡¸åŒ…è¾¹ç•Œç‚¹çš„é€†æ—¶é’ˆéå†ï¼Œä¹Ÿå¾—åˆ°äº†æ•´ä¸ªå‡¸åŒ…æ„é€ é—®é¢˜çš„è§£ã€‚</li></ul><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><p><strong>1ã€</strong>å…ˆæ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œå³ç‚¹é›†Sä¸­æ‰€æœ‰çš„ç‚¹éƒ½åœ¨å‡¸åŒ…è¾¹ç•Œä¸Šã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314183056395.png" alt="image-20200314183056395"></p><ul><li><p>å…ˆæ‰¾åˆ°LTLï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­ç‚¹1ã€‚ç„¶ååŸºäºç‚¹1å¯¹å…¶ä½™ç‚¹æŒ‰æè§’æ’åºä¸ºç‚¹2ã€3ã€4â€¦â€¦<em>ï¼ˆå®é™…ä¸Šä»¥ä¸€ä¸ªç‚¹ä¸ºä¸­å¿ƒçš„æœ‰åºçš„ç‚¹é›†ï¼Œæ„æˆäº†æ‰€è°“çš„æ˜Ÿå½¢å¤šè¾¹å½¢ï¼ˆstar-shaped polygonï¼‰ï¼Œä¸­å¿ƒç‚¹æ­£æ˜¯æ˜Ÿå½¢å¤šè¾¹å½¢æ ¸ï¼ˆkernelï¼‰çš„ä¸€éƒ¨åˆ†ã€‚å‡¸å¤šè¾¹å½¢å¿…ç„¶æ˜¯æ˜Ÿå½¢å¤šè¾¹å½¢ï¼Œåä¹‹åˆ™ä¸ç„¶ã€‚ï¼‰</em>ç„¶åæ‰¾åˆ°ç‚¹1çš„åç»§2ï¼Œç‚¹1å’Œç‚¹2æ„æˆç¬¬ä¸€æ¡æè¾¹ã€‚åˆå§‹åŒ–æ ˆSå’Œæ ˆTã€‚</p></li><li><p>ç°åœ¨è¦å…³å¿ƒS[1], S[0]å’ŒT[0]ï¼Œå°±æ˜¯ç‚¹1ï¼Œ2å’Œ3ã€‚ç‚¹3ä½äºè¾¹12å·¦ä¾§ï¼Œto leftå…³ç³»ä¸ºtrueï¼ŒS.push ( T.pop() )ï¼Œå‘å‰æ‹“å±•äº†ä¸€æ¡æš‚å®šæè¾¹ã€‚</p></li><li><p>æ¥ä¸‹æ¥é‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚è€ƒè™‘ç‚¹2ï¼Œ3å’Œ4ã€‚to leftå…³ç³»ä¸ºtrueï¼ŒS.push( T.pop() )â€¦â€¦æœ€ç»ˆæ ˆTç©ºï¼Œç®—æ³•ç»“æŸï¼Œå‡¸åŒ…ç”±æ ˆSè‡ªåº•å‘ä¸Šå¾—åˆ°ã€‚Så’ŒTçš„å˜åŒ–è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314211052355.png" alt="image-20200314211052355"></p><hr><p><strong>2ã€</strong>ä¸Šé¢åˆ—ä¸¾äº†æœ€ç®€å•çš„æƒ…å†µä¸‹Graham Scançš„è¿‡ç¨‹ï¼Œæ¥ä¸‹æ¥åˆ—ä¸¾ä¸€ä¸ªæ›´æœ‰ä»£è¡¨æ€§çš„å®ä¾‹æ·±å…¥ç®—æ³•çš„ç»†èŠ‚ã€‚è¾“å…¥çš„ç‚¹é›†Sï¼Œå¹¶è¿›è¡Œé¢„å¤„ç†æ’åºï¼Œå¹¶åˆå§‹åŒ–æ ˆSã€Tï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207215925185.jpg" alt="20180207215925185"></p><ul><li><p>æ¥ä¸‹æ¥å¯¹ç‚¹1ï¼Œ2å’Œ3è¿›è¡Œto leftæµ‹è¯•ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åˆ¤æ–­è¾¹2â†’3ï¼ˆå›¾ä¸­é»„è‰²è¾¹ï¼‰èƒ½å¦è¢«æš‚æ—¶é‡‡çº³ã€‚æµ‹è¯•ç»“æœä¸ºtrueï¼Œæš‚æ—¶é‡‡çº³è¾¹2â†’3ï¼Œ<strong>S.push( T.pop() )</strong>ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314211330428.png" alt="image-20200314211330428"></p><blockquote><p>æ³¨æ„å›¾ä¸­è“è‰²è¾¹è¡¨ç¤ºå·²ç»è¢«æš‚æ—¶æ¥çº³çš„è¾¹ï¼Œä¹Ÿå°±æ˜¯ç®—æ³•æš‚æ—¶è®¤å®šçš„æè¾¹ã€‚ä¸Šä¸€æ¬¡æ“ä½œå°†è“è‰²è¾¹æ¨è¿›ä¸€ä¸ªå•å…ƒ</p></blockquote></li><li><p>æ¥ä¸‹æ¥å…³æ³¨ç‚¹2ï¼Œ3å’Œ4ï¼Œæ¥åˆ¤æ–­ä¸‹ä¸€æ¡é»„è‰²è¾¹3â†’4èƒ½å¦è¢«æ¥çº³ã€‚to leftæµ‹è¯•ä¸ºtrueï¼Œ<strong>S.push( T.pop() )</strong>ï¼Œæ¥çº³è¾¹3â†’4ã€‚å¦‚ä¸‹å›¾å³ä¾§æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314211603647.png" alt="image-20200314211603647"></p></li><li><p>ç„¶ååˆ¤æ–­ç‚¹3ï¼Œ4å’Œ5ã€‚ç‚¹5åœ¨è¾¹3â†’4çš„å³ä¾§ï¼Œå³to leftæµ‹è¯•ä¸ºfalseã€‚<strong>S.pop()</strong>ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­å‡ºç‚¹4ä¸å¯èƒ½ä¸ºæç‚¹ï¼Œä¸¢å¼ƒ4ã€‚å› æ­¤ç®—æ³•å›æº¯åˆ°ç‚¹3ï¼Œåˆ¤æ–­ç‚¹2ï¼Œ3å’Œ5çš„å…³ç³»ã€‚5åœ¨2â†’3çš„å·¦ä¾§ï¼Œæš‚æ—¶æ¥çº³è¾¹3â†’5ï¼Œ<strong>S.push( T.pop() )ã€‚</strong>å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314211705197.png" alt="image-20200314211705197"></p><blockquote><p>ç®—æ³•ç»å†äº†æ— æ•ˆæ“ä½œï¼Œè¿›è¡Œäº†å›æº¯ï¼Œå¾—åˆ°äº†ç›®å‰æ¥è¯´æœ€ä¼˜çš„â€œæè¾¹â€ã€‚è™½ç„¶è¿™äº›â€æè¾¹â€œä¸ä¸€å®šèƒ½æœ€ç»ˆä¿ç•™ï¼Œä½†é—®é¢˜çš„è§„æ¨¡å¾—åˆ°äº†å‰Šå‡ã€‚</p></blockquote></li><li><p>ä¸‹ä¸€æ¬¡scanè€ƒå¯Ÿçš„å°±æ˜¯3ï¼Œ5å’Œ6äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314211916570.png" alt="image-20200314211916570"></p><blockquote><p>3ï¼Œ5å’Œ6çš„to leftæµ‹è¯•ä¸ºfalseï¼Œ<strong>S.pop()</strong>ï¼Œèˆå¼ƒç‚¹5ã€‚</p></blockquote></li><li><p>ç„¶åè€ƒå¯Ÿç‚¹2ï¼Œ3å’Œ6ï¼Œto leftæµ‹è¯•ä¸ºfalseï¼Œ<strong>S.pop()</strong>èˆå¼ƒç‚¹3ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207223417072.jpg" alt="img"></p></li><li><p>â€¦â€¦..</p></li><li><p>â€¦â€¦â€¦</p></li><li><p>ç›´éå†å®Œå‰©ä¸‹å…¶ä»–ç‚¹ï¼Œå‡¸åŒ…å°±æ„é€ å®Œæˆã€‚</p></li></ul><h1 id="éªŒè¯ç®—æ³•çš„æ­£ç¡®æ€§"><a href="#éªŒè¯ç®—æ³•çš„æ­£ç¡®æ€§" class="headerlink" title="éªŒè¯ç®—æ³•çš„æ­£ç¡®æ€§"></a>éªŒè¯ç®—æ³•çš„æ­£ç¡®æ€§</h1><h2 id="æ€è·¯ä¸Šçš„æ­£ç¡®æ€§"><a href="#æ€è·¯ä¸Šçš„æ­£ç¡®æ€§" class="headerlink" title="æ€è·¯ä¸Šçš„æ­£ç¡®æ€§"></a>æ€è·¯ä¸Šçš„æ­£ç¡®æ€§</h2><p>äº†è§£äº†ç®—æ³•çš„æ•´ä½“æµç¨‹ä¹‹åï¼Œæˆ‘ä»¬å†æ¥è®ºè¯ä¸€ä¸‹ç®—æ³•çš„æ­£ç¡®æ€§ã€‚è¯æ˜ä¸€ä¸ªç®—æ³•æ­£ç¡®æ€§çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œåœ¨æ­¤é€‰ç”¨æ•°å­¦å½’çº³æ³•ã€‚æ•°å­¦å½’çº³æ³•çš„æ€æƒ³å¯ç”¨å¤šç±³è¯ºéª¨ç‰Œç±»æ¯”ï¼Œè¦åšçš„æ— éæ˜¯ä¸¤ä»¶äº‹ï¼šè¯æ˜ç¬¬1å¼ éª¨ç‰Œä¼šå€’ï¼›è¯æ˜å¦‚æœç¬¬nå¼ éª¨ç‰Œä¼šå€’åˆ™ç¬¬n+1å¼ éª¨ç‰Œä¹Ÿä¼šå€’ä¸‹ã€‚</p><p>Graham Scanè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªä¸ªå¼•å…¥ç‚¹çš„è¿‡ç¨‹ã€‚æ¯å½“æˆ‘ä»¬å¾—åˆ°ç¬¬kä¸ªç‚¹çš„æ—¶å€™ï¼Œç®—æ³•æ‰€å¾—åˆ°çš„å°±æ˜¯å‰kä¸ªç‚¹å¯¹åº”çš„â€œæœ€å¥½çš„å‡¸åŒ…â€ã€‚å› æ­¤å½“k = næ—¶å¾—åˆ°çš„æ˜¯æ•´ä½“çš„å‡¸åŒ…ã€‚</p><ol><li><p>å½’çº³çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¯æ˜k = 3æ—¶å¾—åˆ°çš„æ˜¯å½“å‰ç‚¹é›†Sâ€˜ = {1ï¼Œ2ï¼Œ3}ä¸­çš„æè¾¹â€”â€”ä¹Ÿå°±æ˜¯è¯æ˜ç¬¬1å¼ éª¨ç‰Œä¼šå€’ã€‚</p><blockquote><p>æ˜¾ç„¶è¾¹1â†’2æ˜¯Sâ€™çš„ä¸€æ¡æè¾¹ã€‚è€Œæ ¹æ®é¢„å¤„ç†çš„æ–¹å¼ï¼Œ3ç›¸è¾ƒäº1çš„æè§’ä¸€å®šå¤§äº2ï¼Œå› æ­¤ç‚¹3ä¸€å®šåœ¨è¾¹1â†’2çš„å·¦ä¾§ï¼Œå› æ­¤è¾¹2â†’3ä¼šå¾—åˆ°ä¿ç•™ã€‚å¯¹äºè¿™ä¸‰ä¸ªç‚¹æ¥è¯´ï¼Œä»»æ„ä¸¤æ¡è¾¹ä¸€å®šéƒ½æ˜¯æè¾¹ï¼Œ2â†’3ä¹Ÿæ˜¯ä¸€æ¡æè¾¹ã€‚</p></blockquote></li><li><p>ç„¶åè¯æ˜ï¼šå‡è®¾å·²ç»å¤„ç†åˆ°ç¬¬kä¸ªç‚¹ï¼Œå¾—åˆ°çš„æ˜¯å‰ç‚¹é›†Sâ€™ = {1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼Œk}ä¸­æ‰€è°“â€œæœ€å¥½çš„å‡¸åŒ…â€ã€‚æ ¹æ®ç®—æ³•å¤„ç†æ–¹å¼ï¼Œæ¥ä¸‹æ¥ä»Sâ€™â€™ = {1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼Œkï¼Œk+1}å¾—åˆ°çš„ç»“æœæ˜¯å¦ä¹Ÿæ˜¯æ­£ç¡®çš„â€”â€”ä¹Ÿå°±æ˜¯è¯æ˜ç¬¬nå¼ éª¨ç‰Œä¼šå€’ï¼Œåˆ™ç¬¬n+1å¼ éª¨ç‰Œä¹Ÿä¼šå€’ä¸‹ã€‚</p><blockquote><p>é¢„å¤„ç†çš„æ–¹å¼æ˜¯å¯¹2~næ‰€æœ‰ç‚¹ç›¸è¾ƒäºç‚¹1æŒ‰æè§’æ’åºï¼Œå› æ­¤ä¸‹ä¸€ä¸ªè¦å¤„ç†ç‚¹k+1ä¸€å®šå‡ºç°åœ¨çº¿1â†’kçš„å·¦ä¾§ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾è“è‰²åŒºåŸŸå’Œç»¿è‰²åŒºåŸŸï¼ˆå‡è®¾k = 9ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207231513568.jpg" alt="img"></p><p>è€Œæ ¹æ®ç›®å‰æ¥çº³çš„æœ€åä¸€æ¡æè¾¹( k-1)â†’k ï¼ˆä¾‹å¦‚å›¾ä¸­8â†’9ï¼‰æ¥åˆ’åˆ†ï¼Œç‚¹k+1å¯èƒ½å‡ºç°çš„åŒºåŸŸåˆåˆ†ä¸ºä¸¤å—ï¼Œå³è¯¥æè¾¹çš„å·¦ä¾§ï¼ˆç»¿è‰²åŒºåŸŸï¼‰å’Œå³ä¾§ï¼ˆè“è‰²åŒºåŸŸï¼‰ã€‚è¿™ä¹Ÿæ­£å¯¹åº”äºç®—æ³•åˆ¤å®šçš„ä¸¤ä¸ªåˆ†æ”¯ã€‚</p><ul><li><p>å·¦ä¾§ï¼šå·¦ä¾§çš„æƒ…å†µå¾ˆç®€å•ï¼Œç‚¹k+1æ˜¾ç„¶ä¼šæ˜¯ä¸€ä¸ªæ–°çš„æç‚¹ã€‚Graham Scanè¦åšçš„æ­£æ˜¯æš‚æ—¶æ¥çº³è¾¹kâ†’k+1ï¼Œæ‹“å±•äº†ä¸€ä¸ªæ–°çš„å•ä½ã€‚</p></li><li><p>å³ä¾§ï¼šå†çœ‹k+1è½åœ¨å³ä¾§çš„æƒ…å†µã€‚å¦‚ä¸‹å›¾ç‚¹10ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207232235024.jpg" alt="img"></p><p>Graham Scanè¦åšçš„æ˜¯ä¸¢å¼ƒç‚¹kï¼ˆå›¾ä¸­ç‚¹9ï¼‰ï¼Œä¹Ÿå°±æ˜¯åˆ¤å®šå‡ºç‚¹kä¸å¯èƒ½æ˜¯æç‚¹ã€‚è¿™æ ·åšçš„åŸå› ï¼šæ˜¯å¼•å…¥ç‚¹k+1åï¼Œç‚¹kä¸€å®šä¼šè¢«åŒ…å«åœ¨ä¸‰è§’å½¢(1, k-1, k+1)å†…éƒ¨ã€‚å¦‚å›¾ä¸­ç‚¹9ä¸€å®šåŒ…å«äºä¸‰è§’å½¢(1, 8, 10)å†…éƒ¨ã€‚æ­£å¦‚æç‚¹æ³•ä¸­æ’é™¤éæç‚¹çš„åšæ³•ï¼Œç‚¹kè¢«æ’é™¤æ˜¯æ­£ç¡®çš„åšæ³•ã€‚æ¥ä¸‹æ¥ç‚¹k-1ï¼Œk-2ç­‰ï¼ˆå¦‚å›¾ä¸­ç‚¹8ï¼Œç‚¹7ç­‰ï¼‰ä¹Ÿå¯èƒ½æ˜¯éæç‚¹ï¼ŒæŒ‰ç…§ç®—æ³•çš„æµç¨‹ï¼Œå®ƒä»¬æ€»ä¼šè¢«åˆ¤å®šåœ¨æŸä¸ªä¸‰è§’å½¢çš„å†…éƒ¨ï¼ˆä¾‹å¦‚ç‚¹7åœ¨ä¸‰è§’å½¢(1, 5, 10)å†…éƒ¨ï¼‰è€Œè¢«æ’é™¤ï¼Œç›´åˆ°left testä¸ºtrueï¼Œå›æº¯åœæ­¢ã€‚</p><p>æ¢ä¸ªè§’åº¦è€ƒè™‘ï¼Œå›æº¯åœæ­¢æ—¶å¾—åˆ°çš„æ–°è¾¹æ­£æ˜¯å¢é‡æ„é€ æ³•ä¸­æ¯æ­¥å¾—åˆ°çš„support lineï¼Œå³åˆ‡çº¿ã€‚ä¾‹å¦‚å›¾ä¸­çº¿5â†’10æ­£æ˜¯ç®—æ³•å½“å‰ä¿ç•™çš„â€å‡¸åŒ…â€œçš„åˆ‡çº¿ã€‚è¿™ä¹Ÿèƒ½è®ºè¯Graham Scanå¤„ç†æ–¹å¼çš„æ­£ç¡®æ€§ã€‚</p></li></ul></blockquote></li></ol><p>è‡³æ­¤ï¼Œç®—æ³•æ€è·¯ä¸Šçš„æ­£ç¡®æ€§å·²ç»è¯æ˜å®Œæ¯•ã€‚</p><h2 id="è¡¨è¿°æ–¹å¼çš„æ­£ç¡®æ€§"><a href="#è¡¨è¿°æ–¹å¼çš„æ­£ç¡®æ€§" class="headerlink" title="è¡¨è¿°æ–¹å¼çš„æ­£ç¡®æ€§"></a>è¡¨è¿°æ–¹å¼çš„æ­£ç¡®æ€§</h2><p>æ¥ä¸‹æ¥è¿˜è¦è€ƒè™‘ç®—æ³•çš„è¡¨è¿°æ–¹å¼æ˜¯å¦æœ‰æ¼æ´ï¼šä»£ç ä¸­æ¯æ¬¡to left testä¹‹å‰å¹¶æ²¡æœ‰åˆ¤æ–­Sæ ˆä¸­æ˜¯å¦æœ‰â‰¥2ä¸ªå…ƒç´ ã€‚è¿™ä¹Ÿå¯ä»¥ç”±é¢„å¤„ç†çš„æ–¹å¼æ¥è®ºè¯ã€‚ç‚¹1é€‰å–çš„æ˜¯LTLï¼Œè€Œç‚¹2æ˜¯ç›¸å¯¹äºç‚¹1æè§’æœ€å°çš„ç‚¹ï¼Œè¿™æ ·çš„åšæ³•ä¿è¯äº†é™¤äº†ç‚¹1å’Œç‚¹2ä¹‹å¤–æ‰€æœ‰çš„ç‚¹ä¸€å®šæ˜¯åœ¨è¾¹1â†’2å·¦ä¾§çš„ã€‚å› æ­¤ç®—æ³•å›æº¯æœ€å¤šåˆ°ç‚¹2ï¼Œæ°¸è¿œä¸å¯èƒ½æŠŠç‚¹2ä¸¢å¼ƒï¼ŒSä¸­å…ƒç´ ä»»ä½•æ—¶å€™è‡³å°‘æœ‰ä¸¤ä¸ªã€‚</p><hr><p>Graham Scanç®—æ³•çš„æ­£ç¡®æ€§è®ºè¯å®Œæ¯•ã€‚</p><h1 id="é¢„å¤„ç†æ“ä½œçš„å¿…è¦æ€§"><a href="#é¢„å¤„ç†æ“ä½œçš„å¿…è¦æ€§" class="headerlink" title="é¢„å¤„ç†æ“ä½œçš„å¿…è¦æ€§"></a>é¢„å¤„ç†æ“ä½œçš„å¿…è¦æ€§</h1><p>æœ€åæ¥æ€è€ƒä¸€ä¸‹é¢„å¤„ç†æ“ä½œï¼špresortingã€‚ä»”ç»†å›é¡¾ä¸Šè¿°è®ºè¯è¿‡ç¨‹ä¼šå‘ç°ï¼Œæ¯ä¸€æ­¥çš„æ­£ç¡®æ€§éƒ½æ˜¯å»ºç«‹åœ¨æœ€åˆçš„æ’åºä¸Šçš„ã€‚é‚£ä¹ˆè¿™ä¸ªé¢„å¤„ç†æ’åºçœŸçš„æ˜¯å¿…è¦çš„å—ï¼Ÿå¯ä»¥æ¥ä¸¾æç«¯çš„åä¾‹ï¼Œæ¯æ¬¡é€‰å–ä¸‹ä¸€ä¸ªç‚¹éƒ½æ˜¯éšæœºçš„ï¼Œä¾‹å¦‚ä¸‹å›¾çš„è·¯å¾„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180207235736089.jpg" alt="img"></p><p>ä¸Šå›¾ä¸­ä»ç‚¹1å¼€å§‹å‡ºå‘è¿›è¡Œto leftæµ‹è¯•ï¼Œå¯ä»¥å‘ç°ï¼Œæ¯æ¬¡åˆ¤å®šç»“æœéƒ½ä¸ºtrueï¼Œæœ€ç»ˆæ‰€æœ‰çš„ç‚¹éƒ½è¢«ä¿ç•™äº†ä¸‹äº†ï¼Œè€Œæ˜¾ç„¶è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå‡¸åŒ…ã€‚å› æ­¤presortingæ˜¯æ•´ä¸ªç®—æ³•æˆç«‹çš„åŸºç¡€ã€‚</p><h1 id="åˆ†æå¤æ‚åº¦"><a href="#åˆ†æå¤æ‚åº¦" class="headerlink" title="åˆ†æå¤æ‚åº¦"></a>åˆ†æå¤æ‚åº¦</h1><p>ä¸Šé¢è¯æ˜äº†Graham Scanç®—æ³•çš„æ­£ç¡®æ€§ï¼Œæ¥ä¸‹æ¥åˆ†æå…¶å¤æ‚åº¦æ˜¯å¦æ»¡è¶³O(nlogn)ï¼Œå®ç°æ‰€è°“çš„æœ€ä¼˜ç®—æ³•ã€‚</p><p>ç›´è§‚ä¸Šæ— æ³•æ–­å®šGraham Scanæ˜¯ä¸€ä¸ªæœ€ä¼˜çš„ç®—æ³•ï¼Œå°¤å…¶æ˜¯ä»¥ä¸‹æç«¯æƒ…å†µä»¤äººè´¨ç–‘å…¶æ•ˆç‡ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/image-20200314220437069.png" alt="image-20200314220437069"></p><p>Graham Scanç®—æ³•å¤æ‚åº¦ç”±ä¸‰éƒ¨åˆ†å†³å®šï¼š</p><ul><li>persortingï¼Œé‡‡ç”¨ä¸€èˆ¬æ’åºç®—æ³•ï¼Œå¤æ‚åº¦æ˜¯O(nlogn)</li><li>é€æ­¥è¿­ä»£ï¼ŒO(n)ï¼šç®—æ³•ä¸€æ­¥æ­¥çº³å…¥æ–°ç‚¹ï¼Œä¼šè¿­ä»£næ­¥ã€‚</li><li>scanï¼ŒO(?)</li></ul><p><strong>æ‰€ä»¥ç®—æ³•çš„æ€»ä½“å¤æ‚åº¦ï¼šO(nlogn + n * ?) ï¼Œå¯è§scançš„å¤æ‚åº¦å†³å®šäº†ç®—æ³•æ€»ä½“çš„å¤æ‚åº¦ã€‚</strong></p><ul><li>ç®—æ³•ä¸€æ­¥æ­¥çº³å…¥æ–°ç‚¹ï¼Œä¼šè¿­ä»£næ­¥ã€‚ä½†æ˜¯åœ¨æ¯ä¸ªç‚¹ä¸Šéƒ½æœ‰å¯èƒ½åšå›æº¯æ“ä½œï¼Œæ‰€ä»¥scançš„å¤æ‚åº¦æ˜¯ä¸ç¡®å®šçš„ã€‚æˆ‘ä»¬æ¥ä»¥ä¸Šå›¾æœ€åæƒ…å†µä¸ºä¾‹ï¼Œåˆ°ç¬¬8ä¸ªç‚¹æ—¶åˆ¤å®šä¸ºfalseï¼Œèˆå¼ƒç‚¹7ï¼Œå›æº¯ã€‚ä¸‹ä¸€æ­¥åˆ¤æ–­ä¹Ÿä¸ºfalseï¼Œèˆå¼ƒç‚¹6ï¼Œå›æº¯ã€‚å¦‚æ­¤å›æº¯ç›´åˆ°ç®—æ³•å¼€å§‹çš„ç‚¹2ã€‚è¿™æ¬¡scanå€’é€€äº†é«˜è¾¾O(n)ä¸ªç‚¹ï¼Œå¦‚æœæ¯æ¬¡scanéƒ½æ˜¯å¦‚æ­¤é‚£ä¹ˆç®—æ³•æ•´ä½“å¤æ‚åº¦å°±ä¸ºï¼šO(nlogn + n * n) = O(n^2)äº†ï¼Œé‚£è¿™ç§ç®—æ³•çš„æ„ä¹‰ä¹Ÿå°±ä¸å¤§äº†ã€‚</li></ul><p>å…¶å®ä¸Šè¿°åˆ†æå¹¶éé”™è¯¯ï¼Œåªæ˜¯ä¸å¤Ÿç²¾ç¡®ã€‚<u>O(n^2)ç¡®å®æ˜¯Graham Scanç®—æ³•çš„ä¸€ä¸ª<strong>ä¸Šç•Œ</strong></u>ï¼Œä½†æ˜¯è¿™ä¸ªä¸Šç•Œå¹¶ä¸æ˜¯ç´§çš„ã€‚</p><p><u>é—®é¢˜å°±å‡ºåœ¨åˆ†æå‡å®šäº†æ¯æ¬¡éƒ½ä¼šå‡ºç°å›é€€é«˜è¾¾O(n)ä¸ªç‚¹ã€‚</u></p><ul><li><p>ä¸‹å›¾å±•ç¤ºäº†æ•´ä¸ªGraham Scançš„æµç¨‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180208002202338.jpg" alt="img"></p><p>å›¾ä¸­é»„è‰²è¾¹æ˜¯æ²¡æœ‰é‡‡çº³çš„ï¼Œå°±æ˜¯to leftæµ‹è¯•åˆ¤å®šä¸ºfalseåç›´æ¥èˆå»çš„ã€‚ç´«è‰²è¾¹åˆ™æ˜¯æ›¾ç»è¢«è®¤ä¸ºæ˜¯æè¾¹è€Œæ¥çº³çš„ï¼Œåæ¥ç»è¿‡å›æº¯åˆèˆå»äº†ã€‚æ— è®ºæ˜¯é»„è¾¹è¿˜æ˜¯ç´«è¾¹ï¼Œåœ¨å…¶ä¸Šè€—è´¹çš„éƒ½æ˜¯å¸¸æ•°æ—¶é—´ï¼Œå…³é”®å°±åœ¨äºé»„è‰²è¾¹å’Œç´«è‰²è¾¹çš„æ•°ç›®äº†ã€‚</p><blockquote><p>é€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œä»å›¾è®ºçš„è§’åº¦çœ‹ï¼Œæ‰€æœ‰çš„é»„è‰²è¾¹å’Œç´«è‰²è¾¹è¿åœ¨ä¸€èµ·æ„æˆäº†ä¸€å¼ <strong>å¹³é¢å›¾</strong>ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬äº’ç›¸æ˜¯ä¸å¯èƒ½å†…éƒ¨ç›¸äº¤çš„ã€‚å¹³é¢å›¾çš„ä¸€ä¸ªé‡è¦æ€§è´¨ï¼š<strong>å¹³é¢å›¾ä¸­æ‰€æœ‰è¾¹çš„æ•°ç›®å’Œé¡¶ç‚¹æ•°ç›®ä¿æŒåŒé˜¶</strong></p><p>è¿™ä¸ªæ€§è´¨æ¥è‡ª<strong>æ¬§æ‹‰å…¬å¼</strong>ï¼šæœ‰nä¸ªç‚¹çš„å¹³é¢å›¾ï¼Œ<u>è¾¹</u>çš„æ•°ç›®ä¸Šé™æ˜¯3nï¼Œä¹Ÿå°±æ˜¯<strong>O(3n)</strong>ã€‚</p><ul><li>å›æº¯ï¼ˆbacktrackï¼‰å¯èƒ½ä¼šå€’é€€çš„è¾¹æ•°ï¼šåœ¨0~nä¹‹é—´ã€‚ã€ä½†æ˜¯æ³¨æ„ï¼Œä¸æ˜¯æ¯æ¬¡å›æº¯éƒ½èƒ½å›é€€åˆ°nï¼Œå› ä¸ºç”±ä¸Šé¢å¯çŸ¥ï¼Œç‚¹é›†è¾¹æ•°æœ€å¤šä¸º3nï¼Œè€Œè¿™é‡Œé¢çš„æ¯ä¸€ä¸ªè¾¹ï¼Œä¼šè¢«å›é€€0æ¬¡ï¼ˆæè¾¹ï¼‰ï¼Œæˆ–è€…1æ¬¡ï¼ˆéæè¾¹ï¼‰ã€‚æ‰€ä»¥ï¼ŒæŸæ¡è¾¹ä¸€æ—¦è¢«å›é€€è¿‡ï¼Œä¹‹åå°±ä¸å¯èƒ½å†è¢«å›é€€äº†ã€‘</li></ul><p>æ ¹æ®è¿™ä¸ªæ€§è´¨ï¼Œåœ¨persortingä¹‹åçš„æ•´ä¸ªæµç¨‹ä¸­ï¼ŒGraham Scanæ‰€èƒ½èµ°è¿‡çš„æ‰€æœ‰è¾¹ä¸ä»…ä¸ä¼šåˆ°è¾¾n^2ï¼Œè€Œé¡¶å¤šåˆ°è¾¾å’ŒnåŒé˜¶çš„ä¸€ä¸ª<strong>çº¿æ€§æ•°ç›®</strong>ã€‚å› æ­¤æ•´ä¸ªç®—æ³•çš„å¤æ‚åº¦ä¹Ÿå°±å–å†³äºpersortingçš„O(nlogn)äº†ã€‚</p></blockquote></li></ul><h1 id="ç®—æ³•æ¨å¹¿"><a href="#ç®—æ³•æ¨å¹¿" class="headerlink" title="ç®—æ³•æ¨å¹¿"></a>ç®—æ³•æ¨å¹¿</h1><p>Graham Scanç®—æ³•ä¸ä»…å¯ä»¥ç”¨äºå‡¸åŒ…æ„é€ é—®é¢˜ï¼Œåœ¨å…¶ä»–è®¸å¤šåœºæ™¯ä¸‹ä¸­ä¹Ÿååˆ†æœ‰æ•ˆã€‚ä¸ºäº†æ¨å¹¿Graham Scanç®—æ³•ï¼Œé¦–å…ˆå¯ä»¥å¯¹å…¶åšç®€åŒ–ï¼Œä»¥æ–¹ä¾¿åˆ©ç”¨åœ¨å…¶ä»–é—®é¢˜ã€‚</p><p>é¦–å…ˆå†æ¥å›é¡¾ä¸€ä¸‹é¢„å¤„ç†æ’åºï¼Œè¿™æ˜¯ç®—æ³•æˆç«‹å¿…ä¸å¯å°‘çš„ä¸€æ­¥ã€‚æ’åºç®—æ³•å¥—ç”¨æˆç†Ÿçš„æ–¹æ³•å³å¯ï¼Œåˆ©ç”¨æ•°å­¦æ–¹æ³•è®¡ç®—åè§’ä¸ä»…å¤æ‚è€Œä¸”å¼•å…¥äº†è¯¯å·®ï¼Œæ‰€ä»¥è¦é‡‡ç”¨to left testã€‚è¦åšçš„å°±æ˜¯ä¸¤ç‚¹ï¼š</p><ul><li>å¥—ç”¨æˆç†Ÿçš„æ’åºç®—æ³•ï¼Œå°†å¾…æ’åºå…ƒç´ ç”±æ•°å€¼å˜ä¸ºç‚¹</li><li>å°†æ’åºç®—æ³•çš„æ¯”è¾ƒå™¨æ”¹ä¸º<strong>to left test</strong>å®ç°</li></ul><p>æŒ‰ç…§è¿™æ ·çš„æµç¨‹å°±èƒ½é—´æ¥åœ°å®ç°persortingã€‚</p><h2 id="1ã€åŸå§‹ç‚¹é›†å·²ç»æœ‰æŸç§æ¬¡åº"><a href="#1ã€åŸå§‹ç‚¹é›†å·²ç»æœ‰æŸç§æ¬¡åº" class="headerlink" title="1ã€åŸå§‹ç‚¹é›†å·²ç»æœ‰æŸç§æ¬¡åº"></a>1ã€åŸå§‹ç‚¹é›†å·²ç»æœ‰æŸç§æ¬¡åº</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸æ˜¯ä»é›¶å¼€å§‹æ„é€ å‡¸åŒ…ï¼Œä¾‹å¦‚å¾—åˆ°çš„å¾…å¤„ç†ç‚¹é›†å·²ç»æ˜¯æœ‰æŸç§æ¬¡åºçš„ï¼ˆæ¯”å¦‚å·²ç»æŒ‰xåæ ‡å¤§å°æ’åºï¼Œå¦‚ä¸‹å›¾ï¼‰ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180208004657243.jpg" alt="img"></p><p><u>è¿™ç§æƒ…å†µä¹Ÿä¸ä¸€å®šéå¾—è¿›è¡Œpersortingæ„é€ æ–°çš„æ¬¡åº</u>ï¼Œé€šå¸¸æ”¹å˜è§‚å¯Ÿçš„è§’åº¦ï¼Œæ¢ä¸€ç§ç†è§£æ–¹å¼å°±èƒ½å…å»é¢„å¤„ç†è€Œç›´æ¥è¿›è¡Œåé¢çš„çº¿æ€§çš„scanæ“ä½œäº†ã€‚</p><p><strong>ä¸ŠåŠéƒ¨åˆ†å‡¸åŒ…ï¼š</strong></p><p>è€ƒè™‘yè½´è´Ÿæ–¹å‘æ— ç©·è¿œä¸€ä¸ªç‚¹ï¼Œæ‰€æœ‰çš„ç‚¹ç›¸å¯¹äºè¿™ä¸ªç‚¹çš„æè§’æ’åºæ°å¥½å°±æ˜¯å„ç‚¹çš„xåæ ‡åºï¼ä¹Ÿå°±æ˜¯å°†æ— ç©·è¿œçš„ç‚¹çœ‹ä½œèµ·å§‹ç‚¹â‘ ï¼Œæœ€å³ä¾§ç‚¹ï¼ˆå›¾ä¸­ç‚¹8ï¼‰çœ‹ä½œç‚¹â‘¡ï¼Œè¿›è¡Œscanè¿‡ç¨‹ç›´åˆ°æœ€å·¦è¾¹çš„ç‚¹ï¼ˆå›¾ä¸­ç‚¹1ï¼‰ç»“æŸï¼Œå°±å¾—åˆ°äº†å‡¸åŒ…çš„ä¸ŠåŠéƒ¨åˆ†ï¼ˆupper hullï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾çš„8â†’7â†’2â†’1ï¼š</p><p><em>æ³¨ï¼šå¯¹ â€œè€ƒè™‘yè½´è´Ÿæ–¹å‘æ— ç©·è¿œä¸€ä¸ªç‚¹ï¼Œæ‰€æœ‰çš„ç‚¹ç›¸å¯¹äºè¿™ä¸ªç‚¹çš„æè§’æ’åºæ°å¥½å°±æ˜¯å„ç‚¹çš„xåæ ‡åºï¼â€ è¿™å¥è¯çš„ç†è§£ï¼š</em></p><ul><li>å°±åƒå¤ªé˜³å…‰ç…§åœ¨åœ°çƒä¸Šçš„é“ç†æ˜¯ä¸€æ ·çš„ï¼Œå¤ªé˜³ç¦»åœ°çƒè¶³å¤Ÿçš„è¿œï¼Œé‚£ä¹ˆå®ƒçš„å…‰åˆ°è¾¾åœ°çƒä¸Šçš„æ—¶å€™ï¼Œå°±è¿‘ä¼¼çš„æ˜¯<strong>å¹³è¡Œ</strong>çš„ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Graham-Scan/20180208005912300.jpg" alt="img"></p><p><strong>ä¸‹åŠéƒ¨åˆ†å‡¸åŒ…ï¼ˆlower hullï¼‰çš„æ„é€ </strong></p><p>ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è€ƒè™‘ä¸€ä¸ªåœ¨yè½´æ­£æ–¹å‘æ— ç©·è¿œçš„ä¸€ä¸ªç‚¹ï¼Œä»¥æ­¤ä¸ºèµ·ç‚¹è¿›è¡Œscanï¼Œæœ€ç»ˆå¾—åˆ°lower hullï¼š1â†’4â†’7ã€‚æœ€åå°†ä¸¤ä¸ªå‡¸åŒ…åˆäºŒä¸ºä¸€å³å¯ã€‚</p><h1 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h1>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¸åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lower Bound</title>
      <link href="/archives/ba04.html"/>
      <url>/archives/ba04.html</url>
      
        <content type="html"><![CDATA[<h2 id="Lower-Bound"><a href="#Lower-Bound" class="headerlink" title="Lower Bound"></a>Lower Bound</h2><p>ä»æç‚¹æ³•çš„O(n^4^)å¤æ‚åº¦ï¼Œåˆ°æè¾¹æ³•çš„O(n^3^)ï¼Œå†åˆ°å¢é‡æ„é€ æ³•å’ŒJarvis Marchçš„O(n^2^)ï¼Œæˆ‘ä»¬ç»å†äº†å°†ç‰¹å®šé—®é¢˜ç®—æ³•ä¸æ–­ä¼˜åŒ–ã€é™ä½å¤æ‚åº¦çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆè¿˜æœ‰æ¯”O(n^2^)æ›´é«˜æ•ˆçš„ç®—æ³•å—ï¼Ÿå‡¸åŒ…æ„é€ ç®—æ³•çš„ä¸‹ç•Œæ˜¯ä»€ä¹ˆï¼Ÿæ¨å¹¿åˆ°ä¸€èˆ¬æƒ…å†µï¼Œåœ¨è®¡ç®—æ¨¡å‹å›ºå®šçš„æƒ…å†µä¸‹ç‰¹å®šé—®é¢˜çš„å¤æ‚åº¦ä¸‹ç•Œåˆæ˜¯å¦‚ä½•ç¡®å®šçš„ï¼Ÿ</p><p>åœ¨è®¡ç®—æ¨¡å‹å›ºå®šçš„æƒ…å†µä¸‹ç‰¹å®šé—®é¢˜çš„å¤æ‚åº¦<strong>ä¸‹ç•Œï¼ˆlower boundï¼‰</strong>æ˜¯ç¡®å®šçš„ã€‚ä¸¥è°¨è€ƒè™‘ï¼Œåœ¨è®¾è®¡ç®—æ³•å‰åº”è¯¥å…ˆç¡®å®šä¸‹ç•Œæ˜¯å¤šå°‘ã€‚</p><p>å¯¹äºæŸä¸ªé—®é¢˜çš„ç‰¹å®šç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ—¶é—´å¤æ‚åº¦æ¥è¯„ä»·ç®—æ³•çš„å¥½åã€‚ç®—æ³•èƒ½è¾¾åˆ°çš„ä¸‹ç•Œä¹Ÿå°±æ˜¯æ‰€è°“é—®é¢˜çš„éš¾åº¦ã€‚å½“ç„¶è¿™ç§è¯„ä»·é€šå¸¸æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæœ‰æ—¶å€™ç”šè‡³æ˜¯ä¸å¯è¡Œçš„ã€‚<u>è¿™å°±è¦å¼•å…¥æ–°çš„çš„æ–¹å¼æ¥è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¥½åã€‚</u></p><h3 id="è§„çº¦ï¼ˆreductionï¼‰"><a href="#è§„çº¦ï¼ˆreductionï¼‰" class="headerlink" title="è§„çº¦ï¼ˆreductionï¼‰"></a>è§„çº¦ï¼ˆreductionï¼‰</h3><p>æˆ‘ä»¬å¼•å…¥<strong>è§„çº¦ï¼ˆreductionï¼‰</strong>çš„æ–¹æ³•æ¥<u>é—´æ¥</u>è¡¡é‡ä¸€ä¸ªç®—æ³•ã€‚è§„çº¦ç®€å•æ¥è®²å°±æ˜¯ç”¨ä¸€ä¸ªâ€œå‚ç…§ç‰©â€å¯¹æ¯”å¾…è¯„ç®—æ³•ï¼Œå¾—åˆ°ç®—æ³•çš„å¤æ‚åº¦ã€‚è§„çº¦çš„ä¸€èˆ¬æ–¹æ³•å¦‚å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20180206145307478.png" alt="è§„çº¦ï¼ˆreductionï¼‰"></p><blockquote><p>å·¦ä¾§æ˜¯å·²çŸ¥çš„é—®é¢˜<strong>A</strong>ï¼Œå·²ç»æ˜ç¡®å®ƒçš„éš¾åº¦ï¼Œå³ä¾§æ˜¯å¾…åˆ†æé—®é¢˜<strong>B</strong>ï¼Œå¤æ‚åº¦æœªçŸ¥ã€‚æˆ‘ä»¬åœ¨äºŒè€…ä¹‹é—´å»ºç«‹èµ·ä¸€ç§åŸºæœ¬<strong>reduction</strong>å…³ç³»ï¼š<strong>linear-time reduction</strong>ã€‚</p><p>linear-time reductionå…·ä½“è¡¨è¿°ä¸ºï¼š</p><ul><li>ä»»ä½•ä¸€ä¸ªAçš„è¾“å…¥ï¼ˆinput of Aï¼‰ï¼Œéƒ½å¯ä»¥åœ¨O(n)å¤æ‚åº¦è½¬åŒ–ä¸ºä¸€ä¸ªBçš„è¾“å…¥ï¼ˆinput of Bï¼‰ï¼Œç„¶åé€šè¿‡Bçš„æŸç§ç®—æ³•ï¼ˆany algorithmï¼‰è®¡ç®—å‡ºç»“æœï¼ˆoutput of Bï¼‰;</li><li>è€Œå¯¹äºoutput of Båˆéƒ½å¯ä»¥åœ¨åœ¨O(n)å¤æ‚åº¦è½¬åŒ–ä¸ºAé—®é¢˜çš„ç»“æœï¼ˆoutput of Aï¼‰ã€‚ä¸¤æ¬¡è½¬æ¢çš„å¤æ‚åº¦ä¸èƒ½è¶…è¿‡çº¿æ€§ï¼Œä¹Ÿå°±æ˜¯linear-timeï¼ˆçº¿æ€§æ—¶é—´ï¼‰ã€‚</li></ul></blockquote><p>èƒ½å¤Ÿè¿›è¡Œä¸Šè¿°æ“ä½œï¼Œå°±ç§°ä¸ºï¼š<strong>Aé—®é¢˜å¯ä»¥è§„çº¦åˆ°Bé—®é¢˜ï¼ˆproblem A is linear-time reducible to problem Bï¼‰</strong>ã€‚æ³¨æ„è¡¨è¿°æ–¹å¼é˜²æ­¢ææ··Aå’ŒBçš„ä½ç½®ã€‚</p><h4 id="æ›¹å†²ç§°è±¡"><a href="#æ›¹å†²ç§°è±¡" class="headerlink" title="æ›¹å†²ç§°è±¡"></a>æ›¹å†²ç§°è±¡</h4><p>å¯ä»¥é€šè¿‡<strong>æ›¹å†²ç§°è±¡</strong>çš„æ•…äº‹æ¥å¸®åŠ©ç†è§£è§„çº¦çš„æ€æƒ³ã€‚è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼šæ²¡æœ‰ç§¤èƒ½ç›´æ¥ç§°é‡å¤§è±¡é‡é‡ï¼ˆé—®é¢˜Bçš„éš¾åº¦æ— æ³•ç›´æ¥è¡¡é‡ï¼‰ï¼Œ<u>è§£å†³æ–¹æ¡ˆæ˜¯</u>ï¼šåˆ©ç”¨èˆ¹å’ŒçŸ³å—é—´æ¥ç§°é‡ã€‚çŸ³å¤´å—çš„é‡é‡æ˜¯å¯ä»¥ç›´æ¥ç§°é‡çš„ï¼ˆé—®é¢˜Açš„éš¾åº¦æ˜¯å·²çŸ¥çš„ï¼‰ï¼Œåˆ©ç”¨<u>èˆ¹å’Œæ°´</u>æ¥è½¬æ¢çŸ³å¤´å’Œå¤§è±¡çš„é‡é‡æ˜¯å¯æ“ä½œçš„ï¼ˆè§„çº¦çš„æ–¹æ³•æ˜¯å¯æ“ä½œçš„ï¼‰ã€‚ã€è¿™é‡Œçš„<u>è§„çº¦å…³ç³»(Reduction relationship)</u>æ˜¯æŒ‡æ›¹å†²æˆåƒæ—¶çš„èˆ¹å’Œæ°´ã€‘</p><h4 id="è§„çº¦è®°å·"><a href="#è§„çº¦è®°å·" class="headerlink" title="è§„çº¦è®°å·"></a>è§„çº¦è®°å·</h4><p>å¼•å…¥è§„çº¦è®°å·ï¼Œproblem A is linear-time reducible to problem Bè¡¨ç¤ºä¸ºï¼š<br>$$<br>Aâ‰¤_NB<br>$$<br>å°†é—®é¢˜Aã€Bçš„éš¾åº¦åˆ†åˆ«è¡¨ç¤ºä¸º|A|ï¼Œ|B|ã€‚è§„çº¦è®°å·çš„æ„æ€ç›¸å½“äº<strong>|A|â‰¤|B|</strong>ï¼ŒAçš„ä¸‹ç•Œå¿…ç„¶å°±æ˜¯Bçš„ä¸‹ç•Œã€‚</p><p><strong>è§„çº¦çš„è¿‡ç¨‹</strong>ï¼š</p><ol><li>å°†Açš„è¾“å…¥è½¬åŒ–ä¸ºBçš„è¾“å…¥</li><li>ç»è¿‡Bçš„æŸç§ç®—æ³•è·å¾—è§£ååˆè½¬åŒ–ä¸ºAçš„è§£ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªç®—æ³•ä¹Ÿæ˜¯è§£å†³Aé—®é¢˜çš„ç®—æ³•ã€‚</li></ol><p>å·²çŸ¥Aé—®é¢˜çš„ä¸‹ç•Œï¼Œé‚£ä¹ˆè¿™ä¸ªç®—æ³•å¿…ç„¶ä¸ä¼šä½äºAçš„è¿™ä¸ªä¸‹ç•Œã€‚</p><h3 id="æ„é€ å‡¸åŒ…çš„ä¸‹ç•Œ"><a href="#æ„é€ å‡¸åŒ…çš„ä¸‹ç•Œ" class="headerlink" title="æ„é€ å‡¸åŒ…çš„ä¸‹ç•Œ"></a>æ„é€ å‡¸åŒ…çš„ä¸‹ç•Œ</h3><p>æŒ‰ç…§â€œæ›¹å†²ç§°è±¡â€çš„è§„çº¦æ€æƒ³ï¼Œåˆ†æé—®é¢˜çš„éš¾åº¦ï¼Œæœ€é‡è¦çš„åœ¨äºæ‰¾åˆ°â€œçŸ³å¤´â€ï¼Œè€Œèˆ¹å°±æ˜¯è§„çº¦è¿™ç§æ–¹æ³•ã€‚ä»¥äºŒç»´å‡¸åŒ…ï¼ˆ2d-CHï¼‰æ¥åˆ†æï¼Œé¦–å…ˆå°†å¾…è§£å†³çš„é—®é¢˜æ”¾åˆ°è§„çº¦è®°å·<u>å³è¾¹</u>ï¼Œè€Œå·¦è¾¹çš„â€œçŸ³å¤´â€å°±æ˜¯<strong>æ’åºç®—æ³•</strong>ã€‚<br>$$<br>Sortingâ‰¤_N2D-CH<br>$$<br>æ’åºæ˜¯çº¯ç²¹çš„æ•°å€¼è®¡ç®—é—®é¢˜ï¼Œè€Œå‡¸åŒ…æ˜¯å…¸å‹çš„å‡ ä½•é—®é¢˜ï¼ŒäºŒè€…æ˜¯å¦‚ä½•è”ç³»åœ¨ä¸€èµ·çš„å‘¢ï¼Ÿå‰é¢<a href="http://blog.csdn.net/HouszChina/article/details/79254856" target="_blank" rel="noopener">å¢é‡æ„é€ æ³•</a>å’Œ<a href="http://blog.csdn.net/HouszChina/article/details/79261505" target="_blank" rel="noopener">Jarvis Marchç®—æ³•</a>æ­£æ˜¯åˆ†åˆ«ç”±ä¸¤ç§æ’åºç®—æ³•æ¥ç±»æ¯”å¼•å…¥çš„ï¼Œå¯è§æ’åºå’Œå‡¸åŒ…ä¹‹é—´æœ‰æ·±åˆ»çš„å†…åœ¨è”ç³»ã€‚äºŒè€…ä¹‹é—´çš„è”ç³»å¯ä»¥é€šè¿‡ä¸‹å›¾è¡¨ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200312231702595.png" alt="image-20200312231702595"></p><p>é¦–å…ˆæ¸…ç‚¹è¦åšçš„ä»»åŠ¡ï¼š</p><ul><li><p>å¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…ï¼Œå°†æ’åºé—®é¢˜çš„è¾“å…¥è½¬åŒ–ä¸ºå‡¸åŒ…é—®é¢˜çš„è¾“å…¥</p><ul><li>æ’åºé—®é¢˜çš„è¾“å…¥å¯ä»¥è¡¨ç¤ºä¸ºxè½´ä¸Šçš„ä¸€ç³»åˆ—çš„ç‚¹ï¼ˆå›¾ä¸­è“è‰²ç‚¹ï¼‰ã€‚ç„¶åå°†è¿™äº›ç‚¹è½¬åŒ–ä¸ºå‡¸åŒ…é—®é¢˜çš„è¾“å…¥ï¼Œå°±æ˜¯å°†è¿™äº›å¾…æ’åºçš„æ•°è½¬åŒ–ä¸ºå¹³é¢ä¸Šçš„ç‚¹ã€‚å¼•å…¥è¾…åŠ©çº¿â€”â€”ä¸€æ¡æŠ›ç‰©çº¿ï¼Œä¾‹å¦‚å›¾ä¸­è“è‰²è™šçº¿ã€‚æ¥ä¸‹æ¥è¦å¯¹è“è‰²ç‚¹åšåˆ°æŠ›ç‰©çº¿ä¸Šçš„æ˜ å°„ï¼ˆO(n)ï¼‰ï¼Œæ˜ å°„åœ¨æŠ›ç‰©çº¿ä¸Šçš„ç‚¹ç”¨ç»¿è‰²æ ‡å‡ºã€‚è¿™æ ·å°±å®Œæˆäº†å°†å¾…æ’åºæ•°å­—è½¬åŒ–ä¸ºå¹³é¢ä¸Šç‚¹çš„æ“ä½œã€‚æ¥ä¸‹æ¥å°±å¯ä»¥ç”¨æŸç§ç®—æ³•å°†ç»¿è‰²ç‚¹æ„é€ ä¸ºå‡¸åŒ…ï¼Œå³å›¾ä¸­CH(P)ã€‚</li></ul></li><li><p>å¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…ï¼Œå°†å‡¸åŒ…é—®é¢˜çš„ç»“æœè½¬åŒ–ä¸ºæ’åºé—®é¢˜çš„ç»“æœ</p><ul><li>å‡¸åŒ…CH(P)å°±æ˜¯é—®é¢˜Bçš„è§£ï¼Œå¦‚ä½•å°†Bçš„è§£è½¬åŒ–ä¸ºAçš„è§£ï¼Ÿæ³¨æ„æœ€å·¦å’Œæœ€å³è¾¹ä¸¤ç‚¹çš„è¿çº¿ï¼Œå³å›¾ä¸­1å’Œ4çš„è¿çº¿4â†’1ã€‚é™¤å»è¿™æ¡è¿çº¿ä¹‹å¤–ï¼Œå…¶ä»–é¦–å°¾ç›¸æ¥çš„è¿çº¿ï¼š1â†’2ï¼Œ2â†’3å’Œ3â†’4éƒ½æ˜¯â€œæ²¿ç€xæ–¹å‘å•è°ƒçš„â€ï¼Œéå†è¿™äº›é¦–å°¾ç›¸è¿çš„è¾¹ï¼ˆO(n)ï¼‰å°±èƒ½å¾—åˆ°ä¸€ç³»åˆ—çš„æ•°å€¼ï¼Œå¹¶ä¸”å·²ç»æ˜¯æœ‰åºçš„äº†ã€‚è¿™æ ·å°±å°†å‡¸åŒ…é—®é¢˜çš„è§£â€”â€”å‡¸åŒ…CH(P) è½¬åŒ–ä¸ºäº†æ’åºé—®é¢˜çš„è§£â€”â€”æœ‰åºæ•°å€¼åºåˆ—ã€‚</li></ul></li></ul><p>ä¸¤æ¬¡è½¬åŒ–è¯´æ˜è§„çº¦æ˜¯å¯è¡Œçš„ï¼Œå› æ­¤2d-CHé—®é¢˜çš„ä¸‹ç•Œå¯ç”±sortingçš„ä¸‹ç•Œç¡®å®šã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæ’åºé—®é¢˜çš„éš¾åº¦æ˜¯ç¡®å®šçš„ï¼š<strong>O(nlogn)</strong>ã€‚2d-CHé—®é¢˜çš„ä¸‹ç•Œä¹Ÿå°±æ˜¯ï¼š<br>$$<br>O(nlogn)<br>$$<br>æ›´é«˜ç»´çš„å‡¸åŒ…é—®é¢˜ä¸‹ç•Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>å¢é‡æ„é€ æ³•å’ŒJarvis Marchçš„O(n^2^)åˆ°O(nlogn)ä¹‹é—´çš„é¸¿æ²Ÿèƒ½å¦è·¨è¶Šå‘¢ï¼Ÿæ˜¯å¦å­˜åœ¨O(nlogn)å¤æ‚åº¦çš„å‡¸åŒ…æ„é€ ç®—æ³•ï¼Ÿåç»­æ–‡ç« ä¼šæœ‰å›ç­”ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¸åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„é€ å‡¸åŒ…-Jarvis March(Gift Wrapping)ç®—æ³•</title>
      <link href="/archives/9c7f.html"/>
      <url>/archives/9c7f.html</url>
      
        <content type="html"><![CDATA[<p>å›é¡¾å‡¸åŒ…æ„é€ ç®—æ³•ï¼šæç‚¹æ³•ã€æè¾¹æ³•å’Œå¢é‡æ„é€ æ³•ï¼Œå…¶å¤æ‚åº¦åˆ†åˆ«ä¸ºO(n^4^)ã€O(n^3^)å’ŒO(n^2^)ï¼Œæ•ˆç‡ç»è¿‡ä¼˜åŒ–å·²ç»å¤§å¤§æé«˜äº†ã€‚æ¥ä¸‹æ¥å¼•å…¥ä¸€ç§æ–°çš„ç®—æ³•â€”â€”Jarvis Marchï¼Œå…¶å¤æ‚åº¦ä¹Ÿæ˜¯O(n^2^)ï¼Œä½†æ˜¯ç›¸è¾ƒäºå¢é‡æ„é€ åœ¨æœ€å¥½æƒ…å†µä¸‹æ•ˆç‡æ˜¯è¾ƒé«˜çš„ã€‚</p><a id="more"></a><h3 id="å®ç°ç­–ç•¥"><a href="#å®ç°ç­–ç•¥" class="headerlink" title="å®ç°ç­–ç•¥"></a>å®ç°ç­–ç•¥</h3><p>å…ˆæƒ³ä¸€ä¸‹ä¸ºä½•<a href="http://blog.csdn.net/houszchina/article/details/79253249" target="_blank" rel="noopener">æè¾¹æ³•</a>å¤æ‚åº¦é«˜è¾¾O(n^3^)ã€‚å®é™…ä¸Šæˆ‘ä»¬è¦å¯¹ç‚¹é›†ä¸­æ‰€æœ‰è¾¹è¿›è¡Œéå†ï¼Œè¿™éœ€è¦n^2^å¤æ‚åº¦ï¼Œç„¶åå¯¹æ¯ä¸ªè¾¹è¿›è¡Œé‰´åˆ«ï¼Œåˆéœ€è¦nå¤æ‚åº¦ï¼Œå› æ­¤æ€»ä½“å¤æ‚åº¦é«˜è¾¾O(n^3^)ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•æ”¹è¿›å‘¢ï¼Ÿè¿™å°±å¯ä»¥è¿ç”¨é€‰æ‹©æ’åºçš„æ€æƒ³ï¼šå°†ä¸‹ä¸€ä¸ªè¦æŸ¥æ‰¾çš„è¾¹ç¼©å°åˆ°ä¸€ä¸ªå°èŒƒå›´ï¼Œè€Œééå†æ‰€æœ‰è¾¹ã€‚</p><blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20180205163738819-1584005657109.png" alt="é€‰æ‹©æ’åºç¤ºæ„"></p><p>é€‰æ‹©æ’åºæ¯æ¬¡é€‰å–å‡ºçš„unsortedæœ€å¤§å…ƒç´ æ”¾åœ¨sorted éƒ¨åˆ†çš„é¦–éƒ¨ï¼Œ<u>ä¹Ÿå°±æ„å‘³ç€æ•´ä¸ªunsortedéƒ¨åˆ†å¿…ç„¶ä¸ä¼šè¶…è¿‡sortedéƒ¨åˆ†</u>ã€‚ä»ç®—æ³•æ•´ä½“æ¡†æ¶è€ƒè™‘ï¼Œæ¯æ¬¡æˆ‘ä»¬éƒ½æ˜¯ç»´æŠ¤ä¸€ä¸ªå±€éƒ¨è§£ï¼ˆä¹Ÿå°±æ˜¯sortedéƒ¨åˆ†ï¼‰ï¼Œç„¶åä»å°šæœªå¤„ç†çš„éƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯unsortedéƒ¨åˆ†ï¼‰æ‰¾åˆ°ä¸€ä¸ªä¸å½“å‰å±€éƒ¨è§£â€œç´§å¯†ç›¸å…³çš„å…ƒç´ â€ï¼ˆç›¸å½“äºé€‰å–çš„æœ€å¤§å…ƒç´ ï¼‰ã€‚è¿™ä¸ªæ€æƒ³ä¸ºè§£å†³å‡¸åŒ…é—®é¢˜å¸¦æ¥äº†æ–°æ€è·¯ã€‚</p></blockquote><p>å¯¹ç®—æ³•çš„å¤§è‡´è¿‡ç¨‹è¿›è¡Œæè¿°(æ ‡è¯†ä¸ºï¼šå·²æ‰¾åˆ°æè¾¹æ•°/æ‰€æœ‰æè¾¹æ•°)ï¼š</p><ul><li><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200312175230158.png" alt="åœ¨åŠ å…¥[partial convex hull]ä¹‹å‰æ‰¾å‡ºä¸‹ä¸€æ¡æè¾¹"></p><p>é¦–å…ˆä»ä»»ä½•ä¸€ä¸ªæç‚¹ï¼ˆåé¢è¯´æ˜å¦‚ä½•æ‰¾åˆ°è¿™ä¸ªç‚¹ï¼‰å¼€å§‹ï¼ˆå›¾ä¸­0/5ï¼‰ï¼Œç„¶åæ‰¾åˆ°ä¸€æ¡ä»¥è¿™ä¸ªæç‚¹ä¸ºç«¯ç‚¹çš„æè¾¹ï¼ˆ1/5ï¼‰ã€‚æ¥ç€æ²¿ç€æè¾¹å¦ä¸€ä¸ªç«¯ç‚¹<strong>ï¼ˆendpointï¼‰</strong>å‡ºå‘ï¼Œå†æ‰¾å‡ºä¸‹ä¸€æ¡æè¾¹ï¼ˆ2/5ï¼‰ã€‚å¦‚æ­¤åå¤æ“ä½œï¼Œ<u>æœ€ç»ˆä¼šæ‰¾åˆ°ä¸€æ¡ä»¥æœ€åˆæç‚¹ä¸ºendpointçš„æè¾¹ï¼Œå¾—åˆ°ä¸€ä¸ªå°é—­çš„ç¯ï¼Œå‡¸åŒ…ä¹Ÿæ„é€ å®Œæˆ</u>ã€‚å‡¸åŒ…æ„é€ è¿‡ç¨‹ç±»ä¼¼äºé€‰æ‹©æ’åºä¸­sortedä¸æ–­å‘å‰æ‰©å±•ä¸€æ ·ï¼Œä¸æ–­æ‰©å±•å±€éƒ¨è§£ï¼Œæœ€åå¾—åˆ°é—®é¢˜æœ€ç»ˆè§£ã€‚</p></li></ul><table><thead><tr><th>å‡¸åŒ…æ„é€ çš„é—®é¢˜ç”±æ­¤åˆ†è§£ä¸ºä¸€ä¸ªä¸ªå­é—®é¢˜ï¼š<u>å¦‚ä½•ä»endpointå‡ºå‘æ‰¾åˆ°ä¸‹ä¸€æ¡æè¾¹</u>ã€‚</th></tr></thead><tbody><tr><td></td></tr></tbody></table><h4 id="ç”¨to-left-testæ‰¾åˆ°ä¸‹ä¸€æ¡æè¾¹"><a href="#ç”¨to-left-testæ‰¾åˆ°ä¸‹ä¸€æ¡æè¾¹" class="headerlink" title="ç”¨to left testæ‰¾åˆ°ä¸‹ä¸€æ¡æè¾¹"></a>ç”¨to left testæ‰¾åˆ°ä¸‹ä¸€æ¡æè¾¹</h4><p>ç°åˆ†æå¦‚ä½•ä»endpointæ‰¾åˆ°ä¸‹ä¸€æ¡æè¾¹ã€‚è€ƒè™‘ä¸€ä¸‹çš„ä¸€èˆ¬æƒ…å†µï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200312175230158.png" alt="image-20200312175230158"></p><p>æˆ‘ä»¬ä»æç‚¹oå¼€å§‹å¯»æ‰¾æè¾¹ï¼Œå‡è®¾å½“å‰æ‰¾åˆ°çš„æè¾¹æ˜¯ikï¼Œæ¥ä¸‹æ¥è¦åšçš„å·¥ä½œæ˜¯æ‰¾åˆ°ä»kå‡ºå‘çš„å¦ä¸€æ¡æè¾¹ksï¼Œå³æ‰¾åˆ°æç‚¹sã€‚</p><p>æ˜¾ç„¶ï¼Œsæ¥è‡ªäºå…¶ä»–é‚£äº›å°šæœªå¤„ç†çš„ç‚¹ä¸­ï¼Œé‚£ä¹ˆsä¸å…¶ä»–ç‚¹ç›¸æ¯”æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿè§‚å¯Ÿå‘ç°ï¼Œikä½œä¸ºä¸€æ¡æè¾¹ï¼Œå®ƒçš„å³ä¾§è‚¯å®šéƒ½æ˜¯ç©ºçš„ï¼Œæ‰€æœ‰å…¶ä»–ç‚¹éƒ½åœ¨ikå·¦ä¾§ã€‚ç”»å‡ºkä¸å…¶ä»–å€™é€‰ç‚¹çš„æœ‰å‘ç›´çº¿ï¼Œä¾‹å¦‚ä¸‹å›¾ä¸­çš„ksï¼Œktï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200312175450087.png" alt="image-20200312175450087"></p><p>æ³¨æ„å›¾ä¸­çº¢è‰²æ ‡å‡ºçš„è§’åº¦ï¼Œå¯ä»¥çœ‹å‡ºksä¸ikçš„å¤¹è§’æ¯”ktå°ï¼Œä¹Ÿå°±æ˜¯ksæ¯”ktç›¸è¾ƒäºikåå·¦çš„è§’åº¦æ›´å°ã€‚å®é™…ä¸Šksåå·¦çš„è§’åº¦æ¯”å…¶ä»–ä»»ä½•ä»kå‡ºå‘çš„è¾¹éƒ½å°ï¼Œ<strong>è¿™å°±æ˜¯sç‚¹çš„åˆ¤å®šä¾æ®</strong>ã€‚</p><p><strong>è¿™æ ·å°±æ‰¾åˆ°äº†ä»å…¶ä½™ç‚¹ä¸­é€‰æ‹©sç‚¹çš„æ€è·¯</strong>ï¼šä»»é€‰ä¸¤ä¸ªç‚¹ï¼Œä»kå‡ºå‘è¿‡è¿™ä¸¤ç‚¹åšæœ‰å‘è¾¹ï¼Œçœ‹å“ªä¸ªåå·¦çš„è§’åº¦æ›´å°å°±ç•™ä¸‹ï¼Œå¦ä¸€ç‚¹ä¸¢å¼ƒã€‚ç„¶åå†æ‹¿ä¸€ç‚¹ä¸ç•™ä¸‹çš„ç‚¹æ¯”è¾ƒï¼Œåå¤è¿™ä¸ªè¿‡ç¨‹ï¼Œæœ€ç»ˆç•™ä¸‹çš„å°±æ˜¯è¦æ‰¾çš„sç‚¹ã€‚</p><table><thead><tr><th>é—®é¢˜è‡³æ­¤è½¬åŒ–ä¸ºï¼š<u>å¦‚ä½•æ¯”è¾ƒä¸¤æ¡æœ‰å‘è¾¹ï¼ˆä¾‹å¦‚kså’Œktï¼‰ç›¸è¾ƒäºå¦ä¸€æœ‰å‘ç›´çº¿ï¼ˆä¾‹å¦‚ikï¼‰è°åå·¦çš„è§’åº¦æ›´å°ã€‚</u></th></tr></thead><tbody><tr><td></td></tr></tbody></table><p>å½“ç„¶å¯ä»¥é€šè¿‡è®¡ç®—ä¸‰è§’å‡½æ•°çš„æ–¹æ³•æ¥æ¯”è¾ƒï¼Œè¿™æ˜¯æœ€ç›´è§‚çš„æ•°å­¦æ€ç»´ã€‚ä½†æ˜¯è¿™æ ·è®¡ç®—ååˆ†å¤æ‚ï¼Œæ›´é‡è¦çš„æ˜¯å¼•å…¥äº†è¯¯å·®ã€‚<u>è¿™æ—¶å€™åˆè¦ä½¿ç”¨<strong>to left test</strong>è¿™ä¸ªåŸºç¡€æ–¹æ³•æ¥è§£å†³é—®é¢˜äº†</u></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200312175904984.png" alt="image-20200312175904984"></p><p>å…·ä½“åšæ³•å°±æ˜¯ä»¥åœ¨kså’Œktä¸­ä»¥ä»»æ„ä¸ªä¸ºåŸºå‡†ï¼ˆå¦‚ä»¥ksä¸ºåŸºå‡†ï¼‰ï¼Œå¯¹å¦ä¸€ç‚¹ï¼ˆå¦‚tï¼‰åšto left testã€‚ä¸Šå›¾ç‚¹tå’Œæœ‰å‘è¾¹ksçš„to left testç»“æœä¸ºtrueï¼Œtåœ¨kså·¦è¾¹ï¼Œå› æ­¤ksåå·¦çš„è§’åº¦æ›´å°ï¼Œèˆå¼ƒç‚¹tã€‚</p><blockquote><p>ç±»æ¯”é€‰æ‹©æ’åºæ¥ç†è§£:</p><ul><li><u>å·²å¾—åˆ°çš„æè¾¹</u>ï¼ˆä»æç‚¹oå¼€å§‹åˆ°ikçš„é¦–å°¾ç›¸è¿çš„æè¾¹ï¼‰â€”â€”ç›¸å½“äº sortedéƒ¨åˆ†</li><li><u>å…¶ä½™ç‚¹</u>â€”â€”ç›¸å½“äº unsortedéƒ¨åˆ†</li><li><u>æ‰¾åˆ°ç‚¹s</u>ï¼ˆèƒ½æ„æˆæœ€å°åè§’çš„ç‚¹ï¼‰â€”â€”ç›¸å½“äº ä»unsortedéƒ¨åˆ†å–å‡ºæå¤§å€¼</li></ul><p>é€‰æ‹©æ’åºä¸­çš„é€‰æ‹©è¿‡ç¨‹éœ€è¦æ¯”è¾ƒå…ƒç´ å¤§å°ï¼Œå°±è¦ç”±ä¸€ç§<strong>æ¯”è¾ƒå™¨</strong>å®Œæˆï¼Œ<u>è€Œä¸Šè¿°æ¯”è¾ƒåè§’çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥æŠ½è±¡ä¸ºä¸€ç§æ¯”è¾ƒå™¨çš„æ“ä½œ</u>ã€‚æ„é€ å‡¸åŒ…çš„ç®—æ³•æ¡†æ¶ä¸é€‰æ‹©æ’åºç›¸åŒï¼Œ<u>åªæ˜¯æ¯”è¾ƒå™¨æ›¿æ¢ä¸ºto left testè€Œå·²</u>ã€‚</p></blockquote><p><em>æ­¤å¤„åªæ˜¯è€ƒè™‘ä¸€èˆ¬æƒ…å†µï¼Œä¸€äº›ç‰¹æ®Šç»†èŠ‚æœªè¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚åœ¨stä¸Šæœ‰så’Œsâ€™ä¸¤ç‚¹ï¼Œè¿™ä¸¤ç‚¹çš„å–èˆé—®é¢˜æœªè€ƒè™‘ã€‚å½“ç„¶ä¸ºäº†ç†è§£ç®—æ³•æ•´ä½“æ¡†æ¶å¿½ç•¥ç‰¹æ®Šæƒ…å†µæ˜¯å¾ˆå¿…è¦çš„ã€‚</em></p><h4 id="ç¡®å®šç¬¬ä¸€ä¸ªæç‚¹"><a href="#ç¡®å®šç¬¬ä¸€ä¸ªæç‚¹" class="headerlink" title="ç¡®å®šç¬¬ä¸€ä¸ªæç‚¹"></a>ç¡®å®šç¬¬ä¸€ä¸ªæç‚¹</h4><p><strong>ä¸€ä¸ªç»†èŠ‚</strong>ï¼šä¸Šæ–‡ä¸€å¼€å§‹æåˆ°çš„ç®—æ³•çš„æœ€å¼€å§‹çš„<strong>ç¬¬ä¸€ä¸ªæç‚¹</strong>å¦‚ä½•ç¡®å®šï¼Ÿ</p><p>ä»»ä½•ä¸€ä¸ªæç‚¹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å»è®¡ç®—å‡ºå“ªä¸ªç‚¹æ˜¯æç‚¹ã€‚å¯ä»¥é€‰å–yåæ ‡æœ€å°çš„ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ€ä½ç‚¹ï¼Œåœ¨æ²¡æœ‰é€€åŒ–çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç‚¹ä¸€å®šæ˜¯ä¸€ä¸ªæç‚¹ã€‚å¦‚æœæƒ…å†µé€€åŒ–ï¼Œæœ‰å¤šä¸ªæœ€ä½ç‚¹ï¼ˆå¦‚ä¾‹å›¾ä¸­æ‰€ç¤ºï¼‰ï¼Œæˆ‘ä»¬å°±å»é€‰xåæ ‡æœ€å°çš„é‚£ä¸ªç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ€å·¦è¾¹çš„ç‚¹å³å¯ã€‚è¿™ç§æ–¹æ³•é€‰å‡ºçš„ç‚¹ç§°ä¸º<strong>lowest-then-leftmost pointï¼ˆLTLï¼‰</strong>ã€‚<u>æ³¨æ„é€‰å–çš„è§„åˆ™çš„å…ˆåé¡ºåºï¼Œå…ˆé€‰lowestï¼Œè‹¥ç‚¹ä¸å”¯ä¸€å†é€‰leftmostã€‚</u></p><h3 id="Jarvis-March"><a href="#Jarvis-March" class="headerlink" title="Jarvis March"></a>Jarvis March</h3><p>ç±»æ¯”é€‰æ‹©æ’åºçš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¾—åˆ°çš„å‡¸åŒ…æ„é€ ç®—æ³•å°±æ˜¯<strong>Jarvis Marchç®—æ³•</strong>ï¼Œåˆç§°<strong><a href="https://en.wikipedia.org/wiki/Gift_wrapping_algorithm" target="_blank" rel="noopener">gift wrappingç®—æ³•</a></strong>ï¼ˆç®—æ³•è¿‡ç¨‹å¦‚åŒ…è£…ç¤¼ç‰©ä¸€æ ·ï¼‰ã€‚æ¥ä¸‹æ¥çœ‹ç®—æ³•å…·ä½“å®ç°æ–¹æ³•ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ToLeft</span><span class="params">(Point P, Point q, Point s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> area2 = p.x*q.y - p.y*q.x + q.x*s.y -q.y*s.x + s.x*p.y - s.y*p.x;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> area2 &gt;<span class="number">0</span> ; <span class="comment">//å·¦ä¾§ä¸ºçœŸ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LTL</span> <span class="params">(Point S[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ltl = <span class="number">0</span>; <span class="comment">//the lowest-then-leftmost point</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;n;k++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(S[k].y &lt; S[ltl].y || (S[k].y==S[ltl].y &amp;&amp; S[k].x&lt;S[ltl].x))</span><br><span class="line">            ltl =k;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> ltl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Javis</span><span class="params">(Point S[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">    S[k].extreme =FALSE; <span class="comment">//é¦–å…ˆå°†æ‰€æœ‰ç‚¹æ ‡è®°ä¸ºéæç‚¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> ltl=LTL(S, n); <span class="comment">//æ‰¾åˆ°LTL</span></span><br><span class="line">    <span class="keyword">int</span> k=ltl;  <span class="comment">//å°†LTLä½œä¸ºç¬¬ä¸€ä¸ªæç‚¹</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">    S[k].extrem = <span class="literal">true</span>; <span class="keyword">int</span> s =<span class="number">-1</span>; <span class="comment">//sæ˜¯è¦æ‰¾çš„ä¸‹ä¸€ä¸ªæç‚¹ï¼Œç”¨tå»å¾ªç¯æ‰¾</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> t=<span class="number">0</span>; t&lt;n; t++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(t != k &amp;&amp;t != s &amp;&amp; ( s == <span class="number">-1</span> || !ToLeft(S[K],S[s],S[t]) ) )</span><br><span class="line">                s = t; <span class="comment">//å¦‚æœtåœ¨pqçš„å³ä¾§ï¼Œåˆ™æ›´æ–°s</span></span><br><span class="line">        &#125;</span><br><span class="line">        S[k].succ = s; k = s; <span class="comment">//æ–°çš„æè¾¹pqç¡®å®š   </span></span><br><span class="line">        k = s; <span class="comment">//æ›´æ–°kçš„å€¼ï¼Œå˜ä¸ºä¸‹ä¸€æ¬¡æŸ¥æ‰¾çš„èµ·ç‚¹</span></span><br><span class="line">    &#125;<span class="keyword">while</span>(ltl != k) <span class="comment">//å¦‚æœå¾ªç¯å›åˆ°äº†åŸæ¥çš„ç‚¹ï¼Œåˆ™ç»“æŸ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¢³ç†"><a href="#æ¢³ç†" class="headerlink" title="æ¢³ç†"></a>æ¢³ç†</h3><ol><li>é¦–å…ˆï¼Œåˆå§‹åŒ–å°†æ‰€æœ‰ç‚¹éƒ½è®¾ä¸ºï¼šéæç‚¹</li><li>ç„¶åï¼Œå¼€å§‹æ‰¾åˆ°<u>ç¬¬ä¸€ä¸ªæç‚¹</u>ï¼ˆç”¨LTLæ–¹æ³•ï¼‰ï¼Œæ‰¾åˆ°ä¹‹åèµ‹å€¼ç»™k</li><li>æ¥ä¸‹æ¥ï¼Œå¼€å§‹æ‰¾<u>ä¸‹ä¸€ä¸ªæç‚¹</u>sï¼š<ul><li>ä¸»è¦ç”¨<code>ToLeft Test</code>æ¥æ‰¾å‡ºä¸‹ä¸€ä¸ªæç‚¹</li></ul></li><li>å¾ªç¯ç¬¬3æ­¥éª¤ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰æç‚¹</li></ol><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>æœ€ååˆ†æJarvis Marchç®—æ³•ç›¸è¾ƒäºå¢é‡æ„é€ æ³•çš„ä¼˜åŠ¿ã€‚äºŒè€…éƒ½æ˜¯O(n^2^)çš„å¤æ‚åº¦ï¼ŒJarvis Marchç®—æ³•çš„ä¼˜åŠ¿åœ¨äºå…¶çš„â€œ<strong>è¾“å‡ºæ•æ„Ÿæ€§ï¼ˆoutput sensitiveï¼‰</strong>â€ã€‚è€ƒè™‘ç‚¹é›†Sï¼Œå…±æœ‰nä¸ªç‚¹ï¼Œæ¥æ„é€ Sä¸Šçš„å‡¸åŒ…ã€‚</p><p>ä½•ä¸ºâ€œ<u>è¾“å‡ºæ•æ„Ÿæ€§</u>â€ï¼ŸJarvis Marchç®—æ³•æ¯æ¬¡æ–°åŠ å…¥ä¸€æ¡è¾¹éƒ½ä¼šè€—è´¹nçš„å¤æ‚åº¦ï¼Œä½†æ˜¯æ„é€ è¿‡ç¨‹ä¸€å…±ä¼šåŠ å…¥çš„è¾¹æ•°å¾€å¾€æ¯”nå°‘ã€‚å¦‚ä¸‹å›¾ï¼ˆè®¾n = 7ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20180206002208800.png" alt="img"></p><p>åœ¨éé€€åŒ–ä¸ºå…±çº¿çš„å‰æä¸‹ï¼Œæœ€å¥½æƒ…å†µä¸ºåªåŠ å…¥3æ¡è¾¹ï¼ˆå¤æ‚åº¦ä¸ºO(3n)ï¼‰ï¼Œæœ€åæƒ…å†µä¸ºæ‰€æœ‰ç‚¹éƒ½æ˜¯æç‚¹ï¼ŒåŠ å…¥n-1æ¡è¾¹ï¼ˆå¤æ‚åº¦ä¸ºO(n^2^)ï¼‰ã€‚å®é™…æƒ…å†µä¸­æœ€åæƒ…å†µå‡ºç°çš„å‡ ç‡å¾ˆå°ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæŒ‡æ ‡hæ¥è¡¡é‡å‡¸åŒ…çš„æè¾¹æ•°ï¼ˆthe size of convex hullï¼‰ï¼š<br>$$<br>h = |CH(S)|<br>$$<br>Jarvis Marchç®—æ³•ç®—æ³•çš„å¤æ‚åº¦<strong>æ›´å‡†ç¡®çš„è¡¨ç¤ºä¸ºO(nh)ã€‚</strong>håˆç”±æœ€ç»ˆè¾“å‡ºç»“æœï¼Œå³å‡¸åŒ…æœ¬èº«æ¥å†³å®šï¼Œè¾“å‡ºç»“æœå†³å®šäº†æ„é€ è¿‡ç¨‹çš„å¤æ‚åº¦ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œè¾“å‡ºæ•æ„Ÿæ€§â€ã€‚è¿™ç§ç±»å‹çš„ç®—æ³•åˆè¢«ç§°ä¸ºoutput sensitive algorithmã€‚è¿™ç§ç‰¹æ€§åœ¨å…¶å®ƒå‡¸åŒ…ç®—æ³•ä¸­ä¹Ÿä¼šä½“ç°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¸åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Convex Hull(å‡¸åŒ…)</title>
      <link href="/archives/510d.html"/>
      <url>/archives/510d.html</url>
      
        <content type="html"><![CDATA[<p>è¿™å±±ä¹‹é«˜ï¼Œå°±å«å‡¸ç¢§ï¼›å±±ä¹‹ä½æ´¼è¿‘æ°´å¤„ï¼Œå°±å«ä½œå‡¹æ™¶ã€‚è¿™å‡¸ã€å‡¹äºŒå­—ï¼Œå†æ¥ç”¨çš„äººæœ€å°‘ï¼Œå¦‚ä»Šç›´ç”¨åšè½©é¦†ä¹‹åï¼Œæ›´è§‰æ–°é²œï¼Œä¸è½çª è‡¼ã€‚</p><a id="more"></a><h1 id="æ¬§æ‹‰å…¬å¼"><a href="#æ¬§æ‹‰å…¬å¼" class="headerlink" title="æ¬§æ‹‰å…¬å¼"></a>æ¬§æ‹‰å…¬å¼</h1><p>ç®€å•ä»‹ç»ä¸€ä¸‹æ¬§æ‹‰å…¬å¼ï¼š</p><p>è™šæ•°ä¸­ï¼ši^2^=-1 ; i=âˆš(-1)</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/1573819506389.png" alt="1573819506389"></p><p>å…¶ä¸­Î¸ä¸ºå®æ•°ï¼Œiè¡¨ç¤ºè™šæ•°ä¸­çš„è™šæ•°å•ä½ iï¼›</p><p>æ¬§æ‹‰æ’ç­‰å¼ï¼š</p><p>å½“Î¸=Ï€æ—¶ï¼›</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/1573820164006.png" alt="1573820164006"></p><p>å‡ ä½•å­¦ä¸­çš„æ¬§æ‹‰å…¬å¼ï¼š</p><p><code>V-E+F=2</code> ã€vï¼šå‡ ä½•ä½“çš„é¡¶ç‚¹æ•°ï¼›Eï¼šè¾¹æ•°ï¼›Fï¼šé¢æ•°ã€‘</p><h1 id="å‡¸åŒ…"><a href="#å‡¸åŒ…" class="headerlink" title="å‡¸åŒ…"></a>å‡¸åŒ…</h1><p><strong>å‡¸åŒ…</strong>ï¼šæ¯”å¦‚ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šå¾ˆå¤šé’‰å­é’‰åœ¨æœ¨æ¿ä¸Šé¢ï¼Œç„¶åç”¨ä¸€ä¸ªçš®ç­‹å°†è¿™äº›é’‰å­åŒ…å›´èµ·æ¥ï¼Œå½“æˆ‘ä»¬æ¾æ‰‹åï¼Œçš®ç­‹å°±æŠŠè¿™äº›å®šåœ¨å…¨éƒ½åŒ…å›´èµ·æ¥ã€‚æ­¤æ—¶ï¼Œè¿™ä¸ªçš®ç­‹æ‰€å½¢æˆçš„å‡¸å¤šè¾¹å½¢å°±å«<strong>å‡¸åŒ…</strong>ã€‚å¦‚ä¸‹å›¾çš„è“è‰²çš„å¤šè¾¹å½¢å°±æ˜¯å‡¸åŒ…ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304214005104.png" alt="ç»¿è‰²çº¿åœˆè®°ä¸ºå‡¸åŒ…"></p><h2 id="å‡¸æ€§-Convexity"><a href="#å‡¸æ€§-Convexity" class="headerlink" title="å‡¸æ€§(Convexity)"></a>å‡¸æ€§(Convexity)</h2><p>ä¸‹å›¾ä¸­ï¼Œå‡è®¾x,y,zæ˜¯ä¸‰ç§é¢œè‰²ï¼Œå¦‚æœä»…ä»¥x,yå°±èƒ½è°ƒå‡ºæ¥çš„é¢œè‰²ï¼Œé‚£ä¹ˆå¦‚uæ‰€ç¤ºå®ƒä¸€å®šä¼šè½åœ¨x,yä¸­ï¼›è‹¥éœ€è¦x,y,zä¸‰ç§ ä¸€èµ·ï¼Œé‚£ä¹ˆå¦‚væ‰€ç¤ºä¼šè½åœ¨ä»¥x,y,zä¸‰ç‚¹è¿æˆçš„ä¸‰è§’å½¢å†…éƒ¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-386fd3aaf073885dd32ab6241e9a0452_720w.jpg" alt="å‡¸æ€§"></p><h2 id="æç‚¹-Extreme-Point"><a href="#æç‚¹-Extreme-Point" class="headerlink" title="æç‚¹(Extreme Point)"></a>æç‚¹(Extreme Point)</h2><p>æœ‰ä¸€ä¸ªç‚¹é›†Sã€‚å¦‚æœå­˜åœ¨é€šè¿‡ç‚¹Pçš„ç›´çº¿Lï¼Œä½¿å¾—ç‚¹é›†Sä¸­é™¤äº†ç‚¹Pä¹‹å¤–çš„å…¶ä»–çš„ç‚¹éƒ½åœ¨è¿™ä¸ªç›´çº¿çš„åŒä¸€ä¾§ï¼Œåˆ™è¿™ä¸ªç‚¹På°±æ˜¯<strong>æç‚¹(Extreme Points)</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304214843584.png" alt="æç‚¹"></p><ul><li><p><strong>åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦ä¸ºæç‚¹</strong>ï¼šè¯¥ç‚¹Pæ˜¯å¦ä¼šè¢«åŒ…å«åœ¨å…¶ä»–ç‚¹ä¸­ä»»æ„ä¸‰ä¸ªç‚¹å½¢æˆçš„ä¸‰è§’å½¢ä¸­ï¼Œå¦‚æœç‚¹Pä¸åœ¨ä»»ä½•ä¸‰è§’å½¢å†…éƒ¨ï¼Œåˆ™è¯´æ˜ç‚¹Pæ˜¯æç‚¹ã€‚åä¹‹ï¼Œåˆ™ä¸æ˜¯æç‚¹ã€‚å¦‚ä¸‹å›¾ï¼š</p><p>ä¸‹å›¾ä¸­ï¼ŒSå°±ä¸æ˜¯æç‚¹ï¼Œå› ä¸ºä»–åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304220601816.png" alt="åˆ¤æ–­æç‚¹"></p><h2 id="åˆ¤æ–­æç‚¹çš„ç®—æ³•"><a href="#åˆ¤æ–­æç‚¹çš„ç®—æ³•" class="headerlink" title="åˆ¤æ–­æç‚¹çš„ç®—æ³•"></a>åˆ¤æ–­æç‚¹çš„ç®—æ³•</h2><h3 id="In-Trangle-Test"><a href="#In-Trangle-Test" class="headerlink" title="In-Trangle Test"></a>In-Trangle Test</h3><p><strong>ç®—æ³•æè¿°ä¼ªä»£ç </strong>ï¼šå…¶å®è¿™ä¸ªç®—æ³•å°±æ˜¯åˆ¤æ–­ç‚¹æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304221051234.png" alt="In-Trangle Test"></p><p><strong>ä»£ç å®ç°ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304221130677.png" alt="ç®—æ³•å®ç°"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">extremePoint</span> <span class="params">(<span class="built_in">point</span> S[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> s=<span class="number">0</span>; s&lt;n; s++)</span><br><span class="line">        S[s].extreme = TRUE;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;n; p++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> q=p+<span class="number">1</span>; q&lt;n; q++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> r=q+<span class="number">1</span>; r&lt;n; r++)</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> s=<span class="number">0</span>; s&lt;n; s++)</span><br><span class="line">                &#123;</span><br><span class="line"><span class="keyword">if</span>(s==p || s==q || s==r ||!S[s].extreme)</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(Intriangle(S[p],S[q],S[r],S[s]))</span><br><span class="line">                        S[s].extreme = FALSE;</span><br><span class="line">                &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯çŸ¥ï¼Œè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^4^)ï¼Œå…¶å®æŒºå¤§çš„ï¼Œåœ¨åé¢æˆ‘ä»¬ä¼šè¿›ä¸€æ­¥æ”¹å–„ã€‚</p><p>è¿™æ ·åŸºäºæç‚¹çš„å‡¸åŒ…ç®—æ³•è™½ç„¶æ•ˆç‡ä¸é«˜ï¼Œä½†æ˜¯å®ƒä¼šå¼•å‡ºä¸€ä¸ªéå¸¸é‡è¦çš„æ“ä½œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>To-Left Test</strong><br>åœ¨åé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæµ‹è¯•å‡ ä¹æ˜¯è´¯ç©¿äºæˆ‘ä»¬è®¡ç®—å‡ ä½•è¿™ä¸ªè¯¾ç¨‹çš„å§‹ç»ˆçš„ã€‚å¦‚æœè¯´æˆ‘ä»¬åˆšæ‰æ‰€ç»™å‡ºçš„é‚£ä¸ªç®—æ³•è¿˜æœ‰ä»€ä¹ˆéœ€è¦è¡¥å……çš„è¯å…¶å®æœ€é‡è¦çš„ä¹Ÿå°±æ˜¯é‚£æ ·çš„ä¸€ä¸ªç»†èŠ‚ä¹Ÿå°±æ˜¯æ‰€è°“çš„<strong>In-Triangle test</strong>ã€‚</p><h4 id="To-Left-Test"><a href="#To-Left-Test" class="headerlink" title="To-Left Test"></a>To-Left Test</h4><p>æˆ‘ä»¬å°†åˆšæ‰è¿™ä¸ªIn-Triangle Testè½¬åŒ–ä¸ºä¸‰æ¬¡To-Leftæµ‹è¯•ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªç‚¹å¦‚æœç¡®å®è½åœ¨æŸä¸€ä¸ªä¸‰è§’å½¢çš„å†…éƒ¨çš„è¯é‚£ä¹ˆç›¸å¯¹äºè¿™ä¸ªä¸‰è§’å½¢çš„ä¸‰æ¡è¾¹æ‰€åšçš„è¿™ä¸ªTo-Leftæµ‹è¯•éƒ½ä¼šç»Ÿä¸€çš„è¿”å›trueæˆ–è€…ç»Ÿä¸€åœ°è¿”å›falseã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304223141504.png" alt="To-Left Test"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InTriangle</span><span class="params">(Point p, Point q, Point r, Point s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> pqLeft = ToLeft(p, q, s);</span><br><span class="line">    <span class="keyword">bool</span> qrLeft = ToLeft(q, r, s);</span><br><span class="line">    <span class="keyword">bool</span> rpLeft = ToLeft(r, p, s);</span><br><span class="line">    <span class="keyword">return</span> (pdLeft == qrLeft) &amp;&amp; (qrLeft == rqLeft);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>To-Leftæµ‹è¯•æ˜¯ç›¸å¯¹äºå¦å¤–è¿™ä¸¤ä¸ªç‚¹æ‰€ç¡®å®šçš„é‚£æ¡<strong>æœ‰å‘</strong>ç›´çº¿è€Œè¨€çš„ï¼Œä»»ä½•ä¸€æ¡æœ‰å‘ç›´çº¿ä¸ä»…ä¼šæŠŠå¹³é¢åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çŸ¥é“å“ªä¸€è¾¹æ˜¯å·¦è¾¹ï¼Œå“ªä¸€è¾¹æ˜¯å³è¾¹ã€‚To-Leftï¼Œå…¶å®å°±æ˜¯è¯´è¿™ä¸ªç‚¹ç›¸å¯¹äºåˆšæ‰çš„é‚£æ¡æœ‰å‘çº¿è€Œè¨€åˆ°åº•æ˜¯ä½äºå®ƒçš„å·¦ä¾§ï¼Œè¿˜æ˜¯å³ä¾§ã€‚å¦‚æœæ˜¯å‰è€…å°±æ˜¯trueï¼Œå¦åˆ™çš„è¯å°±æ˜¯falseã€‚å› ä¸ºä¸‰è§’å½¢æœ‰ä¸‰æ¡è¾¹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨ä¸‰æ¬¡To-Left Testã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304223826387.png" alt="INT=3*TLT"></p><p><strong>To-Left Testå…·ä½“å®ç°</strong>ï¼š</p><p>è¿™é‡Œç”¨åˆ°äº†è¡Œåˆ—å¼æ¥æ±‚ä¸‰è§’å½¢é¢ç§¯ï¼ˆè‡³äºåŸç†ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼‰ã€‚ä¸‹å›¾ä¸­çš„è¿™ä¸ªè¡Œåˆ—å¼å®é™…ä¸Šç®—çš„é¦–å…ˆæ˜¯å®ƒçš„é¢ç§¯çš„<strong>ä¸¤å€</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200304224456126.png" alt="To-Left Test"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ToLeft</span><span class="params">(Point p, Point q, Point s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Area2(p, q, s) &gt; <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Area2</span><span class="params">(Point p, Point q, Point s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">        p.x * q.y - p.y * q.x </span><br><span class="line">       +q.x * s.y - q.y * s.x</span><br><span class="line">       +s.x * p.y - s.y *p.x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œçš„é¢ç§¯å…¶å®æ˜¯â€œæœ‰å‘é¢ç§¯â€ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™é‡Œçš„é¢ç§¯åˆ†æ­£è´Ÿï¼ˆç›¸å¯¹äºè¿™æ ·ä¸€ä¸ªé€†æ—¶é’ˆçš„<br>ä¸€ä¸ªç¼–å·pqsçš„è¿™æ ·çš„ä¸€ä¸ªé¢ç§¯ ä¸ såœ¨å³ä¾§ä¹Ÿå°±æ˜¯æŒ‰ç…§é¡ºæ—¶é’ˆçš„pqsæ‰€æ„æˆçš„é¢ç§¯è™½ç„¶æœ‰å¯èƒ½å¤§å°æ˜¯ä¸€æ ·å®Œå…¨å¯¹ç§°ä½†æ˜¯å®ƒä»¬çš„ç¬¦å·æ˜¯ç›¸åçš„ï¼‰ã€‚æ•´ä¸ªè¿™ä¸ªTo-Leftçš„æµ‹è¯•çš„<strong>åˆ¤æ–­çš„ä¾æ®ä¹Ÿå°±åœ¨äºè¿™ä¸ªç¬¦å·</strong>ã€‚</p><p>è¿™ä¸ªè¡Œåˆ—å¼å–æ­£æ¡ä»¶ä¸ºï¼šå½“ä¸”ä»…å½“sä½äºpqæ‰€ç¡®å®šçš„è¿™æ¡æœ‰å‘ç›´çº¿çš„å·¦ä¾§ã€‚å…¶ä¸­è½¬æ¢æˆä»£ç ä¹Ÿæ˜¯éå¸¸ç®€æ˜çš„ï¼Œä»£ç å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p><p>è‡³æ­¤ï¼ŒTo-Left Testå®ç°å®Œæˆã€‚</p><h2 id="æè¾¹-Extreme-Edge"><a href="#æè¾¹-Extreme-Edge" class="headerlink" title="æè¾¹(Extreme Edge)"></a>æè¾¹(Extreme Edge)</h2><p><strong>æè¾¹</strong>ï¼šä¸¤ä¸ªæç‚¹è¿æˆçš„è¾¹ï¼Œå‰©ä½™çš„æ‰€æœ‰ç‚¹å‡ä¼šåœ¨è¯¥è¾¹çš„ä¸€ä¾§ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-534df0cc332ead89da7586c99c22dd5f_720w.jpg" alt="æè¾¹"></p><p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºæè¾¹</strong>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200308231616965.png" alt="image-20200308231616965"></p><ul><li><strong>ä»£ç å®ç°</strong>ï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200308231916308.png" alt="markEE"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">markEE</span><span class="params">(<span class="built_in">point</span> S[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">        S[k].extreme = FALSE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> p=<span class="number">0</span>; p&lt;n; p++) <span class="comment">//test</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> q=p+<span class="number">1</span>; q&lt;n; q++) <span class="comment">//æ£€éªŒæ¯ä¸€æ¡è¾¹</span></span><br><span class="line">            checkEdge(S,n,p,q) <span class="comment">//æœ‰å‘è¾¹pq</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200308231932585.png" alt="checkEdge"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">checkEdge</span><span class="params">(Point S[], <span class="keyword">int</span> n, <span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> LEmpty =TRUE, REmpty =TRUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n &amp;&amp; (LEmpty || REmpty); k++) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k != p &amp;&amp; k != q)</span><br><span class="line">            ToLeft(S[p], S[q], S[k]) ? LEmpty=FALSE : REmpty=FALSE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(LEmpty || REmpty)</span><br><span class="line">        S[p].extreme=S[q].extreme=TRUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç°çš„æ­¥éª¤ï¼š</p><ol><li><p>åˆå§‹æ—¶ï¼Œå…ˆå‡è®¾æ‰€æœ‰çš„ç‚¹éƒ½ä¸æ˜¯æç‚¹ã€‚</p></li><li><p>å¼€å§‹éç‚¹é›†Sä¸­çš„ç‚¹ï¼Œå®ƒä»¬ä¸¤ä¸¤ç»„åˆæˆä¸€ä¸ªçº¿æ®µï¼Œç„¶åè¿›è¡ŒcheckEdge(æ£€æŸ¥è¿™äº›çº¿æ®µæ˜¯å¦æ˜¯æè¾¹)ã€‚</p><p>æ£€æŸ¥çš„æ–¹æ³•<code>checkEdge</code>ï¼š</p><p>åˆ©ç”¨ToLeftæµ‹è¯•ï¼Œæ¯æ¬¡éƒ½å°†å½“å‰çš„çº¿æ®µä¸å…¶ä»–ç‚¹ï¼ˆå³ï¼Œé™¤äº†è¿™ä¸¤ä¸ªç‚¹ä¹‹å¤–çš„ç‚¹ï¼‰è¿›è¡ŒToLeftæµ‹è¯•<strong>ï¼Œå¦‚æœæµ‹è¯•ç»“æœä¸­ï¼šLEmptyã€REmpty å…¶ä¸­ä¹‹ä¸€ä¸ºtrueï¼Œå°±è¡¨æ˜è¿™ä¸¤ä¸ªç‚¹æ„æˆçš„çº¿æ®µä¸º*æè¾¹*ï¼Œè€Œä¸”åŒæ—¶ä¹Ÿæ£€æµ‹å‡ºè¿™ä¸¤ä¸ªç‚¹æ˜¯*æç‚¹*ã€‚</strong>ï¼ˆå…¶å®ä¸¤ä¸ªç‚¹ç»„æˆçš„çº¿æ®µè¿›è¡Œ<code>checkEdge</code>çš„ç»“æœä¸­çš„LEmptyã€REmptyæœ€å¤šåªæœ‰ä¸€ä¸ªæ˜¯true,å› ä¸ºè¿™é‡Œä¸å­˜åœ¨ä¸€æ¡è¾¹çš„ä¸¤ä¾§éƒ½æ²¡æœ‰å…¶ä»–ç‚¹çš„æƒ…å†µï¼‰</p></li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">markEE</span><span class="params">(Point S[], <span class="keyword">int</span> n)</span> <span class="comment">//n&gt;2</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt;n; k ++)</span><br><span class="line">        S[k].extreme = False; <span class="comment">//å…ˆå‡è®¾æ‰€æœ‰çš„ç‚¹éƒ½ä¸æ˜¯æç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; n; p ++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> q = p + <span class="number">1</span>; q &lt; n; q ++)</span><br><span class="line">            checkEdge(S, n, p, q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">checkEdge</span><span class="params">(Point S[], <span class="keyword">int</span> n, <span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">//LEmptyã€REmptyè¡¨ç¤ºæ”¹è¾¹çš„å·¦ä¾§ã€å³ä¾§ï¼Œç­‰äºTrueæ—¶è¡¨ç¤ºè¯¥ä¾§æ˜¯æ²¡æœ‰ç‚¹çš„ã€‚</span></span><br><span class="line">    <span class="keyword">bool</span> LEmpty = True, REmpty = True;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n &amp;&amp; (LEmpty || REmpty); k ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(k != p &amp;&amp; k != q)</span><br><span class="line">        &#123;</span><br><span class="line">            ToLeft(S[p], S[q], S[k]) ? LEmpty = False : REmpty = False;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(LEmpty || REmpty)</span><br><span class="line">        S[p].extreme = S[q].extreme = True;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ ·å¯åˆ©ç”¨æ­¤æ¥åˆ¤æ–­æ˜¯å¦æ˜¯æç‚¹ï¼ˆå¤æ‚åº¦ä¸ºO(n^3)ï¼‰ã€‚</p><h1 id="è¡¥ï¼šæ ¹æ®æè§’æ’åº"><a href="#è¡¥ï¼šæ ¹æ®æè§’æ’åº" class="headerlink" title="è¡¥ï¼šæ ¹æ®æè§’æ’åº"></a>è¡¥ï¼šæ ¹æ®æè§’æ’åº</h1><p><strong>å®šä¹‰ï¼š</strong></p><p>æˆ‘ä»¬å¹³å¸¸æ‰€ä½¿ç”¨çš„åæ ‡ç³»éƒ½æ˜¯ç›´è§’åæ ‡ç³»ï¼Œè€Œæè§’æ’åºæ˜¯åœ¨æåæ ‡ç³»ä¸‹è¿›è¡Œçš„ã€‚<br>è¿™é‡Œé¦–å…ˆè¦é€‰å–ä¸€ä¸ªç‚¹ï¼Œç„¶åå…¶å®ƒç‚¹æ ¹æ®ä¸å‚è€ƒç‚¹çš„è¿çº¿ä¸xè½´æ‰€æˆçš„å¤¹è§’çš„å¤§å°è¿›è¡Œæ’åºçš„ã€‚<br>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ä¸ºç»•ç€ä¸€ä¸ªç‚¹é€†æ—¶é’ˆè½¬åœˆè®¿é—®ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/1-1584641857659.png" alt="æè§’æ’åº"></p><p><strong>ä»£ç ï¼š</strong></p><p>åœ¨è®²å…·ä½“å®ç°æ–¹æ³•ä¹‹å‰ï¼Œå…ˆç»™å‡ºç”¨åˆ°çš„å‡½æ•°å’Œç»“æ„ä½“ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>//å­˜å‚¨ç‚¹</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> x,y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">cross</span><span class="params">(<span class="keyword">double</span> x1,<span class="keyword">double</span> y1,<span class="keyword">double</span> x2,<span class="keyword">double</span> y2)</span>ã€€<span class="comment">//è®¡ç®—å‰ç§¯</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (x1*y2-x2*y1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">compare</span><span class="params">(<span class="built_in">point</span> a,<span class="built_in">point</span> b,<span class="built_in">point</span> c)</span><span class="comment">//è®¡ç®—æè§’</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cross((b.x-a.x),(b.y-a.y),(c.x-a.x),(c.y-a.y));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>åˆ©ç”¨å‰ç§¯çš„æ­£è´Ÿæ¥æ’åº</p><blockquote><p>ã€€å…³äºå‰ç§¯ï¼šå‰ç§¯=0æ˜¯æŒ‡ä¸¤å‘é‡å¹³è¡Œï¼ˆé‡åˆï¼‰ï¼›å‰ç§¯&gt;0ï¼Œåˆ™å‘é‡aåœ¨å‘é‡bçš„é¡ºæ—¶é’ˆæ–¹å‘ï¼ˆç²—ç•¥çš„ç†è§£ä¸ºåœ¨aåœ¨bçš„ä¸‹æ–¹ï¼‰ï¼›å‰ç§¯&lt;0ï¼Œåˆ™å‘é‡aåœ¨å‘é‡bçš„é€†æ—¶é’ˆæ–¹å‘ï¼ˆç²—ç•¥çš„ç†è§£ä¸ºåœ¨aåœ¨bçš„ä¸Šæ–¹ï¼‰</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">point</span> a,<span class="built_in">point</span> b)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">point</span> c;<span class="comment">//åŸç‚¹</span></span><br><span class="line">    c.x = <span class="number">0</span>;</span><br><span class="line">    c.y = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(compare(c,a,b)==<span class="number">0</span>)<span class="comment">//è®¡ç®—å‰ç§¯ï¼Œå‡½æ•°åœ¨ä¸Šé¢æœ‰ä»‹ç»ï¼Œå¦‚æœå‰ç§¯ç›¸ç­‰ï¼ŒæŒ‰ç…§Xä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">        <span class="keyword">return</span> a.x&lt;b.x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> compare(c,a,b)&gt;<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”¨ complex çš„å†…å»ºå‡½æ•°ï¼Œç®—å‡ºæè§’å¤§å°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> x real()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> y imag()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> Point&amp; p1, <span class="keyword">const</span> Point&amp; p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg(p1) &lt; arg(p2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”¨ arctan è®¡ç®—æè§’å¤§å°ã€‚æ³¨æ„è§’çš„å¤§å°èŒƒå›´æ˜¯(-180Â°, +180Â°]ã€‚å¼§åº¦è¡¨ç¤ºã€‚è¿™é‡Œç”¨ arctan2 å‡½æ•°åº”è¯¥æ˜¯ä¸ºäº†æé«˜ç²¾åº¦ã€‚</p><blockquote><p>å…³äºatan2()å‡½æ•°ï¼šåœ¨Cè¯­è¨€çš„math.hæˆ–C++ä¸­çš„cmathä¸­æœ‰ä¸¤ä¸ªæ±‚åæ­£åˆ‡çš„å‡½æ•°atan(double x)ä¸atan2(double y,double x) ä»–ä»¬è¿”å›çš„å€¼æ˜¯å¼§åº¦è¦è½¬åŒ–ä¸ºè§’åº¦å†è‡ªå·±å¤„ç†ä¸‹ã€‚</p><p>å‰è€…æ¥å—çš„æ˜¯ä¸€ä¸ªæ­£åˆ‡å€¼ï¼ˆç›´çº¿çš„æ–œç‡ï¼‰å¾—åˆ°å¤¹è§’ï¼Œä½†æ˜¯ç”±äºæ­£åˆ‡çš„è§„å¾‹æ€§æœ¬å¯ä»¥æœ‰ä¸¤ä¸ªè§’åº¦çš„ä½†å®ƒå´åªè¿”å›ä¸€ä¸ªï¼Œå› ä¸ºatançš„å€¼åŸŸæ˜¯ä»-90Â°~90Â° ä¹Ÿå°±æ˜¯å®ƒåªå¤„ç†ä¸€å››è±¡é™ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨å®ƒã€‚</p><p><strong>æ¨èè¿™ä¸ª</strong>ï¼šç¬¬äºŒä¸ªatan2(double y,double x) å…¶ä¸­yä»£è¡¨å·²çŸ¥ç‚¹çš„Yåæ ‡ï¼ŒåŒç†x ,è¿”å›å€¼æ˜¯æ­¤ç‚¹ä¸è¿œç‚¹è¿çº¿ä¸xè½´æ­£æ–¹å‘çš„å¤¹è§’ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥å¤„ç†å››ä¸ªè±¡é™çš„ä»»æ„æƒ…å†µäº†ï¼Œå®ƒçš„å€¼åŸŸç›¸åº”çš„ä¹Ÿå°±æ˜¯-180~180äº†</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(<span class="keyword">const</span> Point&amp; p1, <span class="keyword">const</span> Point&amp; p2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">atan2</span>(p1.y, p1.x) &lt; <span class="built_in">atan2</span>(p2.y, p2.x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å…ˆåˆ¤æ–­è±¡é™ï¼Œå†ç”¨å¤–ç§¯åˆ¤æ–­é¡ºåºï¼Œæœ€åæ ¹æ®é•¿åº¦æ’åºã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Quadrant</span><span class="params">(<span class="built_in">point</span> a)</span>ã€€ã€€<span class="comment">//è±¡é™æ’åºï¼Œæ³¨æ„åŒ…å«å››ä¸ªåæ ‡è½´</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.x&gt;<span class="number">0</span>&amp;&amp;a.y&gt;=<span class="number">0</span>)  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.x&lt;=<span class="number">0</span>&amp;&amp;a.y&gt;<span class="number">0</span>)  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.x&lt;<span class="number">0</span>&amp;&amp;a.y&lt;=<span class="number">0</span>)  <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span>(a.x&gt;=<span class="number">0</span>&amp;&amp;a.y&lt;<span class="number">0</span>)  <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp3</span><span class="params">(<span class="built_in">point</span> a,<span class="built_in">point</span> b)</span>  <span class="comment">//å…ˆæŒ‰è±¡é™ä»å°åˆ°å¤§æ’åº å†æŒ‰æè§’ä»å°åˆ°å¤§æ’åº</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Quadrant(a)==Quadrant(b))<span class="comment">//è¿”å›å€¼å°±æ˜¯è±¡é™</span></span><br><span class="line">        <span class="keyword">return</span> cmp1(a,b);</span><br><span class="line">    <span class="keyword">else</span> Quadrant(a)&lt;Quadrant(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="å‘é‡çš„ç‚¹ä¹˜ä¸å‰ä¹˜çš„å‡ ä½•æ„ä¹‰"><a href="#å‘é‡çš„ç‚¹ä¹˜ä¸å‰ä¹˜çš„å‡ ä½•æ„ä¹‰" class="headerlink" title="å‘é‡çš„ç‚¹ä¹˜ä¸å‰ä¹˜çš„å‡ ä½•æ„ä¹‰"></a>å‘é‡çš„ç‚¹ä¹˜ä¸å‰ä¹˜çš„å‡ ä½•æ„ä¹‰</h2><p>å‘é‡çš„<strong>ç‚¹ä¹˜ï¼ˆå†…ç§¯ï¼‰</strong>ï¼š</p><p>$$<br>\vec{a} \cdot \vec{b}=|\vec{a}| \cdot |\vec{b}|\cdot cos\theta<br>$$<br>ç‚¹ä¹˜çš„å‡ ä½•æ„ä¹‰æ˜¯å¯ä»¥ç”¨æ¥è¡¨å¾æˆ–è®¡ç®—ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’ï¼Œä»¥åŠåœ¨bå‘é‡åœ¨aå‘é‡æ–¹å‘ä¸Šçš„æŠ•å½±</p><p>å‘é‡çš„<strong>å‰ä¹˜ï¼ˆå¤–ç§¯ï¼‰</strong>ï¼š<br>$$<br>\vec{a} \times \vec{b}=|\vec{a}| \cdot |\vec{b}|\cdot sin\theta<br>$$<br>å‘é‡ç§¯è¢«å®šä¹‰ä¸ºï¼š</p><ul><li><p>æ¨¡é•¿ï¼šï¼ˆåœ¨è¿™é‡ŒÎ¸è¡¨ç¤ºä¸¤å‘é‡ä¹‹é—´çš„å¤¹è§’(å…±èµ·ç‚¹çš„å‰æä¸‹)ï¼ˆ0Â° â‰¤ Î¸ â‰¤ 180Â°ï¼‰ï¼Œå®ƒä½äºè¿™ä¸¤ä¸ªçŸ¢é‡æ‰€å®šä¹‰çš„å¹³é¢ä¸Šã€‚ï¼‰</p></li><li><p>æ–¹å‘ï¼šaå‘é‡ä¸bå‘é‡çš„å‘é‡ç§¯çš„æ–¹å‘ä¸è¿™ä¸¤ä¸ªå‘é‡æ‰€åœ¨å¹³é¢å‚ç›´ï¼Œä¸”éµå®ˆå³æ‰‹å®šåˆ™ã€‚ï¼ˆä¸€ä¸ªç®€å•çš„ç¡®å®šæ»¡è¶³â€œå³æ‰‹å®šåˆ™â€çš„ç»“æœå‘é‡çš„æ–¹å‘çš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼šè‹¥åæ ‡ç³»æ˜¯æ»¡è¶³å³æ‰‹å®šåˆ™çš„ï¼Œå½“å³æ‰‹çš„å››æŒ‡ä»aä»¥ä¸è¶…è¿‡180åº¦çš„è½¬è§’è½¬å‘bæ—¶ï¼Œç«–èµ·çš„å¤§æ‹‡æŒ‡æŒ‡å‘æ˜¯cçš„æ–¹å‘ã€‚<strong>c</strong> = <strong>a</strong> âˆ§ <strong>b</strong>ï¼‰</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/afa5c98582b08ef4bac175d7bb5c9bda80adcaab.png@968w_1346h.webp" alt="å‰ä¹˜"></p><p>ç‰¹åˆ«çš„ï¼Œåœ¨äºŒç»´ä¸­ï¼Œä¸¤ä¸ªå‘é‡çš„å‘é‡ç§¯çš„æ¨¡çš„ç»å¯¹å€¼ç­‰äºç”±è¿™ä¸¤å¤©å‘é‡ç»„æˆçš„å¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/62a0493b8bb7f29f2655190b718be3d029e6750e.png@960w_750h.webp" alt="å‘é‡ç§¯"></p><p>å‘é‡çš„å‰ä¹˜ï¼Œå³æ±‚åŒæ—¶å‚ç›´ä¸¤ä¸ªå‘é‡çš„å‘é‡ï¼Œå³cå‚ç›´äºaï¼ŒåŒæ—¶cå‚ç›´äºbï¼ˆaä¸cçš„å¤¹è§’ä¸º90Â°ï¼Œbä¸cçš„å¤¹è§’ä¸º90Â°ï¼‰</p><h1 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h1><p><strong>æè§’æ’åº</strong>ï¼š<a href="https://sumygg.com/2013/07/30/Sorting-Points-by-Polar-Angle/" target="_blank" rel="noopener">https://sumygg.com/2013/07/30/Sorting-Points-by-Polar-Angle/</a></p><p><strong>å…³äºæè§’æ’åºï¼š</strong><a href="https://www.cnblogs.com/aiguona/p/7248311.html" target="_blank" rel="noopener">https://www.cnblogs.com/aiguona/p/7248311.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¸åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„é€ å‡¸åŒ…-å¢é‡æ„é€ æ³•</title>
      <link href="/archives/7c53.html"/>
      <url>/archives/7c53.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨å¼•å…¥æ–°ç®—æ³•ä¹‹å‰é¦–å…ˆæ¥å›é¡¾ä¸€ä¸‹ç»å…¸çš„ç®—æ³•æ€æƒ³ï¼šå‡æ²»ï¼ˆdecrease and conquerï¼‰ï¼Œæ³¨æ„ä¸æ˜¯åˆ†æ²»ï¼ˆdivided and conquerï¼‰ï¼ŒäºŒè€…<a href="https://www.geeksforgeeks.org/decrease-and-conquer/" target="_blank" rel="noopener">ç¨æœ‰åŒºåˆ«</a>ã€‚ç®€å•æ¥è®²å°±æ˜¯å°†é—®é¢˜åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªç®€å•çš„å°é—®é¢˜ï¼Œå‡è€Œæ²»ä¹‹ï¼Œé€ä¸ªæ±‚è§£ï¼Œæœ€ç»ˆå°±èƒ½å¾—åˆ°æ•´ä¸ªé—®é¢˜çš„è§£ã€‚</p><p>å‡æ²»æ³•çš„ç»å…¸ä¾‹å­å°±æ˜¯æ’å…¥æ’åºï¼ˆinsertion sortï¼‰ã€‚æ’å…¥æ’åºçš„è¿‡ç¨‹å¯ä»¥å½’ç»“æˆä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200315172527.png" alt="img"></p><p>æ’åºçš„è¿‡ç¨‹ä¸­å°†åºåˆ—åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå·²æ’åºéƒ¨åˆ†ï¼ˆsortedï¼‰å’Œæœªæ’åºéƒ¨åˆ†ï¼ˆunsortedï¼‰ã€‚æ¯æ¬¡æ’åºéƒ½æ˜¯ä»unsortedä¸­æ‹¿å‡ºä¸€ä¸ªå…ƒç´ ï¼Œé€šè¿‡ä¸€æ¬¡<strong>é¡ºåºæŸ¥æ‰¾</strong>è¿‡ç¨‹åœ¨sortedéƒ¨åˆ†ä¸­æ‰¾åˆ°ä½ç½®å¹¶æ’å…¥å…¶ä¸­ã€‚</p><p>æ•´ä¸ªæ’å…¥æ’åºçš„è¿‡ç¨‹å°±æ˜¯é€ä¸ªå…ƒç´ çš„å»â€œèš•é£Ÿâ€unsortedéƒ¨åˆ†çš„è¿‡ç¨‹ï¼Œè¿ç»­çš„è¿›è¡Œè¿™ä¸ªæ“ä½œå°±ä¼šå°†æ•´ä¸ªé—®é¢˜è§£å†³ã€‚è¿™ç§å°†å¤§é—®é¢˜åˆ†è§£æˆå°é—®é¢˜çš„å‡æ²»è¿‡ç¨‹ï¼Œåˆè¢«çœ‹æˆä¸€ç§é€’å¢çš„ã€å¢é‡å¼çš„ç­–ç•¥ï¼ˆincremental strategyï¼‰ã€‚è¿™ç§æ€æƒ³ä¸ºè§£å†³å‡¸åŒ…é—®é¢˜æä¾›äº†æ–°çš„æ€è·¯ï¼šä»é€ä¸ªæ’å…¥æ–°ç‚¹çš„è§’åº¦æ„é€ å‡¸åŒ…ã€‚</p><p>å…¸å‹æµç¨‹å¦‚ä¸‹å›¾ï¼ˆæ ‡è¯†ä¸ºï¼šæç‚¹/æ•´ä½“è§„æ¨¡ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200311222412367.png" alt="image-20200311222412367"></p><p>æ’å…¥æ–°çš„ç‚¹å¯èƒ½çš„æƒ…å†µæœ‰ï¼š</p><blockquote><ul><li>æ–°ç‚¹å¯¹å‡¸åŒ…æœ‰â€œè´¡çŒ®â€ï¼Œä¾‹å¦‚5/5â†’6/6ï¼Œ6/6â†’7/7ï¼›</li><li>æ–°ç‚¹ä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰â€œè´¡çŒ®â€ï¼Œä¾‹å¦‚7/7â†’7/8ï¼›</li><li>è¿˜æœ‰å¯èƒ½ä½¿åŸå…ˆæœ‰â€œè´¡çŒ®â€çš„ç‚¹å¤±æ•ˆï¼Œæç‚¹æ•°é‡å‡å°‘ï¼Œä¾‹å¦‚7/8â†’6/9ã€‚<br>é‚£ä¹ˆå¦‚ä½•å¯¹ä¸åŒæƒ…å†µè¿›è¡Œå¤„ç†å‘¢ï¼Ÿ</li></ul></blockquote><h3 id="ç¡®å®šæ–°ç‚¹ä¸ç°æœ‰å‡¸åŒ…çš„å…³ç³»-in-convex-polygon-test"><a href="#ç¡®å®šæ–°ç‚¹ä¸ç°æœ‰å‡¸åŒ…çš„å…³ç³»-in-convex-polygon-test" class="headerlink" title="ç¡®å®šæ–°ç‚¹ä¸ç°æœ‰å‡¸åŒ…çš„å…³ç³»~in-convex-polygon test"></a>ç¡®å®šæ–°ç‚¹ä¸ç°æœ‰å‡¸åŒ…çš„å…³ç³»~in-convex-polygon test</h3><p>æ„é€ è¿‡ç¨‹çš„æ ¸å¿ƒç®—æ³•åº”è¯¥æ˜¯ï¼š<strong>åˆ¤å®šå¾…å®šç‚¹æ˜¯å¦ä½äºæŸå¤šè¾¹å½¢å†…éƒ¨ï¼ˆin-convex-polygon testï¼‰</strong>ã€‚å†çœ‹ä¸Šå›¾æµç¨‹ï¼Œå®é™…ä¸Šæ¯æ­¥çš„æ ¸å¿ƒå°±æ˜¯åˆ¤æ–­ç‚¹ä½äºå¤šè¾¹å½¢å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ï¼Œè‹¥è½åœ¨å¤–éƒ¨ï¼Œåˆ™æ–°æ’å…¥çš„ç‚¹å°±æ˜¯ä¸‹ä¸€ä¸ªæç‚¹ï¼Œå¦åˆ™èˆå¼ƒã€‚</p><p>è€ƒè™‘åŸºæœ¬æƒ…å†µï¼Œç»™å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªå¤šè¾¹å½¢ï¼Œå¦‚ä½•é«˜æ•ˆåˆ¤æ–­è¯¥ç‚¹ä¸å¤šè¾¹å½¢çš„ä½ç½®å…³ç³»å‘¢ï¼Ÿ</p><ul><li><p>ä¸€ç§æ€è·¯æ˜¯ï¼šæˆ‘ä»¬å¯ä»¥å…ˆå¯¹å¤šè¾¹å½¢è¿›è¡Œä¸€ä¸ªâ€œ<strong>é¢„å¤„ç†</strong>â€ï¼Œç»™æ¯ä¸ªç‚¹æŒ‰åºç¼–å·ï¼Œç±»æ¯”<strong>æœ‰åºå‘é‡äºŒåˆ†æŸ¥æ‰¾</strong>çš„æ€æƒ³ï¼Œæ¥é€æ­¥ç¼©å°è§„æ¨¡ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-3e18e3822557820d852899d5c503f62a_720w.jpg" alt="img"></p><p>é¦–å…ˆä»»é€‰ä¸€ç‚¹ä¸ºåŸºå‡†ç‚¹ï¼ˆè“è‰²ç‚¹ï¼‰ï¼Œç„¶åç”¨äºŒåˆ†æ³•é€‰å–å…¶ä½™ç‚¹çš„â€œä¸­ç‚¹â€œï¼ˆé¢„å¤„ç†å·²ç»ä¸ºæ‰€æœ‰ç‚¹æ’äº†åºï¼‰ï¼Œç„¶ååˆ¤æ–­åŸºå‡†ç‚¹åˆ°ç»ˆç‚¹çš„æœ‰å‘ç›´çº¿ä¸å¾…å®šç‚¹çš„ä½ç½®å…³ç³»<strong>ï¼ˆto-left testï¼‰</strong>ã€‚ç„¶åå¯å°†æœç´¢èŒƒå›´å‡åŠï¼Œåå¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°æœ€åé€€åŒ–ä¸ºå¹³å‡¡æƒ…å†µï¼šä¸‰è§’å½¢ä¸ç‚¹çš„ä½ç½®å…³ç³»<strong>ï¼ˆin-triangle testï¼‰</strong>ã€‚</p></li></ul><p>åˆ†æä¸€ä¸‹ç®—æ³•çš„æ•´ä½“å¤æ‚åº¦ï¼šæ•´ä¸ªç®—æ³•å…±log(n)æ­¥ï¼Œæ¯æ­¥çš„to-left testæˆ–in-triangle testéƒ½ä¸ºå¸¸æ•°æˆæœ¬ï¼Œåˆ™æ•´ä½“å¤æ‚åº¦ä¸ºlog(n)ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬ä¼¼ä¹å¾—åˆ°äº†ä¸€ä¸ªlog(n)çš„â€œé«˜æ•ˆâ€ç®—æ³•ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•çœŸçš„å¯è¡Œå—ï¼Ÿ</p><blockquote><p>æ³¨æ„ï¼Œæ¯æ­¥éƒ½ä¼šå°†åŸå‡¸åŒ…è§„æ¨¡å‡åŠï¼Œä¹Ÿå°±æ˜¯è¯´å‡¸åŒ…æ˜¯<strong>åŠ¨æ€çš„</strong>ï¼Œéšæ—¶å¯èƒ½å˜åŒ–ã€‚è¿™ç§æ–¹æ³•å’Œæç‚¹æ³•æˆ–æè¾¹æ³•ä¸­é™æ€æŸ¥æ‰¾çš„æƒ…å†µæ˜¯å®Œå…¨ä¸åŒçš„ã€‚</p><p>ç±»æ¯”æ’å…¥æ’åºçš„è¿‡ç¨‹æ¥è§£é‡Šè¿™ä¸ªé—®é¢˜ã€‚ä¸ºä½•æ’å…¥æ’åºçš„å¤æ‚åº¦æ˜¯n^2^è€Œénlog(n)ï¼Ÿæ¯æ¬¡æ’å…¥æ—¶ï¼Œæ—¢ç„¶sortedéƒ¨åˆ†å·²ç»æœ‰åºï¼Œä¸ºä½•ä¸ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥å–ä»£é¡ºåºæŸ¥æ‰¾ï¼ˆå¤æ‚åº¦ç”±nå˜ä¸ºlog(n)ï¼‰ï¼Ÿè¿™ä¸å¾—ä¸è€ƒè™‘sortedéƒ¨åˆ†çš„åŠ¨æ€æ€§ï¼Œæ¯æ¬¡æ’å…¥åå®ƒçš„ç»“æ„éƒ½ä¼šæ”¹å˜ï¼Œè€ŒäºŒåˆ†æŸ¥æ‰¾å¿…é¡»åœ¨é™æ€ç»“æ„ä¸­å®ç°ã€‚å½“ç„¶å¯ä»¥ä½¿ç”¨std::vectorè¿™ç±»æ”¯æŒæŒ‰ç§©è®¿é—®ï¼ˆcall by rankï¼‰çš„æ•°æ®ç»“æ„ï¼Œä½†æ˜¯æ’å…¥æ—¶ç»´æŠ¤vectorçš„æˆæœ¬ä¾æ—§æ˜¯çº¿æ€§å¤æ‚åº¦ã€‚å› æ­¤æ’å…¥æ’åºçš„æ€»ä½“å¤æ‚åº¦æ˜¯n^2^ã€‚è¦å¤„ç†çš„å‡¸åŒ…ä¸æ’å…¥æ’åºä¸­sortedéƒ¨åˆ†æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬éƒ½ä¸æ˜¯é™æ€ä¸å˜çš„ç»“æ„ï¼Œè€Œè¦éšç€ç®—æ³•æ‰§è¡Œè€Œä¸æ–­å˜åŒ–ã€‚è‹¥è¦æ¯æ¬¡åœ¨log(n)æˆæœ¬ä¸‹å®Œæˆå¾…å®šç‚¹çš„in-convex-polygon testï¼Œå¿…é¡»å°†å‡¸åŒ…å­˜å‚¨ä¸ºç±»ä¼¼vectorçš„æ•°æ®ç»“æ„ï¼Œä½†æ˜¯æ¯æ¬¡å‘è¿™ç§æ•°æ®ç»“æ„æ’å…¥æ–°ç‚¹çš„æˆæœ¬ä¾æ—§æ˜¯çº¿æ€§çš„ã€‚å› æ­¤å¯¹å‡¸åŒ…è¿›è¡Œçš„æ‰€è°“â€œé¢„å¤„ç†â€æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè¿™ç§å‡æ²»ç­–ç•¥ç®—æ³•å¤æ‚åº¦æœ€ä½åº”è¯¥ä¸ºO(n^2^)ã€‚</p></blockquote><p>åˆ°ç°åœ¨é—®é¢˜ä¾æ—§æ²¡æœ‰è§£å†³ï¼Œç©¶ç«Ÿå¦‚ä½•ç”¨è¿™ç§å¢é‡å¼çš„ç­–ç•¥æ¥æ„é€ å‡¸åŒ…ï¼Ÿå…¶å®å¤æ‚é—®é¢˜ä¸­æœ€æœ´ç´ ã€æœ€åŸºæœ¬çš„æ–¹æ³•åè€Œæ˜¯æœ€æœ‰æ•ˆçš„ã€‚</p><p>in-convex-polygon testæœ€åŸºæœ¬çš„æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿå°±æ˜¯æŒ‰ä¸€å®šæ–¹å‘ï¼ˆçº¦å®šä¸ºé€†æ—¶é’ˆï¼‰å‡¸åŒ…çš„æ¯æ¡è¾¹å’Œå¾…å®šç‚¹åš<strong>to-left test</strong>ï¼Œä¸€æ—¦æœ‰ä¸€æ¬¡testä¸ºfalseå°±èƒ½æ–­å®šç‚¹åœ¨å‡¸åŒ…å¤–é¢ã€‚è¿™å®é™…ä¸Šå°±æ˜¯å°†in-triangle testæ¨å¹¿å¤šè¾¹å½¢çš„æƒ…å†µã€‚å› æ­¤æ¯æ¬¡in-convex-polygon testçš„æˆæœ¬å°±ä¼šå˜æˆå½“å‰å‡¸åŒ…çš„è§„æ¨¡ï¼Œä¹Ÿå°±æ˜¯nã€‚å¯¹äºæ¯ä¸ªæ–°ç‚¹åšä¸€æ¬¡in-convex-polygon testï¼Œæ„é€ ç®—æ³•çš„æ•´ä½“å¤æ‚åº¦å°±æ˜¯O(n^2^)ã€‚ç®—æ³•çš„å¤æ‚åº¦ä»æè¾¹æ³•çš„O(n^3^)åˆä¸‹é™äº†ä¸€ä¸ªæ•°é‡çº§ã€‚</p><p><strong>å…¶å®å¢é‡ç®—æ³•çš„æ•´ä¸ªæ€è·¯å¯ä»¥åˆ†æˆä¸¤å—ï¼š</strong></p><ul><li><strong>1ã€å¦‚ä½•åˆ¤æ–­å‡¸åŒ…ä¸æ–°ç‚¹çš„ä½ç½®å…³ç³»ï¼ˆin-convex-polygon testï¼‰</strong></li><li><strong>2ã€å¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹</strong></li></ul><p>ä¸Šé¢çš„æ–¹æ³•å·²ç»è§£å†³äº†ç¬¬ä¸€ä¸ªé—®é¢˜ã€‚ç¬¬äºŒä¸ªé—®é¢˜çœ‹ä¸‹é¢éƒ¨åˆ†ï¼š</p><h3 id="å¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹-support-line"><a href="#å¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹-support-line" class="headerlink" title="å¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹~support-line"></a>å¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹~support-line</h3><p>ç°åœ¨æ¥è®¨è®ºå¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹ï¼š</p><p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªç‚¹ï¼Œåº”è¯¥å¦‚ä½•æ’å…¥å‡¸åŒ…ä¹‹ä¸­å‘¢ï¼Ÿ</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200311230823679.png" alt="æ–°ç‚¹å‡†å¤‡æ’å…¥ç°æœ‰å‡¸åŒ…"></p><p><strong>æ’å…¥è¿‡ç¨‹</strong>ï¼šå°†æ–°ç‚¹xæ’å…¥åŸå‡¸åŒ…çš„è¿‡ç¨‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¯»æ‰¾ä¸¤ä¸ªè¿æ¥ç‚¹så’Œtï¼Œå°†xå’Œtã€såˆ†åˆ«è¿æ¥å¾—åˆ°æ–°çš„å‡¸åŒ…ã€‚æ³¨æ„tå’Œsä¸¤ç‚¹å°†æ•´ä¸ªåŸå‡¸åŒ…è¾¹ç•Œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šstå’Œtsä¸¤ä¸ªæœ‰å‘æ®µã€‚æ„é€ æ–°å‡¸åŒ…å°±è¦ä¿ç•™è¿œç«¯stã€èˆå¼ƒè¿‘ç«¯tsã€‚å–ä»£è¿‘ç«¯tsçš„ä¸¤æ¡çº¿å°±æ˜¯xå’Œtçš„è¿çº¿xtå’Œxsï¼Œè¢«ç§°ä¸º<strong>åˆ‡çº¿ï¼ˆtangentï¼‰</strong>æˆ–è€…<strong>support lineï¼ˆæ”¯æ’‘çº¿ï¼‰</strong>ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-8afbf4ebfa808eec9ffff8c111ae6465_720w.jpg" alt="img"></p><p><strong>é‚£å¦‚ä½•æŸ¥æ‰¾tã€sè¿™ä¸¤ä¸ªç‚¹å‘¢ï¼Ÿ</strong></p><blockquote><p>æˆ‘ä»¬åœ¨å‡¸åŒ…ä¸Šä»»å–ä¸€ç‚¹vï¼ŒæŒ‰<u>é€†æ—¶é’ˆ</u>æ–¹å‘vç‚¹ä¼šæœ‰ä¸€ä¸ªç›´æ¥å‰é©±ç‚¹å’Œç›´æ¥åç»§ç‚¹ã€‚è€ƒå¯Ÿæœ‰å‘ç›´çº¿xvä¸ç‚¹vç›´æ¥å‰é©±å’Œç›´æ¥åç»§çš„ä½ç½®å…³ç³»ï¼ˆä¸¤æ¬¡to left testï¼‰ï¼Œè®°å½•ä¸ºä¸€ä¸ª<strong>patternè¡¨</strong>ã€‚</p><p>ç»“æœæ— éæ˜¯å››ç§æƒ…å†µï¼švçš„ç›´æ¥å‰é©±å’Œç›´æ¥åç»§ç›¸å¯¹äºæœ‰å‘ç›´çº¿xvçš„ä½ç½®æ˜¯RLï¼ŒLRï¼ŒLLï¼ŒRRã€‚ä¾‹å¦‚ä¸Šå›¾é»„è‰²ç‚¹vï¼Œæ˜¯Rå’ŒLï¼›è“è‰²ç‚¹våˆ†åˆ«æ˜¯Lå’ŒRã€‚å®é™…ä¸Šå‡¸åŒ…è¾¹ç•Œstä¸Šæ‰€æœ‰ç‚¹çš„patternéƒ½ä¸ºRLï¼Œtsä¸Šæ‰€æœ‰ç‚¹çš„patternéƒ½ä¸ºLRã€‚å…³é”®ç‚¹åœ¨äºï¼šç‚¹Sçš„patternæ˜¯LLï¼Œç‚¹tçš„patternä¸ºRRã€‚</p></blockquote><p>å› æ­¤å¯¹å‡¸åŒ…è¾¹ç•Œæ¯ä¸ªç‚¹åš<strong>ä¸¤æ¬¡to left test</strong>ï¼Œåˆ¤æ–­å…¶patternå°±å¯æ‰¾å‡ºså’Œtï¼ŒèŠ±è´¹æ—¶é—´æˆæœ¬ä¸ºå¸¸æ•°ã€‚</p><h3 id="incremental-construction"><a href="#incremental-construction" class="headerlink" title="incremental construction"></a>incremental construction</h3><p>å†æ¥å›é¡¾æ•´ä¸ªå‡¸åŒ…æ„é€ ç®—æ³•çš„ä¸¤å¤§é—®é¢˜ï¼šin-convex-polygon testå’Œæ’å…¥æ–°ç‚¹ã€‚åˆ†å¼€è€ƒè™‘åªæ˜¯ä¸ºäº†å°†æ€è·¯ç®€åŒ–ï¼Œå®é™…ä¸Šè¿™ä¸¤ä¸ªé—®é¢˜å¯ä»¥å¥—ç”¨ä¸€ä¸ªç®—æ³•ï¼ŒåŒæ—¶æ¥è§£å†³ã€‚</p><p>å…·ä½“åšæ³•å°±æ˜¯ï¼šå¯¹äºæ¯ä¸ªå¾…å®šç‚¹xï¼Œ<u>ä¸å¿…ç‰¹æ„å»è€ƒè™‘å®ƒä¸å‡¸åŒ…çš„ä½ç½®å…³ç³»</u>ï¼Œ<u>è€Œæ˜¯éå†å‡¸åŒ…ä¸Šæ¯ä¸€ä¸ªç‚¹</u>ã€‚</p><blockquote><p>å¯¹äºå‡¸åŒ…<strong>è¾¹ç•Œ</strong>ä¸Šçš„æ¯ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬éƒ½èƒ½é€šè¿‡ä¸¤æ¬¡to left testè¿…é€Ÿåˆ¤æ–­å‡ºpatternã€‚</p><p>å¯¹äºxä½äºå‡¸åŒ…<strong>å¤–éƒ¨</strong>çš„æƒ…å†µï¼Œç»è¿‡éå†å‡¸åŒ…çš„ç‚¹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å¾—åˆ°så’Œtçš„ä½ç½®ï¼Œå¾—åˆ°ä¸¤æ¡support lineï¼Œä»è€Œæ„é€ å‡ºæ–°çš„å‡¸åŒ…ï¼›</p><p>è€Œå¯¹äºxä½äºå‡¸åŒ…<strong>å†…éƒ¨</strong>çš„æƒ…å†µï¼Œå‡¸åŒ…è¾¹ç•Œæ¯ä¸ªç‚¹éƒ½ä¸å¯èƒ½å‡ºç°RRæˆ–LLçš„æƒ…å†µï¼Œç›´æ¥èˆå¼ƒxå³å¯ã€‚</p></blockquote><p>æ¯æ¬¡éå†å‡¸åŒ…è¾¹ç•Œç‚¹çš„å¤æ‚åº¦ä¸ºO(n)ï¼Œæ•´ä¸ªæ„é€ è¿‡ç¨‹è¦å¢é‡å¼çš„é€ç‚¹è€ƒå¯Ÿï¼Œè‡ªç„¶å¾—åˆ°äº†ä¸€ä¸ª<strong>O(n^2^)</strong>çš„incremental constructionç®—æ³•ã€‚</p><p>è¿™å°±æ˜¯æ‰€è°“å¢é‡æ„é€ æ³•æ¥æ„é€ å‡¸åŒ…çš„è¿‡ç¨‹ã€‚æ„é€ è¿‡ç¨‹å·§å¦™çš„é¿å¼€äº†ç‰¹æ®Šå¤„ç†è¯¸å¦‚5/5â†’6/6ã€7/7â†’7/8ã€7/8â†’6/9ç­‰å¤æ‚æƒ…å†µï¼Œé‡‡ç”¨ä¸€è‡´çš„æ€è·¯é€ä¸ªè€ƒå¯Ÿâ€œæ–°ç‚¹â€ï¼Œæœ€ç»ˆå®Œæˆå‡¸åŒ…çš„æ„é€ ã€‚</p><h3 id="ä»£ç éƒ¨åˆ†"><a href="#ä»£ç éƒ¨åˆ†" class="headerlink" title="ä»£ç éƒ¨åˆ†"></a>ä»£ç éƒ¨åˆ†</h3><p>å¾…å†™â€¦â€¦..</p><h2 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h2><p><strong>å…¶å®å¢é‡ç®—æ³•çš„æ•´ä¸ªæ€è·¯å¯ä»¥åˆ†æˆä¸¤å—ï¼š</strong></p><ul><li><strong>1ã€å¦‚ä½•åˆ¤æ–­å‡¸åŒ…ä¸æ–°ç‚¹çš„ä½ç½®å…³ç³»ï¼ˆin-convex-polygon testï¼‰</strong></li><li><strong>2ã€å¦‚ä½•å‘å‡¸åŒ…æ’å…¥æ–°ç‚¹</strong></li></ul>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡¸åŒ… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 7</title>
      <link href="/archives/5a757a52.html"/>
      <url>/archives/5a757a52.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part7/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part7/</a></p><p>ä¹‹å‰çš„é‚£å‡ å°ç»“ï¼Œæˆ‘ä»¬éƒ½æ˜¯æŠŠinterpreterçš„ä»£ç å’Œparserçš„ä»£ç æ··åœ¨ä¸€èµ·ï¼Œè€Œä¸”interpreteråœ¨parserè¯†åˆ«å‡ºä¸€ä¸ªå¦‚åŠ å‡ä¹˜é™¤ä¹‹ç±» çš„ç‰¹å®šçš„è¯­è¨€ç»“æ„(language construct)åï¼Œå°±ä¼šç«‹åˆ»å¯¹å®ƒè¿›è¡Œæ±‚å€¼ã€‚è¿™ç§ interpreter è¢«ç§°ä¸º <strong>è¯­æ³•å¯¼å‘è§£é‡Šå™¨</strong>(syntax-directed interpreter)ã€‚</p><blockquote><p>ä»–ä»¬é€šå¸¸åœ¨è¾“ å…¥ä¸Šåšä¸€ä¸ª pass ä¸”åªé€‚åˆåŸºç¡€çš„è¯­è¨€åº”ç”¨ã€‚</p></blockquote><p>ä¸ºäº†åˆ†ææ›´å¤æ‚çš„ç¼–ç¨‹è¯­è¨€ Pascal çš„ç»“æ„ï¼Œ æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ª <strong>ä¸­é—´è¡¨ç¤º</strong> (intermediate representation, <strong>IR)</strong>ã€‚</p><blockquote><p>parser ä¼š è´Ÿè´£æ„å»º IR</p><p>interpreter ä¼šç”¨æ¥è§£é‡Šç”± IR æ‰€ä»£è¡¨çš„è¾“å…¥ã€‚</p></blockquote><p>äº‹å®è¯æ˜æ ‘æ˜¯ä¸€ä¸ªè¡¨ç¤º IR éå¸¸åˆé€‚çš„æ•°æ®ç»“æ„ã€‚å…³äºæ•°çš„ä¸€äº›æœ¯è¯­terminologyï¼š</p><ul><li>æ ‘æ˜¯ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç»“ç‚¹ç»„æˆçš„å±‚æ¬¡æ•°æ®ç»“æ„ã€‚</li><li>æ ‘æœ‰ä¸€ä¸ª<strong>æ ¹ç»“ç‚¹</strong>ï¼Œå°±æ˜¯é¡¶éƒ¨ç»“ç‚¹ã€‚</li><li>é™¤æ ¹ç»“ç‚¹å¤–çš„æ‰€æœ‰ç»“ç‚¹æœ‰å”¯ä¸€ ä¸€ä¸ª<strong>çˆ¶ç»“ç‚¹</strong>ã€‚</li><li>ä¸‹å›¾ä¸­ç»“ç‚¹ä¸º*çš„æ˜¯ä¸€ä¸ªçˆ¶ç»“ç‚¹ã€‚ç»“ç‚¹ä¸º 2 å’Œ 7 çš„æ˜¯å®ƒçš„å­ç»“ç‚¹ï¼›å­ç»“ç‚¹ä»å·¦åˆ°å³æ’åºã€‚</li><li>æ²¡æœ‰å­ç»“ç‚¹çš„ç»“ç‚¹ç§°ä¸º<strong>å¶å­ç»“ç‚¹</strong>ã€‚</li><li>æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå­ç»“ç‚¹çš„éæ ¹ç»“ç‚¹è¢«ç§°ä¸º<strong>ä¸­é—´ç»“ç‚¹</strong>ã€‚</li><li>å­ç»“ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®Œå…¨å­æ ‘ã€‚ä¸‹å›¾ä¸­ç»“ç‚¹ï¼‹çš„å·¦å­æ ‘ï¼ˆç»“ç‚¹ä¸º*ï¼‰å°±æ˜¯ä¸€ä¸ªæœ‰è‡ªå·±å­ç»“ç‚¹çš„ å®Œå…¨å­æ ‘ã€‚</li><li>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­æˆ‘ä»¬æŠŠæ ‘å€’è¿‡æ¥ç”»ï¼Œæ ¹ç»“ç‚¹åœ¨æœ€ä¸Šè¾¹ï¼Œåˆ†æå‘ä¸‹ç”Ÿé•¿ã€‚</li></ul><p>ä¸‹é¢æ˜¯è¡¨è¾¾å¼ 2 * 7 + 3 çš„å¸¦æœ‰è§£é‡Šçš„æ ‘å½¢è¡¨ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_tree_terminology.png" alt="lsbasi_part7_tree_terminology"></p><p>æœ¬ç³»åˆ—ä¸­æˆ‘ä»¬ä¼šç”¨åˆ°çš„ IR è¢«ç§°ä¸º <strong>æŠ½è±¡è¯­æ³•æ ‘</strong> (abstract-syntax tree, AST)ã€‚ä½†åœ¨æ·± å…¥äº†è§£ AST ä¹‹å‰è®©æˆ‘ä»¬ç®€å•èŠèŠ <strong>è§£ææ ‘</strong> (parse tree)ã€‚</p><blockquote><p>å°½ç®¡æˆ‘ä»¬ä¸ä¼šåœ¨è§£é‡Šå™¨å’Œç¼–è¯‘ å™¨ä¸­ç”¨åˆ°è§£ææ ‘ï¼Œä½†å®ƒä¼šé€šè¿‡å¯è§†åŒ– parser æ‰§è¡Œè½¨è¿¹çš„æ–¹æ³•ï¼ŒåŠ æ·±ä½ å¯¹ parser å¦‚ä½•è§£é‡Š è¾“å…¥çš„ç†è§£ã€‚æˆ‘ä»¬ä¹Ÿä¼šå°†å®ƒå’Œ AST åšæ¯”è¾ƒï¼Œæ¥è¡¨æ˜ä¸ºä»€ä¹ˆ AST æ¯”è§£ææ ‘æ›´é€‚åˆç”¨æ¥åš IRã€‚</p></blockquote><p>é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯è§£ææ ‘å‘¢ï¼Ÿ</p><ul><li>è§£ææ ‘ï¼ˆæœ‰æ—¶å«åš <strong>å…·ä½“è¯­æ³•æ ‘<em>concrete syntax tree</em></strong> ï¼‰æ˜¯ä¸€ä¸ªæ ¹æ®æˆ‘ä»¬çš„è¯­æ³•å®šä¹‰æ¥ è¡¨ç¤ºä¸€é—¨è¯­è¨€çš„å¥æ³•ç»“æ„çš„æ ‘å½¢ç»“æ„ã€‚å®ƒåŸºæœ¬ä¸Šå±•ç¤ºäº†ä½ çš„ parser å¦‚ä½•è¯†åˆ«è¯­è¨€ç»“æ„æˆ–è€…ï¼Œ æ¢å¥è¯è¯´ï¼Œå®ƒå±•ç¤ºäº†ä½ è¯­æ³•çš„å¼€å§‹ç¬¦å·æ€ä¹ˆæ´¾ç”Ÿå‡ºè¯¥ç¼–ç¨‹è¯­è¨€ä¸­ä¸€ä¸ªç‰¹å®šçš„å­—ç¬¦ä¸²çš„ã€‚</li></ul><p>parser çš„è°ƒç”¨æ ˆéšå¼åœ°ä»£è¡¨äº†ä¸€ä¸ªè§£ææ ‘ï¼Œä¸”å½“parser åœ¨è¯•å›¾è¯†åˆ«ä¸€ä¸ªç‰¹å®šçš„è¯­è¨€ç»“æ„æ—¶ï¼Œè§£ææ ‘ å°±ä¼šè‡ªåŠ¨åœ°åœ¨å†…å­˜ä¸­æ„å»ºå‡ºæ¥ã€‚ä¸‹é¢æ˜¯è¡¨è¾¾å¼ 2 * 7 + 3 çš„è§£ææ ‘ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_parsetree_01.png" alt="lsbasi_part7_parsetree_01"></p><blockquote><p>åœ¨ä¸Šé¢çš„å›¾ç‰‡ä¸­å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>è§£ææ ‘è®°å½•äº† parser ç”¨æ¥è¯†åˆ«è¾“å…¥çš„ä¸€ç³»åˆ—è§„åˆ™ã€‚</li><li>è§£ææ ‘çš„æ ¹ç»“ç‚¹çš„æ ‡ç­¾æ˜¯è¯­æ³•çš„å¼€å§‹ç¬¦å·(start symbol)ã€‚</li><li>æ¯ä¸ªä¸­é—´ç»“ç‚¹è¡¨ç¤ºä¸€ä¸ªéç»ˆç»“ç¬¦(non-terminal)ï¼Œä»£è¡¨åº”ç”¨äº†ä¸€æ¡è¯­æ³•è§„åˆ™ï¼Œåƒæˆ‘ä»¬çš„æƒ…å†µé‡Œçš„ <code>expr</code>, <code>term</code>å’Œ <code>factor</code>.</li><li>æ¯ä¸ªå¶å­ç»“ç‚¹ä»£è¡¨äº†ä¸€ä¸ª token.</li></ul></blockquote><blockquote><p>æˆ‘ä»¬ä¸ä¼šæ‰‹åŠ¨æ„å»ºè§£ææ ‘ä¸”åœ¨æˆ‘ä»¬çš„è§£é‡Šå™¨ä¸­ç”¨åˆ°å®ƒï¼Œä½†è§£ææ ‘å¯ä»¥é€šè¿‡å¯è§†åŒ– è°ƒç”¨è¿‡ç¨‹å¸®åŠ©æˆ‘ä»¬ç†è§£ parser æ€ä¹ˆè§£é‡Šè¾“å…¥ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªåä¸º <a href="https://github.com/rspivak/lsbasi/blob/master/part7/python/genptdot.py" target="_blank" rel="noopener">genptdot.py</a> çš„å°åº”ç”¨ï¼ˆæˆ‘å¾ˆå¿«å†™å®Œç”¨æ¥å¸®åŠ©ä½ çš„ï¼‰ï¼Œæ¥æŸ¥çœ‹ä¸åŒçš„ ç®—æœ¯è¡¨è¾¾å¼çœ‹èµ·æ¥ä»€ä¹ˆæ ·ã€‚è¦ä½¿ç”¨è¿™ä¸ªåº”ç”¨ä½ é¦–å…ˆéœ€è¦å®‰è£… <a href="http://graphviz.org/" target="_blank" rel="noopener">Graphviz</a>åŒ…ï¼Œç„¶åè¿è¡Œä¸‹é¢çš„ å‘½ä»¤ï¼Œä½ å¯ä»¥æ‰“å¼€ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶ parsetree.png æŸ¥çœ‹ä½ ä»å‘½ä»¤è¡Œä¼ å…¥çš„è¡¨è¾¾å¼çš„è§£ææ ‘ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python genptdot.py <span class="string">"14 + 2 * 3 - 6 / 2"</span> &gt; \</span><br><span class="line">  parsetree.dot &amp;&amp; dot -Tpng -o parsetree.png parsetree.dot</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç”±è¡¨è¾¾å¼ 14 + 2 * 3 - 6 / 2 ç”Ÿæˆçš„å›¾ç‰‡ parsetree.png:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_genptdot_01.png" alt="lsbasi_part7_genptdot_01"></p></blockquote><h2 id="parser"><a href="#parser" class="headerlink" title="parser"></a>parser</h2><h3 id="æŠ½è±¡è¯­æ³•æ ‘-AST"><a href="#æŠ½è±¡è¯­æ³•æ ‘-AST" class="headerlink" title="æŠ½è±¡è¯­æ³•æ ‘(AST)"></a>æŠ½è±¡è¯­æ³•æ ‘(AST)</h3><p>ç°åœ¨æˆ‘ä»¬æ¥èŠèŠ<strong>æŠ½è±¡è¯­æ³•æ ‘(AST)</strong>ã€‚å®ƒæ˜¯åœ¨ä½™ä¸‹çš„æ–‡ç« ä¸­ä¼šå¤§é‡ç”¨åˆ°çš„ä¸­é—´è¡¨ç¤º(IR)ã€‚å®ƒæ˜¯æˆ‘ä»¬çš„è§£é‡Šå™¨å’Œæœªæ¥ç¼–è¯‘å™¨é¡¹ç›®çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚</p><p>è®©æˆ‘ä»¬ä»¥æŠŠè¡¨è¾¾å¼ 2 * 7 + 3 çš„ AST å’Œè§£ææ ‘æ”¾åœ¨ä¸€èµ·çœ‹æ¥å¼€å§‹æˆ‘ä»¬çš„è®¨è®ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_ast_01.png" alt="lsbasi_part7_ast_01"></p><p>ä»ä¸Šé¢çš„å›¾ç‰‡ä¸­å¯ä»¥çœ‹å‡ºï¼ŒASTæŠ“ä½äº†è¾“å…¥çš„ç²¾é«“ä¸”æ›´å°ã€‚</p><p><strong>AST å’Œè§£ææ ‘æœ€ä¸»è¦çš„åŒºåˆ«æœ‰</strong>ï¼š</p><blockquote><ul><li>AST ä½¿ç”¨æ“ä½œç¬¦/æ“ä½œ(operators/operations )ä½œä¸ºæ ¹ç»“ç‚¹ï¼Œæ“ä½œæ•°(operands)ä½œä¸ºå®ƒä»¬çš„å­ç»“ç‚¹ã€‚</li><li>ä¸åƒè§£ææ ‘ï¼ŒAST <strong>ä¸</strong>ä½¿ç”¨ä¸­é—´ç»“ç‚¹æ¥è¡¨ç¤ºè¯­æ³•è§„åˆ™ã€‚</li><li>AST å¹¶ä¸æŠŠçœŸå®å¥æ³•ä¸­çš„æ‰€æœ‰ç»“èŠ‚éƒ½è¡¨ç¤ºå‡ºæ¥ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒæ˜¯æŠ½è±¡çš„ï¼‰â”€â”€ä¾‹å¦‚ï¼Œæ²¡æœ‰ è§„åˆ™ç»“ç‚¹å’Œæ‹¬å·ã€‚</li><li>å¯¹äºç›¸åŒçš„è¯­è¨€ç»“æ„æ¥è¯´ï¼ŒAST ç›¸æ¯”äºè§£ææ ‘æ›´ç´§å‡‘ã€‚</li></ul></blockquote><p><strong>æŠ½è±¡è¯­æ³•æ ‘æ˜¯ä»€ä¹ˆ</strong>ï¼Ÿ</p><blockquote><p>æŠ½è±¡è¯­æ³•æ ‘(AST)æ˜¯è¡¨ç¤ºä¸€ä¸ªè¯­è¨€ç»“æ„çš„æŠ½è±¡å¥æ³•ç»“æ„çš„æ ‘å½¢è¡¨ç¤ºï¼Œå®ƒçš„ä¸­é—´ç»“ç‚¹å’Œæ ¹ç»“ç‚¹ä»£è¡¨äº†ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå­ç»“ç‚¹ä»£è¡¨äº†è¯¥æ“ä½œç¬¦çš„æ“ä½œæ•°ã€‚</p></blockquote><p>çœ‹ä¸€ä¸‹ASTä¸è§£ææ ‘å¯¹æ¯”ï¼Œæ˜¾ç°ä»–çš„ç´§å‡‘æ€§ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_ast_02.png" alt="lsbasi_part7_ast_02"></p><p><strong>å¦‚ä½•å°†æ“ä½œç¬¦çš„ä¼˜å…ˆçº§(precedence)ç¼–ç è¿› AST å‘¢ï¼Ÿ</strong></p><blockquote><p>ä¸ºäº†æŠŠæ“ä½œç¬¦ä¼˜å…ˆçº§ç¼–ç è¿› ASTï¼Œå³ï¼Œä¸ºäº†è¡¨ç¤ºâ€œX åœ¨ Y ä¹‹å‰å‘ç”Ÿâ€ä½ åªéœ€è¦åœ¨æ ‘ä¸­æŠŠ X æ”¾åœ¨ä½äº Y çš„ä½ç½®ã€‚ä½ åœ¨å‰é¢ çš„å›¾ç‰‡ä¸­å·²ç»è§è¿‡åˆ°äº†ã€‚</p><ul><li>ã€ä¾‹å­ã€‘ï¼šåœ¨ä¸‹é¢çš„å›¾ç‰‡ä¸­ï¼Œå·¦è¾¹æ˜¯è¡¨è¾¾å¼ 2 * 7 + 3 çš„ ASTã€‚è®©æˆ‘ä»¬ç”¨æ‹¬å·æŠŠ 7 + 3 å›´èµ·æ¥ä»¥æ”¹å˜ å®ƒçš„ä¼˜å…ˆçº§ã€‚åœ¨å³è¾¹æ˜¯ä¿®æ”¹åçš„è¡¨è¾¾å¼ 2 * (7 + 3) çš„ ASTï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_astprecedence_01.png" alt="lsbasi_part7_astprecedence_01"></p></blockquote><h4 id="ä»£ç å®ç°AST"><a href="#ä»£ç å®ç°AST" class="headerlink" title="ä»£ç å®ç°AST"></a>ä»£ç å®ç°AST</h4><p>å¥½äº†ï¼Œè®©æˆ‘ä»¬å†™äº›ä»£ç æ¥å®ç°ä¸åŒçš„ AST ç»“ç‚¹ç±» å¹¶ä¿®æ”¹æˆ‘ä»¬çš„ parser æ¥ç”ŸæˆåŒ…å«è¿™äº›ç»“ç‚¹çš„ AST æ ‘ï¼š</p><ul><li><p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªåŸºæœ¬ç»“ç‚¹ç±»å«åš ASTï¼Œå…¶ä»–ç±»ä¼šä»å®ƒç»§æ‰¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AST</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span> <span class="comment">#pass ä¸åšä»»ä½•äº‹æƒ…ï¼Œä¸€èˆ¬ç”¨åšå ä½è¯­å¥ã€‚å› ä¸ºå¦‚æœå®šä¹‰ä¸€ä¸ªç©ºå‡½æ•°ç¨‹åºä¼šæŠ¥é”™ï¼Œå½“ä½ æ²¡æœ‰æƒ³å¥½å‡½æ•°çš„å†…å®¹æ˜¯å¯ä»¥ç”¨ pass å¡«å……ï¼Œä½¿ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œã€‚</span></span><br></pre></td></tr></table></figure></li><li><p>å›å¿†ä¸€ä¸‹ AST è¡¨ç¤ºäº†<strong>æ“ä½œç¬¦-æ“ä½œæ•°</strong>æ¨¡å‹ã€‚åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬æœ‰4ä¸ªæ“ä½œç¬¦å’Œæ•´å‹æ“ä½œæ•°ã€‚æ“ä½œç¬¦æœ‰åŠ ã€å‡ã€ä¹˜ã€é™¤ã€‚æˆ‘ä»¬åŸæœ¬å¯ä»¥æ–°å»ºå•ç‹¬çš„ç±»æ¥è¡¨ç¤ºæ¯ä¸ªæ“ä½œç¬¦å¦‚ AddNode, SubNode, MulNode å’Œ DivNodeï¼Œç›¸åæˆ‘ä»¬åªä¼šæ–°å»ºä¸€ä¸ª BinOp ç±»æ¥è¡¨ç¤ºæ‰€æœ‰ 4 ä¸ª<strong>äºŒå…ƒæ“ä½œç¬¦*binary operator*</strong> ï¼ˆäºŒå…ƒæ“ä½œç¬¦å°±æ˜¯ä½œç”¨åœ¨ä¸¤ä¸ªæ“ä½œæ•°çš„æ“ä½œç¬¦ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinOp</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, left, op, right)</span>:</span></span><br><span class="line">    self.left = left</span><br><span class="line">    self.token = self.op = op</span><br><span class="line">    self.right = right</span><br></pre></td></tr></table></figure><ul><li>æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯ <code>left</code>, <code>op</code>, å’Œ <code>right</code>, å…¶ä¸­ <code>left</code> å’Œ <code>right</code> åˆ†åˆ«æŒ‡å‘äº†è¡¨ç¤º å·¦æ“ä½œæ•°å’Œå³æ“ä½œæ•°çš„ç»“ç‚¹ã€‚ <code>op</code> ä¿å­˜äº†æŒ‡å‘æ“ä½œç¬¦æœ¬èº«çš„ token: <code>Token(PLUS, &#39;+&#39;)</code> è¡¨ç¤ºåŠ æ“ä½œç¬¦ï¼Œ <code>Token(MINUS, &#39;-&#39;)</code> è¡¨ç¤ºå‡æ“ä½œç¬¦ï¼Œç­‰ç­‰ã€‚</li></ul></li><li><p>ä¸ºäº†åœ¨ AST ä¸­è¡¨ç¤ºæ•´æ•°ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª <code>Num</code> ç±»ï¼Œå®ƒå°†ä¿å­˜ä¸€ä¸ª <code>INTEGER</code> token å’Œè¯¥ token çš„å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Num</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, token)</span>:</span></span><br><span class="line">    self.token = token</span><br><span class="line">    self.value = token.value</span><br></pre></td></tr></table></figure><ul><li>å’Œä½ æ³¨æ„åˆ°çš„ä¸€æ ·ï¼Œæ‰€æœ‰çš„noteä¿å­˜ token ä»è€Œåˆ™åˆ›å»ºnote(all nodes store the token used to create the node)ã€‚è¿™ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œå°†æ¥ä¼šæ´¾ä¸Šç”¨åœºã€‚</li></ul></li></ul><p>å›å¿†ä¸€ä¸‹è¡¨è¾¾å¼ 2 * 7 + 3 çš„ ASTã€‚æˆ‘ä»¬ä¼šåœ¨ä»£ç ä¸­æ‰‹å·¥åˆ›å»ºè¯¥è¡¨è¾¾å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> spi <span class="keyword">import</span> Token, MUL, PLUS, INTEGER, Num, BinOp</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul_token = Token(MUL, <span class="string">'*'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plus_token = Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul_node = BinOp(</span><br><span class="line"><span class="meta">... </span>    left=Num(Token(INTEGER, <span class="number">2</span>)),</span><br><span class="line"><span class="meta">... </span>    op=mul_token,</span><br><span class="line"><span class="meta">... </span>    right=Num(Token(INTEGER, <span class="number">7</span>))</span><br><span class="line"><span class="meta">... </span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_node = BinOp(</span><br><span class="line"><span class="meta">... </span>    left=mul_node,</span><br><span class="line"><span class="meta">... </span>    op=plus_token,</span><br><span class="line"><span class="meta">... </span>    right=Num(Token(INTEGER, <span class="number">3</span>))</span><br><span class="line"><span class="meta">... </span>)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯åœ¨æ–°å®šä¹‰çš„ç»“ç‚¹ç±»ä¸‹ AST çš„æ ·å­ã€‚ä¸‹é¢çš„å›¾ç‰‡ä¹Ÿéµå¾ªäº†ä¸Šé¢æ‰‹å·¥åˆ›å»ºçš„è¿‡ç¨‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_astimpl_01.png" alt="lsbasi_part7_astimpl_01"></p><h3 id="parser-ä»£ç "><a href="#parser-ä»£ç " class="headerlink" title="parser ä»£ç "></a>parser ä»£ç </h3><p>ä¸‹é¢æ˜¯æˆ‘ä»¬ä¿®æ”¹è¿‡çš„ parser ä»£ç ï¼Œåœ¨è¯†åˆ«è¾“å…¥ï¼ˆç®—æœ¯è¡¨è¾¾å¼ï¼‰æ—¶å»ºç«‹å’Œè¿”å›ä¸€ä¸ª AST:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AST</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinOp</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, left, op, right)</span>:</span></span><br><span class="line">    self.left  = left</span><br><span class="line">    self.token = self.op = op</span><br><span class="line">    self.right = right</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Num</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, token)</span>:</span></span><br><span class="line">    self.token = token</span><br><span class="line">    self.value = token.value</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parser</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, lexer)</span>:</span></span><br><span class="line">    self.lexer = lexer</span><br><span class="line">    <span class="comment"># set current token to the first token from the input</span></span><br><span class="line">    self.current_token = self.lexer.get_next_token()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line">    <span class="comment"># compare the current token type with the passed token</span></span><br><span class="line">    <span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line">    <span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line">    <span class="comment"># otherwise raise an exception.</span></span><br><span class="line">    <span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">        self.current_token = self.lexer.get_next_token()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""factor : INTEGER | LPAREN expr RPAREN"""</span></span><br><span class="line">    token = self.current_token</span><br><span class="line">    <span class="keyword">if</span> token.type == INTEGER:</span><br><span class="line">        <span class="keyword">return</span> Num(token)</span><br><span class="line">    <span class="keyword">elif</span> token.type == LPAREN:</span><br><span class="line">        self.eat(LPAREN)</span><br><span class="line">        node = self.expr()</span><br><span class="line">        self.eat(RPAREN)</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""term : factor ((MUL | DIV) factor)*"""</span></span><br><span class="line">    node = self.factor()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, DIV):</span><br><span class="line">        token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">        self.eat(MUL)</span><br><span class="line">        <span class="keyword">elif</span> token.type == DIV:</span><br><span class="line">        self.eat(DIV)</span><br><span class="line"></span><br><span class="line">        node = BinOp(left=node, op=token, right=self.factor())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    expr   : term ((PLUS | MINUS) term)*</span></span><br><span class="line"><span class="string">    term   : factor ((MUL | DIV) factor)*</span></span><br><span class="line"><span class="string">    factor : INTEGER | LPAREN expr RPAREN</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    node = self.term()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (PLUS, MINUS):</span><br><span class="line">        token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">        self.eat(PLUS)</span><br><span class="line">        <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">        self.eat(MINUS)</span><br><span class="line"></span><br><span class="line">        node = BinOp(left=node, op=token, right=self.term())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self.expr()</span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬çœ‹ä¸€äº›ç®—æœ¯è¡¨è¾¾å¼çš„ AST çš„æ„å»ºè¿‡ç¨‹ã€‚</p><p>å¦‚æœä½ çœ‹äº†ä¸Šé¢çš„ parser ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°å®ƒå»ºç«‹ä¸€ä¸ª AST ä¸­çš„ç»“ç‚¹çš„æ—¶ï¼ŒæŠŠå˜é‡ node çš„å½“å‰å€¼åšä¸º BinOp ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ï¼ŒæŠŠå¯¹ <code>term</code> æˆ– <code>factor</code> è°ƒç”¨çš„è¿”å›ç»“æœåšä¸ºå®ƒ çš„å³å­ç»“ç‚¹ï¼Œè¿™å®é™…ä¸Šå°±æ˜¯æŠŠç»“ç‚¹æ¨å‘å·¦è¾¹ï¼Œä¸‹é¢è¡¨è¾¾å¼ 1 +2 + 3 + 4 + 5 çš„æ ‘ç»“æ„å°±æ˜¯ è¿™ç§æƒ…å†µçš„ä¸€ä¸ªå¥½ä¾‹å­ã€‚ä¸‹é¢æ˜¯ parser å¦‚ä½•ä¸€æ­¥æ­¥åœ°æ„å»ºè¡¨è¾¾å¼ 1 + 2 + 3 + 4 + 5 çš„ AST çš„å›¾å½¢è¡¨ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_astimpl_02.png" alt="lsbasi_part7_astimpl_02"></p><h2 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h2><p>å¥½äº†ï¼Œä¸‹é¢æ˜¯è¡¨è¾¾å¼ 2 * 7 + 3 çš„ ASTï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_ast_walking_01.png" alt="lsbasi_part7_ast_walking_01"></p><p><strong>ä½ æ€ä¹ˆéå†è¿™ä¸ªæ ‘å¹¶æ°å½“åœ°å¯¹å®ƒæ‰€ä»£è¡¨çš„è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼å‘¢ï¼Ÿ</strong></p><blockquote><p>ä½ å¯ä»¥ä½¿ç”¨<strong>ååºéå†*postorder traversal*</strong> (æ·±åº¦ä¼˜å…ˆéå†<em>depth-first traversal</em> çš„ä¸€ä¸ªç‰¹ä¾‹) ã€‚</p><ul><li>è¿™ç§æ–¹å¼ç”±æ ¹ç»“ç‚¹å¼€å§‹ï¼Œé€’å½’ç”±å·¦è‡³å³è®¿é—®æ¯ä¸ªç»“ç‚¹çš„å­ç»“ç‚¹ã€‚ååºéå†ä»æ ¹ç»“ç‚¹å¼€å§‹å°½å¯èƒ½å¿«åœ°è®¿é—®ç¦»æ ¹ç»“ç‚¹è¿œçš„ç»“ç‚¹(The postorder traversal visits nodes as far away from the root as fast as it can)ã€‚</li></ul></blockquote><p>ä¸‹é¢æ˜¯ååºéå†çš„ä¼ªä»£ç ï¼Œå…¶ä¸­ <code>&lt;&lt; postorder actions &gt;&gt;</code>æ˜¯ä¸€äº›æ“ä½œçš„å ä½ç¬¦ï¼Œå¦‚ <code>BinOp</code> ç»“ç‚¹çš„åŠ å‡ä¹˜é™¤æ“ä½œæˆ– <code>Num</code> ç»“ç‚¹è¿”å›æ•´æ•°çš„ç®€å•æ“ä½œï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_ast_visit_postorder.png" alt="lsbasi_part7_ast_visit_postorder"></p><ul><li><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åç»­éå†å‘¢ï¼Ÿ</strong></p><blockquote><p>ç¬¬ä¸€ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åœ¨æ ‘ä¸­æ›´ä½çš„ä¸­é—´ç»“ç‚¹è¿›è¡Œæ±‚å€¼ï¼Œ å› ä¸ºå®ƒä»¬ä»£è¡¨äº†ä¼˜å…ˆçº§æ›´é«˜çš„æ“ä½œç¬¦ï¼Œ</p><p>ç¬¬äºŒï¼Œæˆ‘ä»¬åœ¨å¯¹æ“ä½œæ•° å‚ä¸ å¯¹åº”æ“ä½œç¬¦ çš„è¿ç®— ä¹‹å‰éœ€è¦å¯¹æ“ä½œæ•°è¿›è¡Œæ±‚å€¼ã€‚</p></blockquote><p>åœ¨ä¸‹é¢çš„å›¾ç‰‡ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨ååºéå†æ—¶æˆ‘ä»¬ä¼šé¦–å…ˆå¯¹è¡¨è¾¾å¼ 2*7 è¿›è¡Œ æ±‚å€¼ï¼Œè€Œåªæœ‰åœ¨å¯¹ 14 + 3 æ±‚å€¼ä¹‹åï¼Œæˆ‘ä»¬æ‰ä¼šå¾—åˆ°æ­£ç¡®ç­”æ¡ˆ 17:</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_ast_walking_02.png" alt="lsbasi_part7_ast_walking_02"></p><p><strong>ä¸‰ç§æ·±åº¦ä¼˜å…ˆéå†</strong>ï¼š</p><p>ä¸ºäº†å®Œæ•´èµ·è§ï¼Œä¸‰ç§æ·±åº¦ä¼˜å…ˆéå†çš„æ–¹å¼ï¼šå…ˆåºéå†ï¼Œä¸­åºéå†å’Œååºéå†ã€‚è¿™ äº›éå†æ–¹å¼åå­—çš„æ¥è‡ªäºéå†ä»£ç ä¸­æ“ä½œçš„ä½ç½®ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_ast_visit_generic.png" alt="lsbasi_part7_ast_visit_generic"></p><p>æœ‰æ—¶ä½ å¯èƒ½éœ€è¦åœ¨æ‰€æœ‰åœ°æ–¹ï¼ˆå…ˆåºï¼Œä¸­åºå’Œååºï¼‰éƒ½æ‰§è¡Œä¸€äº›æ“ä½œã€‚ä½ ä¼šåœ¨æœ¬æ–‡çš„æºä»£ç ä»“ åº“ä¸­æ‰¾åˆ°ä¸€äº›ä¾‹å­ã€‚</p><blockquote><ul><li><p>å…ˆåºéå†<em>preorder traversal</em>,</p><p>åœ¨å…ˆåºéå†ä¸­ï¼Œæˆ‘ä»¬å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åé€’å½’ä½¿ç”¨å…ˆåºéå†è®¿é—®å·¦å­æ ‘ï¼Œå†é€’å½’ä½¿ç”¨å…ˆåºéå†è®¿é—®å³å­æ ‘ï¼Œå³ï¼šæ ¹èŠ‚ç‚¹-&gt;å·¦å­æ ‘-&gt;å³å­æ ‘</p></li><li><p>ä¸­åºéå†<em>inorder traversal</em>,</p><p>åœ¨ä¸­åºéå†ä¸­ï¼Œæˆ‘ä»¬é€’å½’ä½¿ç”¨ä¸­åºéå†è®¿é—®å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œæœ€åå†é€’å½’ä½¿ç”¨ä¸­åºéå†è®¿é—®å³å­æ ‘ï¼Œå³ï¼š<br>å·¦å­æ ‘-&gt;æ ¹èŠ‚ç‚¹-&gt;å³å­æ ‘</p></li><li><p>ååºéå† <em>postorder traversal</em>.</p><p>åœ¨ååºéå†ä¸­ï¼Œæˆ‘ä»¬å…ˆé€’å½’ä½¿ç”¨ååºéå†è®¿é—®å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹èŠ‚ç‚¹ã€‚ å³ï¼š<br>å·¦å­æ ‘-&gt;å³å­æ ‘-&gt;æ ¹èŠ‚ç‚¹</p></li></ul></blockquote><h2 id="Interpreter"><a href="#Interpreter" class="headerlink" title="Interpreter"></a>Interpreter</h2><p><strong>ç”¨ä»£ç æ¥éå†å’Œè§£é‡Šç”± parser å»ºç«‹çš„æŠ½è±¡è¯­æ³•æ ‘</strong>ï¼š</p><p>å¥½äº†ï¼Œè®©æˆ‘ä»¬å†™ä¸€äº›ä»£ç æ¥éå†å’Œè§£é‡Šç”± parser å»ºç«‹çš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œå¥½å—ï¼Ÿ</p><p>ä¸‹é¢æ˜¯å®ç°äº†<a href="https://en.wikipedia.org/wiki/Visitor_pattern" target="_blank" rel="noopener">è®¿é—®è€…æ¨¡å¼</a>çš„æºä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeVisitor</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        method_name = <span class="string">'visit_'</span> + type(node).__name__</span><br><span class="line">        visitor = getattr(self, method_name, self.generic_visit)</span><br><span class="line">        <span class="keyword">return</span> visitor(node)</span><br><span class="line"><span class="comment">#generic_visit æ˜¯ä¸€ä¸ªå¤‡ç”¨å‡½æ•°ï¼Œå®ƒä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ¥è¡¨ç¤ºå®ƒé‡åˆ°äº†ä¸€ä¸ªå®ç°ç±»ä¸­æ²¡æœ‰ç›¸ åº” #visit_NodeType æ–¹æ³•çš„ç»“ç‚¹ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generic_visit</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'No visit_&#123;&#125; method'</span>.format(type(node).__name__))</span><br></pre></td></tr></table></figure><blockquote><p>NodeVisitorä¸€ä¸ªç»“ç‚¹è®¿é—®å™¨çš„åŸºç±»ï¼šå®ƒéå†æŠ½è±¡è¯­æ³•æ ‘å¹¶ä¸ºæ‰¾åˆ°çš„æ¯ä¸ªèŠ‚ç‚¹è°ƒç”¨ä¸€ä¸ªè®¿é—®å™¨å‡½æ•°ã€‚ï¼ˆè¿™ä¸ªå‡½æ•°å¯èƒ½ä¼šè¿”å›ä¸€ä¸ªç”±visit()æ–¹æ³•è½¬å‘ çš„å€¼ï¼‰ã€‚This class is meant to be subclassed, with the subclass adding visitor methods.</p><p>æˆå‘˜å‡½æ•°ï¼š</p><ul><li>1ï¸âƒ£ visit(node)ï¼šè®¿é—®ä¸€ä¸ªç»“ç‚¹ã€‚å®ƒé»˜è®¤è°ƒç”¨self.visit_classnameï¼ˆå…¶ä¸­çš„classnameæ˜¯ç»“ç‚¹ç±»çš„å<br>å­—ï¼Œæˆ–è€…å¦‚æœè¿™ä¸ªæ–¹æ³•ä¸å­˜åœ¨æ—¶ï¼Œclassnameå°±æ˜¯ generic_visit() ï¼‰çš„æ–¹æ³•ã€‚</li><li>2ï¸âƒ£ generic_visit(node)ï¼šè¿™ä¸ªè®¿é—®å™¨(visitor)å¯¹ç»“ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹è°ƒç”¨visit()ã€‚<br>ã€æ³¨æ„ï¼šåªæœ‰è¿™ä¸ªè®¿é—®å™¨è°ƒç”¨generic_visit() æˆ–è€…è®¿é—®å®ƒæœ¬èº«ï¼Œå¦åˆ™è‡ªå®šä¹‰è®¿é—®å™¨çš„ç»“ç‚¹çš„å­èŠ‚ç‚¹å°†ä¸ä¼šè¢«è®¿é—®ã€‘</li></ul><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getattr(object, name[, default])</span><br></pre></td></tr></table></figure><p>å®˜æ–¹æ–‡æ¡£ä¸­è¯´è¿™ä¸ªå‡½æ•°ä½œç”¨æ˜¯è¿”å›å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡å®ä¾‹<code>obj</code>,<code>name</code>æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯å¯¹è±¡çš„æˆå‘˜å‡½æ•°åå­—æˆ–è€…æˆå‘˜å˜é‡ï¼Œ<code>default</code>å½“å¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±ç›¸çš„æ—¶å€™å°±è¿”å›é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡æœ‰æä¾›é»˜è®¤å€¼å°±è¿”å›å¼‚å¸¸ã€‚</p><p>å¦‚ï¼š</p><ol><li>æä¾›ä¸é»˜è®¤å†™æ³•ï¼š</li></ol><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="class"><span class="keyword">class</span> <span class="title">Test</span>(<span class="title">object</span>):</span></span><br><span class="line">...     <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">...             print <span class="string">'I am a test'</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; test = Test()  <span class="comment"># å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; func = getattr(test, <span class="string">'func'</span>) <span class="comment"># ä½¿ç”¨getattrå‡½æ•°è·å–funcçš„å€¼</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; func()</span><br><span class="line">I am a test</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; func = getattr(test, <span class="string">'f'</span>)  <span class="comment"># ä½¿ç”¨å¯¹è±¡æ²¡æœ‰çš„å±æ€§ï¼Œåˆ™ä¼šå‡ºç°å¼‚å¸¸</span></span><br><span class="line">Traceback (most recent call last)<span class="symbol">:</span></span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;<span class="class"><span class="keyword">module</span>&gt;</span></span><br><span class="line"><span class="symbol">AttributeError:</span> <span class="string">'Test'</span> object has no attribute <span class="string">'f'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;</span><br></pre></td></tr></table></figure><ol><li>æä¾›é»˜è®¤å†™æ³•</li></ol><p>å¦‚æœå¯¹è±¡æ²¡æœ‰è¯¥å±æ€§å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; func = getattr(test, <span class="string">'f'</span>, None)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; print func</span><br><span class="line">None</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt;</span><br></pre></td></tr></table></figure></blockquote><h3 id="Interpreter-ç±»çš„æºä»£ç "><a href="#Interpreter-ç±»çš„æºä»£ç " class="headerlink" title="Interpreter ç±»çš„æºä»£ç "></a>Interpreter ç±»çš„æºä»£ç </h3><p>ä¸‹é¢æ˜¯ Interpreter ç±»çš„æºä»£ç ï¼Œå®ƒç»§æ‰¿è‡ª NodeVisitor ç±»ä¸”å®ç°äº†å½¢å¼ä¸º <code>visit_NodeType</code> çš„ä¸åŒæ–¹æ³•ï¼Œå…¶ä¸­ <code>NodeType</code> ä¼šè¢«å¦‚ <code>BinOp</code>, <code>Num</code> ç­‰ç±»åæ›¿æ¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(NodeVisitor)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parser)</span>:</span></span><br><span class="line">    self.parser = parser</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit_BinOp</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> node.op.type == PLUS:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) + self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == MINUS:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) - self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == MUL:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) * self.visit(node.right)</span><br><span class="line">    <span class="keyword">elif</span> node.op.type == DIV:</span><br><span class="line">        <span class="keyword">return</span> self.visit(node.left) / self.visit(node.right)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit_Num</span><span class="params">(self, node)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> node.value</span><br></pre></td></tr></table></figure><p>å…³äºä»¥ä¸Šä»£ç æœ‰ä¸¤ç‚¹å€¼å¾—åœ¨è¿™é‡Œæä¸€ä¸‹ï¼š</p><blockquote><p>ç¬¬ä¸€ï¼Œ<u>æ“ä½œ AST ç»“ç‚¹çš„è®¿é—®å™¨(ä¹Ÿå°±æ˜¯å¯¹ASTæ•°æ®çš„æ“ä½œ)</u>çš„ä»£ç  å’Œ AST ç»“ç‚¹(å³ï¼ŒASTçš„æ•°æ®ç»“æ„)æœ¬èº« åˆ†ç¦»ï¼ˆè§£è€¦äº†ï¼‰ã€‚</p><ul><li>å¯ä»¥çœ‹åˆ° AST ç»“ç‚¹ç±»(BinOp å’Œ Num)æ²¡æœ‰æä¾›ä»»ä½•ä»£ç æ¥æ“ä½œå­˜å‚¨åœ¨è¿™äº›ç»“ç‚¹ä¸­çš„æ•°æ®ï¼Œè¯¥é€»è¾‘è¢«å°è£…åœ¨äº†å®ç° <code>NodeVisitor</code> çš„ <code>Interpreter</code> ç±»ä¸­ã€‚ï¼ˆä¹Ÿå°±æ˜¯å¯¹æ•°æ®çš„æ“ä½œåœ¨<code>NodeVisitor</code> çš„ <code>Interpreter</code> ç±»ä¸­ï¼‰ã€‚</li></ul><p>ç¬¬äºŒï¼Œåœ¨NodeVisitorçš„è®¿é—®å‡½æ•°ä¸­ï¼Œä¸åƒè¿™æ ·ä½¿ç”¨ä¸€ä¸ªå·¨å¤§çš„ifè¯­å¥:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit</span><span class="params">(node)</span>:</span></span><br><span class="line">    node_type = type(node).__name__</span><br><span class="line">    <span class="keyword">if</span> node_type == <span class="string">'BinOp'</span>:</span><br><span class="line">        <span class="keyword">return</span> self.visit_BinOp(node)</span><br><span class="line">    <span class="keyword">elif</span> node_type == <span class="string">'Num'</span>:</span><br><span class="line">        <span class="keyword">return</span> self.visit_Num(node)</span><br><span class="line">    <span class="keyword">elif</span> ...</span><br><span class="line">    <span class="comment"># ...</span></span><br><span class="line"><span class="comment">#####æˆ–è€…##########</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit</span><span class="params">(node)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(node, BinOp):</span><br><span class="line">        <span class="keyword">return</span> self.visit_BinOp(node)</span><br><span class="line">    <span class="keyword">elif</span> isinstance(node, Num):</span><br><span class="line">        <span class="keyword">return</span> self.visit_Num(node)</span><br><span class="line">    <span class="keyword">elif</span> ...</span><br></pre></td></tr></table></figure><p>NodeVisitor çš„ visit æ–¹æ³•éå¸¸é€šç”¨ï¼Œèƒ½æ ¹æ®ä¼ å…¥çš„ç»“ç‚¹ç±»å‹æ¥è°ƒåº¦é€‚å½“çš„æ–¹æ³•ã€‚æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œä¸ºäº†åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„è§£é‡Šå™¨ç»§æ‰¿äº† NodeVisitor ç±»å¹¶å®ç°äº†å¿…è¦çš„æ–¹æ³•ã€‚ å› æ­¤ï¼š</p><ul><li>å¦‚æœä¼ é€’ç»™ <code>visit</code> å‡½æ•°çš„ç»“ç‚¹æ˜¯ <code>BinOp</code>ï¼Œé‚£ä¹ˆ<code>visit</code> å‡½æ•°å°±ä¼šè°ƒç”¨ <code>visit_BinOp</code> æ–¹æ³•ã€‚</li><li>å¦‚æœä¼ é€’ç»™ <code>visit</code>å‡½æ•°çš„ç»“ç‚¹æ˜¯ <code>Num</code>,é‚£ä¹ˆ <code>visit</code> å‡½æ•°å°±ä¼šè°ƒç”¨<code>visit_Num</code> æ–¹ æ³•ï¼Œç­‰ç­‰ã€‚</li></ul></blockquote><p>èŠ±æ­¤æ—¶é—´ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ï¼ˆPython çš„æ ‡å‡†æ¨¡å— <a href="https://docs.python.org/2.7/library/ast.html#module-ast" target="_blank" rel="noopener">ast</a> ä¹Ÿä½¿ç”¨äº†ç›¸åŒçš„æœºåˆ¶æ¥éå†ç»“ç‚¹ï¼‰ï¼Œ å› ä¸ºæˆ‘ä»¬å°†æ¥ä¼šç”¨å¾ˆå¤šæ–°çš„ <code>visit_NodeType</code> æ–¹æ³•æ¥æ‰©å±•æˆ‘ä»¬çš„è§£é‡Šå™¨ã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ‰‹å·¥ä¸ºè¡¨è¾¾å¼ 2 * 7 + 3 å»ºç«‹ä¸€ä¸ª AST å¹¶æŠŠå®ƒä¼ é€’ç»™è§£é‡Šå™¨ï¼Œé€šè¿‡å¯¹è¯¥è¡¨è¾¾å¼æ±‚å€¼çœ‹çœ‹è¿è¡Œä¸­çš„ visit æ–¹æ³•ã€‚ä¸‹é¢æ˜¯ä½ ä» Python shell ä¸­å°è¯•çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> spi <span class="keyword">import</span> Token, MUL, PLUS, INTEGER, Num, BinOp</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul_token = Token(MUL, <span class="string">'*'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>plus_token = Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mul_node = BinOp(</span><br><span class="line"><span class="meta">... </span>    left=Num(Token(INTEGER, <span class="number">2</span>)),</span><br><span class="line"><span class="meta">... </span>    op=mul_token,</span><br><span class="line"><span class="meta">... </span>    right=Num(Token(INTEGER, <span class="number">7</span>))</span><br><span class="line"><span class="meta">... </span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_node = BinOp(</span><br><span class="line"><span class="meta">... </span>    left=mul_node,</span><br><span class="line"><span class="meta">... </span>    op=plus_token,</span><br><span class="line"><span class="meta">... </span>    right=Num(Token(INTEGER, <span class="number">3</span>))</span><br><span class="line"><span class="meta">... </span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> spi <span class="keyword">import</span> Interpreter</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inter = Interpreter(<span class="literal">None</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inter.visit(add_node)</span><br><span class="line"><span class="number">17</span></span><br></pre></td></tr></table></figure><p>å¦‚ä½ æ‰€è§ï¼Œæˆ‘æŠŠè¡¨è¾¾å¼æ ‘çš„æ ¹ç»“ç‚¹ä¼ é€’ç»™äº† <code>visit</code> æ–¹æ³•ï¼Œè¿™ä¸€è¡Œä¸ºè§¦å‘äº†æ ‘çš„éå†ï¼Œéå†è°ƒç”¨äº† <code>Interpreter</code> ç±»æ­£ç¡®çš„æ–¹æ³•(<code>visit_BinOp</code> å’Œ <code>visit_Num</code>)å¹¶ç”Ÿæˆäº†ç»“æœã€‚</p><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""" SPI - Simple Pascal Interpreter """</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Token types</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># EOF (end-of-file) token is used to indicate that</span></span><br><span class="line"><span class="comment"># there is no more input left for lexical analysis</span></span><br><span class="line">INTEGER, PLUS, MINUS, MUL, DIV, LPAREN, RPAREN, EOF = (</span><br><span class="line">    <span class="string">'INTEGER'</span>, <span class="string">'PLUS'</span>, <span class="string">'MINUS'</span>, <span class="string">'MUL'</span>, <span class="string">'DIV'</span>, <span class="string">'('</span>, <span class="string">')'</span>, <span class="string">'EOF'</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line">        self.type = type</span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""String representation of the class instance.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Examples:</span></span><br><span class="line"><span class="string">            Token(INTEGER, 3)</span></span><br><span class="line"><span class="string">            Token(PLUS, '+')</span></span><br><span class="line"><span class="string">            Token(MUL, '*')</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Token(&#123;type&#125;, &#123;value&#125;)'</span>.format(</span><br><span class="line">            type=self.type,</span><br><span class="line">            value=repr(self.value)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"><span class="comment">#                                                                             #</span></span><br><span class="line"><span class="comment">#  LEXER                                                                      #</span></span><br><span class="line"><span class="comment">#                                                                             #</span></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lexer</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line">        <span class="comment"># client string input, e.g. "4 + 2 * 3 - 6 / 2"</span></span><br><span class="line">        self.text = text</span><br><span class="line">        <span class="comment"># self.pos is an index into self.text</span></span><br><span class="line">        self.pos = <span class="number">0</span></span><br><span class="line">        self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid character'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">advance</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Advance the `pos` pointer and set the `current_char` variable."""</span></span><br><span class="line">        self.pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pos &gt; len(self.text) - <span class="number">1</span>:</span><br><span class="line">            self.current_char = <span class="literal">None</span>  <span class="comment"># Indicates end of input</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skip_whitespace</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isspace():</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Return a (multidigit) integer consumed from the input."""</span></span><br><span class="line">        result = <span class="string">''</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">            result += self.current_char</span><br><span class="line">            self.advance()</span><br><span class="line">        <span class="keyword">return</span> int(result)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Lexical analyzer (also known as scanner or tokenizer)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This method is responsible for breaking a sentence</span></span><br><span class="line"><span class="string">        apart into tokens. One token at a time.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isspace():</span><br><span class="line">                self.skip_whitespace()</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line">                <span class="keyword">return</span> Token(INTEGER, self.integer())</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'+'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'-'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MINUS, <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'*'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MUL, <span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'/'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(DIV, <span class="string">'/'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'('</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(LPAREN, <span class="string">'('</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">')'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(RPAREN, <span class="string">')'</span>)</span><br><span class="line"></span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"><span class="comment">#                                                                             #</span></span><br><span class="line"><span class="comment">#  PARSER                                                                     #</span></span><br><span class="line"><span class="comment">#                                                                             #</span></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AST</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span>   <span class="comment"># è¡¨ç¤ºå®šä¹‰ç•™ç©º</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinOp</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, left, op, right)</span>:</span></span><br><span class="line">        self.left = left</span><br><span class="line">        self.token = self.op = op</span><br><span class="line">        self.right = right</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Num</span><span class="params">(AST)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, token)</span>:</span></span><br><span class="line">        self.token = token</span><br><span class="line">        self.value = token.value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parser</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, lexer)</span>:</span></span><br><span class="line">        self.lexer = lexer</span><br><span class="line">        <span class="comment"># set current token to the first token taken from the input</span></span><br><span class="line">        self.current_token = self.lexer.get_next_token()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line">        <span class="comment"># compare the current token type with the passed token</span></span><br><span class="line">        <span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line">        <span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line">        <span class="comment"># otherwise raise an exception.</span></span><br><span class="line">        <span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">            self.current_token = self.lexer.get_next_token()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""factor : INTEGER | LPAREN expr RPAREN"""</span></span><br><span class="line">        token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == INTEGER:</span><br><span class="line">            self.eat(INTEGER)</span><br><span class="line">            <span class="keyword">return</span> Num(token)</span><br><span class="line">        <span class="keyword">elif</span> token.type == LPAREN:</span><br><span class="line">            self.eat(LPAREN)</span><br><span class="line">            node = self.expr()</span><br><span class="line">            self.eat(RPAREN)</span><br><span class="line">            <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""term : factor ((MUL | DIV) factor)*"""</span></span><br><span class="line">        node = self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, DIV):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">                self.eat(MUL)</span><br><span class="line">            <span class="keyword">elif</span> token.type == DIV:</span><br><span class="line">                self.eat(DIV)</span><br><span class="line"></span><br><span class="line">            node = BinOp(left=node, op=token, right=self.factor())</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        expr   : term ((PLUS | MINUS) term)*</span></span><br><span class="line"><span class="string">        term   : factor ((MUL | DIV) factor)*</span></span><br><span class="line"><span class="string">        factor : INTEGER | LPAREN expr RPAREN</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        node = self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (PLUS, MINUS):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">                self.eat(PLUS)</span><br><span class="line">            <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">                self.eat(MINUS)</span><br><span class="line"></span><br><span class="line">            node = BinOp(left=node, op=token, right=self.term())</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.expr()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"><span class="comment">#                                                                             #</span></span><br><span class="line"><span class="comment">#  INTERPRETER                                                                #</span></span><br><span class="line"><span class="comment">#                                                                             #</span></span><br><span class="line"><span class="comment">###############################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeVisitor</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        method_name = <span class="string">'visit_'</span> + type(node).__name__</span><br><span class="line">        visitor = getattr(self, method_name, self.generic_visit)</span><br><span class="line">        <span class="keyword">return</span> visitor(node)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generic_visit</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'No visit_&#123;&#125; method'</span>.format(type(node).__name__))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(NodeVisitor)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parser)</span>:</span></span><br><span class="line">        self.parser = parser</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit_BinOp</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> node.op.type == PLUS:</span><br><span class="line">            <span class="keyword">return</span> self.visit(node.left) + self.visit(node.right)</span><br><span class="line">        <span class="keyword">elif</span> node.op.type == MINUS:</span><br><span class="line">            <span class="keyword">return</span> self.visit(node.left) - self.visit(node.right)</span><br><span class="line">        <span class="keyword">elif</span> node.op.type == MUL:</span><br><span class="line">            <span class="keyword">return</span> self.visit(node.left) * self.visit(node.right)</span><br><span class="line">        <span class="keyword">elif</span> node.op.type == DIV:</span><br><span class="line">            <span class="keyword">return</span> self.visit(node.left) / self.visit(node.right)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visit_Num</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> node.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">interpret</span><span class="params">(self)</span>:</span></span><br><span class="line">        tree = self.parser.parse()</span><br><span class="line">        <span class="keyword">return</span> self.visit(tree)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                text = raw_input(<span class="string">'spi&gt; '</span>)</span><br><span class="line">            <span class="keyword">except</span> NameError:  <span class="comment"># Python3</span></span><br><span class="line">                text = input(<span class="string">'spi&gt; '</span>)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        lexer = Lexer(text)</span><br><span class="line">        parser = Parser(lexer)</span><br><span class="line">        interpreter = Interpreter(parser)</span><br><span class="line">        result = interpreter.interpret()</span><br><span class="line">        print(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç ä¿å­˜åˆ°åä¸º <code>spi.py</code> çš„æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part7/python/spi.py" target="_blank" rel="noopener">GitHub</a> ä¸‹è½½ã€‚è‡ªå·±è¯•ä¸€è¯•ï¼Œç¡®è®¤ ä½ çš„æ–°çš„åŸºäºæ ‘çš„è§£é‡Šå™¨å¯ä»¥æ­£ç¡®åœ°å¯¹ç®—æœ¯è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚</p><p>ä¸‹é¢æ˜¯æŸæ¬¡è¿è¡Œè¿‡ç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python spi.py</span><br><span class="line">spi&gt; <span class="number">7</span> + <span class="number">3</span> * (<span class="number">10</span> / (<span class="number">12</span> / (<span class="number">3</span> + <span class="number">1</span>) - <span class="number">1</span>))</span><br><span class="line"><span class="number">22</span></span><br><span class="line">spi&gt; <span class="number">7</span> + <span class="number">3</span> * (<span class="number">10</span> / (<span class="number">12</span> / (<span class="number">3</span> + <span class="number">1</span>) - <span class="number">1</span>)) / (<span class="number">2</span> + <span class="number">3</span>) - <span class="number">5</span> - <span class="number">3</span> + (<span class="number">8</span>)</span><br><span class="line"><span class="number">10</span></span><br><span class="line">spi&gt; <span class="number">7</span> + (((<span class="number">3</span> + <span class="number">2</span>)))</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ä»Šå¤©ä½ å­¦ä¹ äº†å…³äºè§£ææ ‘å’Œ ASTï¼Œå¦‚ä½•æ„å»º AST ä»¥åŠéå†è¡¨ç¤ºè¾“å…¥çš„ AST å¹¶è§£é‡Šæ‰§è¡Œã€‚ä½ è¿˜ä¿®æ”¹äº† parser å’Œ interpreter å¹¶å°†è¿™ä¸¤éƒ¨åˆ†è§£å¼€äº†ã€‚ç°åœ¨ lexer, parser å’Œ interpreter ä¹‹é—´çš„æ¥å£çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/LSBASI-7/lsbasi_part7_pipeline.png" alt="lsbasi_part7_pipeline"></p><p>ä½ å¯ä»¥æŠŠå®ƒè¯»ä½œâ€œparser ä» lexer ä¸­ å¾—åˆ° token ç„¶åè¿”å›ç”Ÿæˆçš„ AST ç»™ Interpreter è¿›è¡Œéå†å¹¶è§£é‡Šæ‰§è¡Œæ‰€ç»™è¾“å…¥â€ã€‚</p><h3 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h3><p>è¿™å°±æ˜¯ä»Šå¤©çš„æ‰€æœ‰å†…å®¹ï¼Œä½†åœ¨æ€»ç»“ä¹‹å‰æˆ‘è¿˜æƒ³ç®€å•åœ°èŠä¸€èŠé€’å½’ä¸‹é™ (recursive-descent) parserï¼Œå³æ˜¯ä»…ä»…ç»™å‡ºå®ƒçš„å®šä¹‰ã€‚</p><blockquote><p>å®šä¹‰å°±æ˜¯ï¼šä¸€ä¸ª <strong>é€’å½’ä¸‹é™parser</strong> å°± æ˜¯ä¸€ä¸ªè‡ªé¡¶å‘ä¸‹çš„ parserï¼Œå®ƒä½¿ç”¨ä¸€ç»„é€’å½’è¿‡ç¨‹æ¥å¤„ç†è¾“å…¥ã€‚è‡ªé¡¶å‘ä¸‹åæ˜ äº† parser ä» æ„å»ºè§£ææ ‘çš„é¡¶éƒ¨ç»“ç‚¹å¼€å§‹é€æ¸æ„å»ºæ›´ä½çš„ç»“ç‚¹è¿™ä¸€äº‹å®ã€‚</p></blockquote><h2 id="æ¢³ç†"><a href="#æ¢³ç†" class="headerlink" title="æ¢³ç†"></a>æ¢³ç†</h2><p>æœ¬èŠ‚ä¸part6ç›¸æ¯”ä¸»è¦æ·»åŠ äº†ASTï¼š</p><ol><li><code>Lexer</code>ä¸part6ä¸­çš„æ˜¯ä¸€æ ·çš„ï¼Œè¿˜æ˜¯å°†è¾“å…¥çš„textåˆ†æè½¬æ¢ä¸ºtokenã€‚(è¿™ä¹Ÿæ˜¯è¯æ³•åˆ†æå™¨çš„åŠŸèƒ½)</li><li><code>Parser</code>ç›¸æ¯”part6ï¼Œ<ul><li>å®ƒæ·»åŠ äº†æ„é€ ASTçš„å†…å®¹ï¼šæ·»åŠ äº†ä¸‰ä¸ªç±»ï¼š<ul><li><code>AST()</code>ï¼šæ˜¯ä¸€ä¸ªåŸºç±»</li><li><code>BinOp(AST)</code>ï¼šç»§æ‰¿äº<code>AST()</code>ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å®ç°<strong>äºŒå…ƒæ“ä½œç¬¦<em>binary operator</em></strong> ã€‚ï¼ˆè¿™é‡Œåªæœ‰å››ç§ï¼šåŠ ã€å‡ã€ä¹˜ã€é™¤æ³•ï¼‰</li><li><code>Num(AST)</code>ï¼šç»§æ‰¿äº<code>AST()</code>ï¼Œå®ƒä¸»è¦æ˜¯è¡¨ç¤ºASTä¸­çš„æ•´æ•°integer tokenï¼ˆå®ƒå°†ä¿å­˜ä¸€ä¸ª <code>INTEGER</code> token å’Œè¯¥ token çš„å€¼ï¼‰</li></ul></li><li>ç¬¬äºŒä¸ªå˜åŒ–å°±æ˜¯å®ç°è¯­æ³•è§£æçš„è¿™ä¸‰ä¸ªå‡½æ•°<code>term</code>ã€<code>factor</code>ã€<code>expr</code>ä¸­çš„è¿”å›çš„ä¸åœ¨æ˜¯resultå˜é‡äº†ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç»“ç‚¹nodeã€‚</li></ul></li><li><code>Interpreter</code>ï¼šé€šè¿‡è¯æ³•åˆ†æã€è¯­æ³•åˆ†æä¹‹åï¼Œå¼€å§‹è§£é‡Šè¯­æ³•åˆ†æä¹‹åçš„ç®—å¼ï¼Œè®¡ç®—å‡ºå®ƒçš„ç»“æœï¼Œç”¨<code>Interpreter</code>æ¥è§£é‡Šï¼š<ul><li>å¢æ·»äº†<strong>è®¿é—®è€…æ¨¡å¼</strong>ï¼šå°† å¯¹æ•°æ®çš„æ“ä½œ(å¯¹æ•°æ®çš„æ“ä½œåœ¨interpreterä¸­å®Œæˆï¼šè®¿é—®ã€è§£é‡Š) å’Œ æ•°æ®ç»“æ„(æ•°æ®ç»“æ„ åœ¨parserä¸­çš„ä¸‰ä¸ªç±»ä¸­æ„å»º) è¿›è¡Œåˆ†ç¦»ï¼ˆè§£è€¦åˆï¼‰ã€‚ä½¿å¾—æ“ä½œé›†åˆå¯ç›¸å¯¹è‡ªç”±åœ°æ¼”åŒ–ã€‚<ul><li>è¿™é‡Œé€šè¿‡åˆ›å»º <code>NodeVisitor()</code>ç±» å®ç°è®¿é—®è€…æ¨¡å¼ã€‚å®ç°äº†é€šè¿‡ä»€ä¹ˆæ–¹å¼å»<strong>è®¿é—®</strong>ç”Ÿæˆçš„AST</li><li>åˆé€šè¿‡<code>Interpreter</code>ï¼ˆç»§æ‰¿äº <code>NodeVisitor()</code>ç±»ï¼‰æ¥å®ç°<strong>è§£é‡Š</strong>ç”Ÿæˆçš„AST</li></ul></li></ul></li></ol><p>æœ€åï¼Œå†æ¬¡æé†’ä¸€ä¸‹ï¼šä¹‹å‰çš„é‚£å‡ å°ç»“ï¼Œæˆ‘ä»¬éƒ½æ˜¯æŠŠinterpreterçš„ä»£ç å’Œparserçš„ä»£ç æ··åœ¨ä¸€èµ·ï¼Œä½†è¿™ä¸€å°èŠ‚æˆ‘ä»¬æŠŠinterpreterçš„ä»£ç å’Œparserçš„ä»£ç <strong>åˆ†å¼€äº†</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 6</title>
      <link href="/archives/167c.html"/>
      <url>/archives/167c.html</url>
      
        <content type="html"><![CDATA[<p>æ–°å¢äº†<strong>æ‹¬å·è¿ç®—(parenthesized expressions)</strong></p><a id="more"></a><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part6/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part6/</a></p><p>æœ¬æ–‡åœ¨å‰é¢çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†<strong>æ‹¬å·è¿ç®—(parenthesized expressions)</strong>ï¼Œå¦‚ï¼š 7 + 3 * (10 / (12 / (3 + 1) - 1))</p><p>æ‰€ä»¥éœ€è¦åœ¨part5ä¸­çš„è¯­æ³•åŸºç¡€ä¸Šï¼Œè¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹åçš„è¯­æ³•å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part6_grammar.png" alt="lsbasi_part6_grammar"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_grammar.png" alt="lsbasi_part5_grammar"></p><p>ä»ä¸Šé¢çš„å›¾å¯ä»¥çœ‹å‡ºæ¥,åœ¨part6ä¸­ï¼Œ<code>expr</code>å’Œ<code>term</code>å’Œpart5ä¸­ä¸€æ ·ï¼Œ<u>å”¯ä¸€å˜çš„æ˜¯<code>factor</code>çš„<strong>äº§ç”Ÿå¼ (production)</strong>ã€‚</u></p><blockquote><p>å®ƒæ–°æ·»åŠ äº†ä¸¤ä¸ª terminal ï¼š</p><ul><li>LPARENï¼šè¡¨ç¤ºä¸€ä¸ªå·¦æ‹¬å· left parenthesis â€˜( â€˜</li><li>RPARENï¼šè¡¨ç¤ºä¸€ä¸ªå³æ‹¬å· right parenthesis â€˜)â€™</li></ul><p>è¿˜æ–°æ·»åŠ äº†ä¸€ä¸ªéç»ˆç«¯ç¬¦ï¼š<code>expr</code></p><ul><li><code>expr</code>æ·»åŠ åœ¨ä¸¤ä¸ªæ‹¬å·ä¹‹é—´</li></ul></blockquote><p>ä¸‹é¢æ˜¯<code>factor</code>çš„è¯­æ³•å›¾ï¼šï¼ˆè¿™é‡Œç”¨åˆ°äº†<u>é€’å½’</u>ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part6_factor_diagram.png" alt="lsbasi_part6_factor_diagram"></p><p>ç„¶åï¼Œå†æ”¾ä¸€ä¸‹æ²¡æœ‰æ”¹å˜çš„ï¼ˆä¸part5ç›¸åŒï¼‰<code>expr</code>ã€<code>term</code>çš„è¯­æ³•å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part6_expr_term_diagram.png" alt="img"></p><p>ç°åœ¨çœ‹ä¸€ä¸‹ç®—å¼ï¼š2 * (7 + 3) çš„åˆ†è§£è¿‡ç¨‹å§ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part6_decomposition.png" alt="img"></p><p>ç°åœ¨æŠŠè¯­æ³•è½¬æ¢æˆä»£ç ã€‚</p><p>ä¸‹é¢è¿™ä¸¤æ¡æ˜¯ä»£ç ä¸­ä¸»è¦æ”¹å˜çš„éƒ¨åˆ†ï¼š</p><blockquote><ol><li><code>Lexer</code>è¢«ä¿®æ”¹ï¼Œä½¿å…¶åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå¯ä»¥è¿”å›å¦å¤–ä¸¤ä¸ªtokenï¼šå·¦æ‹¬å·LPAREN ã€å³æ‹¬å·RPAREN</li><li><code>Interpreter</code>ç±»çš„<code>factor</code>è¢«ä¿®æ”¹ï¼Œä¿®æ”¹ä¹‹åä¸ä»…å¯ä»¥è§£ææ•´æ•°integerï¼Œè¿˜å¯ä»¥è§£ææ‹¬å·è¡¨è¾¾å¼(parenthesized expressions)</li></ol></blockquote><p>ä¸‹é¢å°±æ˜¯æœ¬å°èŠ‚çš„ä»£ç éƒ¨åˆ†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Token types</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># EOF (end-of-file) token is used to indicate that</span></span><br><span class="line"><span class="comment"># there is no more input left for lexical analysis</span></span><br><span class="line">INTEGER, PLUS, MINUS, MUL, DIV, LPAREN, RPAREN, EOF = (</span><br><span class="line">    <span class="string">'INTEGER'</span>, <span class="string">'PLUS'</span>, <span class="string">'MINUS'</span>, <span class="string">'MUL'</span>, <span class="string">'DIV'</span>, <span class="string">'('</span>, <span class="string">')'</span>, <span class="string">'EOF'</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line">        self.type = type</span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""String representation of the class instance.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Examples:</span></span><br><span class="line"><span class="string">            Token(INTEGER, 3)</span></span><br><span class="line"><span class="string">            Token(PLUS, '+')</span></span><br><span class="line"><span class="string">            Token(MUL, '*')</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Token(&#123;type&#125;, &#123;value&#125;)'</span>.format(</span><br><span class="line">            type=self.type,</span><br><span class="line">            value=repr(self.value)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lexer</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line">        <span class="comment"># client string input, e.g. "4 + 2 * 3 - 6 / 2"</span></span><br><span class="line">        self.text = text</span><br><span class="line">        <span class="comment"># self.pos is an index into self.text</span></span><br><span class="line">        self.pos = <span class="number">0</span></span><br><span class="line">        self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid character'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">advance</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Advance the `pos` pointer and set the `current_char` variable."""</span></span><br><span class="line">        self.pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pos &gt; len(self.text) - <span class="number">1</span>:</span><br><span class="line">            self.current_char = <span class="literal">None</span>  <span class="comment"># Indicates end of input</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skip_whitespace</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isspace():</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Return a (multidigit) integer consumed from the input."""</span></span><br><span class="line">        result = <span class="string">''</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">            result += self.current_char</span><br><span class="line">            self.advance()</span><br><span class="line">        <span class="keyword">return</span> int(result)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Lexical analyzer (also known as scanner or tokenizer)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This method is responsible for breaking a sentence</span></span><br><span class="line"><span class="string">        apart into tokens. One token at a time.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isspace():</span><br><span class="line">                self.skip_whitespace()</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line">                <span class="keyword">return</span> Token(INTEGER, self.integer())</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'+'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'-'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MINUS, <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'*'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MUL, <span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'/'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(DIV, <span class="string">'/'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'('</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(LPAREN, <span class="string">'('</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">')'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(RPAREN, <span class="string">')'</span>)</span><br><span class="line"></span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, lexer)</span>:</span></span><br><span class="line">        self.lexer = lexer</span><br><span class="line">        <span class="comment"># set current token to the first token taken from the input</span></span><br><span class="line">        self.current_token = self.lexer.get_next_token()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line">        <span class="comment"># compare the current token type with the passed token</span></span><br><span class="line">        <span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line">        <span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line">        <span class="comment"># otherwise raise an exception.</span></span><br><span class="line">        <span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">            self.current_token = self.lexer.get_next_token()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""factor : INTEGER | LPAREN expr RPAREN"""</span></span><br><span class="line">        token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == INTEGER:</span><br><span class="line">            self.eat(INTEGER)</span><br><span class="line">            <span class="keyword">return</span> token.value</span><br><span class="line">        <span class="keyword">elif</span> token.type == LPAREN:</span><br><span class="line">            self.eat(LPAREN)</span><br><span class="line">            result = self.expr()</span><br><span class="line">            self.eat(RPAREN)</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""term : factor ((MUL | DIV) factor)*"""</span></span><br><span class="line">        result = self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, DIV):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">                self.eat(MUL)</span><br><span class="line">                result = result * self.factor()</span><br><span class="line">            <span class="keyword">elif</span> token.type == DIV:</span><br><span class="line">                self.eat(DIV)</span><br><span class="line">                result = result / self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Arithmetic expression parser / interpreter.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        calc&gt; 7 + 3 * (10 / (12 / (3 + 1) - 1))</span></span><br><span class="line"><span class="string">        22</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        expr   : term ((PLUS | MINUS) term)*</span></span><br><span class="line"><span class="string">        term   : factor ((MUL | DIV) factor)*</span></span><br><span class="line"><span class="string">        factor : INTEGER | LPAREN expr RPAREN</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result = self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (PLUS, MINUS):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">                self.eat(PLUS)</span><br><span class="line">                result = result + self.term()</span><br><span class="line">            <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">                self.eat(MINUS)</span><br><span class="line">                result = result - self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># To run under Python3 replace 'raw_input' call</span></span><br><span class="line">            <span class="comment"># with 'input'</span></span><br><span class="line">            text = raw_input(<span class="string">'calc&gt; '</span>)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        lexer = Lexer(text)</span><br><span class="line">        interpreter = Interpreter(lexer)</span><br><span class="line">        result = interpreter.expr()</span><br><span class="line">        print(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 5</title>
      <link href="/archives/173c.html"/>
      <url>/archives/173c.html</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸ºè¿™ä¸€ç³»åˆ—çš„part5ï¼Œç¬¬äº”å°èŠ‚ã€‚è¿™æ¬¡å°†å†™ä¸€ä¸ªå¯ç§»æ¤æ€§åŠ å‡ä¹˜é™¤æ··åˆè¿ç®—çš„è§£é‡Šå™¨ã€‚</p><a id="more"></a><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part5/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part5/</a></p><p>æœ¬æ–‡ä¸ºè¿™ä¸€ç³»åˆ—çš„part5ï¼Œç¬¬äº”å°èŠ‚ã€‚è¿™æ¬¡å°†å†™ä¸€ä¸ªå¯ç§»æ¤æ€§åŠ å‡ä¹˜é™¤æ··åˆè¿ç®—çš„è§£é‡Šå™¨ã€‚</p><p>åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€äº›ï¼Œæ¯”å¦‚ï¼š<strong>ç»“åˆå¾‹</strong>ã€æ“ä½œç¬¦(operator)çš„<strong>ä¼˜å…ˆçº§(precedence)</strong></p><h2 id="ç»“åˆå¾‹-associativity"><a href="#ç»“åˆå¾‹-associativity" class="headerlink" title="ç»“åˆå¾‹(associativity)"></a>ç»“åˆå¾‹(associativity)</h2><p>æ¯”å¦‚ï¼Œ7+3+1ç­‰åŒäº(7+3)+1 ï¼Œ7 - 3 - 1 ç­‰åŒäº (7 - 3) - 1ã€‚è¿™æ²¡æœ‰ä»€ä¹ˆå¥‡æ€ªçš„ã€‚ä½†æ˜¯å†æ¯”å¦‚ï¼š 7 - 3 - 1 ä¸ 7 - (3 - 1) çš„ç»“æœå°±ä¸ä¸€æ ·äº†ã€‚</p><p>å…¶å®ï¼šåŠ ã€å‡ã€ä¹˜ã€é™¤ è¿™äº›æ“ä½œç¬¦(operator)æ˜¯<strong>å·¦ç»“åˆ(left-associative)</strong>ã€‚</p><ul><li>æ¯”å¦‚ï¼Œ 7 + 3 + 1 ä¸­çš„ <strong>æ“ä½œæ•°(operand)</strong> 3ï¼Œå®ƒçš„å·¦å³éƒ½æ˜¯ åŠ å· ï¼Œä½†æ˜¯è¿™ä¸ªæ“ä½œæ•°3æ˜¯ä¸å®ƒå·¦è¾¹çš„åŠ å·â€œ+â€ç»“åˆçš„ï¼Œ æ‰€ä»¥åŠ æ³•æ˜¯å·¦ç»“åˆã€‚</li><li>é‚£åŠ å‡ä¹˜é™¤æ··åˆæ—¶ï¼Œå¦‚ 7 + 5 * 2 æ˜¯å¦è¿˜æ˜¯éµå¾ªå·¦ç»“åˆå¾‹å‘¢ï¼Ÿå¾ˆæ˜¾ç„¶ï¼Œä¸éµå¾ªï¼Œå› ä¸º (7 + 5) * 2 ä¸ç­‰äº 7 + 5 * 2 ã€‚</li></ul><p>ç”±æ­¤å¯çŸ¥ï¼š</p><p>â€‹ <u>åŠ æ³•</u>å’Œ<u>å‡æ³•</u>æ˜¯ä¸€ç±»ï¼Œæ‰€ä»¥å®ƒä»¬åœ¨ä¸€èµ·ç»„æˆçš„è¿ç®—æ˜¯å·¦ç»“åˆï¼›<u>ä¹˜æ³•</u>å’Œ<u>é™¤æ³•</u>æ˜¯ä¸€ç±»ï¼Œæ‰€ä»¥ä»–ä»¬åœ¨ä¸€èµ·ç»„æˆçš„è¿ç®—æ˜¯å·¦ç»“åˆã€‚ï¼ˆå³ï¼Œå·¦ç»“åˆå¾‹åªé€‚ç”¨äºåŒä¸€ç±»çš„æ“ä½œç¬¦(operator)ï¼‰</p><h2 id="ä¼˜å…ˆçº§-precedence"><a href="#ä¼˜å…ˆçº§-precedence" class="headerlink" title="ä¼˜å…ˆçº§(precedence)"></a>ä¼˜å…ˆçº§(precedence)</h2><p>é‚£æˆ‘ä»¬å¦‚ä½•è§„å®šè¿™ç§åŠ å‡ä¹˜é™¤ï¼ˆè¿™ä¸¤ç±»æ“ä½œç¬¦(operator)ï¼‰åŒæ—¶å‡ºç°æ—¶çš„è¿ç®—è§„åˆ™å‘¢ï¼Ÿï¼ˆå®é™…ä¸Šæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä½†æ˜¯è¿™é‡Œæ˜¯ä¸ºå®ç°ä»£ç æ¥åšå‡ºä¸€ç§è¿ç®—è§„åˆ™ï¼‰</p><p>åœ¨ 7 + 5 * 2ä¸­ï¼Œå¦‚æœ<u>æ“ä½œç¬¦â€œ<em>â€</em></u>èƒ½å…ˆæ¯”<u>æ“ä½œç¬¦â€œ+â€</u>åˆ°ä»–çš„<u>æ“ä½œæ•°5</u>ï¼Œå°±è¯´ï¼Œæ“ä½œç¬¦â€œâ€æœ‰<strong>æ›´é«˜çš„ä¼˜å…ˆçº§(higher precedence)</strong>ã€‚</p><p>åœ¨å®é™…ä¸­æˆ‘ä»¬ä¹Ÿåœ¨ç”¨ï¼Œä¹ŸçŸ¥é“ã€‚ä¹˜é™¤çš„ä¼˜å…ˆçº§è¦é«˜äºåŠ å‡æ³•ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹ç”¨è¡¨æ ¼æ¥è¡¨ç¤ºæ“ä½œç¬¦çš„ç»“åˆå¾‹ä¸ä¼˜å…ˆçº§ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_precedence.png" alt="éšç€ç®­å¤´æ–¹å‘ä¼˜å…ˆçº§å‡é«˜"></p><p>ç”±ä¸Šè¡¨å¯çŸ¥ï¼š+ and - æ˜¯ä¼˜å…ˆçº§ç›¸åŒï¼Œéƒ½æ˜¯å·¦ç»“åˆï¼›* and / ä¼˜å…ˆçº§ç›¸åŒï¼Œä¹Ÿéƒ½æ˜¯å·¦ç»“åˆï¼›</p><p>æˆ‘ä»¬è¿˜å¯ä»¥æ ¹æ®ä¸Šé¢çš„ä¼˜å…ˆçº§è¡¨æ ¼æ¥åˆ¶å®šä¸€ä¸ªè¯­æ³•è§„åˆ™ï¼š</p><ol><li>ä¼˜å…ˆçº§ç›¸åŒçš„æ¯ä¸€çº§éƒ½å®šä¹‰ä¸€ä¸ªéç»ˆç«¯ç¬¦(non-terminal)ã€‚å…¶ä¸­æ¯ä¸ª<strong>äº§ç”Ÿå¼(production)</strong>çš„bodyä¸­åº”è¯¥åŒ…å«:ç®—æ•°è¿ç®—ç¬¦(arithmetic operators) &amp; éç»ˆç«¯ç¬¦(è¿™é‡Œçš„éç»ˆç«¯åˆå‚ä¸æ„æˆä¸‹ä¸€è¾ƒé«˜çš„ä¼˜å…ˆçº§çš„è§„åˆ™(äº§ç”Ÿå¼)çš„ä¸€éƒ¨åˆ†)</li><li>åˆ›å»ºä¸€ä¸ªè¡¨ç¤º åŸºæœ¬è¡¨è¾¾å¼çš„éç»ˆç«¯ç¬¦<code>factor</code>ï¼Œæœ¬æ–‡ä¸­æŒ‡integerã€‚ä¸€èˆ¬çš„è§„åˆ™æ˜¯ï¼šå¦‚æœä½ æœ‰Nä¸ªä¼˜å…ˆçº§ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦N+1ä¸ªéç»ˆç«¯ç¬¦ï¼ˆä¸€ç±»æ˜¯æ¯ä¸€å±‚ä¼˜å…ˆçº§çš„ä¸€ä¸ªéç»ˆç«¯ç¬¦ï¼Œä¸€ç±»æ˜¯è¡¨ç¤ºåŸºæœ¬è¡¨è¾¾å¼å•å…ƒï¼‰</li></ol><h2 id="æ„å»ºè¯­æ³•-grammars"><a href="#æ„å»ºè¯­æ³•-grammars" class="headerlink" title="æ„å»ºè¯­æ³•(grammars)"></a>æ„å»ºè¯­æ³•(grammars)</h2><p>ç°åœ¨æ ¹æ®ä¸Šé¢çš„è§„åˆ™æ¥æ„å»ºè¯­æ³•ï¼š</p><p>ç”±è§„åˆ™1ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸¤ä¸ªéç»ˆç»“ç¬¦(non-terminal)ï¼Œä¸€ä¸ªæ˜¯leve1çš„non-terminalå«åš<code>expr</code>ï¼Œå¦ä¸€ä¸ªæ˜¯level2çš„non-terminalå«åštermã€‚ç„¶åæ ¹æ®è§„åˆ™2ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå«åš<code>factor</code>çš„non-terminalæ¥ä½œä¸ºä¸€ä¸ªåŸºæœ¬çš„è¡¨è¾¾å¼å•å…ƒï¼Œintegersã€‚</p><p>è¿™ä¸ªè¯­æ³•çš„<strong>å¼€å§‹ç¬¦å·ï¼ˆ<em>start symbol</em> ï¼‰</strong>å«åš<code>expr</code>ã€‚å®ƒçš„äº§ç”Ÿå¼(production)çš„bodyå«æœ‰ï¼š</p><ul><li><p>1ï¸âƒ£è¡¨ç¤ºlevel2çš„æ“ä½œç¬¦(åœ¨è¿™æŒ‡çš„æ˜¯+ and - )ï¼Œ</p></li><li><p>2ï¸âƒ£å’Œä¸€ä¸ªéç»ˆç«¯ç¬¦<code>term</code>(è¿™ä¸ªtermæ˜¯ä¸‹ä¸€å±‚ä¼˜å…ˆçº§ï¼ˆæ›´é«˜çš„ï¼‰level1 çš„ä¸€ä¸ªäº§ç”Ÿå¼)</p></li></ul><blockquote><p><strong>å¼€å§‹ç¬¦å·ï¼ˆSï¼‰</strong>ï¼šæœ€å¤§çš„è¯­æ³•å•ä½ æˆ– æœ€é‡è¦çš„è¯­æ³•å•ä½ã€‚ï¼ˆå¦‚ä¸Šé¢çš„é‚£ä¸ªè‹±æ–‡å¥å­ä¸­çš„ï¼Œæœ€å¤§çš„è¯­æ³•å•ä½æ˜¯ï¼šå¥å­ã€‚ï¼‰</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_cfg_expr.png" alt="start symbolï¼ˆå¼€å§‹ç¬¦ï¼‰:expr"></p><p>éç»ˆç«¯ç¬¦<code>term</code>çš„production(äº§ç”Ÿå¼)çš„bodyåŒ…å«:</p><ul><li><p>1ï¸âƒ£è¡¨ç¤ºlevel1çš„æ“ä½œç¬¦(åœ¨è¿™æŒ‡çš„æ˜¯ * and /)ã€‚</p></li><li><p>2ï¸âƒ£è¿˜æœ‰ä¸€ä¸ªéç»ˆç«¯ç¬¦<code>factor</code>æ¥è¡¨ç¤ºåŸºæœ¬çš„è¡¨è¾¾å¼å•å…ƒï¼Œintegers</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_cfg_term.png" alt="term"></p></li></ul><p>éç»ˆç«¯ç¬¦<code>factor</code>åŒ…å«ï¼š</p><ul><li><p>1ï¸âƒ£ä¸€ä¸ªinteger</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_cfg_factor.png" alt="factor"></p></li></ul><p>ä¸Šé¢çš„ä¸‰å¹…å›¾æ˜¯è¯­æ³•ã€è¯­æ³•å›¾çš„ä¸€éƒ¨åˆ†ï¼Œè¿™åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ä¹Ÿå‡ºç°è¿‡ã€‚ä½†ç°åœ¨éœ€è¦å°†ä¸Šé¢çš„ä¸‰å¹…å›¾ç»“åˆåœ¨ä¸€èµ·æ¥è€ƒè™‘ç»“åˆå¾‹å’Œä¼˜å…ˆçº§ï¼ˆ associativity and precedence ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_grammar.png" alt="img"></p><p>ä¸‹é¢æ˜¯æœ¬æ–‡çš„è¯­æ³•å¯¹åº”çš„è¯­æ³•å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="LSBASI-5/20200318213222.png" alt="grammar"></p><p>ä¸Šé¢è¯­æ³•å›¾çš„æ¯ä¸€ä¸ªå°æ–¹æ¡†éƒ½æ˜¯å…¶ä»–è¯­æ³•å›¾çš„ï¼šå‡½æ•°è°ƒç”¨ï¼ˆâ€œmethod callâ€ï¼‰ã€‚</p><blockquote><p>å¦‚æœä½ ä»¥è¡¨è¾¾å¼ 7 + 5 * 2 ä¸ºä¾‹å¹¶ä»é¡¶ å±‚å›¾ <code>expr</code> å¼€å§‹é€æ­¥åˆ†è§£åˆ°æœ€åº•å±‚çš„å›¾ <code>factor</code>, ä½ åº”è¯¥å¯ä»¥çœ‹åˆ°ä½äºä¸­é—´çš„å›¾çš„é«˜ä¼˜ å…ˆçº§æ“ä½œç¬¦*å’Œ/ä¼šæ¯”ä¸Šé¢çš„å›¾çš„æ“ä½œç¬¦+å’Œ-å…ˆæ‰§è¡Œã€‚</p></blockquote><p>ä¸ºäº†è§£é‡Šæ¸…æ¥šè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä½¿ç”¨ä¸Šé¢è¯­æ³•å’Œå¥æ³•å›¾æ¥åˆ†è§£ç›¸åŒç®—æœ¯è¡¨è¾¾å¼ 7 + 5 * 2 çš„è¿‡ç¨‹ã€‚è¿™åªæ˜¯å¦ä¸€ç§å±•ç¤ºé«˜ä¼˜å…ˆçº§è¿ç®—ç¬¦ å…ˆäº ä½ä¼˜å…ˆçº§è¿ç®—ç¬¦æ‰§è¡Œè¿™ä¸ªäº‹å®çš„ æ–¹å¼ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_exprdecomp.png" alt="img"></p><h3 id="è¯­æ³•è½¬æ¢æˆä»£ç "><a href="#è¯­æ³•è½¬æ¢æˆä»£ç " class="headerlink" title="è¯­æ³•è½¬æ¢æˆä»£ç "></a>è¯­æ³•è½¬æ¢æˆä»£ç </h3><p>è®©æˆ‘ä»¬ä½¿ç”¨<a href="http://ruslanspivak.com/lsbasi-part4/" target="_blank" rel="noopener">part 4</a>ä¸­çš„å‡†åˆ™æŠŠè¯¥è¯­æ³•è½¬åŒ–æˆä»£ç ï¼Œçœ‹çœ‹å®ƒæ€ä¹ˆå·¥ä½œï¼Œå…ˆçœ‹ä¸€å¼ ä¸Šé¢æ”¾è¿‡çš„è¯­æ³•å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part5_grammar-1583931621458.png" alt="è¯­æ³•å›¾"></p><p>ä¸‹é¢æ˜¯èƒ½å¤„ç†å¯ä»¥åŒ…å«ä»»æ„æ•°é‡åŠ å‡ä¹˜é™¤æ“ä½œç¬¦çš„ç®—æœ¯è¡¨è¾¾å¼çš„è®¡ç®—å™¨çš„å®Œæ•´ä»£ç ã€‚</p><blockquote><p>ç›¸æ¯”äº<a href="http://ruslanspivak.com/lsbasi-part4/" target="_blank" rel="noopener">part 4</a>ä»£ç çš„ä¸»è¦å˜åŒ–æœ‰ï¼š</p><ul><li><code>Lexer</code> ç±»ç°åœ¨å¯ä»¥æŠŠ+,-,*å’Œ/éƒ½ token åŒ–äº†ï¼ˆæ²¡ä»€ä¹ˆæ–°æ–¹æ³•ï¼Œæˆ‘ä»¬åªæ˜¯æŠŠå‰é¢æ–‡ç« ä¸­ çš„ä»£ç åˆå¹¶åˆ°ä¸€ä¸ªç±»ä¸­æ¥æ”¯æŒæ‰€æœ‰è¿™äº› tokenï¼‰</li><li>å›æƒ³è¯­æ³•ä¸­çš„æ¯æ¡è§„åˆ™ï¼ˆäº§ç”Ÿå¼ï¼‰Réƒ½è¦å˜æˆä¸€ä¸ªåŒåçš„æ–¹æ³•ï¼Œä¸”å¯¹è¯¥è§„åˆ™çš„å¼•ç”¨éƒ½è¦å˜ æˆä¸€ä¸ªæ–¹æ³•è°ƒç”¨ <code>R()</code> è¿™ä¸€ç‚¹ã€‚ç°åœ¨ <code>Interpreter</code> ç±»æœ‰äº†ä¸‰ä¸ªæ–¹æ³•æ¥å¯¹åº”è¯­æ³•ä¸­çš„é ç»ˆç»“ç¬¦ï¼š <code>expr</code>, <code>term</code>, <code>factor</code>.</li></ul></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Token types</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># EOF (end-of-file) token is used to indicate that</span></span><br><span class="line"><span class="comment"># there is no more input left for lexical analysis</span></span><br><span class="line">INTEGER, PLUS, MINUS, MUL, DIV, EOF = (</span><br><span class="line">    <span class="string">'INTEGER'</span>, <span class="string">'PLUS'</span>, <span class="string">'MINUS'</span>, <span class="string">'MUL'</span>, <span class="string">'DIV'</span>, <span class="string">'EOF'</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line">        <span class="comment"># token type: INTEGER, PLUS, MINUS, MUL, DIV, or EOF</span></span><br><span class="line">        self.type = type</span><br><span class="line">        <span class="comment"># token value: non-negative integer value, '+', '-', '*', '/', or None</span></span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""String representation of the class instance.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Examples:</span></span><br><span class="line"><span class="string">            Token(INTEGER, 3)</span></span><br><span class="line"><span class="string">            Token(PLUS, '+')</span></span><br><span class="line"><span class="string">            Token(MUL, '*')</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Token(&#123;type&#125;, &#123;value&#125;)'</span>.format(</span><br><span class="line">            type=self.type,</span><br><span class="line">            value=repr(self.value)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lexer</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line">        <span class="comment"># client string input, e.g. "3 * 5", "12 / 3 * 4", etc</span></span><br><span class="line">        self.text = text</span><br><span class="line">        <span class="comment"># self.pos is an index into self.text</span></span><br><span class="line">        self.pos = <span class="number">0</span></span><br><span class="line">        self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid character'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">advance</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Advance the `pos` pointer and set the `current_char` variable."""</span></span><br><span class="line">        self.pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pos &gt; len(self.text) - <span class="number">1</span>:</span><br><span class="line">            self.current_char = <span class="literal">None</span>  <span class="comment"># Indicates end of input</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skip_whitespace</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isspace():</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Return a (multidigit) integer consumed from the input."""</span></span><br><span class="line">        result = <span class="string">''</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">            result += self.current_char</span><br><span class="line">            self.advance()</span><br><span class="line">        <span class="keyword">return</span> int(result)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Lexical analyzer (also known as scanner or tokenizer)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This method is responsible for breaking a sentence</span></span><br><span class="line"><span class="string">        apart into tokens. One token at a time.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isspace():</span><br><span class="line">                self.skip_whitespace()</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line">                <span class="keyword">return</span> Token(INTEGER, self.integer())</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'+'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'-'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MINUS, <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'*'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MUL, <span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'/'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(DIV, <span class="string">'/'</span>)</span><br><span class="line"></span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, lexer)</span>:</span></span><br><span class="line">        self.lexer = lexer</span><br><span class="line">        <span class="comment"># set current token to the first token taken from the input</span></span><br><span class="line">        self.current_token = self.lexer.get_next_token()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line">        <span class="comment"># compare the current token type with the passed token</span></span><br><span class="line">        <span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line">        <span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line">        <span class="comment"># otherwise raise an exception.</span></span><br><span class="line">        <span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">            self.current_token = self.lexer.get_next_token()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""factor : INTEGER"""</span></span><br><span class="line">        token = self.current_token</span><br><span class="line">        self.eat(INTEGER)</span><br><span class="line">        <span class="keyword">return</span> token.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""term : factor ((MUL | DIV) factor)*"""</span></span><br><span class="line">        result = self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, DIV):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">                self.eat(MUL)</span><br><span class="line">                result = result * self.factor()</span><br><span class="line">            <span class="keyword">elif</span> token.type == DIV:</span><br><span class="line">                self.eat(DIV)</span><br><span class="line">                result = result / self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Arithmetic expression parser / interpreter.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        calc&gt;  14 + 2 * 3 - 6 / 2</span></span><br><span class="line"><span class="string">        17</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        expr   : term ((PLUS | MINUS) term)*</span></span><br><span class="line"><span class="string">        term   : factor ((MUL | DIV) factor)*</span></span><br><span class="line"><span class="string">        factor : INTEGER</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result = self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (PLUS, MINUS):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">                self.eat(PLUS)</span><br><span class="line">                result = result + self.term()</span><br><span class="line">            <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">                self.eat(MINUS)</span><br><span class="line">                result = result - self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># To run under Python3 replace 'raw_input' call</span></span><br><span class="line">            <span class="comment"># with 'input'</span></span><br><span class="line">            text = raw_input(<span class="string">'calc&gt; '</span>)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        lexer = Lexer(text)</span><br><span class="line">        interpreter = Interpreter(lexer)</span><br><span class="line">        result = interpreter.expr()</span><br><span class="line">        print(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç ä¿å­˜åˆ°åä¸º <code>calc5.py</code> ä¸­ï¼Œæˆ–è€…ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part5/calc5.py" target="_blank" rel="noopener">GitHub</a> ä¸Šä¸‹è½½ã€‚å’Œä»¥å¾€ä¸€æ ·ï¼Œè‡ªå·±å° è¯•ä¸€ä¸‹ï¼Œç¡®è®¤è§£é‡Šå™¨å¯ä»¥å¯¹åŒ…å«ä¸åŒä¼˜å…ˆçº§æ“ä½œç¬¦çš„ç®—æœ¯è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚</p><h2 id="æ¢³ç†"><a href="#æ¢³ç†" class="headerlink" title="æ¢³ç†"></a>æ¢³ç†</h2><p>ä»£ç ä¸­æœ‰ä¸‰ä¸ªç±»(class)ï¼Œä»–ä»¬ä¸­çš„å‡½æ•°åŠä½œç”¨ï¼š</p><ol><li><p><code>Token</code>ï¼š</p><ul><li><p><code>__init__</code>ï¼šåˆå§‹åŒ–å®ä¾‹</p></li><li><p><code>__str__</code>ï¼šå­—ç¬¦ä¸²å½¢å¼</p></li><li><p><code>__repr__</code>ï¼šå­—ç¬¦ä¸²å½¢å¼</p><blockquote><p>åœ¨Pythonä¸­ï¼Œæ‰€æœ‰ä»¥â€œ_<em>â€åŒä¸‹åˆ’çº¿åŒ…èµ·æ¥çš„æ–¹æ³•ï¼Œéƒ½ç»Ÿç§°ä¸ºâ€œMagic Methodâ€ï¼ˆé­”æœ¯æ–¹æ³•ï¼‰,ä¾‹å¦‚ç±»çš„åˆå§‹åŒ–æ–¹æ³• __init_</em></p><table><thead><tr><th><strong><strong>repr</strong>(self)</strong></th><th>å®šä¹‰å½“è¢« repr() è°ƒç”¨æ—¶çš„è¡Œä¸º</th></tr></thead><tbody><tr><td><strong><strong>str</strong>(self)</strong></td><td>å®šä¹‰å½“è¢« str() è°ƒç”¨æ—¶çš„è¡Œä¸º</td></tr></tbody></table></blockquote></li></ul></li><li><p><code>Lexer</code>ç”¨äºè¯æ³•åˆ†æï¼š</p><ul><li><code>__init__</code>ï¼šåˆå§‹åŒ–å®ä¾‹</li><li><code>error</code>ï¼šé”™è¯¯æç¤º</li><li><code>advance</code>ï¼šä½¿poså‰è¿›ä¸€ä¸ªä½ç½®</li><li><code>skip_whitespace</code>ï¼šç•¥è¿‡ç©ºæ ¼</li><li><code>integer</code>ï¼šè¯†åˆ«æ•´æ•°ï¼ˆå¯ä»¥è¯†åˆ«å¤šä½æ•°ï¼‰</li><li><code>get_next_token</code>ï¼šè·å¾—ä¸€ä¸ªtokenï¼ˆå…¶å®æˆ‘è§‰å¾—å«åšï¼š<code>get_token_and_to_next</code>æ›´åˆé€‚ï¼‰</li></ul></li><li><p><code>Interpreter</code>ç”¨äºè¯­æ³•åˆ†æï¼š</p><ul><li><code>__init__</code>ï¼šåˆå§‹åŒ–å®ä¾‹</li><li><code>error</code>ï¼šé”™è¯¯æç¤º</li><li><code>eat</code>ï¼šè´Ÿè´£æ£€æµ‹å½“å‰çš„token.typeä¸ä¼ å…¥çš„token_typeæ˜¯å¦ç›¸åŒã€‚è‹¥ç›¸åŒï¼Œåˆ™å°†å½“å‰çš„tokenâ€œåƒäº†â€ï¼Œç„¶åæŠŠå½“å‰tokençš„ä¸‹ä¸€ä¸ªtokenåˆ†é…ç»™current_tokenã€‚</li><li>ä¸‹é¢å°±æ˜¯è¯­æ³•åˆ†æçš„æ ¸å¿ƒäº†ï¼Œç”±ä¸Šé¢çš„åˆ†æç›´åˆ°ï¼Œå®ƒç”±ï¼š<code>expr</code>ã€<code>term</code>ã€<code>factor</code>æ„æˆã€‚</li></ul></li></ol><p>æ¢³ç†å®Œæ¯•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 4</title>
      <link href="/archives/3b16.html"/>
      <url>/archives/3b16.html</url>
      
        <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part4/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part4/</a></p><p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ä½ å­¦ä¼šäº†æ€æ ·è¯†åˆ«å’Œè§£é‡ŠåŒ…å«ä»»æ„æ•°é‡çš„åŠ å‡æ“ä½œçš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œä¾‹å¦‚â€œ7 - 3 + 2 - 1â€ã€‚è¿˜å­¦ä¼šäº†å¥æ³•å›¾ä»¥åŠå®ƒä»¬å¦‚ä½•è¢«ç”¨æ¥è¡¨ç¤ºä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•ã€‚</p><p>ä»Šå¤©ä½ å°†ä¼šå­¦ä¹ è§£æ(parse)å’Œè§£é‡Š(interpret)åŒ…å«ä»»æ„ä¹˜é™¤æ“ä½œçš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œä¾‹å¦‚â€œ7 * 4 / 2 * 3â€ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨çš„æ˜¯æ•´æ•°é™¤æ³•ï¼Œæ‰€ä»¥å¯¹äºè¡¨è¾¾å¼â€œ9 / 4â€æ¥è¯´ï¼Œç»“æœæ˜¯ä¸€ä¸ª æ•´æ•°ï¼š2ã€‚</p><p>æˆ‘ä»Šå¤©ä¼šè®²å¾ˆå¤šå¦ä¸€ä¸ªè¡¨ç¤ºç¼–ç¨‹è¯­è¨€å¥æ³•çš„å¹¿æ³›ä½¿ç”¨çš„è¡¨ç¤ºæ³•ï¼Œå« <strong>ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•</strong> (context-free grammars, ç®€è®°ä¸º grammars)æˆ– <strong>BNF</strong> (Backus-Naur Form)ã€‚ä¸ºäº†è¿™ç¯‡æ–‡ç« çš„ç›®çš„ï¼Œæˆ‘ä¸ä¼šä½¿ç”¨çº¯ <a href="https://en.wikipedia.org/wiki/Backusâ€“Naur_Form" target="_blank" rel="noopener">BNF</a> è®°æ³•ï¼Œè€Œæ›´åƒæ˜¯ä¸€ä¸ªä¿®æ”¹è¿‡çš„ <a href="https://en.wikipedia.org/wiki/Extended_Backusâ€“Naur_Form" target="_blank" rel="noopener">EBNF</a> è®°æ³•ã€‚</p><blockquote><p><strong>æ–‡æ³•(è¯­æ³•)</strong>ï¼šæè¿°è¯­è¨€çš„è¯­æ³•ç»“æ„çš„å½¢å¼è§„åˆ™ã€‚</p><p><strong>ä¸Šä¸‹æ–‡æ— å…³è¯­æ³•</strong>å°±æ˜¯è¯´è¿™ä¸ªæ–‡æ³•ä¸­æ‰€æœ‰çš„äº§ç”Ÿå¼å·¦è¾¹åªæœ‰ä¸€ä¸ªéç»ˆç»“ç¬¦ï¼Œæ¯”å¦‚ï¼š</p><p>S -&gt; aSb</p><p>S -&gt; ab<br>è¿™ä¸ªæ–‡æ³•æœ‰ä¸¤ä¸ªäº§ç”Ÿå¼ï¼Œæ¯ä¸ªäº§ç”Ÿå¼å·¦è¾¹åªæœ‰ä¸€ä¸ªéç»ˆç»“ç¬¦Sï¼Œè¿™å°±æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œå› ä¸ºä½ åªè¦æ‰¾åˆ°ç¬¦åˆäº§ç”Ÿå¼å³è¾¹çš„ä¸²ï¼Œå°±å¯ä»¥æŠŠå®ƒå½’çº¦ä¸ºå¯¹åº”çš„éç»ˆç»“ç¬¦ã€‚</p><p>æ¯”å¦‚ï¼š</p><p>aSb -&gt; aaSbb</p><p>S -&gt; ab<br>è¿™å°±æ˜¯ä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•ï¼Œå› ä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªäº§ç”Ÿå¼å·¦è¾¹æœ‰ä¸æ­¢ä¸€ä¸ªç¬¦å·ï¼Œæ‰€ä»¥ä½ åœ¨åŒ¹é…è¿™ä¸ªäº§ç”Ÿå¼ä¸­çš„Sçš„æ—¶å€™å¿…éœ€ç¡®ä¿è¿™ä¸ªSæœ‰æ­£ç¡®çš„â€œä¸Šä¸‹æ–‡â€ï¼Œä¹Ÿå°±æ˜¯å·¦è¾¹çš„aå’Œå³è¾¹çš„bï¼Œæ‰€ä»¥å«ä¸Šä¸‹æ–‡ç›¸å…³æ–‡æ³•ã€‚</p><p>ä½œè€…ï¼šå¾è¾°<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/21833944/answer/40689967" target="_blank" rel="noopener">https://www.zhihu.com/question/21833944/answer/40689967</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote><p>ä»¥ä¸‹æ˜¯ä¸€äº›ä½¿ç”¨è¯­æ³•çš„åŸå› ï¼š</p><ol><li>è¯­æ³•ä½¿ç”¨äº†ä¸€ç§ç®€æ˜çš„æ–¹å¼æ¥æè¿°ä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„å¥æ³•ã€‚ä¸åƒè¯­æ³•å›¾ï¼Œè¯­æ³•éå¸¸ç´§å‡‘ã€‚ åœ¨ä»¥åçš„æ–‡ç« ä¸­ï¼Œä½ ä¼šçœ‹åˆ°æˆ‘è¶Šæ¥è¶Šå¤šåœ°ä½¿ç”¨è¯­æ³•ã€‚</li><li>è¯­æ³•å¯ä»¥åšä¸ºæ–‡æ¡£ä¿å­˜ã€‚</li><li>å³ä½¿å¯¹ä»å¤´å¼€å§‹å†™è§£æå™¨(parser)æ¥è¯´ï¼Œè¯­æ³•ä¹Ÿæ˜¯ä¸€ä¸ªå¥½çš„å…¥æ‰‹ç‚¹ã€‚å¾ˆå¤šæ—¶å€™é€šè¿‡éµå¾ª ä¸€å¥—ç®€å•çš„è§„åˆ™ä½ å°±å¯ä»¥æŠŠè¯­æ³•è½¬åŒ–æˆä»£ç ã€‚</li><li>æœ‰ä¸€å¥—å·¥å…·ï¼Œå«è§£æå™¨ç”Ÿæˆå™¨(parser generator)ï¼Œå¯ä»¥æŠŠè¯­æ³•åšä¸ºè¾“å…¥å¹¶è‡ªåŠ¨æ ¹æ®å®ƒä¸ºä½ ç”Ÿæˆä¸€ä¸ªè§£æå™¨ã€‚æˆ‘ä¼šä»¥ååœ¨è¿™ä¸ªç³»åˆ—ä¸­è°ˆåˆ°è¿™äº›å·¥å…·ã€‚</li></ol><h2 id="è¯­æ³•æœºåˆ¶"><a href="#è¯­æ³•æœºåˆ¶" class="headerlink" title="è¯­æ³•æœºåˆ¶"></a>è¯­æ³•æœºåˆ¶</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥èŠèŠè¯­æ³•çš„æœºåˆ¶æ–¹é¢ï¼š</p><p>ä¸‹é¢çš„è¯­æ³•æè¿°äº†ç®—æœ¯è¡¨è¾¾å¼ï¼Œåƒâ€œ7 * 4 / 2 * 3â€è¿™æ ·çš„ï¼ˆè¿™åªæ˜¯è¯¥è¯­æ³•å¯ä»¥ç”Ÿæˆçš„è®¸å¤šè¡¨è¾¾å¼<strong>ä¹‹ä¸€</strong>ï¼‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310202232.png" alt="BNF-1"></p><p>è¯­æ³•æ˜¯ç”±ä¸€ç³»åˆ—è§„åˆ™ç»„æˆçš„ï¼Œä¹Ÿè¢«ç§°ä¸º<strong>äº§ç”Ÿå¼(production)</strong>ã€‚æˆ‘ä»¬çš„è¯­æ³•ä¸­æœ‰ä¸¤æ¡è§„åˆ™(äº§ç”Ÿå¼)ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310202500.png" alt=""></p><ul><li><p>1ã€ä¸€æ¡è§„åˆ™ç”±ï¼š<u>ä¸€ä¸ªéç»ˆç»“ç¬¦</u>(å«åš <strong>head</strong>æˆ–ç”Ÿæˆå¼çš„<strong>å·¦</strong>è¾¹) <strong>+</strong> <u>ä¸€ä¸ªåˆ†å·</u>ï¼ˆ:ï¼‰<strong>+</strong> <u>ä¸€ç³»åˆ—ç»ˆç»“ç¬¦ å’Œ/æˆ– éç»ˆç»“ç¬¦</u>(å«åš <strong>body</strong> æˆ– <strong>å³è¾¹</strong>)ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310204653.png" alt=""></p></li><li><p>2ã€åœ¨ä¸Šé¢å±•ç¤ºçš„è¯­æ³•ä¸­ï¼Œåƒ MUL, DIV, æˆ– INTEGER è¿™æ ·çš„ token è¢«ç§°ä¸º <strong>ç»ˆç»“ç¬¦(terminals)</strong>, <code>expr</code> <code>factor</code> è¿™æ ·çš„å˜é‡è¢«ç§°ä¸º <strong>éç»ˆç»“ç¬¦(not-terminals)</strong>.</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310204953.png" alt=""></p></li></ul><p>ç¬¬ä¸€æ¡è§„åˆ™å·¦è¾¹çš„éç»ˆç»“ç¬¦è¢«å«åš <strong>å¼€å§‹ç¬¦å·(start symbol)</strong>. åœ¨æˆ‘ä»¬çš„è¯­æ³•ä¸­ï¼Œå¼€å§‹ç¬¦å·æ˜¯ <em>expr</em>:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310205155.png" alt=""></p><p>ä½ å¯ä»¥è¿™ä¹ˆç†è§£ <code>expr</code> è¿™æ¡è§„åˆ™ï¼šâ€œexpr æ˜¯ä¸€ä¸ª factor åé¢å¯é€‰åœ°è·Ÿä¸€ä¸ªä¹˜æˆ–é™¤è¿ç®—ç¬¦å†è·Ÿ å¦ä¸€ä¸ª factorï¼Œåé¢ä¹Ÿç›¸åº”å¯é€‰åœ°è·Ÿä¸€ä¸ªä¹˜æˆ–é™¤è¿ç®—ç¬¦å†è·Ÿå¦ä¸€ä¸ª factorï¼Œå¦‚æ­¤é‡å¤â€ã€‚</p><p>factor æ˜¯ä»€ä¹ˆï¼Ÿå¯¹äºæœ¬æ–‡æ¥è¯´ factor å°±æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</p><h3 id="è¯­æ³•ä¸­çš„ç¬¦å·"><a href="#è¯­æ³•ä¸­çš„ç¬¦å·" class="headerlink" title="è¯­æ³•ä¸­çš„ç¬¦å·"></a>è¯­æ³•ä¸­çš„ç¬¦å·</h3><p>è®©æˆ‘ä»¬å¿«é€Ÿåœ°è¿‡ä¸€éè¯­æ³•ä¸­çš„ç¬¦å·åŠå®ƒä»¬çš„æ„ä¹‰ã€‚</p><ul><li><p><code>|</code>å¤šé€‰ä¸€ã€‚ç«–çº¿è¡¨ç¤ºâ€œæˆ–â€ã€‚æ‰€ä»¥ <code>(MUL | DIV)</code> è¡¨ç¤º MUL æˆ– DIV</p></li><li><p><code>(...)</code>è¢«æ‹¬å·åŒ…å›´è¡¨ç¤ºæŠŠç»ˆç»“ç¬¦ å’Œ/æˆ– éç»ˆç»“ç¬¦ç»„æˆä¸€ç»„ï¼Œå°±åƒ <code>(MUL | DIV)</code></p></li><li><p><code>(...)*</code>åˆ†ç»„ä¸­çš„å†…å®¹è¢«åŒ¹é… 0 æˆ– å¤šæ¬¡ã€‚</p></li></ul><p>è¯­æ³•é€šè¿‡è§£é‡Šå¯ä»¥ç»„æˆä»€ä¹ˆæ ·çš„å¥å­æ¥å®šä¹‰ä¸€é—¨è¯­è¨€ã€‚é€šè¿‡è¯­æ³•æ´¾ç”Ÿå‡ºç®—æœ¯è¡¨è¾¾å¼çš„æ–¹å¼ä¸ºï¼šé¦–å…ˆä»å¼€å§‹ç¬¦å· <code>expr</code> å¼€å§‹ï¼Œç„¶ååå¤åœ°ä½¿ç”¨æ‰€åŒ…å«çš„éç»ˆç»“ç¬¦çš„è§„åˆ™æ›¿æ¢è¯¥éç»ˆç»“ç¬¦ï¼Œ ç›´åˆ°ç”Ÿæˆä¸€ä¸ª<u>åªåŒ…å«ç»ˆç»“ç¬¦çš„</u>å¥å­ã€‚è¯­æ³•èƒ½ç»„æˆçš„å¥å­æ„æˆäº†ä¸€é—¨è¯­è¨€ã€‚</p><p>ä¸‹é¢ä¸¾ä¾‹è¯´æ˜ï¼š</p><ul><li><p>ä¾‹1ï¼Œä¸‹é¢æ˜¯è¯­æ³•å¦‚ä½•æ´¾ç”Ÿå‡ºè¡¨è¾¾å¼ <code>3</code>:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310210521.png" alt=""></p></li><li><p>ä¾‹2ï¼Œä¸‹é¢æ˜¯è¯­æ³•å¦‚ä½•æ´¾ç”Ÿå‡ºè¡¨è¾¾å¼ <code>3 * 7</code>:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310210557.png" alt=""></p></li><li><p>ä¾‹3ï¼Œä¸‹é¢æ˜¯è¯­æ³•å¦‚ä½•æ´¾ç”Ÿå‡ºè¡¨è¾¾å¼ <code>3 * 7 / 2</code>:</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part4_derive3.png" alt="img"></p></li></ul><h2 id="å°†è¯­æ³•å˜æˆä»£ç "><a href="#å°†è¯­æ³•å˜æˆä»£ç " class="headerlink" title="å°†è¯­æ³•å˜æˆä»£ç "></a>å°†è¯­æ³•å˜æˆä»£ç </h2><p>ä¸‹é¢æ˜¯ä¸€äº›æˆ‘ä»¬åœ¨æŠŠè¯­æ³•è½¬åŒ–æˆæºä»£ç æ—¶ä¼šç”¨åˆ°çš„==å››ä¸ªå‡†åˆ™==ã€‚æŒ‰ç…§è¿™äº›å‡†åˆ™ï¼Œä½ çœŸçš„å°±å¯ä»¥æŠŠè¯­æ³•ç¿»è¯‘æˆä¸€ä¸ªå¯å·¥ä½œçš„ parser:</p><ol><li>å¯¹äºè¯­æ³•ä¸­å®šä¹‰çš„æ¯ä¸ªè§„åˆ™ Rï¼Œå°†å®ƒåšæˆä¸€ä¸ªæœ‰ç›¸åŒåå­—çš„æ–¹æ³•ï¼Œå¯¹è¯¥è§„åˆ™çš„å¼•ç”¨å°±å˜æˆäº†ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼šR()ã€‚è¯¥æ–¹æ³•çš„æ–¹æ³•ä½“éµå¾ªè¯¥è§„åˆ™çš„æ­¥éª¤ï¼Œè¿‡ç¨‹ä¸­ä½¿ç”¨ç›¸åŒçš„å‡†åˆ™ã€‚</li><li>å¤šé€‰ä¸€ <code>(a1|a2|aN)</code> å˜æˆ <strong>if-elif-else</strong> è¯­å¥</li><li>å¯é€‰ç»„ <code>(...)*</code> å˜æˆä¸€ä¸ªå¯ä»¥æ‰§è¡Œ 0 æˆ–å¤šæ¬¡çš„ <strong>while</strong> å¾ªç¯ï¼ˆcan loop over zero or more timesï¼‰</li><li>æ¯ä¸ª Token è®°ä¸º T å˜æˆä¸€ä¸ª <code>eat</code> æ–¹æ³•è°ƒç”¨: <code>eat(T)</code>. <code>eat</code> æ–¹æ³•çš„å·¥ä½œæ˜¯ å½“å®ƒåŒ¹é…åˆ°å½“å‰çš„<code>å‘å‰çœ‹</code> (lookahead) token å°±æ¶ˆè€—æ‰å®ƒï¼Œç„¶åä» lexer ä¸­å¾—åˆ°ä¸€ä¸ªæ–° token å¹¶å°†å®ƒèµ‹å€¼ç»™å†…éƒ¨å˜é‡ <code>current_token</code>.</li></ol><p>è¿™äº›å‡†åˆ™çœ‹ä¸Šå»åƒè¿™æ ·ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310211240.png" alt=""></p><p>è®©æˆ‘ä»¬ç»§ç»­å¹¶éµå¾ªä¸Šè¿°å‡†åˆ™æŠŠæˆ‘ä»¬çš„è¯­æ³•è½¬åŒ–ä¸ºä»£ç ã€‚</p><p>æˆ‘ä»¬çš„è¯­æ³•ä¸­æœ‰ä¸¤æ¡è§„åˆ™ï¼š <code>expr</code> å’Œ <code>factor</code>. æˆ‘ä»¬ä» <code>factor</code> è§„åˆ™ï¼ˆç”Ÿæˆå¼ï¼‰å¼€å§‹ã€‚ æ ¹æ®å‡†åˆ™ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªåä¸º factor çš„æ–¹æ³•ï¼ˆå‡†åˆ™1)ï¼Œå®ƒè°ƒç”¨äº†ä¸€æ¬¡ <code>eat</code> æ–¹æ³•æ¥æ¶ˆè€—INTEGER token ï¼ˆå‡†åˆ™4)ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span>   <span class="comment">#factorå°±æ˜¯æŒ‡çš„integerå‹æ•°å€¼</span></span><br><span class="line">    self.eat(INTEGER)</span><br></pre></td></tr></table></figure><p><code>expr</code> è§„åˆ™å˜æˆäº† <code>expr</code> æ–¹æ³•ï¼ˆè¿˜æ˜¯å‡†åˆ™1ï¼‰ã€‚è§„åˆ™ä½“(body)å¼€å§‹çš„ <code>factor</code> å¼•ç”¨ å˜æˆäº†å¯¹ <code>factor()</code> æ–¹æ³•çš„è°ƒç”¨ã€‚å¯è¡Œç»„ <code>(...)*</code> å˜æˆäº†ä¸€ä¸ª <code>while</code> å¾ªç¯ï¼Œå¤šé€‰ä¸€ <code>(MUL|DIV)</code> å˜æˆäº†ä¸€ä¸ª <code>if-elif-else</code> è¯­å¥ã€‚æŠŠè¿™äº›ç‰‡æ®µåˆå¹¶åœ¨ä¸€èµ·å°±å¾—åˆ°äº†ä¸‹é¢çš„<code>expr</code> æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.factor() <span class="comment">#è¯­æ³•å‡†åˆ™ä¸­çš„ç¬¬ä¸€ä¸ªfactor</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, DIV):</span><br><span class="line">        token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">            self.eat(MUL)</span><br><span class="line">            self.factor()</span><br><span class="line">        <span class="keyword">elif</span> token.type == DIV:</span><br><span class="line">            self.eat(DIV)</span><br><span class="line">            self.factor()</span><br></pre></td></tr></table></figure><p>åŸä½œè€…å°†æœ¬æ–‡çš„ä»£ç æ”¾åœ¨äº†æ–‡ä»¶ <code>parser.py</code> ä¸­ï¼Œå®ƒåŒ…å«äº† lexer å’Œ parser ä½†æ²¡æœ‰interpreterã€‚ä½ å¯ä»¥ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part4/parser.py" target="_blank" rel="noopener">GitHub</a>ä¸‹è½½å¹¶å°è¯•ä¸€ä¸‹ã€‚å®ƒåŒ…å«æœ‰ä¸€ä¸ª interpreter æç¤ºç¬¦ï¼Œä½ å¯ä»¥è¾“å…¥è¡¨è¾¾å¼æ¥æŸ¥çœ‹å®ƒæ˜¯å¦åˆæ³•ï¼Œå³æŸ¥çœ‹æ ¹æ®è¯­æ³•å»ºç«‹çš„ parser æ˜¯å¦å¯ä»¥è¯†åˆ«å‡ºè¡¨è¾¾å¼ã€‚</p><p>ä¸‹é¢æ˜¯åœ¨æˆ‘ç¬”è®°æœ¬ä¸Šçš„ä¸€æ¬¡å°è¯•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ python parser.py</span><br><span class="line">calc&gt; <span class="number">3</span></span><br><span class="line">calc&gt; <span class="number">3</span> * <span class="number">7</span></span><br><span class="line">calc&gt; <span class="number">3</span> * <span class="number">7</span> / <span class="number">2</span></span><br><span class="line">calc&gt; <span class="number">3</span> *</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">155</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    main()</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">151</span>, <span class="keyword">in</span> main</span><br><span class="line">    parser.parse()</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">136</span>, <span class="keyword">in</span> parse</span><br><span class="line">    self.expr()</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">130</span>, <span class="keyword">in</span> expr</span><br><span class="line">    self.factor()</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">114</span>, <span class="keyword">in</span> factor</span><br><span class="line">    self.eat(INTEGER)</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">107</span>, <span class="keyword">in</span> eat</span><br><span class="line">    self.error()</span><br><span class="line">  File <span class="string">"parser.py"</span>, line <span class="number">97</span>, <span class="keyword">in</span> error</span><br><span class="line">    <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line">Exception: Invalid syntax</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå†æ¬¡æèµ·è¯­æ³•å›¾ã€‚è¿™æ˜¯ç›¸åŒçš„ <code>expr</code> è§„åˆ™ï¼ˆä¹Ÿå«ï¼Œäº§ç”Ÿå¼(production)ï¼‰å¯¹åº”çš„å¥æ³•å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200310212342.png" alt="expr"></p><p>ä¸‹é¢æ˜¯åŸä½œè€…çš„å…³äºæœ¬æ–‡çš„æºç ã€‚ä¸‹é¢æ˜¯å¯ä»¥å¤„ç†åŒ…å«ä»»æ„æ•°é‡æ•´æ•° ä¹˜é™¤ï¼ˆæ•´æ•°é™¤æ³•ï¼‰æ“ä½œçš„åˆæ³•çš„ç®—æœ¯è¡¨è¾¾å¼çš„è®¡ç®—å™¨ä»£ç ã€‚è¿™é‡ŒæŠŠè¯æ³•åˆ†æå™¨é‡æ„ åˆ°äº†ä¸€ä¸ªå•ç‹¬çš„ç±» <code>Lexer</code> ä¸­ï¼Œå¹¶è®© <code>Interpreter</code> ç±»ä½¿ç”¨ <code>Lexer</code> å®ä¾‹åšä¸ºå‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Token types</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># EOF (end-of-file) token is used to indicate that</span></span><br><span class="line"><span class="comment"># there is no more input left for lexical analysis</span></span><br><span class="line">INTEGER, MUL, DIV, EOF = <span class="string">'INTEGER'</span>, <span class="string">'MUL'</span>, <span class="string">'DIV'</span>, <span class="string">'EOF'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line">        <span class="comment"># token type: INTEGER, MUL, DIV, or EOF</span></span><br><span class="line">        self.type = type</span><br><span class="line">        <span class="comment"># token value: non-negative integer value, '*', '/', or None</span></span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""String representation of the class instance.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Examples:</span></span><br><span class="line"><span class="string">            Token(INTEGER, 3)</span></span><br><span class="line"><span class="string">            Token(MUL, '*')</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Token(&#123;type&#125;, &#123;value&#125;)'</span>.format(</span><br><span class="line">            type=self.type,</span><br><span class="line">            value=repr(self.value)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯æ³•åˆ†æ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lexer</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line">        <span class="comment"># client string input, e.g. "3 * 5", "12 / 3 * 4", etc</span></span><br><span class="line">        self.text = text</span><br><span class="line">        <span class="comment"># self.pos is an index into self.text</span></span><br><span class="line">        self.pos = <span class="number">0</span></span><br><span class="line">        self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid character'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">advance</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Advance the `pos` pointer and set the `current_char` variable."""</span></span><br><span class="line">        self.pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pos &gt; len(self.text) - <span class="number">1</span>:</span><br><span class="line">            self.current_char = <span class="literal">None</span>  <span class="comment"># Indicates end of input</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skip_whitespace</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isspace():</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Return a (multidigit) integer consumed from the input."""</span></span><br><span class="line">        result = <span class="string">''</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">            result += self.current_char</span><br><span class="line">            self.advance()</span><br><span class="line">        <span class="keyword">return</span> int(result)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ä¸å¦‚å«åšï¼šget_token_and_next</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Lexical analyzer (also known as scanner or tokenizer)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        This method is responsible for breaking a sentence</span></span><br><span class="line"><span class="string">        apart into tokens. One token at a time.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isspace():</span><br><span class="line">                self.skip_whitespace()</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line">                <span class="keyword">return</span> Token(INTEGER, self.integer())</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'*'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MUL, <span class="string">'*'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'/'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(DIV, <span class="string">'/'</span>)</span><br><span class="line"></span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, lexer)</span>:</span></span><br><span class="line">        self.lexer = lexer</span><br><span class="line">        <span class="comment"># set current token to the first token taken from the input</span></span><br><span class="line">        self.current_token = self.lexer.get_next_token()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line">        <span class="comment"># compare the current token type with the passed token</span></span><br><span class="line">        <span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line">        <span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line">        <span class="comment"># otherwise raise an exception.</span></span><br><span class="line">        <span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">            self.current_token = self.lexer.get_next_token()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">factor</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Return an INTEGER token value.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        factor : INTEGER</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        token = self.current_token</span><br><span class="line">        self.eat(INTEGER)</span><br><span class="line">        <span class="keyword">return</span> token.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""Arithmetic expression parser / interpreter.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        expr   : factor ((MUL | DIV) factor)*</span></span><br><span class="line"><span class="string">        factor : INTEGER</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result = self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (MUL, DIV):</span><br><span class="line">            token = self.current_token</span><br><span class="line">            <span class="keyword">if</span> token.type == MUL:</span><br><span class="line">                self.eat(MUL)</span><br><span class="line">                result = result * self.factor()</span><br><span class="line">            <span class="keyword">elif</span> token.type == DIV:</span><br><span class="line">                self.eat(DIV)</span><br><span class="line">                result = result / self.factor()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># To run under Python3 replace 'raw_input' call</span></span><br><span class="line">            <span class="comment"># with 'input'</span></span><br><span class="line">            text = raw_input(<span class="string">'calc&gt; '</span>)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        lexer = Lexer(text)</span><br><span class="line">        interpreter = Interpreter(lexer)</span><br><span class="line">        result = interpreter.expr()</span><br><span class="line">        print(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç ä¿å­˜åˆ°åä¸º <code>calc4.py</code> ä¸­ï¼Œæˆ–è€…ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part4/calc4.py" target="_blank" rel="noopener">GitHub</a> ä¸Šä¸‹è½½ã€‚å’Œä»¥å¾€ä¸€æ ·ï¼Œè‡ªå·±å° è¯•ä¸€ä¸‹ï¼Œç¡®è®¤å®ƒèƒ½å·¥ä½œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 3</title>
      <link href="/archives/f957.html"/>
      <url>/archives/f957.html</url>
      
        <content type="html"><![CDATA[<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part3/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part3/</a></p><p>ç›®å‰ä¸ºæ­¢ï¼Œä½ å·²ç»å­¦ä¹ äº†å¦‚ä½•è§£é‡Šæ•´æ•°ç›¸åŠ æˆ–ç›¸å‡çš„ç®—æœ¯è¡¨è¾¾å¼å¦‚â€œ7+3â€æˆ–â€œ12-9â€ã€‚ä»Šå¤©æˆ‘ ä¼šèŠä¸€èŠæ€æ ·è§£æï¼ˆè¯†åˆ«ï¼‰å¹¶è§£é‡ŠåŒ…å«å¤šä½æ•´æ•°çš„åŠ å‡æ³•çš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œå¦‚â€œ7 - 3 + 2 - 1â€ã€‚</p><h2 id="è¯­æ³•å›¾"><a href="#è¯­æ³•å›¾" class="headerlink" title="è¯­æ³•å›¾"></a>è¯­æ³•å›¾</h2><p>æœ¬æ–‡ä¸­çš„ç®—æœ¯è¡¨è¾¾å¼å¯ä»¥ç”¨å¦‚ä¸‹çš„è¯­æ³•å›¾(syntax diagram)è¡¨ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part3_syntax_diagram-1583822487945.png" alt="è¯­æ³•å›¾"></p><blockquote><p><strong>è¯­æ³•å›¾(syntax diagram)</strong>ï¼šå°±æ˜¯ç¨‹åºè¯­è¨€å¥æ³•è§„åˆ™çš„å›¾å½¢è¡¨ç¤ºã€‚åŸºæœ¬ä¸Šï¼Œè¯­æ³•å›¾ä»è§†è§‰ä¸Šå‘ä½ å±•ç¤ºäº†åœ¨ä½ çš„ç¨‹åºè¯­è¨€ä¸­å“ªäº›è¯­å¥æ˜¯å…è®¸çš„å“ªäº›æ˜¯ä¸å…è®¸çš„ã€‚</p></blockquote><p>å¥æ³•å›¾å¾ˆå®¹æ˜“é˜…è¯»ï¼šåªéœ€è·Ÿéšç®­å¤´æ‰€æŒ‡ç¤ºçš„è·¯å¾„å³å¯ã€‚ä¸€äº›è·¯å¾„è¡¨ç¤ºé€‰æ‹©ï¼Œä¸€äº›è·¯å¾„è¡¨ç¤ºå¾ªç¯ã€‚</p><p>ä½ å¯ä»¥è¿™æ ·é˜…è¯»ä¸Šé¢çš„å¥æ³•å›¾ï¼šä¸€ä¸ª term åé¢å¯ä»¥è·Ÿä¸€ä¸ªåŠ å·æˆ–å‡å·ï¼Œåé¢åˆè·Ÿå¦ä¸€ä¸ª termï¼Œ ç›¸åº”åœ°å®ƒåé¢åˆå¯ä»¥è·Ÿä¸€ä¸ªåŠ å·æˆ–å‡å·ï¼Œåé¢åˆè·Ÿå¦ä¸€ä¸ª termï¼Œå¦‚æ­¤å¾ªç¯ã€‚ä½ å·²ç»è¯»æ‡‚äº† è¿™å¹…å›¾ç‰‡ï¼ŒçœŸçš„ã€‚<u>ä½ å¯èƒ½ä¼šç–‘æƒ‘ä»€ä¹ˆæ˜¯â€œtermâ€ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­â€œtermâ€å°±æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚</u></p><h3 id="è¯­æ³•å›¾çš„ç”¨é€”"><a href="#è¯­æ³•å›¾çš„ç”¨é€”" class="headerlink" title="è¯­æ³•å›¾çš„ç”¨é€”"></a>è¯­æ³•å›¾çš„ç”¨é€”</h3><p>æœ¬æ–‡ä¸­çš„è¯­æ³•å›¾ä¸»è¦æœ‰ä¸¤ä¸ªç”¨é€”ï¼š</p><ul><li>ä»å›¾å½¢ä¸Šè¡¨ç¤ºä¸€ä¸ªç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†ï¼ˆè¯­æ³•ï¼‰ã€‚</li><li>ç”¨æ¥å¸®åŠ©ä½ ç¼–å†™parser(è¯­æ³•åˆ†æå™¨)ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢ç®€å•çš„è§„åˆ™å°†å›¾æ˜ å°„åˆ°ä»£ç ã€‚</li></ul><h2 id="è¯­æ³•åˆ†æå™¨"><a href="#è¯­æ³•åˆ†æå™¨" class="headerlink" title="è¯­æ³•åˆ†æå™¨"></a>è¯­æ³•åˆ†æå™¨</h2><p>ä½ å·²ç»å­¦è¿‡äº†ä» token æµä¸­è¯†åˆ«ç»„åˆçš„è¿‡ç¨‹å« <strong>parsing</strong>. ä¸”è§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨ä¸­æ‰§è¡Œè¿™éƒ¨åˆ†ä»»åŠ¡çš„å« <strong>parser</strong>. parsingä¹Ÿè¢«ç§°ä¸º <strong>è¯­æ³•åˆ†æ</strong> (syntax analysis)ï¼Œparserä¹Ÿç›¸åº”åœ°è¢«ç§°ä¸º<strong>è¯­æ³•åˆ†æå™¨</strong>(syntax analyzer)ï¼Œä½ åº”è¯¥ä¹ŸçŒœåˆ°è¿™ç‚¹äº†ã€‚</p><p>æ ¹æ®ä¸Šé¢çš„å¥æ³•å›¾ï¼Œä¸‹é¢æ‰€æœ‰çš„ç®—æœ¯è¡¨è¾¾å¼éƒ½æ˜¯åˆæ³•çš„ï¼š</p><ul><li>3</li><li>3 + 4</li><li>7 - 3 + 2 - 1</li></ul><p>å› ä¸ºåœ¨ä¸åŒçš„ç¨‹åºè¯­è¨€ä¸­ç®—æœ¯è¡¨è¾¾å¼çš„å¥æ³•è§„åˆ™éƒ½ç›¸ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Python shell æ¥ â€œæµ‹è¯•â€æˆ‘ä»¬çš„å¥æ³•å›¾ã€‚å¯åŠ¨ Python shell è‡ªå·±è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> + <span class="number">4</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">7</span> - <span class="number">3</span> + <span class="number">2</span> - <span class="number">1</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure><p>ä¸€åˆ‡æ­£å¸¸ã€‚</p><p>ä½†è¡¨è¾¾å¼â€œ3+â€å°±ä¸æ˜¯åˆæ³•çš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œå› ä¸ºæ ¹æ®å¥æ³•å›¾åŠ å·åé¢å¿…é¡»è·Ÿä¸€ä¸ª termï¼ˆæ•´æ•°ï¼‰ï¼Œ å¦åˆ™å°±æ˜¯å¥æ³•é”™è¯¯ã€‚ä¸¤æ¬¡å¯åŠ¨ Python shell è‡ªå·±æŸ¥çœ‹ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> +</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    <span class="number">3</span> +</span><br><span class="line">      ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ Python shell æ¥åšæµ‹è¯•æ˜¯æŒºä¸é”™çš„ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜æ˜¯æŠŠä¸Šé¢çš„å¥æ³•å›¾æ˜ å°„åˆ°ä»£ç ï¼Œç”¨æˆ‘ ä»¬è‡ªå·±çš„è§£é‡Šå™¨æ¥æµ‹è¯•ï¼Œæ˜¯å§ï¼Ÿ</p><p>ä»å‰é¢çš„æ–‡ç« ï¼ˆ<a href="http://ruslanspivak.com/lsbasi-part1/" target="_blank" rel="noopener">ç¬¬ä¸€éƒ¨åˆ†</a>å’Œ<a href="http://ruslanspivak.com/lsbasi-part2/" target="_blank" rel="noopener">ç¬¬äºŒéƒ¨åˆ†</a>ï¼‰ä½ çŸ¥é“äº† parser å’Œ interpreter éƒ½åœ¨ <code>expr</code> æ–¹ æ³•ä¸­ã€‚å†é‡å¤ä¸€ä¸‹ï¼Œparseråªæ˜¯è¯†åˆ«å‡ºç»“æ„å¹¶ä¿è¯å®ƒç¬¦åˆæŸäº›è§„èŒƒï¼Œinterpreteråœ¨parseræˆåŠŸè¯†åˆ«åå¯¹è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ã€‚</p><p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†ä¸å¥è¯­æ³•å›¾ç›¸å¯¹åº”çš„ parser çš„ä»£ç ã€‚è¯­æ³•å›¾ä¸­çš„çŸ©å½¢ç›’å­å˜æˆäº†è§£æä¸€ä¸ªæ•´æ•°çš„ <code>term</code> æ–¹æ³•ï¼Œ <code>expr</code> æ–¹æ³•åˆ™åªæ˜¯è·Ÿéšäº†è¯­æ³•å›¾çš„æŒ‡ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span>    </span><br><span class="line">    self.eat(INTEGER)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span>    </span><br><span class="line"><span class="comment"># set current token to the first token taken from the input  </span></span><br><span class="line">self.current_token = self.get_next_token()    </span><br><span class="line">        </span><br><span class="line">self.term()    </span><br><span class="line"><span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (PLUS, MINUS):</span><br><span class="line">token = self.current_token</span><br><span class="line">        <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">self.eat(PLUS)</span><br><span class="line">self.term()</span><br><span class="line"><span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">self.eat(MINUS)</span><br><span class="line">self.term()</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° <code>expr</code> æ–¹æ³•é¦–å…ˆè°ƒç”¨äº† <code>term</code> æ–¹æ³•ã€‚ç„¶åæ˜¯ä¸€ä¸ªå¯èƒ½æ‰§è¡Œ 0 æˆ–å¤šæ¬¡çš„å¾ªç¯ã€‚ åœ¨å¾ªç¯ä¸­ï¼Œparser æ ¹æ® token ï¼ˆæ˜¯åŠ å·è¿˜æ˜¯å‡å·ï¼‰æ¥åšé€‰æ‹©ã€‚</p><p><strong>Parser æœ¬èº«å¹¶ä¸è§£é‡Šä»»ä½•äº‹</strong>ï¼šå¦‚æœè¯†åˆ«åˆ°ä¸€ä¸ªè¡¨è¾¾å¼å®ƒå°±æ²‰é»˜ï¼Œå¦åˆ™å°±æŠ›å‡ºä¸€ä¸ªå¥æ³•é”™è¯¯ã€‚ è®©æˆ‘ä»¬ä¿®æ”¹ <code>expr</code> æ–¹æ³•æ¥æ·»åŠ  interpreter ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""Return an INTEGER token value"""</span></span><br><span class="line">    token = self.current_token</span><br><span class="line">    self.eat(INTEGER)</span><br><span class="line">    <span class="keyword">return</span> token.value</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""Parser / Interpreter"""</span></span><br><span class="line">    <span class="comment"># set current token to the first token taken from the input</span></span><br><span class="line">    self.current_token = self.get_next_token()</span><br><span class="line"></span><br><span class="line">    result = self.term()</span><br><span class="line">    <span class="keyword">while</span> self.current_token.type <span class="keyword">in</span> (PLUS, MINUS):</span><br><span class="line">token = self.current_token</span><br><span class="line"><span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">    self.eat(PLUS)</span><br><span class="line">    result = result += self.term()</span><br><span class="line"><span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">    self.eat(MINUS)</span><br><span class="line">    result = result - self.term()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure><p>å› ä¸º interpreter éœ€è¦å¯¹è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ï¼Œæ‰€ä»¥ <code>term</code> æ–¹æ³•è¢«ä¿®æ”¹ä¸ºè¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œ <code>expr</code> æ–¹æ³•è¢«ä¿®æ”¹ä¸ºåœ¨é€‚å½“çš„åœ°æ–¹æ‰§è¡ŒåŠ å‡æ³•å¹¶è¿”å›è§£é‡Šçš„ç»“æœã€‚</p><p>è®©æˆ‘ä»¬ç»§ç»­å‰è¿›ï¼Œæ¥çœ‹ä¸€ä¸‹ç°åœ¨è§£é‡Šå™¨çš„å®Œæ•´ä»£ç æ€ä¹ˆæ ·ï¼Ÿ</p><p>ä¸‹é¢æ˜¯ä½ æ–°ç‰ˆè®¡ç®—å™¨çš„æºä»£ç ï¼Œå®ƒå¯ä»¥å¤„ç†åŒ…å«ä»»æ„å¤šä¸ªæ•´æ•°çš„åŠ å‡æ“ä½œçš„åˆæ³•ç®—æœ¯è¡¨è¾¾å¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tokençš„ç±»å‹ï¼š'INTEGER', 'PLUS', 'MINUS', 'EOF'</span></span><br><span class="line"><span class="comment"># Tokençš„å€¼(value)ï¼šæ•´æ•°ï¼Œ'+', '-', or None</span></span><br><span class="line">INTEGER, PLUS, MINUS, EOF = <span class="string">'INTEGER'</span>, <span class="string">'PLUS'</span>, <span class="string">'MINUS'</span>, <span class="string">'EOF'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å®šä¹‰Tokenç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line">        self.type = type</span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Token( &#123;type&#125;, &#123;value&#125; ) '</span> .format(</span><br><span class="line">            type = self.type ,</span><br><span class="line">            value = repr(self.value) <span class="comment">#reprä¸ä¸‹é¢çš„__repr__ä¸ä¸€æ ·ï¼Œä¸‹é¢çš„æ˜¯é‡æ„çš„ã€‚</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line">        self.text = text</span><br><span class="line">        self.pos = <span class="number">0</span></span><br><span class="line">        self.currrent_token = <span class="literal">None</span> <span class="comment">#æ­¤æ—¶è¿˜æ²¡æœ‰tokenå®ä¾‹æ‰€ä»¥æ˜¯None</span></span><br><span class="line">        self.current_char =self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="comment">##########################################################</span></span><br><span class="line">    <span class="comment">#                       Lexer code                       #</span></span><br><span class="line">    <span class="comment">##########################################################</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> Exception(<span class="string">'Invalid syntax'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">advance</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pos &gt; len(self.text) <span class="number">-1</span> :</span><br><span class="line">            self.current_char =<span class="literal">None</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skip_whitespace</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isspace():</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer</span><span class="params">(self)</span>:</span></span><br><span class="line">        result = <span class="string">''</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">            result += self.current_char</span><br><span class="line">            self.advance()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> int(result)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#è¯æ³•åˆ†æ(åˆ†æä¹‹åå½¢æˆä¸€ä¸ªä¸ªçš„token)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isspace():</span><br><span class="line">                self.skip_whitespace()</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="comment">#è¯†åˆ«æ•´æ•°</span></span><br><span class="line">            <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line">                <span class="keyword">return</span> Token(INTEGER, self.integer() )</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># è¯†åˆ«æ˜¯å¦ä¸º+ - è¿ç®—ç¬¦å·</span></span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'+'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line">            <span class="keyword">if</span> self.current_char == <span class="string">'-'</span>:</span><br><span class="line">                self.advance()</span><br><span class="line">                <span class="keyword">return</span> Token(MINUS, <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    <span class="comment">##########################################################</span></span><br><span class="line">    <span class="comment">#               Parser / Interpreter code                #</span></span><br><span class="line">    <span class="comment">##########################################################</span></span><br><span class="line">    <span class="comment">#æ¯”è¾ƒå½“å‰çš„tokençš„ç±»å‹ä¸ä¼ æ¥çš„ç±»å‹æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.currrent_token.type == token_type:</span><br><span class="line">            self.currrent_token = self.get_next_token()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.error()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#è¿”å›ä¸€ä¸ªæ•´å‹çš„tokençš„value</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">term</span><span class="params">(self)</span>:</span></span><br><span class="line">        token = self.currrent_token</span><br><span class="line">        self.eat(INTEGER)</span><br><span class="line">        <span class="keyword">return</span> token.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.currrent_token = self.get_next_token()</span><br><span class="line"></span><br><span class="line">        result = self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> self.currrent_token.type <span class="keyword">in</span> (PLUS , MINUS):</span><br><span class="line">            <span class="comment">#å¾ªç¯æ˜¯ä¸ºäº†ç®—ä¸æ­¢ä¸€æ¬¡çš„åŠ orå‡æ³•ï¼Œä»è€Œè¾¾åˆ°æ··åˆè¿ç®—çš„ç›®çš„</span></span><br><span class="line">            token = self.currrent_token</span><br><span class="line">            <span class="keyword">if</span> token.type == PLUS:</span><br><span class="line">                self.eat(PLUS)</span><br><span class="line">                result = result + self.term()</span><br><span class="line">            <span class="keyword">elif</span> token.type == MINUS:</span><br><span class="line">                self.eat(MINUS)</span><br><span class="line">                result = result - self.term()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment"># To run under Python3 replace 'raw_input' call</span></span><br><span class="line">            <span class="comment"># with 'input'</span></span><br><span class="line">            text = input(<span class="string">'calc&gt; '</span>)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        interpreter = Interpreter(text)</span><br><span class="line">        result = interpreter.expr()</span><br><span class="line">        print(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>å°†ä»¥ä¸Šä»£ç ä¿å­˜åˆ°åä¸º <code>calc3.py</code> ä¸­ï¼Œæˆ–è€…ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part3/calc3.py" target="_blank" rel="noopener">GitHub</a> ä¸Šä¸‹è½½ã€‚è¯•ä¸€è¯•ã€‚äº²çœ¼çœ‹ä¸€ä¸‹ å®ƒå¯ä»¥å¤„ç†ä¹‹å‰å±•ç¤ºç»™ä½ çš„å¥æ³•å›¾ä¸­åŒ…å«çš„ç®—æœ¯è¡¨è¾¾å¼è§„åˆ™ã€‚</p><h2 id="æ¢³ç†"><a href="#æ¢³ç†" class="headerlink" title="æ¢³ç†"></a>æ¢³ç†</h2><ol><li>è¾“å…¥å­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼ˆå¦‚â€œ2+8-6+1â€)ï¼Œå­˜å…¥å˜é‡textä¸­</li><li>å°†textè¿›è¡Œè¯æ³•åˆ†æï¼Œæ‰§è¡Œæ­¤åŠŸèƒ½çš„æ˜¯<code>get_next_token()</code>å‡½æ•°ï¼Œè¯æ³•åˆ†æä¼šç”Ÿæˆä¸€ä¸ªä¸ªçš„token</li><li>ç„¶åå¯¹è¯æ³•åˆ†æä¹‹åçš„tokenæŒ‰ç…§è§„å®šçš„è¯­æ³•ï¼Œè¿›è¡Œè¯­æ³•åˆ†æï¼Œç›¸åº”å‡½æ•°ä¸º<code>expr()</code></li><li>æœ€åè¾“å‡ºç»“æœ</li></ol>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Let&#39;s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3ã€å¸ƒå°”é€»è¾‘å’Œé€»è¾‘é—¨</title>
      <link href="/archives/87ef.html"/>
      <url>/archives/87ef.html</url>
      
        <content type="html"><![CDATA[<p>è®¡ç®—æœºæœ€æ—©çš„æ˜¯æœºç”µè®¾å¤‡ï¼Œä¸€èˆ¬ä½¿ç”¨åè¿›åˆ¶è®¡æ•°ï¼Œæ¯”å¦‚ç”¨é½¿è½®æ•°æ¥ä»£è¡¨åè¿›åˆ¶ã€‚ä½†æ˜¯å…¶å®åªç”¨å¼€/å…³ä¸¤ç§çŠ¶æ€å·²ç»è¶³å¤Ÿè¡¨ç¤ºä¿¡æ¯äº†ï¼Œå°†å…¶ç§°ä¸º<strong>äºŒè¿›åˆ¶ï¼ˆBinaryï¼‰</strong>ã€‚</p><a id="more"></a><p>åœ¨è®¡ç®—æœºä¸­ï¼Œå½“ç”µæµæµè¿‡æ—¶ï¼Œä¸ºé—­åˆçŠ¶æ€ï¼Œè¡¨ç¤ºtrueï¼ˆ1ï¼‰ï¼Œå½“æ²¡æœ‰ç”µæµæµè¿‡æ—¶ï¼Œä¸ºæ–­å¼€çŠ¶æ€ï¼Œè¡¨ç¤ºfalseï¼ˆ0ï¼‰ã€‚ä½†æ˜¯å…¶å®æ™¶ä½“ç®¡å¯ä»¥ä¸åªæ˜¯å¼€/å…³çŠ¶æ€ï¼Œè¿˜å¯ä»¥è®©ä¸åŒå¤§å°çš„ç”µæµé€šè¿‡ï¼Œä¸€äº›æ—©æœŸç”µå­è®¡ç®—æœºï¼Œé€šè¿‡å¯¹ä¸åŒç”µæµå¤§å°è¿›è¡Œåˆ’åˆ†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰è¿›åˆ¶ã€äº”è¿›åˆ¶ç­‰ç­‰ã€‚ä½†é—®é¢˜æ˜¯ï¼ŒçŠ¶æ€è¶Šå¤šå°±è¶Šéš¾åŒºåˆ†ä¿¡å·ï¼Œå¦‚æœå­˜åœ¨ç”µå™ªéŸ³ï¼Œå¯èƒ½å°±ä¼šä½¿çŠ¶æ€ååˆ†æ··ä¹±ã€‚æ‰€ä»¥ä¸ºäº†è®©ä¿¡å·æ›´åŠ æ¸…æ™°ï¼Œå¯ä»¥åªä½¿ç”¨â€œå¼€â€å’Œâ€œå…³â€ä¸¤ç§çŠ¶æ€ã€‚</p><p>å¦ä¸€ä¸ªä½¿ç”¨äºŒè¿›åˆ¶çš„åŸå› æ˜¯ï¼Œæœ‰ä¸€æ•´ä¸ªæ•°å­¦åˆ†æ”¯ä¸“é—¨å¤„ç†â€œçœŸâ€å’Œâ€œå‡â€ï¼Œå®ƒå·²è§£å†³äº†æ‰€æœ‰æ³•åˆ™å’Œè¿ç®—ï¼Œå³<strong>å¸ƒå°”ä»£æ•°ï¼ˆBoolean Algebraï¼‰</strong>ã€‚</p><h1 id="å¸ƒå°”ä»£æ•°ï¼ˆBoolean-Algebraï¼‰ä¸é€»è¾‘é—¨"><a href="#å¸ƒå°”ä»£æ•°ï¼ˆBoolean-Algebraï¼‰ä¸é€»è¾‘é—¨" class="headerlink" title="å¸ƒå°”ä»£æ•°ï¼ˆBoolean Algebraï¼‰ä¸é€»è¾‘é—¨"></a>å¸ƒå°”ä»£æ•°ï¼ˆBoolean Algebraï¼‰ä¸é€»è¾‘é—¨</h1><p>åœ¨å¸ƒå°”ä»£æ•°ä¸­ï¼Œå˜é‡çš„å€¼æ˜¯trueå’Œfalseï¼Œèƒ½å¤Ÿå¯¹å…¶è¿›è¡Œé€»è¾‘æ“ä½œã€‚å¸ƒå°”ä»£æ•°ä¸­æœ‰ä¸‰ä¸ª<strong>åŸºæœ¬æ“ä½œï¼š</strong>NOTã€ANDå’ŒORã€‚</p><h2 id="NOT-GATE"><a href="#NOT-GATE" class="headerlink" title="NOT GATE"></a>NOT GATE</h2><p><strong>NOT</strong>ï¼šæŠŠè¾“å‡ºç«¯ï¼ˆå°±åƒæ°´é¾™å¤´å·¦è¾¹éƒ¨åˆ†é€æ°´ï¼Œå®ƒé€ç”µï¼‰æ¥åœ¨ä¸Šé¢çš„ç”µæï¼Œå¦‚æœæ‰“å¼€è¾“å‡ºï¼Œç”µæµå°±å¯ä»¥æµè¿‡ï¼Œç„¶åâ€œæ¥åœ°â€ï¼Œè¾“å‡ºå°±æ²¡æœ‰ç”µæµï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯offã€‚å½“è¾“å…¥å…³é—­æ—¶ï¼Œç”µæµæ²¡æ³•æ¥åœ°ï¼Œå°±æµè¿‡äº†è¾“å‡ºï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯onã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310011249234.png" alt="NOT GATE"></p><p>å°±åƒæ˜¯æ°´é¾™å¤´ä¸€æ ·ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310014800881.png" alt="æ°´é¾™å¤´å…³ç€"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310015120188.png" alt="æ°´é¾™å¤´å¼€ç€"></p><p>â€‹</p><p>â€‹ <strong>NOTæ“ä½œï¼š</strong>æŠŠå¸ƒå°”å€¼è¿›è¡Œç¿»è½¬ï¼Œæ‰€ä»¥NOTæ“ä½œçš„çœŸå€¼è¡¨ä¸º</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310011832488.png" alt="NOT çœŸå€¼è¡¨"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310020424245.png" alt="NOT GATEçš„è¡¨ç¤ºå›¾"></p><h2 id="AND-GATE"><a href="#AND-GATE" class="headerlink" title="AND GATE"></a>AND GATE</h2><p><strong>AND</strong>ï¼šä¸ºäº†å®ç°â€œAND é—¨â€ï¼Œæˆ‘ä»¬éœ€è¦2ä¸ªæ™¶ä½“ç®¡è¿æ¥åœ¨ä¸€èµ·ï¼Œè¿™æ ·æœ‰2ä¸ªè¾“å…¥å’Œ1ä¸ªè¾“å‡ºã€‚å¦‚æœåªæ‰“å¼€Aï¼Œä¸æ‰“å¼€Bï¼Œç”µæµæ— æ³•ç•™åˆ°outputï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯falseï¼›å¦‚æœåªæ‰“å¼€Bï¼Œä¸æ‰“å¼€Aï¼Œä¹Ÿä¸€æ ·ï¼Œç”µæµæ— æ³•ç•™åˆ°outputï¼›åªæœ‰å½“Aã€Béƒ½æ‰“å¼€äº†ï¼Œoutputæ‰æœ‰ç”µæµã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310012335375.png" alt="image-20200310012335375"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310020520507.png" alt="AND GATEè¡¨ç¤ºå›¾"></p><h2 id="OR-GATE"><a href="#OR-GATE" class="headerlink" title="OR GATE"></a>OR GATE</h2><p><strong>OR</strong>ï¼šå®ç°OR é—¨é™¤äº†æ™¶ä½“ç®¡è¿˜éœ€è¦é¢å¤–çš„çº¿å°†ä¸¤ä¸ªæ™¶ä½“ç®¡(transistor)å¹¶è”èµ·æ¥ï¼Œå³å¾—åˆ°OR GATE</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-fda2d5cd50eb2f760f0a2ac72eb5efe5_720w.jpg" alt="OR GATE"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310020006112.png" alt="image-20200310020006112"></p><p>å·¦ä¾§ç”µæä¸ºç”µæºï¼Œä¸‹æ–¹ä¸¤ä¸ªç”µæåˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªè¾“å…¥ï¼Œå³ä¾§ç”µæä¸ºè¾“å‡ºã€‚åªè¦ä»»æ„ä¸€ä¸ªè¾“å…¥å¼€å¯ï¼Œå°±èƒ½ä½¿å¾—ç”µæºå’Œè¾“å‡ºç”µææ¥é€šï¼Œä½¿å¾—è¾“å‡ºå¼€å¯ï¼›å½“ä¸¤ä¸ªè¾“å…¥éƒ½å…³é—­æ—¶ï¼Œå°±ä½¿å¾—ç”µæºå’Œè¾“å‡ºç”µæä¿æŒæ–­å¼€çŠ¶æ€ï¼Œä½¿å¾—è¾“å‡ºä¿æŒå…³é—­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310020600225.png" alt="OR GATEè¡¨ç¤ºå›¾"></p><p>ç”±æ­¤é€šè¿‡ä¸Šæ–¹çš„ä¸‰ä¸ªç»„ä»¶ï¼ˆNOTé—¨ã€ANDé—¨å’ŒORé—¨ï¼‰å¯ä»¥æ„å»ºå‡ºæ›´åŠ å¤æ‚çš„ç»„ä»¶ã€‚å¦ä¸€ä¸ªå¸¸è§çš„å¸ƒå°”æ“ä½œå«åš<strong>å¼‚æˆ–æ“ä½œ</strong>ã€‚</p><h2 id="XOR-å¼‚æˆ–"><a href="#XOR-å¼‚æˆ–" class="headerlink" title="XOR(å¼‚æˆ–)"></a>XOR(å¼‚æˆ–)</h2><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310020826408.png" alt="XOR"></p><p>æˆ‘ä»¬æœ‰ä¸¤ä¸ªè¾“å…¥ï¼ŒAå’ŒBï¼Œè¿˜æœ‰ä¸€ä¸ªè¾“å‡ºã€‚å…ˆæ”¾ä¸€ä¸ªORé—¨ã€‚å› ä¸ºORå’ŒXORçš„é€»è¾‘è¡¨å¾ˆåƒï¼Œåªæœ‰ä¸€ä¸ªä¸åŒç‚¹å°±æ˜¯ï¼šå½“ä¸¤ä¸ªè¾“å…¥éƒ½ä¸ºtrueæ—¶ï¼ŒXORè¾“å‡ºfalseï¼Œè€ŒORè¾“å‡ºtrueã€‚é€šè¿‡å¯¹ANDæ“ä½œçœŸå€¼è¡¨å–åï¼Œå†å’ŒORæ“ä½œçœŸå€¼è¡¨è¿›è¡Œå¯¹æ¯”ï¼Œå¯ä»¥å‘ç°ï¼Œç¬¬äºŒä¸‰è¡Œéƒ½ä¸ºtrueï¼Œè€Œç¬¬ä¸€å››è¡Œç»“æœä¸åŒï¼Œå› æ­¤åªè¦åœ¨è¿™ä¸¤ä¸ªç»“æœåé¢åŠ ä¸ªANDå°±èƒ½å¾—åˆ°XORçš„çœŸå€¼è¡¨ã€‚</p><h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>æ“ä½œçœŸå€¼è¡¨ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310021526100.png" alt="XORæ“ä½œçœŸå€¼è¡¨"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310021854665.png" alt="NOTæ“ä½œçœŸå€¼è¡¨"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-eb0326d9127258653005333d2d1c59a6_720w.jpg" alt="ANDæ“ä½œçœŸå€¼è¡¨"></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-088dbb26ce45d8e512140426f6e3bb62_720w.jpg" alt="ORæ“ä½œçœŸå€¼è¡¨"></p><p>å¯¹åº”çš„ç½—åŸºæœ¬è¡¨ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200310022102365.png" alt="é€»è¾‘é—¨çš„è¡¨ç¤ºå›¾"></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ </tag>
            
            <tag> å¸ƒå°”é€»è¾‘å’Œé€»è¾‘é—¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 2</title>
      <link href="/archives/d57d.html"/>
      <url>/archives/d57d.html</url>
      
        <content type="html"><![CDATA[<p>If you learn only methods, youâ€™ll be tied to your methods. But if you learn<br>principles, you can devise your own methods.</p><a id="more"></a><p>åŸæ–‡åœ°å€ï¼š<a href="https://ruslanspivak.com/lsbasi-part2/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part2/</a></p><p>è¿™æ˜¯ç¬¬äºŒä¸ªç‰ˆæœ¬V2.0ï¼Œç¬¬äºŒä¸ªç‰ˆæœ¬è¾ƒç¬¬ä¸€ä¸ªç‰ˆV1.0ï¼Œå®ƒå¯ä»¥åšåˆ°ï¼š</p><ol><li>å¤„ç†è¾“å…¥å­—ç¬¦ä¸²ä¸­ä»»ä½•ä½ç½®çš„ç©ºç™½ç¬¦</li><li>å¤„ç†è¾“å…¥ä¸­çš„å¤šä½æ•°</li><li>ä¸¤ä¸ªæ•´æ•°ç›¸å‡ï¼ˆç‰ˆæœ¬V1.0ä¸­åªæœ‰åŠ æ³•ï¼‰</li></ol><p>ä¸‹é¢å…ˆç»™å‡ºV2.0çš„æ–°ç‰ˆè®¡ç®—å™¨çš„æºç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Token types</span></span><br><span class="line"><span class="comment"># EOF (end-of-file) token is used to indicate that</span></span><br><span class="line"><span class="comment"># there is no more input left for lexical analysis</span></span><br><span class="line">INTEGER, PLUS, MINUS, EOF = <span class="string">'INTEGER'</span>, <span class="string">'PLUS'</span>, <span class="string">'MINUS'</span>, <span class="string">'EOF'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line"><span class="comment"># token type: 'INTEGER', 'PLUS', 'MINUS', or 'EOF'</span></span><br><span class="line">self.type  = type</span><br><span class="line"><span class="comment"># token value: non-negative integer value, '+', '-', or None</span></span><br><span class="line">self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""String representation of class instance</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Examples:</span></span><br><span class="line"><span class="string">    Token(INTEGER, 3)</span></span><br><span class="line"><span class="string">    Token(PLUS, '+')</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">f'Token(<span class="subst">&#123;self.type&#125;</span>, <span class="subst">&#123;self.value&#125;</span>)'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="keyword">return</span> self.__str__()</span><br><span class="line"><span class="comment">##__repr__() ä¸ __str__() çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œå‰è€…åœ¨äº¤äº’å¼æ­¥éª¤ä¸­æ˜¾ç¤ºç»“æœï¼Œåè€…åœ¨ print å‡½æ•°ä¸­æ˜¾ç¤ºç»“æœã€‚</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line"><span class="comment"># client string input, e.g. "3 + 5", "12 - 5", etc</span></span><br><span class="line">self.text = text</span><br><span class="line"><span class="comment"># self.pos is an index into self.text</span></span><br><span class="line">self.pos  = <span class="number">0</span></span><br><span class="line"><span class="comment"># current token instance</span></span><br><span class="line">self.current_token = <span class="literal">None</span></span><br><span class="line">self.current_char  = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="keyword">raise</span> Exception(<span class="string">'Error parsing input'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">########æ–°å¢#######</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">advance</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""Advance the 'pos' pointer and set the 'current_char' variable."""</span></span><br><span class="line">self.pos += <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> self.pos &gt;= len(self.text):</span><br><span class="line">    self.current_char = <span class="literal">None</span>  <span class="comment"># Indicates end of input</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    self.current_char = self.text[self.pos]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">skip_whitespace</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isspace():</span><br><span class="line">    self.advance()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integer</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""Return a (multidigit) integer consumed from the input."""</span></span><br><span class="line">result = <span class="string">''</span></span><br><span class="line"><span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> self.current_char.isdigit():</span><br><span class="line">    result += self.current_char</span><br><span class="line">    self.advance()</span><br><span class="line"><span class="keyword">return</span> int(result)</span><br><span class="line">  <span class="comment">##æ–°å¢ å®Œæ¯•#####</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""Lexical analyzer (also known as scanner or tokenizer)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">This method is responsible for breaking a sentence</span></span><br><span class="line"><span class="string">apart into tokens.</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">while</span> self.current_char <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">    <span class="keyword">if</span> self.current_char.isspace():</span><br><span class="line">self.skip_whitespace()</span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">if</span> self.current_char.isdigit():</span><br><span class="line"><span class="keyword">return</span> Token(INTEGER, self.integer())</span><br><span class="line">    <span class="keyword">if</span> self.current_char == <span class="string">'+'</span>:</span><br><span class="line">self.advance()</span><br><span class="line"><span class="keyword">return</span> Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line">    <span class="keyword">if</span> self.current_char == <span class="string">'-'</span>:</span><br><span class="line">self.advance()</span><br><span class="line"><span class="keyword">return</span> Token(MINUS, <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">    self.error()</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line"><span class="comment"># compare the current token type with the passed token</span></span><br><span class="line"><span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line"><span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line"><span class="comment"># otherwise raise an exception.</span></span><br><span class="line"><span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">    self.current_token = self.get_next_token()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""Parser / Interpreter</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">expr -&gt; INTEGER PLUS INTEGER</span></span><br><span class="line"><span class="string">expr -&gt; INTEGER MINUS INTEGER</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set current token to the first token from the input</span></span><br><span class="line">self.current_token = self.get_next_token()</span><br><span class="line"></span><br><span class="line"><span class="comment"># we expect the current token to be an integer</span></span><br><span class="line">left = self.current_token</span><br><span class="line">self.eat(INTEGER)</span><br><span class="line"></span><br><span class="line"><span class="comment"># we expect the current token to be either a '+' or '-'</span></span><br><span class="line">op = self.current_token</span><br><span class="line"><span class="keyword">if</span> op.type == PLUS:</span><br><span class="line">    self.eat(PLUS)</span><br><span class="line"><span class="keyword">elif</span> op.type == MINUS:</span><br><span class="line">    self.eat(MINUS)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    self.error()</span><br><span class="line"></span><br><span class="line"><span class="comment"># we expect the current token to be an integer</span></span><br><span class="line">right = self.current_token</span><br><span class="line">self.eat(INTEGER)</span><br><span class="line"><span class="comment"># after the above call the self.current_token is set to</span></span><br><span class="line"><span class="comment"># EOF token</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># at this point either the INTEGER PLUS INTEGER or</span></span><br><span class="line"><span class="comment"># the INTEGER MINUS INTEGER sequence of tokens</span></span><br><span class="line"><span class="comment"># has been successfully found and the method can just</span></span><br><span class="line"><span class="comment"># return the result of adding or subtracting two integers,</span></span><br><span class="line"><span class="comment"># thus effectively interpreting client input</span></span><br><span class="line"><span class="keyword">if</span> op.type == PLUS:</span><br><span class="line">    result = left.value + right.value</span><br><span class="line"><span class="keyword">elif</span> op.type == MINUS:</span><br><span class="line">    result = left.value - right.value</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    self.error()</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># To run under Python3 replace 'raw_input' call with 'input'</span></span><br><span class="line">    text = input(<span class="string">'calc&gt; '</span>)</span><br><span class="line"><span class="keyword">except</span> EOFError:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">    <span class="keyword">continue</span></span><br><span class="line">interpreter = Interpreter(text)</span><br><span class="line">result      = interpreter.expr()</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>æŠŠä»¥ä¸Šä»£ç ä¿å­˜åˆ°åä¸º <code>calc2.py</code> ä¸­ï¼Œæˆ–è€…ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part2/calc2.py" target="_blank" rel="noopener">GitHub</a> ä¸Šä¸‹è½½ã€‚è¯•ä¸€è¯•ã€‚äº²çœ¼çœ‹ä¸€ä¸‹ å®ƒå¯ä»¥æŒ‰é¢„æœŸè¿è¡Œï¼šå®ƒå¯ä»¥å¤„ç†è¾“å…¥ä¸­çš„ä»»ä½•ä½ç½®çš„ç©ºç™½ç¬¦ï¼›å®ƒæ¥å—å¤šä½æ•´æ•°ï¼Œé™¤äº†æ•´æ•°ç›¸ åŠ è¿˜å¯ä»¥å¤„ç†æ•´æ•°ç›¸å‡ã€‚</p><p>ä¸‹é¢å¯ä»¥å†ç¬”è®°æœ¬ä¸Šæ¬¡å°è¯•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ python calc2.py</span><br><span class="line">calc&gt; <span class="number">27</span> + <span class="number">3</span></span><br><span class="line"><span class="number">30</span></span><br><span class="line">calc&gt; <span class="number">27</span> - <span class="number">7</span></span><br><span class="line"><span class="number">20</span></span><br><span class="line">calc&gt;</span><br></pre></td></tr></table></figure><p>ä¸<a href="http://ruslanspivak.com/lsbasi-part1/" target="_blank" rel="noopener">ç¬¬ä¸€éƒ¨åˆ†</a>ç›¸æ¯”ä»£ç çš„ä¸»è¦å˜åŒ–æœ‰ï¼š</p><ol><li><code>get_next_token</code> æ–¹æ³•åšäº†ä¸€ç‚¹é‡æ„ã€‚å¢åŠ æŒ‡é’ˆ <code>pos</code> çš„é€»è¾‘è¢«é‡æ„åˆ°äº†æ–¹æ³• <code>advance</code> ä¸­ã€‚</li><li>å¢åŠ äº†ä¸¤ä¸ªæ–¹æ³•ï¼š <code>skip_whitespace</code> ç”¨æ¥å¿½ç•¥ç©ºç™½ç¬¦ï¼Œ <code>integer</code> ç”¨æ¥å¤„ç†è¾“å…¥ä¸­çš„å¤šä½æ•´æ•°ã€‚</li><li><code>expr</code> æ–¹æ³•åœ¨ä¿®æ”¹åï¼Œé™¤äº†å¯ä»¥è¯†åˆ« INTEGER -&gt; PLUS -&gt; INTEGER è¿™ä¸ªç»„åˆ(phrase) ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è¯†åˆ«INTEGER -&gt; MINUS -&gt; INTEGERã€‚è€Œä¸”åœ¨æˆåŠŸè¯†åˆ«ç›¸åº”çš„ç»„åˆåï¼Œä¹Ÿå¯ä»¥è¿›è¡Œç›¸åº”çš„åŠ å‡æ“ä½œã€‚</li></ol><p>åœ¨<a href="http://ruslanspivak.com/lsbasi-part1/" target="_blank" rel="noopener">ç¬¬ä¸€éƒ¨åˆ†</a>ä½ å°åˆ°äº†ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå³ <strong>token</strong> å’Œ <strong>è¯æ³•åˆ†æå™¨</strong> ã€‚ä»Šå¤©æˆ‘æƒ³èŠä¸€èŠ <strong>lexeme</strong> ã€ <strong>parsing</strong> å’Œ <strong>parser</strong> ã€‚</p><p>ä½ å·²ç»çŸ¥é“ token äº†ã€‚ä½†ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œéœ€è¦ä»‹ç»ä¸€ä¸‹ lexemeã€‚ä»€ä¹ˆæ˜¯ lexemeï¼Ÿ lexeme æ˜¯ç»„æˆ token çš„ä¸€ä¸ªå­—ç¬¦åºåˆ—ã€‚åœ¨ä¸‹é¢çš„å›¾ç‰‡ä¸­æ˜¯ä¸€äº› token å’Œ lexeme çš„ä¾‹å­ï¼Œ å¸Œæœ›å®ƒèƒ½æŠŠä¸¤è€…ä¹‹é—´çš„å…³ç³»è¡¨è¾¾æ¸…æ¥šï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part2_lexemes.png" alt="img"></p><p>ç°åœ¨è¿˜è®°å¾— <code>expr</code> æ–¹æ³•å—ï¼Ÿæˆ‘ä»¥å‰è¯´è¿‡è¿™æ˜¯çœŸæ­£è§£é‡Šç®—æœ¯è¡¨è¾¾å¼çš„åœ°æ–¹ã€‚ä½†åœ¨è§£é‡Šä¸€ä¸ªè¡¨è¾¾å¼ä¹‹å‰ï¼Œä½ éœ€è¦çŸ¥é“å®ƒæ˜¯å“ªç§ç»„åˆï¼Œæ¯”å¦‚ç›¸åŠ æˆ–ç›¸å‡ã€‚è¿™æ˜¯ <code>expr</code> æ–¹æ³•æœ¬è´¨ä¸Šåšçš„äº‹ï¼š å®ƒä» <code>get_next_token</code> æ–¹æ³•å¾—åˆ°çš„ token æµä¸­æ‰¾åˆ°ç»“æ„ï¼Œç„¶åè§£é‡Šå®ƒè¯†åˆ«å‡ºçš„ç»„åˆï¼Œäº§ ç”Ÿç®—æœ¯è¡¨è¾¾å¼çš„ç»“æœã€‚</p><p>åˆåˆ°äº†åšç»ƒä¹ çš„æ—¶é—´äº†ã€‚</p><ol><li>æ‰©å±•è®¡ç®—å™¨ä»¥å¤„ç†ä¸¤ä¸ªæ•´æ•°ç›¸ä¹˜</li><li>æ‰©å±•è®¡ç®—å™¨ä»¥å¤„ç†ä¸¤ä¸ªæ•´æ•°ç›¸é™¤</li><li>ä¿®æ”¹ä»£ç ä»¥ä½¿å®ƒå¯ä»¥è§£é‡ŠåŒ…å«ä»»æ„ä¸ªæ•°å­—çš„åŠ å‡æ“ä½œï¼Œå¦‚â€œ9 - 5 + 3 + 11â€</li></ol><p>æœ¬èŠ‚æ£€æµ‹ï¼š</p><ol><li>ä»€ä¹ˆæ˜¯ lexemeï¼Ÿ</li><li>åœ¨ token æµä¸­æ‰¾åˆ°ç»“æ„çš„è¿‡ç¨‹å«ä»€ä¹ˆï¼Ÿæˆ–è€…è¿™ä¹ˆé—®ï¼Œåœ¨ token æµä¸­è¯†åˆ«å‡ºç‰¹å®šç»„åˆçš„è¿‡ç¨‹å«ä»€ä¹ˆï¼Ÿ</li><li>è§£é‡Šå™¨ï¼ˆç¼–è¯‘å™¨ï¼‰åš parsing å·¥ä½œçš„éƒ¨åˆ†å«ä»€ä¹ˆï¼Ÿ</li></ol><hr><p><strong>æ¢³ç†</strong>ï¼š</p><ol><li>é¦–å…ˆè¾“å…¥ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚â€œ3+9â€ï¼Œé€ç»™è§£é‡Šå™¨<strong><code>Interpreter</code></strong></li><li>å¼€å§‹å¯¹è¿™ä¸ªè¡¨è¾¾å¼æ‹†åˆ†æˆä¸€ä¸ªä¸ªçš„tokenï¼Œè¿™ä¸€æ­¥å«åšè¯æ³•åˆ†æï¼Œç”±<strong>è¯æ³•åˆ†æå™¨</strong>(lexical analyzer)æ¥å®Œæˆã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œå‡½æ•°<strong><code>get_next_token</code></strong>å°±ç›¸å½“äºè¯æ³•åˆ†æå™¨ã€‚<ul><li>è¯æ³•åˆ†æå™¨<code>get_next_token</code>å¤„ç†å®Œä¹‹åçš„æ˜¯ä¸€ä¸ªä¸ªçš„<code>token(type , value)</code></li></ul></li><li>ç„¶åå¼€å§‹è¿›è¡Œè¯­æ³•åˆ†æï¼ˆç”±äºæœ¬æ–‡ä¸­åªå®ç°äº†åŠ æ³•ã€å‡æ³•ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œçš„è¯­æ³•åˆ†æå°±æ˜¯åˆ†æï¼šåŠ ã€å‡æ³•çš„è¡¨è¾¾å¼ã€‚æ‰§è¡Œè¿™ä¸ªæ­¥éª¤çš„æ˜¯<strong><code>expr</code></strong>å‡½æ•°ï¼Œå…¶ä¸­<code>expr</code> æ–¹æ³•ä½¿ç”¨äº†è¾…åŠ©æ–¹æ³•<strong><code>eat</code></strong>æ¥éªŒè¯ä¼ ç»™tokençš„ç±»å‹ä¸å½“å‰ç±»å‹æ˜¯å¦ç›¸åŒ¹é…ã€‚ä¸ç°æœ‰è¯­æ³•è§„åˆ™ï¼ˆå³ï¼ŒåŠ æ³•è§„åˆ™å’Œå‡æ³•è§„åˆ™ï¼‰ä¸åŒ¹é…ï¼Œ<code>eat</code>å°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li><li>è¯­æ³•åˆ†æå®Œæˆä¹‹åï¼Œå°±ç›´æ¥å¾—å‡ºç®—å¼çš„ç»“æœã€‚ï¼ˆè¿™ä¹Ÿå¾ˆç¬¦åˆè§£é‡Šå™¨çš„ç‰¹æ€§å˜›ï¼šè¾¹è§£é‡Šè¾¹æ‰§è¡Œï¼Œä¸ä¼šç”Ÿæˆç›®æ ‡ä»£ç ï¼‰</li></ol><p>å…¶ä»–çš„å‡½æ•°ï¼š</p><p><code>Interpreter</code></p><ul><li><code>error(self)</code>ï¼šå½“æœ‰é”™è¯¯çš„æ—¶å€™ï¼Œå°±è°ƒç”¨å®ƒ</li><li><code>advance(self)</code>ï¼šå¢åŠ æŒ‡é’ˆposçš„ä½œç”¨ï¼Œå³ï¼Œå°†æŒ‡å‘ä¸‹ä¸€ä¸ªtoken</li><li><code>skip_whitespace(self)</code>ï¼šè·³è¿‡ç©ºæ ¼ï¼ŒV2.0æ–°å¢åŠ çš„åŠŸèƒ½</li><li><code>integer(self)</code>ï¼šä¸ºäº†å¯ä»¥ç®—å¤šä½æ•°çš„åŠ å‡æ³•ã€‚<ul><li>è¿™é‡Œè¦æ³¨æ„ï¼šå¦‚3å’Œ233æ˜¯ä¸¤ä¸ªæ•´æ•°ç±»å‹çš„tokenï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯è¿™ç¯‡æ–‡ç« ä¸­çš„tokenæ˜¯æŒ‰ç…§è¾“å…¥çš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼ˆå¦‚â€œ3+155â€ï¼‰æ¯ä¸€ä¸ªéƒ½å½“æˆä¸€ä¸ªtokenã€‚ä¹Ÿå°±æ˜¯è¯´æœ¬æ¥155æ˜¯ä¸€ä¸ªtokenï¼Œä½†æ˜¯ä»ç»†èŠ‚ä¸Šçœ‹ï¼Œåœ¨ä»£ç å®ç°ä¸­155æ˜¯è¢«å½“æˆäº†ä¸‰æ¬¡â€œtokenâ€ç„¶åç»è¿‡<code>integer</code>å‡½æ•°æ‰å½¢æˆäº†æœ€ç»ˆå½¢ä½“155è¿™ä¸ªtokenã€‚</li></ul></li></ul><hr><p>åœ¨æœ¬ç³»åˆ—çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ä½ ä¼šæ‰©å±•ä½ çš„è®¡ç®—å™¨æ¥å¤„ç†æ›´å¤æ‚çš„ç®—æœ¯è¡¨è¾¾å¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Letâ€™s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Letâ€™s Build A Simple Interpreter 1</title>
      <link href="/archives/427485bf.html"/>
      <url>/archives/427485bf.html</url>
      
        <content type="html"><![CDATA[<hr><hr><p>ä¸ºä»€ä¹ˆè¦ä½ å­¦è§£é‡Šå™¨å’Œç¼–è¯‘å™¨ï¼Ÿè¿™é‡Œæœ‰ä¸‰æ¡ç†ç”±ã€‚</p><a id="more"></a><ol><li>è¦å†™ä¸€ä¸ªè§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨ï¼Œä½ å¿…é¡»åŒæ—¶ç”¨åˆ°å¾ˆå¤šæŠ€æœ¯ã€‚ç¼–å†™ä¸€ä¸ªè§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨ä¼šå¸®åŠ© ä½ æé«˜è¿™äº›æŠ€èƒ½å¹¶ä¸”æˆä¸ºä¸€ä¸ªæ›´å¥½çš„è½¯ä»¶å¼€å‘è€…ã€‚è€Œä¸”ï¼Œä½ å°†å­¦åˆ°çš„è¿™äº›æŠ€èƒ½åœ¨å¼€å‘ä»» ä½•è½¯ä»¶æ—¶éƒ½æœ‰å¯èƒ½ç”¨åˆ°ï¼Œè€Œä¸ä»…ä»…æ˜¯è§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨ã€‚</li><li>ä½ ç¡®å®æƒ³è¦çŸ¥é“è®¡ç®—æœºå¦‚ä½•å·¥ä½œã€‚ä¸€èˆ¬è§£é‡Šå™¨å’Œç¼–è¯‘å™¨çœ‹ä¸Šå»éƒ½åƒé­”æ³•ä¸€æ ·ã€‚ä½†ä½ ä¸åº” è¯¥å¯¹è¿™äº›é­”æ³•æ„Ÿåˆ°èˆ’æœã€‚ä½ æƒ³è¦æ­å¼€è§£é‡Šå™¨å’Œç¼–è¯‘å™¨çš„ç¥ç§˜é¢çº±ï¼Œç†è§£å®ƒä»¬å¦‚ä½•å·¥ä½œå¹¶ æ§åˆ¶æ‰€æœ‰ä¸€åˆ‡ã€‚</li><li>ä½ æƒ³è¦åˆ›é€ è‡ªå·±çš„ç¼–ç¨‹è¯­è¨€æˆ–è€…é¢†åŸŸç‰¹å®šè¯­è¨€ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œä½ å°±éœ€è¦ä¸ºè¿™ä¸ªè¯­è¨€åˆ›å»º ä¸€ä¸ªè§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨ã€‚æœ€è¿‘ï¼Œåˆ›å»ºæ–°è¯­è¨€å†åº¦å…´èµ·ã€‚ä½ å‡ ä¹æ¯å¤©éƒ½å¯ä»¥çœ‹åˆ°ä¸€é—¨æ–°è¯­è¨€ çš„è¯ç”Ÿï¼šElixir, Go, Rust ç­‰ã€‚</li></ol><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://ruslanspivak.com/lsbasi-part1/" target="_blank" rel="noopener">https://ruslanspivak.com/lsbasi-part1/</a></p><p>å¥½äº†ï¼Œä½†ä»€ä¹ˆæ˜¯<strong>è§£é‡Šå™¨</strong>å’Œ<strong>ç¼–è¯‘å™¨</strong>å‘¢ï¼Ÿ</p><h1 id="è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨"><a href="#è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨" class="headerlink" title="è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨"></a>è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨</h1><p>è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨éƒ½æ˜¯â€œé«˜çº§è¯­è¨€ä¸æœºå™¨ä¹‹é—´çš„ç¿»è¯‘å®˜â€ã€‚éƒ½æ˜¯å°†ä»£ç ç¿»è¯‘æˆæœºå™¨å¯ä»¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æœºå™¨ç ï¼Œåªä¸è¿‡åœ¨è¿è¡ŒåŸç†å’Œç¿»è¯‘è¿‡ç¨‹ä¸åŒã€‚</p><p>é‚£å®ƒä»¬çš„åŒºåˆ«åœ¨äºï¼š</p><ul><li>ç¼–è¯‘å™¨ï¼šå…ˆæ•´ä½“ç¼–è¯‘å®Œï¼Œç„¶å<strong>ä¸€æ¬¡æ€§</strong>æ‰§è¡Œã€‚æ¯”å¦‚ï¼šCè¯­è¨€ä»£ç è¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶ä»£ç ï¼ˆexeç¨‹åºï¼‰ï¼Œåœ¨windowså¹³å°ä¸Šæ‰§è¡Œã€‚</li><li>è§£é‡Šå™¨ï¼šè§£é‡Šä¸€å¥åå°±æäº¤è®¡ç®—æœºæ‰§è¡Œä¸€å¥ï¼Œå³è¾¹è§£é‡Šè¾¹æ‰§è¡Œã€‚æ¯”å¦‚phpï¼Œpostscritpï¼Œjavascriptå°±æ˜¯å…¸å‹çš„è§£é‡Šæ€§è¯­è¨€ã€‚</li></ul><blockquote><p>ç”¨ä¸€ä¸ªé€šä¿—çš„ä¾‹å­æ¥è®²ï¼šæˆ‘ä»¬å»é¥­é¦†åƒé¥­ï¼Œç‚¹äº†å…«èœä¸€æ±¤ã€‚<strong>ç¼–è¯‘å™¨</strong>çš„æ–¹å¼å°±æ˜¯å¨å¸ˆæŠŠæ‰€æœ‰çš„èœç»™ä½ å…¨åšå¥½äº†ï¼Œä¸€èµ·ç»™ä½ ç«¯ä¸Šæ¥ï¼Œè‡³äºä½ åœ¨å“ªåƒï¼Œæ€ä¹ˆåƒï¼Œéšä¾¿ã€‚<strong>è§£é‡Šå™¨</strong>çš„æ–¹å¼å°±æ˜¯å¨å¸ˆåšå¥½ä¸€ä¸ªèœç»™ä½ ä¸Šä¸€ä¸ªèœï¼Œä½ å°±åƒè¿™ä¸ªèœï¼Œè€Œä¸”å¿…é¡»åœ¨é¥­åº—é‡Œåƒã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200309170643.png" alt="è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨çš„åŒºåˆ«"></p><p>ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨çš„å·¥ä½œæµç¨‹çš„å·®åˆ«ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20160918194226830.jpg" alt="ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨çš„å·¥ä½œæµç¨‹çš„å·®åˆ«"></p><p>ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨çš„å„è‡ªçš„ç‰¹ç‚¹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/20200309171531.png" alt="å„è‡ªç‰¹ç‚¹"></p><h1 id="æ„é€ è§£é‡Šå™¨V1-0"><a href="#æ„é€ è§£é‡Šå™¨V1-0" class="headerlink" title="æ„é€ è§£é‡Šå™¨V1.0"></a>æ„é€ è§£é‡Šå™¨V1.0</h1><p>è¯¥ç³»åˆ—æ–‡ç« çš„ä½œè€…ä½¿ç”¨ Python ç¼–å†™Pascalè¯­è¨€çš„è§£é‡Šå™¨ã€‚</p><p>ç¬¬ä¸€ç‰ˆV1.0ï¼Œæ„é€ çš„è®¡ç®—å™¨æœ‰è¯¸å¤šé™åˆ¶ã€‚å¦‚ï¼š</p><ul><li>åªè¾“å…¥ä¸€ä½çš„æ•°å­—</li><li>ç°é˜¶æ®µä»…æ”¯æŒåŠ æ³•æ“ä½œ</li><li>è¾“å…¥ä¸­ä¸å…è®¸æœ‰ç©ºç™½ç¬¦</li></ul><p>è¿™äº›çº¦æŸä½¿å¾—æ„å»ºä¸€ä¸ªè®¡ç®—å™¨å¾ˆç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Token typesï¼š</span></span><br><span class="line"><span class="comment"># EOF (end-of-file) token is used to indicate that</span></span><br><span class="line"><span class="comment"># there is no more input left for lexical analysis</span></span><br><span class="line">INTEGER, PLUS, EOF = <span class="string">'INTEGER'</span>, <span class="string">'PLUS'</span>, <span class="string">'EOF'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Token</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, type, value)</span>:</span></span><br><span class="line"><span class="comment"># token type: INTEGER, PLUS, or EOF</span></span><br><span class="line">self.type  = type</span><br><span class="line"><span class="comment"># token value: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, '+', or None</span></span><br><span class="line">self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""String representation of the class instance.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Examples:</span></span><br><span class="line"><span class="string">    Token(INTEGER, 3)</span></span><br><span class="line"><span class="string">    Token(PLUS, '+')</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">'Token(&#123;type&#125;, &#123;value&#125;)'</span>.format(</span><br><span class="line">    type=self.type,</span><br><span class="line">    value=repr(self.value)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="keyword">return</span> self.__str__()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interpreter</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, text)</span>:</span></span><br><span class="line"><span class="comment"># client string input, e.g. "3+5"</span></span><br><span class="line">self.text = text</span><br><span class="line"><span class="comment"># self.pos is an index into self.text</span></span><br><span class="line">self.pos  = <span class="number">0</span></span><br><span class="line"><span class="comment"># current token instance</span></span><br><span class="line">self.current_token = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">error</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="keyword">raise</span> Exception(<span class="string">'Error parsing input'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next_token</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""Lexical analyzer (also known as scanner or tokenizer)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">This method is responsible for breaking a sentence</span></span><br><span class="line"><span class="string">apart into tokens. One token at a time.</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">text = self.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># is self.pos index past the end of the self.text ?</span></span><br><span class="line"><span class="comment"># if so, then return EOF token because there no more</span></span><br><span class="line"><span class="comment"># input left to convert into tokens</span></span><br><span class="line"><span class="keyword">if</span> self.pos &gt; len(text) - <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> Token(EOF, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get a character at the position self.pos and decide</span></span><br><span class="line"><span class="comment"># what token to create based on the single character</span></span><br><span class="line">current_char = text[self.pos]</span><br><span class="line"></span><br><span class="line"><span class="comment"># if the character is a digit then convert it to</span></span><br><span class="line"><span class="comment"># integer, create an INTEGER token, increment self.pos</span></span><br><span class="line"><span class="comment"># index to point to the next character after the digit,</span></span><br><span class="line"><span class="comment"># and return the INTEGER token</span></span><br><span class="line"><span class="keyword">if</span> current_char.isdigit():</span><br><span class="line">    token     = Token(INTEGER, int(current_char))</span><br><span class="line">    self.pos += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> token</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> current_char == <span class="string">'+'</span>:</span><br><span class="line">    token     = Token(PLUS, current_char)</span><br><span class="line">    self.pos += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> token</span><br><span class="line"></span><br><span class="line">self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, token_type)</span>:</span></span><br><span class="line"><span class="comment"># compare the current token type with the passed token</span></span><br><span class="line"><span class="comment"># type and if they match then "eat" the current token</span></span><br><span class="line"><span class="comment"># and assign the next token to the self.current_token,</span></span><br><span class="line"><span class="comment"># otherwise raise an exception.</span></span><br><span class="line"><span class="keyword">if</span> self.current_token.type == token_type:</span><br><span class="line">    self.current_token = self.get_next_token()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    self.error()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">expr</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="string">"""expr -&gt; INTEGER PLUS INTEGER"""</span></span><br><span class="line"><span class="comment"># set current token to the first token taken from the input</span></span><br><span class="line">self.current_token = self.get_next_token()</span><br><span class="line"></span><br><span class="line"><span class="comment"># we expect the current token to be a single-digit integer</span></span><br><span class="line">left = self.current_token</span><br><span class="line">self.eat(INTEGER)</span><br><span class="line"></span><br><span class="line"><span class="comment"># we expect the current token to be a '+' token</span></span><br><span class="line">op = self.current_token</span><br><span class="line">self.eat(PLUS)</span><br><span class="line"></span><br><span class="line"><span class="comment"># we expect the current token to be a single-digit integer</span></span><br><span class="line">right = self.current_token</span><br><span class="line">self.eat(INTEGER)</span><br><span class="line"><span class="comment"># after the above call the self.current_token is set to</span></span><br><span class="line"><span class="comment"># EOF token</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># at this point INTEGER PLUS INTEGER sequence of tokens</span></span><br><span class="line"><span class="comment"># has been successfully found and the method can just</span></span><br><span class="line"><span class="comment"># return the result of adding two integers, thus</span></span><br><span class="line"><span class="comment"># effectively interpreting client input</span></span><br><span class="line">result = left.value + right.value</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># To run under Python3 replace 'raw_input' call with 'input'</span></span><br><span class="line">    text = input(<span class="string">'calc&gt; '</span>)</span><br><span class="line"><span class="keyword">except</span> EOFError:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">    <span class="keyword">continue</span></span><br><span class="line">interpreter = Interpreter(text)</span><br><span class="line">result = interpreter.expr()</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>æŠŠä»¥ä¸Šä»£ç ä¿å­˜åˆ°åä¸º <code>calc1.py</code> ä¸­ï¼Œæˆ–è€…ç›´æ¥ä» <a href="https://github.com/rspivak/lsbasi/blob/master/part1/calc1.py" target="_blank" rel="noopener">GitHub</a> ä¸Šä¸‹è½½ã€‚åœ¨ä½ å¼€å§‹ä»”ç»†ç ”ç©¶ä»£ ç ä¹‹å‰ï¼Œåœ¨å‘½ä»¤è¡Œä¸Šè¿è¡Œè¿™ä¸ªè®¡ç®—å™¨å¹¶çœ‹å®ƒå®ç°è¿è¡Œã€‚æŠŠç©ä¸€ä¸‹ï¼ä¸‹é¢æ˜¯åœ¨æˆ‘ç¬”è®°æœ¬ä¸Šçš„ä¸€ æ¬¡å°è¯•ï¼ˆå¦‚æœä½ æƒ³åœ¨ Python3 ä¸‹è¿è¡Œï¼Œå°±éœ€è¦æŠŠ <code>raw_input</code> æ›¿æ¢ä¸º inputï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ python calc1.py</span><br><span class="line">calc&gt; 3+4</span><br><span class="line">7</span><br><span class="line">calc&gt; 3+5</span><br><span class="line">8</span><br><span class="line">calc&gt; 3+9</span><br><span class="line">12</span><br><span class="line">calc&gt;</span><br></pre></td></tr></table></figure><h2 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h2><p>å‡è®¾æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¾“å…¥ä¸€ä¸ªè¡¨è¾¾å¼â€œ3+5â€ã€‚ä½ çš„è§£é‡Šå™¨å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸² â€œ3+5â€ã€‚ä¸ºäº†ä½¿è§£é‡Šå™¨çœŸæ­£ç†è§£å¦‚ä½•å¤„ç†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œéœ€è¦å…ˆæŠŠè¾“å…¥çš„ â€œ3+5â€ æ‹†åˆ†æˆè¢«å«åš <strong>token</strong> çš„éƒ¨ä»¶ã€‚</p><blockquote><p><strong>è¯æ³•åˆ†æ</strong>ï¼šï¼ˆ<strong>lexical analysis</strong>ï¼Œç®€ç§°<strong>lexer</strong>ï¼Œäº¦ç§°<strong>scanner</strong> æˆ– <strong>tokenizer</strong>ï¼‰</p><p>â€‹ è¯æ³•åˆ†æä¹Ÿç§°ä¸º <strong>åˆ†è¯</strong> ï¼Œæ­¤é˜¶æ®µç¼–è¯‘å™¨ä»å·¦å‘å³æ‰«ææºæ–‡ä»¶ï¼Œå°†å…¶å­—ç¬¦æµåˆ†å‰²æˆä¸€ä¸ªä¸ªçš„ <strong>è¯</strong> ï¼ˆ <strong>token</strong> ã€ <strong>è®°å·</strong> ï¼Œåæ–‡ä¸­å°†ç§°ä¸º <strong>token</strong> ï¼‰ã€‚</p><p><strong>Token</strong>ï¼š</p><p>â€‹ æ‰€è°“ <strong>token</strong> ï¼Œå°±æ˜¯æºæ–‡ä»¶ä¸­ä¸å¯å†è¿›ä¸€æ­¥åˆ†å‰²çš„ä¸€ä¸²å­—ç¬¦ï¼Œç±»ä¼¼äºè‹±è¯­ä¸­å•è¯ï¼Œæˆ–æ±‰è¯­ä¸­çš„è¯ã€‚</p></blockquote><p>è¿™é‡Œçš„ <strong>token</strong> å°±æ˜¯ä¸€ä¸ªæœ‰ç±»å‹çš„å€¼çš„å¯¹è±¡ï¼ˆå³ï¼Œtokenè¿˜å­˜ç€å€¼çš„ç±»å‹ï¼‰ã€‚ä¾‹å¦‚å¯¹äºå­—ç¬¦ä¸²â€œ3â€æ¥è¯´ï¼Œtoken ç±»å‹ä¸º <code>INTEGER</code> ï¼Œ ç›¸åº”çš„å€¼æ˜¯æ•´æ•° 3 ã€‚</p><p>è§£é‡Šå™¨<code>Interpreter</code>è¦åšçš„ç¬¬ä¸€æ­¥å°±æ˜¯è¯»å–è¾“å…¥çš„å­—ç¬¦ä¸²å¹¶æŠŠä»–è½¬åŒ–æˆ token <strong>æµ</strong>ã€‚è§£é‡Šå™¨ä¸­åšè¿™ä¸ªå·¥ä½œçš„éƒ¨åˆ†è¢«ç§°ä¸º <strong>è¯æ³•åˆ†æå™¨</strong>(lexical analyzer)ï¼Œç®€ç§° <strong>lexer</strong> ã€‚ä¹Ÿå¯ä»¥ç§°å®ƒä¸ºï¼š <strong>scanner</strong> æˆ– <strong>tokenizer</strong> ã€‚ä»–ä»¬çš„å«ä¹‰æ˜¯ä¸€æ ·çš„ï¼šè¡¨ç¤ºè§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨ä¸­å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬åŒ–ä¸º token æµçš„éƒ¨åˆ†ã€‚</p><p>é‚£æ˜¯å¦‚ä½•è½¬åŒ–ä¸ºtokenæµå‘¢ï¼Ÿ</p><ul><li>è§£é‡Šå™¨ <code>Interpreter</code>ä¸­çš„ <code>get_next_token</code> æ–¹æ³•å°±æ˜¯ä½ çš„è¯æ³•åˆ†æå™¨ã€‚ä½ æ¯æ¬¡è°ƒç”¨å®ƒï¼Œå°±ä¼šä»è¾“å…¥åˆ°è§£é‡Šå™¨çš„å­—ç¬¦æµä¸­å¾—åˆ°ä¸‹ä¸€ä¸ª tokenã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ï¼Œçœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆæŠŠå­—ç¬¦è½¬åŒ– ä¸º token çš„ã€‚è¾“å…¥è¢«å­˜æ”¾åœ¨å˜é‡ <code>text</code> ä¸­ï¼Œå®ƒä¿å­˜äº†è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œ <code>pos</code> æ˜¯æŒ‡å‘è¯¥å­—ç¬¦ä¸²çš„ä¸€ä¸ªç´¢å¼•ï¼ˆæŠŠå­—ç¬¦ä¸²çœ‹ä½œæ˜¯ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼‰ã€‚ <code>pos</code> çš„åˆå€¼è¢«è®¾ä¸º 0, æŒ‡å‘å­—ç¬¦â€˜3â€™ã€‚ è¯¥æ–¹æ³•é¦–å…ˆæ£€æŸ¥è¯¥å­—ç¬¦æ˜¯ä¸æ˜¯æ•°å­—ï¼Œè‹¥æ˜¯æ•°å­—ï¼Œå°±é€’å¢ <code>pos</code> å¹¶è¿”å›ä¸€ä¸ªç±»å‹ä¸º <code>INTEGER</code> å€¼ ä¸ºæ•´æ•° 3 çš„ tokenï¼š</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part1_lexer1-1583746666076.png" alt="img"></p><p>ç°åœ¨ <code>pos</code> æŒ‡å‘äº† <code>text</code> ä¸­çš„å­—ç¬¦â€˜+â€™ï¼Œä¸‹æ¬¡ä½ è°ƒç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆæµ‹è¯• <code>pos</code> ä½ ç½®çš„å­—ç¬¦æ˜¯å¦æ˜¯æ•°å­—ï¼Œç„¶åå†æµ‹è¯•å®ƒæ˜¯å¦æ˜¯åŠ å·ï¼Œæ­¤æ—¶å®ƒæ˜¯åŠ å·ã€‚è¿™æ ·è¯¥æ–¹æ³•å°±é€’å¢ <code>pos</code> å¹¶è¿”å›ä¸€ä¸ªç±»å‹ä¸º <code>PLUS</code> å€¼ä¸ºâ€˜+â€™çš„ tokenï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part1_lexer2.png" alt="img"></p><p>ç°åœ¨ <code>pos</code> æŒ‡å‘äº†å­—ç¬¦â€˜5â€™ã€‚å½“ä½ å†æ¬¡è°ƒç”¨ <code>get_next_token</code> æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥ <code>pos</code> ä½ç½® æ˜¯å¦æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ­¤æ—¶æ˜¯çš„ï¼Œå› æ­¤å®ƒé€’å¢ <code>pos</code> å¹¶è¿”å›ä¸€ä¸ªç±»å‹ä¸º <code>INTEGER</code> å€¼ä¸ºâ€˜5â€™çš„ tokenï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part1_lexer3.png" alt="img"></p><p>ç°åœ¨ç´¢å¼• <code>pos</code> è¶Šè¿‡äº†å­—ç¬¦ä¸²â€œ3+5â€çš„æœ«å°¾ï¼Œæ¥ä¸‹æ¥æ¯æ¬¡è°ƒç”¨ <code>get_next_token</code> æ–¹æ³•éƒ½ä¼š è¿”å› <code>EOF</code> tokenï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_part1_lexer4.png" alt="img"></p><p>è‡ªå·±åŠ¨æ‰‹è¯•è¯•çœ‹çœ‹ä½ çš„è®¡ç®—å™¨çš„ lexer ç»„ä»¶æ€ä¹ˆå·¥ä½œçš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> calc1 <span class="keyword">import</span> Interpreter</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>interpreter = Interpreter(<span class="string">'3+5'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>interpreter.get_next_token()</span><br><span class="line">Token(INTEGER, <span class="number">3</span>)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>interpreter.get_next_token()</span><br><span class="line">Token(PLUS, <span class="string">'+'</span>)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>interpreter.get_next_token()</span><br><span class="line">Token(INTEGER, <span class="number">5</span>)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>interpreter.get_next_token()</span><br><span class="line">Token(EOF, <span class="literal">None</span>)</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä½ çš„è§£é‡Šå™¨å·²ç»å¯ä»¥ä»è¾“å…¥çš„å­—ç¬¦æµä¸­è·å¾— token æµäº†ï¼Œè§£é‡Šå™¨éœ€è¦å¯¹å®ƒåšç‚¹ä»€ä¹ˆï¼š å®ƒéœ€è¦ä»ä½¿ç”¨ lexer <code>get_next_token</code> å¾—åˆ°çš„å­—ç¬¦æµä¸­æ‰¾åˆ°ç»“æ„ã€‚ä½ çš„è§£é‡Šå™¨æœŸæœ›ä» æµä¸­æ‰¾åˆ°å¦‚ä¸‹çš„ç»“æ„ï¼š INTEGER -&gt; PLUS -&gt; INTEGER. å³ï¼Œå®ƒè¯•ç€æ‰¾åˆ°è¿™æ ·ä¸€ä¸ª token åº åˆ—ï¼šæ•´æ•°åè·Ÿä¸€ä¸ªåŠ å·å†è·Ÿä¸€ä¸ªæ•´æ•°ã€‚</p><p>è´Ÿè´£æŸ¥æ‰¾å’Œè§£é‡Šè¿™ä¸ªç»“æ„çš„æ–¹æ³•æ˜¯ <code>expr</code>. è¿™ä¸ªæ–¹æ³•éªŒè¯ä¸€ä¸ª token åºåˆ—æ˜¯å¦éµä»æœŸæœ›çš„ token åºåˆ—ï¼Œå³ INTEGER -&gt; PLUS -&gt; INTEGER. å½“ç¡®å®šéµä»è¿™ä¸ªç»“æ„åï¼Œå®ƒå°±æŠŠ PLUS å·¦ è¾¹å’Œå³è¾¹ token çš„å€¼ç›¸åŠ æ¥ç”Ÿæˆç»“æœï¼Œä»è€ŒæˆåŠŸåœ°è§£é‡Šäº†ä½ ä¼ ç»™è§£é‡Šå™¨çš„ç®—æœ¯è¡¨è¾¾å¼ã€‚</p><p><code>expr</code> æ–¹æ³•ä½¿ç”¨äº†è¾…åŠ©æ–¹æ³• <code>eat</code> æ¥éªŒè¯ä¼ ç»™ <code>eat</code> çš„ token ç±»å‹ä¸å½“å‰çš„ token ç±» å‹ç›¸åŒ¹é…ã€‚åœ¨åŒ¹é…åˆ°ä¼ å…¥çš„ token ç±»å‹åï¼Œ <code>eat</code> æ–¹æ³•ä¼šå–å¾—ä¸‹ä¸€ä¸ª token å¹¶æŠŠå®ƒèµ‹å€¼ ç»™å˜é‡ <code>current_token</code>, è¿™æ ·å®é™…ä¸Šæ˜¯â€œåƒæ‰â€äº†å½“å‰åŒ¹é…çš„ token å¹¶æŠŠæƒ³è±¡ä¸­çš„ token æµä¸­çš„æŒ‡é’ˆå‘å‰ç§»åŠ¨äº†ã€‚å¦‚æœ token æµä¸­çš„ç»“æ„ä¸éµä»æœŸæœ›çš„ INTEGER PLUS INTEGER åº åˆ—ï¼Œ <code>eat</code> æ–¹æ³•å°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p><h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>å›é¡¾ä¸€ä¸‹ä½ çš„è§£é‡Šå™¨ä¸ºäº†å¯¹ä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼éƒ½åšäº†ä»€ä¹ˆï¼š</p><ol><li>è§£é‡Šå™¨æ¥<code>Interpreter</code>æ”¶ä¸€ä¸ªè¾“å…¥å­—ç¬¦ä¸²ï¼Œå‡è®¾ä¸ºâ€œ3+5â€</li><li>è§£é‡Šå™¨è°ƒç”¨äº† <code>expr</code> æ–¹æ³•æ¥ä»è¯æ³•è§£æå™¨ <code>get_next_token</code> è¿”å›çš„ token æµä¸­å¯»æ‰¾ä¸€ä¸ªç»“æ„ã€‚è¿™ä¸ªç»“æ„å°±æ˜¯ä¸€ä¸ª <em>INTEGER PLUS INTEGER</em> çš„å½¢å¼ã€‚å½“ç¡®è®¤äº†è¿™ä¸ªç»“æ„ä»¥åï¼Œå®ƒå°±ä½¿ç”¨æŠŠä¸¤ä¸ª INTEGER token ç›¸åŠ çš„æ–¹å¼æ¥è§£é‡Šè¿™ä¸ªè¾“å…¥ï¼Œå› ä¸ºæ­¤æ—¶è§£é‡Šå™¨å·²ç»æ¸…æ¥š åœ°çŸ¥é“å®ƒè¦åšçš„å°±æ˜¯æŠŠ 3 å’Œ 5 ä¸¤ä¸ªæ•´æ•°ç›¸åŠ ã€‚</li></ol><p>ç¥è´ºä½ ã€‚ä½ åˆšåˆšå­¦ä¼šäº†æ€ä¹ˆæ„é€ ä½ çš„ç¬¬ä¸€ä¸ªè§£é‡Šå™¨ï¼</p><p>ç°åœ¨æ˜¯æ—¶å€™åšæ­¤ç»ƒä¹ äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/lsbasi_exercises2.png" alt="img"></p><p>ä½ ä¸ä¼šè§‰å¾—ä½ åˆšåˆšè¯»äº†è¿™ç¯‡æ–‡ç« å°±è¶³å¤Ÿäº†ï¼Œæ˜¯å§ï¼Ÿå¥½äº†ï¼Œè‡ªå·±åŠ¨æ‰‹åšä¸‹é¢çš„ç»ƒä¹ ï¼š</p><ol><li>ä¿®æ”¹ä»£ç ä½¿å¾—å…è®¸è¾“å…¥å¤šä½æ•´æ•°ï¼Œä¾‹å¦‚â€œ12+3â€</li><li>å¢åŠ ä¸€ä¸ªè·³è¿‡ç©ºç™½ç¬¦çš„æ–¹æ³•ï¼Œä½¿ä½ çš„è®¡ç®—å™¨å¯ä»¥å¤„ç†åŒ…å«ç©ºç™½ç¬¦çš„è¾“å…¥å¦‚ â€œ 12 + 3â€</li><li>ä¿®æ”¹ä»£ç ä½¿å¾—å®ƒå¯ä»¥å¤„ç†â€˜-â€™è€Œéâ€˜+â€™çš„æƒ…å†µ</li></ol><p>æ£€æŸ¥ä½ çš„ç†è§£ã€‚</p><ol><li>ä»€ä¹ˆæ˜¯è§£é‡Šå™¨ï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯ç¼–è¯‘å™¨ï¼Ÿ</li><li>è§£é‡Šå™¨å’Œç¼–è¯‘å™¨çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯ tokenï¼Ÿ</li><li>å°†è¾“å…¥æ‹†åˆ†æˆ token çš„è¿‡ç¨‹å«ä»€ä¹ˆï¼Ÿ</li><li>è§£é‡Šå™¨ä¸­åšè¯æ³•åˆ†æçš„éƒ¨åˆ†å«ä»€ä¹ˆï¼Ÿ</li><li>è§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨çš„è¿™ä¸ªéƒ¨åˆ†è¿˜æœ‰ä»€ä¹ˆå…¶ä»–å¸¸è§çš„åå­—ï¼Ÿ</li></ol><p>ç›¸å…³æ–‡ç« é“¾æ¥ï¼š</p><p>ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨ï¼š<a href="https://www.liujiangblog.com/course/python/9" target="_blank" rel="noopener">https://www.liujiangblog.com/course/python/9</a></p><p>Letâ€™s Build A Simple Interpreter. Part 1ï¼š<a href="https://feng-qi.github.io/2018/01/23/lets-build-a-simple-interpreter-part-01/" target="_blank" rel="noopener">https://feng-qi.github.io/2018/01/23/lets-build-a-simple-interpreter-part-01/</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Letâ€™s Build A Simple Interpreter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2ã€ç”µå­è®¡ç®—æœº</title>
      <link href="/archives/d84f.html"/>
      <url>/archives/d84f.html</url>
      
        <content type="html"><![CDATA[<p>è¿™ä¸ªç³»åˆ—çš„è¯¾ç¨‹è¿˜æ˜¯å€¼å¾—å¤§å®¶å»çœ‹ä¸€çœ‹çš„ã€‚è¿™ä¸ªç³»åˆ—çš„è§†é¢‘å«ã€Šè®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ã€‹ã€‚è™½ç„¶å«é€Ÿæˆè¯¾ï¼Œæˆ‘ä»¬ä¹Ÿè¦åšåˆ°å¿ƒä¸­æœ‰æ•°ï¼Œå®ƒè‚¯å®šä¸æ˜¯è®©ä½ çœ‹äº†è¿™äº›å†…å®¹ä½ å°±ä»€ä¹ˆéƒ½çŸ¥é“äº†ã€‚è¿™æ˜¯ç§‘æ™®æ€§çš„è§†é¢‘ã€‚è¿™ä¸ªè§†é¢‘éƒ½æ˜¯è¢«ç¿»è¯‘å¥½çš„ï¼Œå†æ¬¡æ„Ÿè°¢è¿™äº›ç¿»è¯‘è€…ã€‚</p><a id="more"></a><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è§†é¢‘åœ¨Bç«™ä¸Šéƒ½æœ‰å…¨é›†çš„ï¼Œä¼ é€é—¨ï¼š<a href="https://www.bilibili.com/video/av21376839" target="_blank" rel="noopener">https://www.bilibili.com/video/av21376839</a></p><p>åœ¨GitHubä¸Šçš„åœ°å€ï¼š<a href="https://github.com/1c7/crash-course-computer-science-chinese" target="_blank" rel="noopener">https://github.com/1c7/crash-course-computer-science-chinese</a></p><p>è¿™é—¨è¯¾æ€»å…±æœ‰40èŠ‚ï¼Œæ¯èŠ‚è¯¾çš„æ ‡é¢˜ä¸ºï¼š</p><ol><li>è®¡ç®—æœºæ—©æœŸå†å²</li><li>ç”µå­è®¡ç®—</li><li>å¸ƒå°”é€»è¾‘ä¸é€»è¾‘ç”µè·¯</li><li>äºŒè¿›åˆ¶</li><li>ç®—æœ¯é€»è¾‘å•å…ƒ</li><li>å¯„å­˜å™¨ &amp; å†…å­˜</li><li>ä¸­å¤®å¤„ç†å™¨</li><li>æŒ‡ä»¤å’Œç¨‹åº</li><li>é«˜çº§ CPU è®¾è®¡</li><li>ç¼–ç¨‹å²è¯</li><li>ç¼–ç¨‹è¯­è¨€</li><li>ç¼–ç¨‹åŸç†ï¼šè¯­å¥å’Œå‡½æ•°</li><li>ç®—æ³•åˆæ­¥</li><li>æ•°æ®ç»“æ„</li><li>é˜¿å…°Â·å›¾çµ</li><li>è½¯ä»¶å·¥ç¨‹</li><li>é›†æˆç”µè·¯ã€æ‘©å°”å®šå¾‹</li><li>æ“ä½œç³»ç»Ÿ</li><li>å†…å­˜ &amp; å‚¨å­˜ä»‹è´¨</li><li>æ–‡ä»¶ç³»ç»Ÿ</li><li>å‹ç¼©</li><li>å‘½ä»¤è¡Œç•Œé¢</li><li>å±å¹• &amp; 2D å›¾å½¢æ˜¾ç¤º</li><li>å†·æˆ˜å’Œæ¶ˆè´¹ä¸»ä¹‰</li><li>ä¸ªäººè®¡ç®—æœºé©å‘½</li><li>å›¾å½¢ç”¨æˆ·ç•Œé¢</li><li>3D å›¾å½¢</li><li>è®¡ç®—æœºç½‘ç»œ</li><li>äº’è”ç½‘</li><li>ä¸‡ç»´ç½‘</li><li>ç½‘ç»œå®‰å…¨</li><li>é»‘å®¢ä¸æ”»å‡»</li><li>åŠ å¯†</li><li>æœºå™¨å­¦ä¹ ä¸äººå·¥æ™ºèƒ½</li><li>è®¡ç®—æœºè§†è§‰</li><li>è‡ªç„¶è¯­è¨€å¤„ç†</li><li>æœºå™¨äºº</li><li>è®¡ç®—æœºä¸­çš„å¿ƒç†å­¦</li><li>æ•™è‚²å‹ç§‘æŠ€</li><li>å¥‡ç‚¹ï¼Œå¤©ç½‘ï¼Œè®¡ç®—æœºçš„æœªæ¥</li></ol><h1 id="è®¡ç®—æœºæ—©æœŸå†å²"><a href="#è®¡ç®—æœºæ—©æœŸå†å²" class="headerlink" title="è®¡ç®—æœºæ—©æœŸå†å²"></a>è®¡ç®—æœºæ—©æœŸå†å²</h1><p>è¿™ä¸€å¼ å›¾å¤§è‡´è¯´æ˜äº†è®¡ç®—æœºæ—©æœŸå‘å±•çš„å†å²ã€‚å›¾ç‰‡æ¥æºï¼šè¯·æŸ¥çœ‹å›¾ç‰‡æœ¬èº«é“¾æ¥ã€‚</p><p>åé¢çš„è¯¾ä¼šè¾ƒè¯¦ç»†çš„è®²è§£ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/5c2dbf8e0001443913279329.png" alt="è®¡ç®—æœºå†å²"></p><h1 id="ç”µå­è®¡ç®—æœº"><a href="#ç”µå­è®¡ç®—æœº" class="headerlink" title="ç”µå­è®¡ç®—æœº"></a>ç”µå­è®¡ç®—æœº</h1><h2 id="ç»§ç”µå™¨"><a href="#ç»§ç”µå™¨" class="headerlink" title="ç»§ç”µå™¨"></a>ç»§ç”µå™¨</h2><p>åœ¨1937å¹´æœ€å¤§çš„æœºç”µè®¡ç®—æœºä¹‹ä¸€æ˜¯å“ˆä½›çš„é©¬å…‹ä¸€å·(Harvard Mark â… )ï¼Œæ˜¯IBMåœ¨1944å¹´ç»™äºŒæˆ˜çš„åŒç›Ÿå›½å»ºé€ çš„ã€‚è¯¥æœºå™¨çš„å¤§è„‘(CPUçš„åŸºç¡€å™¨ä»¶)æ˜¯â€œ<strong>ç»§ç”µå™¨</strong>â€ã€‚</p><ul><li><strong>ç»§ç”µå™¨</strong>ï¼šæ˜¯ç”¨ç”µæ§åˆ¶çš„æœºæ¢°å¼€å…³ï¼Œç»§ç”µå™¨é‡Œæœ‰æ ¹â€œæ§åˆ¶çº¿è·¯â€æ§åˆ¶ç€ç”µè·¯çš„å¼€å…³ï¼Œâ€œæ§åˆ¶çº¿è·¯â€è¿ç€ä¸€ä¸ªçº¿åœˆï¼Œå½“çº¿åœˆé€šç”µæ—¶ï¼Œä¼šäº§ç”Ÿæ„Ÿåº”ç£åœºï¼Œç”±æ­¤ç”±æ­¤èƒ½å¤Ÿå¸å¼•ä¸Šæ–¹çš„é‡‘å±è‡‚ï¼Œä»è€Œé—­åˆç”µè·¯ï¼Œå¾—åˆ°é«˜ç”µå¹³ã€‚å®ƒçš„<strong>æ€§èƒ½ï¼š</strong>1940å¹´ä¸€ä¸ªå¥½çš„ç»§ç”µå™¨1ç§’èƒ½ç¿»è½¬50æ¬¡ã€‚å“ˆä½›é©¬å…‹ä¸€å·1ç§’èƒ½åš3æ¬¡åŠ å‡æ³•è¿ç®—ï¼Œä¸€æ¬¡ä¹˜æ³•éœ€è¦6ç§’ï¼Œé™¤æ³•éœ€è¦15ç§’ï¼Œä¸‰è§’å‡½æ•°éœ€è¦ä¸€åˆ†é’Ÿä»¥ä¸Šã€‚å®ƒçš„<strong>ç¼ºç‚¹ï¼š</strong>æ§åˆ¶å¼€å…³çš„é‡‘å±è‡‚æ˜¯â€œæœ‰è´¨é‡çš„â€ï¼Œå› æ­¤æ— æ³•å¿«é€Ÿå¼€å…³ã€‚å¹¶ä¸”é‡‘å±è‡‚çš„åå¤ç§»åŠ¨å°±ä¼šå­˜åœ¨ç£¨æŸï¼ˆä»»ä½•ä¼šåŠ¨çš„æœºæ¢°éƒ½ä¼šéšæ—¶é—´ç£¨æŸï¼‰ï¼Œå“ˆä½›é©¬å…‹ä¸€å·å¹³å‡æ¯å¤©éœ€è¦æ›´æ¢ä¸€ä¸ªæ•…éšœç»§ç”µå™¨ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200308033154957.png" alt="ç»§ç”µå™¨"></p><h2 id="çœŸç©ºç®¡"><a href="#çœŸç©ºç®¡" class="headerlink" title="çœŸç©ºç®¡"></a>çœŸç©ºç®¡</h2><p>åœ¨1904å¹´ï¼Œè‹±å›½ç‰©ç†å­¦å®¶John Ambrose Flemingå¼€å‘äº†æ–°çš„ç”µå­ç»„ä»¶â€”â€”<strong>çƒ­ç”µå­ç®¡ï¼ˆThermionic valveï¼‰</strong>ã€‚</p><ul><li><strong>çƒ­ç”µå­ç®¡</strong>ï¼šæŠŠä¸¤ä¸ªç”µæè£…åœ¨ä¸€ä¸ªæ°”å¯†çš„çœŸç©ºç»ç’ƒç¯æ³¡ä¸­ã€‚å…¶ä¸­ä¸€ä¸ªç‚¹å‡»Aå¯ä»¥åŠ çƒ­ï¼Œä»è€Œå‘å°„ç”µå­ï¼Œç§°ä¸º<strong>çƒ­ç”µå­å‘å°„ï¼ˆThermionic emissionï¼‰</strong>ï¼›å¦ä¸€ä¸ªç”µæBä¼šå¸å¼•ç”µå­ï¼Œæ¥å½¢æˆç”µæµã€‚ä½†åªæœ‰å½“ç”µæBå¸¦æ­£ç”µæ—¶æ‰èƒ½å¸å¼•ç”µå­ï¼Œå¦åˆ™å½“ç”µæBå¸¦è´Ÿç”µè·æˆ–è€…ä¸­æ€§ç”µè·æ—¶ï¼Œç”µå­å°±æ— æ³•è·¨è¶ŠçœŸç©ºåŒºã€‚</li></ul><p>ç¾å›½å‘æ˜å®¶Lee de Foreståœ¨æ­¤åŸºç¡€ä¸ŠåŠ å…¥äº†ç¬¬ä¸‰ä¸ªæ§åˆ¶ç”µæã€‚é€šè¿‡å‘æ§åˆ¶ç”µææ–½åŠ æ­£ç”µè·ï¼Œå°±èƒ½å¸å¼•ç”µå­ï¼Œä»è€Œé—­åˆç”µè·¯ï¼›è€Œé€šè¿‡æ–½åŠ è´Ÿç”µè·ï¼Œå°±èƒ½é—­åˆç”µè·¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/v2-94062a34bd644ef937224efaa2ebdf6c_720w.png" alt="img"></p><p><strong>ç‰¹ç‚¹ï¼š</strong></p><p><em>æ¯ç§’å¯å¼€é—­æ•°åƒæ¬¡ã€‚</em></p><p><em>å’Œç»§ç”µå™¨ç›¸åŒçš„æ˜¯ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªæ§åˆ¶çº¿è·¯æ¥æ§åˆ¶æ–­å¼€æˆ–é—­åˆç”µè·¯ï¼Œå¹¶ä¸”çœŸç©ºç®¡å†…æ²¡æœ‰ä¼šåŠ¨çš„ç»„ä»¶ï¼Œå› æ­¤å­˜åœ¨æ›´å°‘çš„ç£¨æŸã€‚</em></p><p><em>æ¯”è¾ƒè„†å¼±ï¼Œä¼šåƒç¯æ³¡ä¸€æ ·çƒ§åï¼Œå¹¶ä¸”ä½“ç§¯æ¯”è¾ƒå¤§ã€‚</em></p><p><strong>çœŸç©ºç®¡çš„å‡ºç°ï¼Œæ ‡å¿—ç€è®¡ç®—æœºä»æœºç”µè½¬å‘ç”µå­</strong>ï¼Œç”µå­æ•°å€¼ç§¯åˆ†è®¡ç®—æœºENIACï¼Œåœ¨1946å¹´äºå®¾å¤•æ³•å°¼äºšå¤§å­¦è®¾è®¡åˆ¶é€ ï¼Œè¿™æ˜¯ä¸–ä¸Šç¬¬ä¸€ä¸ªçœŸæ­£çš„é€šç”¨å¯ç¼–ç¨‹ç”µå­è®¡ç®—æœºï¼Œæ¯ç§’å¯æ‰§è¡Œ5000æ¬¡åä½åŠ å‡æ³•ã€‚ä½†æ˜¯ç”±äºå­˜åœ¨å¤§é‡çš„çœŸç©ºç®¡ï¼Œå› æ­¤ENIACè¿è¡ŒåŠå¤©å·¦å³å°±ä¼šå‡ºç°ä¸€æ¬¡æ•…éšœã€‚</p><h2 id="æ™¶ä½“ç®¡"><a href="#æ™¶ä½“ç®¡" class="headerlink" title="æ™¶ä½“ç®¡"></a>æ™¶ä½“ç®¡</h2><p><strong>æ™¶ä½“ç®¡ï¼š</strong>ç±»ä¼¼äºç»§ç”µå™¨å’ŒçœŸç©ºç®¡ï¼Œæ™¶ä½“ç®¡ä¹Ÿæ˜¯ä¸€ä¸ªç”¨äºæ§åˆ¶ç”µè·¯é—­åˆæ–­å¼€çš„å¼€å…³ã€‚æ™¶ä½“ç®¡æœ‰ä¸¤ä¸ªç”µæï¼Œè¿™ä¸¤ä¸ªç”µæä¹‹é—´é€šè¿‡åŠå¯¼ä½“ææ–™éš”å¼€ã€‚æ§åˆ¶çº¿è¿æ¥åˆ°ä¸€ä¸ªâ€œé—¨â€ç”µæï¼Œé€šè¿‡æ”¹â€œé—¨â€çš„ç”µè·ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶åŠå¯¼ä½“çš„å¯¼ç”µæ€§ï¼Œç”±æ­¤æ¥æ§åˆ¶ç”µæµæ˜¯å¦æµåŠ¨ã€‚å½“æ§åˆ¶çº¿è·¯é€šç”µæ—¶ï¼Œä¸¤ä¸ªç”µææ¥é€šï¼Œå¦åˆ™ä¸¤ä¸ªç”µææ–­å¼€ã€‚</p><p><strong>ç‰¹ç‚¹ï¼š</strong></p><p><em>æ¯ç§’å¯å¼€å…³10000æ¬¡ã€‚</em></p><p><em>ç›¸æ¯”ç»ç’ƒåˆ¶æˆçš„çœŸç©ºç®¡ï¼Œæ™¶ä½“ç®¡æ˜¯å›ºä½“çš„ï¼Œå¹¶ä¸”ä½“ç§¯è¿œå°äºç»§ç”µå™¨å’ŒçœŸç©ºç®¡ã€‚</em></p><p>ç¬¬ä¸€ä¸ªæ¶ˆè´¹è€…å¯è´­ä¹°çš„ï¼Œå®Œå…¨ç”±æ™¶ä½“ç®¡æ„æˆçš„è®¡ç®—æœºæ˜¯1957å¹´å‘å¸ƒçš„IBM 608ï¼Œå®ƒæœ‰3000ä¸ªæ™¶ä½“ç®¡ï¼Œæ¯ç§’æ‰§è¡Œ4500æ¬¡åŠ å‡æ³•ï¼Œæˆ–80æ¬¡å·¦å³çš„ä¹˜é™¤æ³•ã€‚</p><p>å¦‚ä»Šï¼Œè®¡ç®—æœºé‡Œçš„æ™¶ä½“ç®¡å°äº50nmï¼Œå¹¶ä¸”æ¯ç§’å¯åˆ‡æ¢ä¸Šç™¾ä¸‡æ¬¡ï¼Œå·¥ä½œå‡ åå¹´ã€‚å¾ˆå¤šæ™¶ä½“ç®¡å’ŒåŠå¯¼ä½“å¼€å‘åœ¨åœ£å…‹æ‹‰æ‹‰è°·ï¼Œä½äºæ—§é‡‘å±±å’Œåœ£æ²³è¥¿ä¹‹é—´ï¼Œç”±äºåˆ¶é€ åŠå¯¼ä½“æœ€å¸¸è§çš„ææ–™æ˜¯ç¡…ï¼Œç”±æ­¤è¿™ä¸ªåœ°æ–¹è¢«ç§°ä¸ºâ€œç¡…è°·â€ã€‚å¹¶ä¸”William Shockleyæ¬è¿‡å»åˆ›å»ºäº†è‚–å…‹åˆ©åŠå¯¼ä½“ï¼Œé‡Œé¢çš„å‘˜å·¥åæ¥æˆç«‹äº†ä»™ç«¥åŠå¯¼ä½“ï¼Œè€Œè¿™é‡Œé¢çš„å‘˜å·¥åæ¥åˆ›ç«‹äº†è‹±ç‰¹å°”ã€‚</p><hr><p>æ‰€ä»¥ï¼Œè®¡ç®—æœºçš„å¤§è„‘åŸºç¡€å•å…ƒçš„å‘å±•è·¯å¾„ï¼Œå¯æ¦‚æ‹¬ä¸ºï¼š<strong>ç»§ç”µå™¨-&gt;ç”µå­ç®¡-&gt;æ™¶ä½“ç®¡</strong></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šè®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä¹‹ Yiliaä¸»é¢˜é…ç½®</title>
      <link href="/archives/460671de.html"/>
      <url>/archives/460671de.html</url>
      
        <content type="html"><![CDATA[<p>Yiliaä¸»é¢˜é…ç½®</p><a id="more"></a><h2 id="åœ¨å·¦ä¾§æ˜¾ç¤ºæ€»æ–‡ç« æ•°"><a href="#åœ¨å·¦ä¾§æ˜¾ç¤ºæ€»æ–‡ç« æ•°" class="headerlink" title="åœ¨å·¦ä¾§æ˜¾ç¤ºæ€»æ–‡ç« æ•°"></a>åœ¨å·¦ä¾§æ˜¾ç¤ºæ€»æ–‡ç« æ•°</h2><p>å°†themes\yilia\layout_partial\left-col.ejsæ–‡ä»¶çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;nav <span class="class"><span class="keyword">class</span></span>=<span class="string">"header-menu"</span>&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;% <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> theme.menu)&#123; %&gt;</span><br><span class="line">        &lt;li&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(theme.menu[i]) %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">i</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%&#125;%&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/u</span>l&gt;</span><br><span class="line">&lt;<span class="regexp">/nav&gt;</span></span><br></pre></td></tr></table></figure><p>åé¢åŠ ä¸Š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;nav&gt;</span><br><span class="line">    æ€»æ–‡ç« æ•° &lt;%=site.posts.length%&gt;</span><br><span class="line">&lt;<span class="regexp">/nav&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å­—æ•°ã€é˜…è¯»æ—¶é•¿æ·»åŠ "><a href="#å­—æ•°ã€é˜…è¯»æ—¶é•¿æ·»åŠ " class="headerlink" title="å­—æ•°ã€é˜…è¯»æ—¶é•¿æ·»åŠ "></a>å­—æ•°ã€é˜…è¯»æ—¶é•¿æ·»åŠ </h2><p>é¦–å…ˆå®‰è£… <a href="https://github.com/willin/hexo-wordcount" target="_blank" rel="noopener">hexo-wordcount</a></p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save hexo-wordcount  <span class="comment">#å¦‚æœå®‰è£…äº†cnpmï¼Œå¯æ¢ä¸ºcnpmå®‰è£…</span></span><br></pre></td></tr></table></figure><blockquote><p>Node ç‰ˆæœ¬7.6.0ä¹‹å‰,è¯·å®‰è£… 2.x ç‰ˆæœ¬ (Node.js v7.6.0 and previous)</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Copynpm install hexo-wordcount@2 --save</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ <code>themes\yilia\layout\_partial\left-col.ejs</code>ä¸­æ·»åŠ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Copy&lt;nav&gt;</span><br><span class="line">    æ€»å­—æ•° &lt;span class&#x3D;&quot;post-count&quot;&gt;&lt;%&#x3D; totalcount(site, &#39;0,0.0a&#39;) %&gt;&lt;&#x2F;span&gt;</span><br><span class="line">&lt;&#x2F;nav&gt;</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä½ç½®åœ¨å¦‚ä¸‹ä»£ç çš„ä¸‹é¢ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Copy&lt;nav&gt;</span><br><span class="line">    æ€»æ–‡ç« æ•° &lt;%&#x3D;site.posts.length%&gt;</span><br><span class="line">&lt;&#x2F;nav&gt;</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>themes\yilia\layout\_partial\article.ejs</code></p><p>åœ¨headerä¸‹é¢åŠ å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div align&#x3D;&quot;left&quot; class&#x3D;&quot;post-count&quot;&gt;   &lt;!--å…¶ä¸­alignå¯ä»¥åœ¨ï¼šrightã€centerã€left--&gt;</span><br><span class="line">    å­—æ•°ï¼š&lt;%&#x3D; wordcount(post.content) %&gt;å­— | é¢„è®¡é˜…è¯»æ—¶é•¿ï¼š&lt;%&#x3D; min2read(post.content) %&gt;åˆ†é’Ÿ</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>å³å¯æ˜¾ç¤ºå•ç¯‡å­—æ•°å’Œé¢„è®¡é˜…è¯»æ—¶é•¿ã€‚</p><h2 id="ç½®é¡¶æ–‡ç« "><a href="#ç½®é¡¶æ–‡ç« " class="headerlink" title="ç½®é¡¶æ–‡ç« "></a>ç½®é¡¶æ–‡ç« </h2><p><strong>å®‰è£…æ’ä»¶</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-generator-index --save</span><br><span class="line">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure><p><strong>é…ç½®ç½®é¡¶æ ‡å‡†</strong></p><p>æ‰“å¼€ï¼š/themes/*/layoutï¼ˆ/_macroï¼‰/post.ejs ç›´æ¥åœ¨æœ€å‰é¢åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (page.top) &#123; %&gt;</span><br><span class="line">  &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-thumb-tack"</span>&gt;&lt;<span class="regexp">/i&gt;</span></span><br><span class="line"><span class="regexp">  &lt;font color=7D26CD&gt;ç½®é¡¶&lt;/</span>font&gt;</span><br><span class="line">  &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"post-meta-divider"</span>&gt;|&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">&lt;% &#125; %&gt;</span></span><br></pre></td></tr></table></figure><p><strong>é…ç½®æ–‡ç« </strong></p><p>ç„¶ååœ¨éœ€è¦ç½®é¡¶çš„æ–‡ç« çš„Front-matterä¸­åŠ ä¸Štopé€‰é¡¹å³å¯ topåé¢çš„æ•°å­—è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 2019</span><br><span class="line">date: 2019-02-14 16:10:03</span><br><span class="line">top: 5</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="å¢åŠ ä¸è’œå­ç»Ÿè®¡"><a href="#å¢åŠ ä¸è’œå­ç»Ÿè®¡" class="headerlink" title="å¢åŠ ä¸è’œå­ç»Ÿè®¡"></a>å¢åŠ ä¸è’œå­ç»Ÿè®¡</h2><p>åˆ©ç”¨è¿™ä¸ªç»Ÿè®¡ï¼Œå¯ä»¥çŸ¥é“ä½ åšå®¢çš„è®¿é—®é‡ã€‚</p><p><strong>å®‰è£…ä¸è’œå­è„šæœ¬</strong>ï¼š</p><p>åœ¨themes\yilia\layout\ _partial\after-footer.ejsæœ€åæ·»åŠ ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script <span class="keyword">async</span> src=<span class="string">"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å•ç¯‡æ–‡ç« ç‚¹å‡»é‡ï¼š"><a href="#å•ç¯‡æ–‡ç« ç‚¹å‡»é‡ï¼š" class="headerlink" title="å•ç¯‡æ–‡ç« ç‚¹å‡»é‡ï¼š"></a>å•ç¯‡æ–‡ç« ç‚¹å‡»é‡ï¼š</h3><p>åœ¨themes/yilia/layout/_partial/article.ejsä¸­ åœ¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&#39;post&#x2F;title&#39;, &#123;class_name: &#39;article-title&#39;&#125;) %&gt;</span><br></pre></td></tr></table></figure><p>åé¢æ’å…¥å¦‚ä¸‹ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--æ˜¾ç¤ºé˜…è¯»æ¬¡æ•°--&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (!index &amp;&amp; post.comments)&#123; %&gt;</span><br><span class="line">  &lt;br/&gt;</span><br><span class="line">  &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"cloud-tie-join-count"</span> href=<span class="string">"javascript:void(0);"</span> style=<span class="string">"color:gray;font-size:14px;"</span>&gt;</span><br><span class="line">  &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"icon-sort"</span>&gt;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">  &lt;span id="busuanzi_container_page_pv" style="color:#ef7522;font-size:14px;"&gt;</span></span><br><span class="line"><span class="regexp">            é˜…è¯»æ•°: &lt;span id="busuanzi_value_page_pv"&gt;&lt;/</span>span&gt;æ¬¡ &amp;nbsp;&amp;nbsp;</span><br><span class="line">  &lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>a&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;!--æ˜¾ç¤ºé˜…è¯»æ¬¡æ•°å®Œæ¯•--&gt;</span><br></pre></td></tr></table></figure><h2 id="å¢åŠ ç‰ˆæƒå£°æ˜"><a href="#å¢åŠ ç‰ˆæƒå£°æ˜" class="headerlink" title="å¢åŠ ç‰ˆæƒå£°æ˜"></a>å¢åŠ ç‰ˆæƒå£°æ˜</h2><p><strong>é…ç½®yilia</strong>ï¼š</p><p>åœ¨themes/yilia/layout/_partial/article.ejsä¸­ï¼Œæ ‡æ³¨çš„ä½ç½®æ·»åŠ ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"article-entry"</span> itemprop=<span class="string">"articleBody"</span>&gt;</span><br><span class="line">  &lt;% <span class="keyword">if</span> (post.excerpt &amp;&amp; index)&#123; %&gt;</span><br><span class="line">    &lt;%- post.excerpt %&gt;</span><br><span class="line">    &lt;% <span class="keyword">if</span> (theme.excerpt_link) &#123; %&gt;</span><br><span class="line">      &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"article-more-a"</span> href=<span class="string">"&lt;%- url_for(post.path) %&gt;#more"</span>&gt;&lt;%= theme.excerpt_link %&gt; &gt;&gt;&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">  &lt;% &#125; else &#123; %&gt;</span></span><br><span class="line"><span class="regexp">    &lt;%- post.content %&gt;</span></span><br><span class="line"><span class="regexp">  &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="regexp">  &lt;-- åœ¨æ­¤å¤„æ·»åŠ ä»£ç --&gt; &lt;-- åœ¨æ­¤å¤„æ·»åŠ ä»£ç --&gt; &lt;-- åœ¨æ­¤å¤„æ·»åŠ ä»£ç --&gt; &lt;-- åœ¨æ­¤å¤„æ·»åŠ ä»£ç --&gt;</span></span><br><span class="line"><span class="regexp">  &lt;% if ((theme.reward_type === 2 || (theme.reward_type === 1 &amp;&amp; post.reward)) &amp;&amp; !index)&#123; %&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div class="page-reward"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;a href="javascript:;" class="page-reward-btn tooltip-top"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="tooltip tooltip-east"&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ç›®å½•ï¼šthemes/yilia/source-src/cssä¸­åˆ›å»ºæ–°æ–‡ä»¶ï¼šdeclare.scssï¼Œå¹¶æ·»åŠ å¦‚ä¸‹CSSä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.declare &#123;</span><br><span class="line">    background-color: #eaeaea;</span><br><span class="line">    margin-top: <span class="number">2</span>em;</span><br><span class="line">    border-left: 3px solid #ff1700;</span><br><span class="line">    padding: <span class="number">.5</span>em <span class="number">1</span>em;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œä¸ºthemes/yilia/source-src/css/main.scssï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">"./declare"</span>;</span><br></pre></td></tr></table></figure><p><strong>é…ç½®æ˜¾ç¤º</strong>ï¼š</p><p>ç°åœ¨è¯¥è®©å…¶æ˜¾ç¤ºå‡ºæ¥ï¼Œåœ¨themes/yilia/_config.ymlï¼Œä¸­åŠ å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#ç‰ˆæƒåŸºç¡€è®¾å®šï¼š0-å…³é—­å£°æ˜ï¼› 1-æ–‡ç« å¯¹åº”çš„mdæ–‡ä»¶é‡Œæœ‰declare: trueå±æ€§ï¼Œæ‰æœ‰ç‰ˆæƒå£°æ˜ï¼› 2-æ‰€æœ‰æ–‡ç« å‡æœ‰ç‰ˆæƒå£°æ˜</span><br><span class="line">#å½“å‰åº”ç”¨çš„ç‰ˆæƒåè®®åœ°å€ã€‚</span><br><span class="line">#ç‰ˆæƒåè®®çš„åç§°</span><br><span class="line">#ç‰ˆæƒåè®®çš„Logo</span><br><span class="line"></span><br><span class="line">declare_type: 1</span><br><span class="line">licensee_url: https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;</span><br><span class="line">licensee_name: &#39;çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®&#39;</span><br><span class="line">licensee_img: https:&#x2F;&#x2F;i.creativecommons.org&#x2F;l&#x2F;by-nc-sa&#x2F;4.0&#x2F;88x31.png</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨éœ€è¦è¿›è¡Œç‰ˆæƒå£°æ˜çš„æ–‡ç« çš„mdæ–‡ä»¶å¤´éƒ¨ï¼Œè®¾ç½®å±æ€§</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare:true</span><br></pre></td></tr></table></figure><p>å³å¯ã€‚</p><h2 id="åœ¨ä¸»é¡µæ—¶æ–‡ç« æ˜¾ç¤ºæ‘˜è¦"><a href="#åœ¨ä¸»é¡µæ—¶æ–‡ç« æ˜¾ç¤ºæ‘˜è¦" class="headerlink" title="åœ¨ä¸»é¡µæ—¶æ–‡ç« æ˜¾ç¤ºæ‘˜è¦"></a>åœ¨ä¸»é¡µæ—¶æ–‡ç« æ˜¾ç¤ºæ‘˜è¦</h2><p>åœ¨ä½  MD æ ¼å¼æ–‡ç« æ­£æ–‡æ’å…¥ <code>&lt;!-- more --&gt;</code> å³å¯ï¼Œåªä¼šæ˜¾ç¤ºå®ƒä¹‹å‰çš„ï¼Œæ­¤åçš„å°±ä¸æ˜¾ç¤ºï¼Œç‚¹å‡»æ–‡ç« æ ‡é¢˜ï¼Œï¼Œæˆ–è€…ç‚¹å‡»ä¸‹é¢çš„<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200302193556416.png" alt="image-20200302193556416">æŒ‰é’®ï¼Œå³å¯è¿›å…¥å…¨æ–‡ã€‚</p><p>å¦‚ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200302180731556.png" alt="image-20200302180731556"></p><h2 id="æ–‡ç« æ˜¾ç¤ºç›®å½•"><a href="#æ–‡ç« æ˜¾ç¤ºç›®å½•" class="headerlink" title="æ–‡ç« æ˜¾ç¤ºç›®å½•"></a>æ–‡ç« æ˜¾ç¤ºç›®å½•</h2><p>å¢åŠ æ–‡ç« ç›®å½• TOC ( table of content )ï¼Œæ–¹ä¾¿é˜…è¯»æ–‡ç« ï¼Œåœ¨ <code>themes/yilia/_config.yml</code> ä¸­è¿›è¡Œé…ç½® <code>toc: 2</code> å³å¯ï¼Œå®ƒä¼šå°†ä½  Markdown è¯­æ³•çš„æ ‡é¢˜ï¼Œç”Ÿæˆç›®å½•ï¼Œç›®å½•æŸ¥çœ‹åœ¨å³ä¸‹è§’ã€‚</p><h2 id="å¤´åƒè®¾ç½®"><a href="#å¤´åƒè®¾ç½®" class="headerlink" title="å¤´åƒè®¾ç½®"></a>å¤´åƒè®¾ç½®</h2><p><strong>è®¾ç½®å­˜æ”¾ä½ç½®</strong>ï¼š</p><p>å¤´åƒ/å›¾æ ‡å›¾ç‰‡çš„å­˜æ”¾ä½ç½®æ˜¯<code>/themes/yilia/source/</code>ä¸‹ä»»æ„ä½ç½®ï¼Œå¯ä»¥è‡ªå·±æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾ï¼Œæˆ‘å­˜æ”¾åœ¨<code>assets</code>æ–‡ä»¶å¤¹ä¸‹ã€‚ï¼ˆæˆ‘ä¹‹å‰æ”¾åœ¨imgä¸­ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œå®ƒå°±æ˜¾ç¤ºä¸å‡ºæ¥ï¼‰</p><p><strong>é…ç½®ä¿®æ”¹</strong>ï¼š</p><p>é…ç½®æ–‡ä»¶ä¸º<code>/themes/yilia/_config.yml</code>ã€‚è®¾ç½®å¤´åƒä¸ºé…ç½®æ–‡ä»¶ä¸­<code>avatar</code>ä¸€é¡¹ï¼Œè®¾ç½®å›¾æ ‡ä¸ºé…ç½®æ–‡ä»¶ä¸­<code>favicon</code>ä¸€é¡¹ï¼Œè®¾ç½®è·¯å¾„çš„æ ¹ç›®å½•ä¸º<code>/themes/yilia/source/</code>ã€‚ä¾‹å¦‚ï¼Œæˆ‘çš„å¤´åƒå­˜æ”¾çš„åœ°å€æ˜¯<code>/themes/yilia/source/assets/me.png</code>ï¼Œè®¾ç½®åˆ™ä¸º<code>avatar: /assets/me.png</code>ã€‚ï¼ˆå›¾æ ‡åŒç†ï¼‰</p><h2 id="æäº¤ç½‘é¡µ"><a href="#æäº¤ç½‘é¡µ" class="headerlink" title="æäº¤ç½‘é¡µ"></a>æäº¤ç½‘é¡µ</h2><h3 id="sitemapæ–¹å¼æäº¤ç½‘é¡µ"><a href="#sitemapæ–¹å¼æäº¤ç½‘é¡µ" class="headerlink" title="sitemapæ–¹å¼æäº¤ç½‘é¡µ"></a>sitemapæ–¹å¼æäº¤ç½‘é¡µ</h3><p>åœ¨ Hexo æ ¹ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;your_hexo_path&#125;&#x2F;public</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶å¤¹ï¼Œå¯ä»¥çœ‹åˆ°æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sitemap.xml</span><br></pre></td></tr></table></figure><p>sitemap çš„åˆè¡·æ˜¯ç»™æœç´¢å¼•æ“çœ‹çš„ï¼Œä¸ºäº†æé«˜æœç´¢å¼•æ“å¯¹è‡ªå·±ç«™ç‚¹çš„æ”¶å½•æ•ˆæœï¼Œæˆ‘ä»¬æœ€å¥½æ‰‹åŠ¨åˆ° google å’Œç™¾åº¦ç­‰æœç´¢å¼•æ“æäº¤ sitemap.xmlã€‚</p><p>baiduæäº¤ç½‘å€ï¼š<a href="https://ziyuan.baidu.com/?castk=LTE%3D" target="_blank" rel="noopener">https://ziyuan.baidu.com/?castk=LTE%3D</a></p><h3 id="ç™¾åº¦è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ç½‘é¡µ"><a href="#ç™¾åº¦è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ç½‘é¡µ" class="headerlink" title="ç™¾åº¦è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ç½‘é¡µ"></a>ç™¾åº¦è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ç½‘é¡µ</h3><p>åœ¨æœ¬æœº</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;åšå®¢æ ¹ç›®å½•&gt;&#x2F;themes&#x2F;yilia&#x2F;layout&#x2F;_partial</span><br></pre></td></tr></table></figure><p>ç›®å½•ä¸‹æ‰“å¼€article.ejsæ–‡ä»¶ï¼Œå®šä½åˆ°å¦‚ä¸‹è¿™æ®µä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">        var sUrl &#x3D; url.replace(&#x2F;index\.html$&#x2F;, &#39;&#39;);</span><br><span class="line">        sUrl &#x3D; &#x2F;^(http:|https:)\&#x2F;\&#x2F;&#x2F;.test(sUrl) ? sUrl : &#39;https:&#39; + sUrl;</span><br><span class="line">      %&gt;</span><br></pre></td></tr></table></figure><p>åœ¨å®ƒå‰é¢åŠ ä¸Šï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!- ç™¾åº¦è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ --&gt;</span><br><span class="line">&lt;% if (1)&#123; %&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function()&#123;</span><br><span class="line">      var bp &#x3D; document.createElement(&#39;script&#39;);</span><br><span class="line">      var curProtocol &#x3D; window.location.protocol.split(&#39;:&#39;)[0];</span><br><span class="line">      if (curProtocol &#x3D;&#x3D;&#x3D; &#39;https&#39;) &#123;</span><br><span class="line">          bp.src &#x3D; &#39;https:&#x2F;&#x2F;zz.bdstatic.com&#x2F;linksubmit&#x2F;push.js&#39;;</span><br><span class="line">      &#125;</span><br><span class="line">      else &#123;</span><br><span class="line">          bp.src &#x3D; &#39;http:&#x2F;&#x2F;push.zhanzhang.baidu.com&#x2F;push.js&#39;;</span><br><span class="line">      &#125;</span><br><span class="line">      var s &#x3D; document.getElementsByTagName(&quot;script&quot;)[0];</span><br><span class="line">      s.parentNode.insertBefore(bp, s);</span><br><span class="line">  &#125;)();</span><br><span class="line">  &lt;&#x2F;script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;!- ç™¾åº¦è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ç»“æŸ --&gt;</span><br></pre></td></tr></table></figure><p>å³å®Œæˆäº†æ–°å¢åšå®¢æ–‡ç« é¡µé¢ï¼ˆä¸åŒ…æ‹¬å…¶ä»–é¡µé¢ï¼‰çš„è‡ªåŠ¨æ¨é€æ–¹å¼æäº¤ã€‚</p><h2 id="é“¾æ¥æäº¤"><a href="#é“¾æ¥æäº¤" class="headerlink" title="é“¾æ¥æäº¤"></a>é“¾æ¥æäº¤</h2><p>ç™¾åº¦ç«™é•¿å¹³å°çš„é“¾æ¥æäº¤æ–¹å¼åˆ†ä¸ºè‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æäº¤ä¸¤ç§ï¼Œæ­¤å¤„åªè®²è‡ªåŠ¨æäº¤ï¼Œæ‰‹åŠ¨æäº¤æŒ‰ç…§è¦æ±‚æ“ä½œå³å¯ã€‚</p><h3 id="ä¸»åŠ¨æ¨é€"><a href="#ä¸»åŠ¨æ¨é€" class="headerlink" title="ä¸»åŠ¨æ¨é€"></a>ä¸»åŠ¨æ¨é€</h3><h4 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h4><p>ä¸»åŠ¨æ¨é€æœ€ä¸ºå¿«é€Ÿçš„æäº¤æ–¹å¼ï¼Œæ˜¯è¢«ç™¾åº¦æ”¶å½•æœ€å¿«çš„æ¨é€æ–¹å¼ã€‚ä¸»åŠ¨æ¨é€å¯ä»¥é€šè¿‡å®‰è£…æ’ä»¶å®ç°ï¼š</p><p><strong>é¦–å…ˆå®‰è£…æ’ä»¶ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶_config.ymlï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baidu_url_submit:</span><br><span class="line">  count: 20 ## æäº¤æœ€æ–°çš„20ä¸ªé“¾æ¥</span><br><span class="line">  host: www.dongshuyan.com ## ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ³¨å†Œçš„åŸŸå</span><br><span class="line">  token:  ## 16ä½å‡†å…¥ç§˜é’¥</span><br><span class="line">  path: baidu_urls.txt ## æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œ æ–°é“¾æ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ</span><br></pre></td></tr></table></figure><p><strong>å‡†å…¥ç§˜é’¥è·å–</strong>:</p><p>åœ¨å¦‚ä¸‹å›¾çš„ç½‘å€ä¸­ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/e8d810a8-af7b-40ce-8a7d-1db0e61a8a14-3316715.jpg" alt="img"></p><p>ä¸‹æ‹‰ï¼Œæ‰¾åˆ°è¿™é‡Œï¼š<br><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/a94c8872-d402-4ce3-afc2-ea2705e95aeb-3316715.jpg" alt="img"><br>ç‚¹å‡»è¿›å»å°±æ˜¯å‡†å…¥ç§˜é’¥ã€‚</p><p><strong>æ£€æŸ¥</strong>:</p><p>å…¶æ¬¡ï¼Œè®°å¾—æŸ¥çœ‹æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ä¸­urlçš„å€¼ï¼Œ å¿…é¡»åŒ…å«æ˜¯ç™¾åº¦ç«™é•¿å¹³å°æ³¨å†Œçš„åŸŸåï¼Œ æ¯”å¦‚:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &#39;http:&#x2F;&#x2F;yoursite.com&#x2F;child&#39; and root as &#39;&#x2F;child&#x2F;&#39;</span><br><span class="line">url: http:&#x2F;&#x2F;dongshuyan.com</span><br><span class="line">root: &#x2F;</span><br><span class="line">permalink: :year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure><p><strong>æœ€åï¼ŒåŠ å…¥æ–°çš„deployer</strong></p><p>æœ€åï¼ŒåŠ å…¥æ–°çš„deployer:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">- type: git ## è¿™æ˜¯æˆ‘åŸæ¥çš„deployer</span><br><span class="line">  repo:</span><br><span class="line">  branch:</span><br><span class="line">- type: baidu_url_submitter ## æ·»åŠ è¿™é‡Œå†…å®¹å³å¯</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„â€-â€œ,å¿…ä¸å¯å°‘ï¼ å¦åˆ™æŠ¥é”™ã€‚</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>å…¶ä¸»åŠ¨æ¨é€çš„å®ç°åŸç†å¦‚ä¸‹ï¼š<br>æ–°é“¾æ¥çš„äº§ç”Ÿï¼Œ hexo generate ä¼šäº§ç”Ÿä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«æœ€æ–°çš„é“¾æ¥<br>æ–°é“¾æ¥çš„æäº¤ï¼Œ hexo deploy ä¼šä»ä¸Šè¿°æ–‡ä»¶ä¸­è¯»å–é“¾æ¥ï¼Œæäº¤è‡³ç™¾åº¦æœç´¢å¼•æ“</p><h3 id="è‡ªåŠ¨æ¨é€"><a href="#è‡ªåŠ¨æ¨é€" class="headerlink" title="è‡ªåŠ¨æ¨é€"></a>è‡ªåŠ¨æ¨é€</h3><p>è£…è‡ªåŠ¨æ¨é€JSä»£ç çš„ç½‘é¡µï¼Œåœ¨é¡µé¢è¢«è®¿é—®æ—¶ï¼Œé¡µé¢URLå°†ç«‹å³è¢«æ¨é€ç»™ç™¾åº¦ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸‹çš„layout/post.ejsæ–‡ä»¶ï¼Œæœ«å°¾æ·»åŠ è‡ªåŠ¨æ¨é€ä»£ç ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">(function()&#123;</span><br><span class="line">    var bp &#x3D; document.createElement(&#39;script&#39;);</span><br><span class="line">    var curProtocol &#x3D; window.location.protocol.split(&#39;:&#39;)[0];</span><br><span class="line">    if (curProtocol &#x3D;&#x3D;&#x3D; &#39;https&#39;) &#123;</span><br><span class="line">        bp.src &#x3D; &#39;https:&#x2F;&#x2F;zz.bdstatic.com&#x2F;linksubmit&#x2F;push.js&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        bp.src &#x3D; &#39;http:&#x2F;&#x2F;push.zhanzhang.baidu.com&#x2F;push.js&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    var s &#x3D; document.getElementsByTagName(&quot;script&quot;)[0];</span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>å‡ºå¤„ï¼š(<a href="http://dongshuyan.com/2019/05/24/hexoåšå®¢æ³¨æ„äº‹é¡¹/#14-Hexoæ·»åŠ ç™¾åº¦ç»Ÿè®¡" target="_blank" rel="noopener">http://dongshuyan.com/2019/05/24/hexoåšå®¢æ³¨æ„äº‹é¡¹/#14-Hexoæ·»åŠ ç™¾åº¦ç»Ÿè®¡</a>)</p><h2 id="æ·»åŠ ç™¾åº¦ç»Ÿè®¡å’Œè°·æ­Œç»Ÿè®¡ä»£ç "><a href="#æ·»åŠ ç™¾åº¦ç»Ÿè®¡å’Œè°·æ­Œç»Ÿè®¡ä»£ç " class="headerlink" title="æ·»åŠ ç™¾åº¦ç»Ÿè®¡å’Œè°·æ­Œç»Ÿè®¡ä»£ç "></a>æ·»åŠ ç™¾åº¦ç»Ÿè®¡å’Œè°·æ­Œç»Ÿè®¡ä»£ç </h2><h3 id="ç™¾åº¦ç»Ÿè®¡"><a href="#ç™¾åº¦ç»Ÿè®¡" class="headerlink" title="ç™¾åº¦ç»Ÿè®¡"></a>ç™¾åº¦ç»Ÿè®¡</h3><p>é¦–å…ˆæ‰“å¼€<a href="https://ziyuan.baidu.com/site/index" target="_blank" rel="noopener">ç™¾åº¦ç«™é•¿å¹³å°</a>ï¼Œæ³¨å†Œè´¦æˆ·ã€‚</p><p>ç„¶åç™»é™† ç™¾åº¦ç»Ÿè®¡ã€‹ç®¡ç†ã€‹æ–°å¢ç«™ç‚¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://gitee.com/longlongqin/hexo_blog_map_bed/raw/master/img/image-20200303193303556.png" alt="image-20200303193303556"></p><p>ç„¶åå¤åˆ¶ç”Ÿæˆçš„ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> _hmt = _hmt || [];</span></span><br><span class="line"><span class="actionscript">(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> hm = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></span><br><span class="line"><span class="actionscript">  hm.src = <span class="string">"https://hm.baidu.com/hm.js?è¿™é‡Œæ˜¯ä½ çš„ä¸“å±å­—ç¬¦ä¸²"</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>]; </span></span><br><span class="line">  s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ®µä»£ç ï¼Œæœ€é‡è¦çš„å°±æ˜¯ä½ é‚£æ®µä¸“å±çš„å­—ç¬¦ä¸²ã€‚</p><p><strong>å¼€å§‹é…ç½®ï¼š</strong></p><p>é¦–å…ˆï¼Œæ‰“å¼€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">themes&#x2F;yilia&#x2F;_config.yml</span><br></pre></td></tr></table></figure><p>é‡Œé¢</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_analytics:</span> <span class="string">''</span></span><br></pre></td></tr></table></figure><p>æ”¹ä¸º</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidu_analytics:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæ‰“å¼€ï¼š</p><figure class="highlight h"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">themes/yilia/layout/_partial/baidu-analytics.ejs</span><br></pre></td></tr></table></figure><p>ä½ ä¼šçœ‹åˆ°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.baidu_analytics)&#123; %&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var _hmt &#x3D; _hmt || [];</span><br><span class="line">(function() &#123;</span><br><span class="line">var hm &#x3D; document.createElement(&quot;script&quot;);</span><br><span class="line">hm.src &#x3D; &quot;https:&#x2F;&#x2F;hm.baidu.com&#x2F;hm.js?&lt;%&#x3D; theme.baidu_analytics %&gt;&quot;;</span><br><span class="line">var s &#x3D; document.getElementsByTagName(&quot;script&quot;)[0]; </span><br><span class="line">s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œæˆ‘ä»¬ç›´æ¥ç”¨ä½ çš„<code>ä¸“å±å­—ç¬¦ä¸²</code>å»æ›¿æ¢<code>&lt;%= theme.baidu_analytics %&gt;</code>å°±è¡Œäº†ã€‚æ›¿æ¢åä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.baidu_analytics)&#123; %&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var _hmt &#x3D; _hmt || [];</span><br><span class="line">(function() &#123;</span><br><span class="line">var hm &#x3D; document.createElement(&quot;script&quot;);</span><br><span class="line">hm.src &#x3D; &quot;https:&#x2F;&#x2F;hm.baidu.com&#x2F;hm.js?ä½ çš„ä¸“å±å­—ç¬¦ä¸²&quot;;</span><br><span class="line">var s &#x3D; document.getElementsByTagName(&quot;script&quot;)[0]; </span><br><span class="line">s.parentNode.insertBefore(hm, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h3 id="è°·æ­Œç»Ÿè®¡"><a href="#è°·æ­Œç»Ÿè®¡" class="headerlink" title="è°·æ­Œç»Ÿè®¡"></a>è°·æ­Œç»Ÿè®¡</h3><p>å‚è€ƒï¼š<a href="http://yansheng836.coding.me/article/eda67a25.html" target="_blank" rel="noopener">http://yansheng836.coding.me/article/eda67a25.html</a></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Yiliaä¸»é¢˜é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoä¹‹Materyä¸»é¢˜é…ç½®</title>
      <link href="/archives/514b.html"/>
      <url>/archives/514b.html</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘çš„ä¸‰å¤©ä¸€ç›´åœ¨æŠ˜è…¾hexoæ¡†æ¶çš„åšå®¢ï¼Œå…ˆæ˜¯ä½¿ç”¨yiliaä¸»é¢˜ï¼Œä½†æ˜¯ç”¨æ¥ä¸€å¤©è§‰å¾—æˆ‘ä¸é€‚åˆè¿™ä¸ªä¸»é¢˜ï¼Œéšå³çœ‹åˆ°äº†materyä¸»é¢˜ã€‚</p><a id="more"></a><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E4%B9%8BMatery%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/qqpyimg1583400714.jpg" alt="img"></p><p>ä»Šå¤©åˆæŠ˜è…¾äº†ç™½å¤©ä¸€å¤©æ—¶é—´ï¼Œæˆ‘è¿™ä¸ªæ˜¯ç›´æ¥å…‹éš†çš„<a href="https://sunhwee.com/about" target="_blank" rel="noopener">hongweiã®åšå®¢</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§ä½¬å‘€ï¼Œè¿˜è¦å¤šå¤šå‘ä»–å­¦ä¹ ã€‚</p><p>ç„¶åï¼ŒåªæŠŠä¸€äº›ç®€å•çš„é…ç½®å¼„å¥½äº†ã€‚ç°åœ¨æ¢³ç†ä¸€ä¸‹ï¼š</p><p><strong>å·²å®Œæˆçš„é…ç½®ï¼š</strong></p><ul><li><input checked disabled type="checkbox"><p>404é¡µé¢</p></li><li><input checked disabled type="checkbox"><p>ç®€å†</p></li><li><input checked disabled type="checkbox"><p>å»ºç«™æ—¶é—´</p></li><li><input checked disabled type="checkbox"><p>è®¾ç½®ä¸ªäººåŸŸåï¼ˆå·²è´­ä¹°åŸŸåï¼Œå•è¿˜éœ€è¦å®¡æ ¸ï¼Œæ˜å¤©å†å»å¼„ã€‚ï¼‰</p></li><li><input checked disabled type="checkbox"><p>ä¸è’œå­è®¾ç½®</p></li></ul><ul><li><input checked disabled type="checkbox"> æ·»åŠ è¯„è®ºæ’ä»¶</li><li><input checked disabled type="checkbox"> ç½‘ç«™SEOä¼˜åŒ–</li><li><input disabled type="checkbox"> ç™¾åº¦æ”¶å½•ç«™ç‚¹ 1.éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ</li><li><input disabled type="checkbox"> è°·æ­Œæ”¶å½•ç«™ç‚¹</li><li><input checked disabled type="checkbox"> ä¼˜åŒ–ä½ çš„URL</li><li><input disabled type="checkbox"> æ·»åŠ ä»£ç å—å¤åˆ¶åŠŸèƒ½</li><li><input disabled type="checkbox"> æ·»åŠ æ–‡ç« æ›´æ–°æ—¶é—´åŠŸèƒ½</li></ul><p><strong>éå¿…è¦é…ç½®ï¼ˆå·²ç»å–æ¶ˆï¼‰ï¼š</strong></p><ul><li><input checked disabled type="checkbox"><p>æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹BGM</p></li><li><input checked disabled type="checkbox"><p>æ·»åŠ é¼ æ ‡ç‚¹å‡»çƒŸèŠ±çˆ†ç‚¸æ•ˆæœ</p></li><li><input checked disabled type="checkbox"><p>æ·»åŠ é¡µé¢æ¨±èŠ±é£˜è½æ•ˆæœ</p></li><li><input checked disabled type="checkbox"><p>æ·»åŠ é¼ æ ‡ç‚¹å‡»æ–‡å­—ç‰¹æ•ˆ</p></li><li><input checked disabled type="checkbox"><p>æ·»åŠ é¡µé¢é›ªèŠ±é£˜è½åŠ¨æ•ˆ</p></li><li><input checked disabled type="checkbox"><p>ä¼˜åŒ–ç½‘ç«™åŠ è½½é€Ÿåº¦</p></li><li><input checked disabled type="checkbox"><p>æ•°å­¦å…¬å¼æ¸²æŸ“å’Œä»£ç é«˜äº®</p></li><li><input disabled type="checkbox"><p>å…¶ä»–æœç´¢å¼•æ“æ”¶å½•ä½ çš„ç«™ç‚¹</p></li><li><input disabled type="checkbox"><p>æ·»åŠ åŠ¨æ¼«äººç‰©</p></li><li><input disabled type="checkbox"><p>å¢åŠ emojiæ”¯æŒ</p></li><li><input disabled type="checkbox"><p>æ·»åŠ åšå®¢åŠ¨æ€æ ‡ç­¾</p></li><li><input disabled type="checkbox"><p>æ·»åŠ åšå®¢å¤©æ°”æ’ä»¶</p></li><li><input checked disabled type="checkbox"><p>GitHub&amp;coding pagesåŒéƒ¨ç½²</p></li><li><input checked disabled type="checkbox"><p>ä¿®å¤Valineè¯„è®ºçš„å¤´åƒä¸æ˜¾ç¤ºé—®é¢˜</p></li></ul><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h2 id="ä»£ç é«˜äº®"><a href="#ä»£ç é«˜äº®" class="headerlink" title="ä»£ç é«˜äº®"></a>ä»£ç é«˜äº®</h2><p>ç”±äº Hexo è‡ªå¸¦çš„ä»£ç é«˜äº®ä¸»é¢˜æ˜¾ç¤ºä¸å¥½çœ‹ï¼Œæ‰€ä»¥ä¸»é¢˜ä¸­ä½¿ç”¨åˆ°äº† <a href="https://github.com/ele828/hexo-prism-plugin" target="_blank" rel="noopener">hexo-prism-plugin</a> çš„ Hexo æ’ä»¶æ¥åšä»£ç é«˜äº®ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S hexo-prism-plugin</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œä¿®æ”¹ Hexo æ ¹ç›®å½•ä¸‹ <code>_config.yml</code> æ–‡ä»¶ä¸­ <code>highlight.enable</code> çš„å€¼ä¸º <code>false</code>ï¼Œå¹¶æ–°å¢ <code>prism</code> æ’ä»¶ç›¸å…³çš„é…ç½®ï¼Œä¸»è¦é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">prism_plugin:</span></span><br><span class="line">  <span class="attr">mode:</span> <span class="string">'preprocess'</span>    <span class="comment"># realtime/preprocess</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">'tomorrow'</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span>    <span class="comment"># default false</span></span><br><span class="line">  <span class="attr">custom_css:</span></span><br></pre></td></tr></table></figure><h1 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h1><h2 id="1ã€Cannot-set-property-39-lastIndex-39-of-undefined"><a href="#1ã€Cannot-set-property-39-lastIndex-39-of-undefined" class="headerlink" title="1ã€Cannot set property &#39;lastIndex&#39; of undefined"></a>1ã€<code>Cannot set property &#39;lastIndex&#39; of undefined</code></h2><p>è¿è¡Œ<code>hexo g</code>å‡ºç°Cannot set property â€˜lastIndexâ€™ of undefined</p><p>è§£å†³æ–¹æ³•ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶çš„ _config.ymlï¼Œæ³¨æ„ä¸æ˜¯ä¸»é¢˜é‡Œé¢çš„é…ç½®æ–‡ä»¶ï¼ŒæŠŠ <code>auto_detect</code> è®¾ç½®ä¸º<code>false</code> å³å¯ã€‚</p><h2 id="2ã€ä»£ç æ˜¾ç¤ºå¼‚å¸¸"><a href="#2ã€ä»£ç æ˜¾ç¤ºå¼‚å¸¸" class="headerlink" title="2ã€ä»£ç æ˜¾ç¤ºå¼‚å¸¸"></a>2ã€ä»£ç æ˜¾ç¤ºå¼‚å¸¸</h2><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E4%B9%8BMatery%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/image-20200307011749942.png" alt="image-20200307011749942"></p><p>è§£å†³æ–¹æ³•ï¼š</p><ul><li>é¦–å…ˆï¼Œä¿®æ”¹ Hexo æ ¹ç›®å½•ä¸‹ <code>_config.yml</code> æ–‡ä»¶ä¸­ <code>highlight.enable</code> çš„å€¼ä¸º <code>false</code>ã€‚</li></ul><p>ç„¶å<code>hexo clean</code>&amp; <code>hexo g</code>&amp; <code>hexo s</code></p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E4%B9%8BMatery%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/image-20200307012129958.png" alt="image-20200307012129958"></p><p>å¥½äº†ã€‚</p><p><strong>æ³¨</strong>ï¼šä½œè€…ç»™çš„è§£å†³æ–¹æ¡ˆæ¯”æˆ‘è¿™ä¸ªè¦å¤šä¸€æ­¥ï¼Œæˆ‘åœ¨è¿™é‡Œè´´å‡ºæ¥ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E4%B9%8BMatery%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/image-20200307012313539.png" alt="image-20200307012313539"></p><h2 id="3ã€ç›®å½•å®šä½å†…å®¹æœ‰åå·®"><a href="#3ã€ç›®å½•å®šä½å†…å®¹æœ‰åå·®" class="headerlink" title="3ã€ç›®å½•å®šä½å†…å®¹æœ‰åå·®"></a>3ã€ç›®å½•å®šä½å†…å®¹æœ‰åå·®</h2><p>æˆ‘åå¤çš„å»æµ‹è¯•ï¼Œåæ¥å‘ç°ï¼Œå¯èƒ½æœ‰ä¸¤ä¸ªåŸå› ä¼šå¯¼è‡´è¿™ä¸ªé—®é¢˜çš„å‡ºç°ï¼š</p><ol><li><p>ç½‘é¡µæ²¡æœ‰åˆ·æ–°å®Œå…¨çš„æ—¶å€™ï¼Œç‚¹å‡»ç›®å½•ä»–æœ‰å¯èƒ½ä¸ä¼šè·³è½¬ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><ul><li>æ³•ä¸€ï¼šç­‰å¾…ç½‘é¡µåˆ·æ–°å®Œå…¨ã€‚</li><li>æ³•äºŒï¼šæ‰‹åŠ¨çš„å»åœæ­¢ç½‘é¡µçš„åˆ·æ–°ï¼ˆè¿™ä¸ªæ¥çš„æ¯”è¾ƒå¿«ä¸€ç‚¹ï¼Œå“ˆå“ˆï¼‰</li></ul></li><li><p>ä½ çš„æ–‡ç« çš„æ ‡é¢˜æ ¼å¼æœ‰é—®é¢˜ï¼Œæ¯”å¦‚ï¼Œæˆ‘ç”¨Typoraè½¯ä»¶æ¥å†™æ–‡ç« ï¼Œè¿™ä¸ªè½¯ä»¶å°±æ˜¯æ‰€å†™å³æ‰€å¾—ã€‚ä½†æ˜¯è¿™æ ·ä½ å°±ä¸å®¹æ˜“å‘ç°æ ¼å¼ç»†èŠ‚å¤„çš„é”™è¯¯ã€‚</p><p><u>é”™è¯¯ç¤ºèŒƒ</u>ï¼š</p><p>æˆ‘å…ˆå†™äº†ä¸€ä¸ªä¸€çº§æ ‡é¢˜ï¼Œ<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E4%B9%8BMatery%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/image-20200308024217913.png" alt="image-20200308024217913"></p><p>ç„¶åï¼Œæˆ‘åˆç‚¹å‡»å¼•ç”¨ï¼Œå°±å˜æˆè¿™æ ·äº†ï¼š<img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E4%B9%8BMatery%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/image-20200308024438170.png" alt="image-20200308024438170">è¿™ç§å†™æ³•åœ¨Typoraä¸­ï¼Œæ˜¯ä¸ä¼šè®¤ä¸ºå®ƒæ˜¯ä¸€çº§æ ‡é¢˜çš„ã€‚</p><p>æˆ‘ä»¬æ‰“å¼€æºç æŸ¥çœ‹ä»–çš„æ ¼å¼ï¼š<code>&gt; # é…ç½®</code>ã€‚ä»–çš„æ ¼å¼æ˜¯è¿™æ ·çš„ã€‚å°±æ˜¯è¿™é‡Œ<u>å‡ºé”™äº†</u>ï¼Œåœ¨materyä¸»é¢˜ä¸­è¿™æ ·å†™å®ƒä»ç„¶ä¼šè¯†åˆ«æˆæ ‡é¢˜ï¼Œç„¶åå°±å¯¼è‡´ä»è¿™ä¸ªæ ‡é¢˜å¼€å§‹åé¢çš„æ ‡é¢˜ï¼Œåœ¨ä½ ç‚¹å‡»è¿™äº›æ ‡é¢˜çš„æ—¶å€™ï¼Œå®ƒä¼šå®šä½é”™è¯¯ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šæˆ‘ä»¬ä¸€å®šè¦éµå¾ªMarkdownæ ¼å¼çš„è¯­æ³•ï¼Œä¸€å®šè¦ï¼Œä¸€å®šè¦ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> materyä¸»é¢˜é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tsinghua_Online_Judge_ç»ƒä¹ </title>
      <link href="/archives/d4fa.html"/>
      <url>/archives/d4fa.html</url>
      
        <content type="html"><![CDATA[<h2 id="CG2017-PA1-1-Convex-Hull-å‡¸åŒ…"><a href="#CG2017-PA1-1-Convex-Hull-å‡¸åŒ…" class="headerlink" title="CG2017 PA1-1 Convex Hull (å‡¸åŒ…)"></a>CG2017 PA1-1 Convex Hull (å‡¸åŒ…)</h2><h3 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h3><hr><p>Description (æè¿°)</p><p>After learning Chapter 1, you must have mastered the convex hull very well. Yes, convex hull is at the kernel of computational geometry and serves as a fundamental geometric structure. Thatâ€™s why you are asked to implement such an algorithm as your first programming assignments.</p><p>Specifically, given a set of points in the plane, please construct the convex hull and output an encoded description of all the extreme points.</p><p>ç»è¿‡äº†ç¬¬ä¸€ç« çš„å­¦ä¹ ï¼Œæƒ³å¿…ä½ å¯¹äºå‡¸åŒ…çš„è®¤è¯†å·²ç»éå¸¸æ·±åˆ»ã€‚æ˜¯çš„ï¼Œå‡¸åŒ…æ˜¯è®¡ç®—å‡ ä½•çš„æ ¸å¿ƒé—®é¢˜ï¼Œä¹Ÿæ˜¯ä¸€ç§åŸºç¡€æ€§çš„å‡ ä½•ç»“æ„ã€‚å› æ­¤ä½ çš„ç¬¬ä¸€é¡¹ç¼–ç¨‹ä»»åŠ¡ï¼Œå°±æ˜¯æ¥å®ç°è¿™æ ·çš„ä¸€ä¸ªç®—æ³•ã€‚</p><p>å…·ä½“åœ°ï¼Œå¯¹äºå¹³é¢ä¸Šçš„ä»»æ„ä¸€ç»„ç‚¹ï¼Œè¯·æ„é€ å‡ºå¯¹åº”çš„å‡¸åŒ…ï¼Œå¹¶åœ¨ç»è¿‡ç¼–ç è½¬æ¢ä¹‹åè¾“å‡ºæ‰€æœ‰æç‚¹çš„ä¿¡æ¯ã€‚</p><p>Input (è¾“å…¥)</p><p>The first line is an integer <strong>n &gt; 0</strong>, i.e., the total number of input points.</p><p>The k-th of the following <strong>n</strong> lines gives the k-th point:</p><p>pk = (xk, yk), k = 1, 2, â€¦, n</p><p>Both xk and yk here are integers and they are delimited by a space.</p><p>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°é¦–è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°<strong>n &gt; 0</strong>ï¼Œå³è¾“å…¥ç‚¹çš„æ€»æ•°ã€‚</p><p>éšå<strong>n</strong>è¡Œä¸­çš„ç¬¬kè¡Œç»™å‡ºç¬¬kä¸ªç‚¹ï¼š</p><p>pk = (xk, yk), k = 1, 2, â€¦, n</p><p>è¿™é‡Œï¼Œxkä¸ykå‡ä¸ºæ•´æ•°ï¼Œä¸”äºŒè€…ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><p>Output (è¾“å‡º)</p><p>Let <strong>{ s1, s2, â€¦, sh }</strong> be the indices of all the extreme points, <strong>h â‰¤ n</strong>. Output the following integer as your solution:</p><p>( s1 * s2 * s3 * â€¦ * sh * h ) mod (n + 1)</p><p>è‹¥ <strong>{ s1, s2, â€¦, sh }</strong> ä¸ºæ‰€æœ‰æç‚¹çš„ç¼–å·, <strong>h â‰¤ n</strong>ï¼Œåˆ™ä½œä¸ºä½ çš„è§£ç­”ï¼Œè¯·è¾“å‡ºä»¥ä¸‹æ•´æ•°ï¼š</p><p>( s1 * s2 * s3 * â€¦ * sh * h ) mod (n + 1)</p><p>Sample Input (è¾“å…¥æ ·ä¾‹)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line"></span><br><span class="line">10</span><br><span class="line">7 9</span><br><span class="line">-8 -1</span><br><span class="line">-3 -1</span><br><span class="line">1 4</span><br><span class="line">-3 9</span><br><span class="line">6 -4</span><br><span class="line">7 5</span><br><span class="line">6 6</span><br><span class="line">-6 10</span><br><span class="line">0 8</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://dsa.cs.tsinghua.edu.cn/oj/attachment/9f51/9f516d08f38b1bbde0ab6aec6bfccb92211dc802.png" alt="img"></p><p>Sample Output (è¾“å‡ºæ ·ä¾‹)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line"></span><br><span class="line">7   &#x2F;&#x2F; ( 9 x 2 x 6 x 7 x 1 x 5 ) % (10 + 1)</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://dsa.cs.tsinghua.edu.cn/oj/attachment/cb9d/cb9dbfbef90751cc0bc372041f543118dc6c9f1a.png" alt="img"></p><p>Limitation (é™åˆ¶)</p><ul><li><p>3 â‰¤ <strong>n</strong> â‰¤ 10^5</p></li><li><p>Each coordinate of the points is an integer from (-10^5, 10^5). There are no duplicated points. Each point is selected uniformly randomly in (-10^5, 10^5) x (-10^5, 10^5).</p></li><li><p>All points on extreme edges are regarded as extreme points and hence should be included in your solution.</p></li><li><p>Time Limit: 2 sec</p></li><li><p>Space Limit: 512 MB</p></li><li><p>3 â‰¤ <strong>n</strong> â‰¤ 10^5</p></li><li><p>æ‰€æœ‰ç‚¹çš„åæ ‡å‡ä¸ºèŒƒå›´(-10^5, 10^5)å†…çš„æ•´æ•°ï¼Œä¸”æ²¡æœ‰é‡åˆç‚¹ã€‚æ¯ä¸ªç‚¹åœ¨(-10^5, 10^5) x (-10^5, 10^5)èŒƒå›´å†…å‡åŒ€éšæœºé€‰å–</p></li><li><p>æè¾¹ä¸Šçš„æ‰€æœ‰ç‚¹å‡è¢«è§†ä½œæç‚¹ï¼Œæ•…åœ¨è¾“å‡ºæ—¶äº¦ä¸å¾—é—æ¼</p></li><li><p>æ—¶é—´é™åˆ¶ï¼š2 sec</p></li><li><p>ç©ºé—´é™åˆ¶ï¼š512 MB</p></li></ul><p>Hint (æç¤º)</p><p>Use the CH algorithms presented in the lectures.</p><p>è¯¾ç¨‹ä¸­è®²è§£è¿‡çš„å‡¸åŒ…ç®—æ³•</p><h3 id="è§£ç­”ï¼šGraham-Scanç®—æ³•"><a href="#è§£ç­”ï¼šGraham-Scanç®—æ³•" class="headerlink" title="è§£ç­”ï¼šGraham Scanç®—æ³•"></a><a href="https://renjikai.com/cg2017-pa1-1-convex-hull/" target="_blank" rel="noopener">è§£ç­”ï¼šGraham Scanç®—æ³•</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> x, y, id;</span><br><span class="line">    <span class="built_in">point</span>() :x(<span class="number">0</span>), y(<span class="number">0</span>) &#123;&#125;</span><br><span class="line">    <span class="built_in">point</span>(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> y) :x(x), y(y) &#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> ==(<span class="keyword">const</span> <span class="built_in">point</span>&amp; p) <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x == p.x &amp;&amp; y == p.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;PP; <span class="comment">//PP: Polar Point</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">point</span>&gt; points;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">area2</span><span class="params">(<span class="built_in">point</span> p, <span class="built_in">point</span> q, <span class="built_in">point</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |p.x p.y 1|</span></span><br><span class="line"><span class="comment">    |q.x q.y 1| == 2*DirectedTriangleArea(p,q,s)</span></span><br><span class="line"><span class="comment">    |s.x s.y 1|</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">return</span> p.x * q.y - s.x * q.y</span><br><span class="line">        + q.x * s.y - q.x * p.y</span><br><span class="line">        + s.x * p.y - p.x * s.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">toLeftTest</span><span class="params">(<span class="built_in">point</span> p, <span class="built_in">point</span> q, <span class="built_in">point</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//When return value large than 0, S is on the left side of ray PQ</span></span><br><span class="line">    <span class="keyword">return</span> area2(p, q, s) &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">toLeftTest2</span><span class="params">(<span class="built_in">point</span> p, <span class="built_in">point</span> q, <span class="built_in">point</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//When return value large than 0, S is on the left side of ray PQ</span></span><br><span class="line">    <span class="keyword">return</span> area2(p, q, s) &gt;= <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">point</span>&amp; p1, <span class="keyword">const</span> <span class="built_in">point</span>&amp; p2)</span> </span>&#123; <span class="comment">// Sort according to polar angle</span></span><br><span class="line">    <span class="keyword">return</span> PP == p1 || !(PP == p2) &amp;&amp; toLeftTest(PP, p1, p2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="built_in">point</span> <span class="title">LTL</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">point</span>&gt;&amp; points)</span> </span>&#123; <span class="comment">//Lowest then leftmost</span></span><br><span class="line">    <span class="built_in">point</span> ltl = points[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; points.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (points[i].y &lt; ltl.y || points[i].y == ltl.y &amp;&amp; points[i].x &lt; ltl.x)</span><br><span class="line">            ltl = points[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ltl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="built_in">point</span>&gt; <span class="title">grahamScan</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    PP = LTL(points);</span><br><span class="line">    sort(points.<span class="built_in">begin</span>(), points.<span class="built_in">end</span>(), cmp);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">point</span>&gt; S, T;</span><br><span class="line">    S.push_back(points[<span class="number">0</span>]); S.push_back(points[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = points.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt; <span class="number">1</span>; i--)T.push_back(points[i]);</span><br><span class="line">    <span class="keyword">while</span> (!T.empty()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (toLeftTest2(S[S.<span class="built_in">size</span>() - <span class="number">2</span>], S[S.<span class="built_in">size</span>() - <span class="number">1</span>], T[T.<span class="built_in">size</span>() - <span class="number">1</span>])) &#123;</span><br><span class="line">            S.push_back(T[T.<span class="built_in">size</span>() - <span class="number">1</span>]);</span><br><span class="line">            T.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> S.pop_back();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> S;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">point</span> tmp;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; tmp.x &gt;&gt; tmp.y;</span><br><span class="line">        tmp.id = i;</span><br><span class="line">        points.push_back(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">point</span>&gt; result;</span><br><span class="line">    <span class="keyword">if</span> (points.<span class="built_in">size</span>() &gt; <span class="number">2</span>)result = grahamScan();</span><br><span class="line">    <span class="keyword">else</span> result = points;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; result[i].id &lt;&lt; endl;//debug</span></span><br><span class="line">        res = ((res % (n + <span class="number">1</span>)) * (result[i].id % (n + <span class="number">1</span>))) % (n + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    res = ((res % (n + <span class="number">1</span>)) * (result.<span class="built_in">size</span>() % (n + <span class="number">1</span>))) % (n + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ†æ•°ï¼š92.5<br>ä½¿ç”¨Graham Scanç®—æ³•ã€‚å‡¸åŒ…æ¿å­é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> OJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OJ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>32ã€é»‘å®¢&amp;æ”»å‡»</title>
      <link href="/archives/622.html"/>
      <url>/archives/622.html</url>
      
        <content type="html"><![CDATA[<p>é»‘å®¢å…¥ä¾µæœ€å¸¸è§çš„æ–¹å¼ä¸æ˜¯é€šè¿‡æŠ€æœ¯ï¼Œè€Œæ˜¯æ¬ºéª—åˆ«äººï¼Œè¿™ä¸ªç§°ä¸º<strong>ç¤¾ä¼šå·¥ç¨‹å­¦ï¼ˆSocial Engineeringï¼‰</strong>ï¼Œé€šè¿‡æ¬ºéª—åˆ«äººæ¥è®©äººæ³„éœ²ç§˜å¯†ï¼Œæˆ–è®©äººé…ç½®ç”µè„‘ç³»ç»Ÿæ¥å˜å¾—æ˜“äºæ”»å‡»ã€‚æœ€å¸¸è§çš„æ”»å‡»æ˜¯<strong>ç½‘ç»œé’“é±¼ï¼ˆPhishingï¼‰</strong>ï¼Œå…¶æ¬¡è¿˜æœ‰<strong>å‡æ‰˜ï¼ˆPretextingï¼‰</strong>ï¼Œæ”»å‡»è€…ç»™æŸä¸ªå…¬å¸æ‰“ç”µè¯ï¼Œå‡è£…æ˜¯ITéƒ¨é—¨çš„äººï¼Œæ”»å‡»è€…çš„ç¬¬ä¸€é€šç”µè¯ä¸€èˆ¬ä¼šå«äººè½¬æ¥ï¼Œè¿™æ ·å¦ä¸€ä¸ªæ¥çš„æ—¶å€™ï¼Œç”µè¯çœ‹èµ·æ¥å°±åƒå†…éƒ¨çš„ï¼Œç„¶åè®©åˆ«äººæŠŠç”µè„‘é…ç½®å¾—æ˜“äºå…¥ä¾µï¼Œæˆ–è€…è®©ä»–ä»¬æ³„éœ²æœºå¯†ä¿¡æ¯ï¼Œæ¯”å¦‚å¯†ç æˆ–ç½‘ç»œé…ç½®ã€‚</p><a id="more"></a><p>é‚®ä»¶é‡Œå¸¦<strong>æœ¨é©¬ï¼ˆtrojan horseï¼‰</strong>ä¹Ÿæ˜¯å¸¸è§æ‰‹æ®µï¼Œæœ¨é©¬é€šå¸¸ä¼šä¼ªè£…æˆæ— å®³çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ç…§ç‰‡æˆ–å‘ç¥¨ï¼Œä½†å®é™…ä¸Šæ˜¯æ¶æ„è½¯ä»¶ï¼Œæœ‰çš„ä¼šå·æ•°æ®ï¼Œæœ‰çš„ä¼šåŠ å¯†æ–‡ä»¶ã€‚</p><p>å¦‚æœæ”»å‡»è€…æ— æ³•ç”¨æœ¨é©¬æˆ–ç”µè¯æ¬ºéª—ï¼Œæ”»å‡»è€…åªèƒ½è¢«è¿«ä½¿ç”¨å…¶ä»–æ‰‹æ®µï¼Œæ–¹æ³•ä¹‹ä¸€å°±æ˜¯æš´åŠ›ç ´è§£ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„å¯†ç ï¼Œç›´åˆ°è¿›å…¥ç³»ç»Ÿï¼Œå¤§å¤šæ•°ç°ä»£ç³»ç»Ÿä¼šåŠ é•¿ç­‰å¾…æ—¶é—´æ¥æŠµå¾¡è¿™ç§æ”»å‡»ï¼Œæ¯æ¬¡å¤±è´¥å°±åŠ é•¿ç­‰å¾…æ—¶é—´ï¼Œç”šè‡³è¶…è¿‡ä¸€å®šæ¬¡æ•°åï¼Œå®Œå…¨å°é”ã€‚ç°åœ¨å‡ºç°äº†ä¸€ç§æ”»ç ´æ–¹æ³•ç§°ä¸º<strong>NANDé•œåƒ</strong>ï¼Œå¦‚æœèƒ½ç‰©ç†æ¥è§¦åˆ°ç”µè„‘ï¼Œå¯ä»¥å¾€å†…å­˜ä¸Šæ¥å‡ æ ¹çº¿ï¼Œå¤åˆ¶æ•´ä¸ªå†…å­˜ï¼Œç„¶åæš´åŠ›å°è¯•å¯†ç ï¼Œç›´åˆ°è®¾å¤‡è®©ä½ ç­‰å¾…ã€‚è¿™æ—¶åªè¦æŠŠå¤åˆ¶çš„å†…å®¹è¦†ç›–æ‰å†…å­˜ï¼Œæœ¬è´¨ä¸Šé‡ç½®äº†å†…å­˜ï¼Œå°±ä¸ç”¨ç­‰å¾…ï¼Œå¯ä»¥ç»§ç»­å°è¯•å¯†ç ã€‚</p><p>å¦‚æœæ— æ³•ç‰©ç†æ¥è§¦åˆ°è®¾å¤‡ï¼Œå°±éœ€è¦è¿œç¨‹æ”»å‡»ï¼Œæ¯”å¦‚é€šè¿‡äº’è”ç½‘ï¼Œè¿™ä¸€èˆ¬éœ€è¦æ”»å‡»è€…åˆ©ç”¨ç³»ç»Ÿæ¼æ´ï¼Œæ¥è·å¾—æŸäº›èƒ½åŠ›æˆ–è®¿é—®æƒé™ï¼Œç§°ä¸º<strong>æ¼æ´åˆ©ç”¨ï¼ˆExploitï¼‰</strong>ã€‚ä¸€ç§å¸¸è§çš„æ¼æ´åˆ©ç”¨å«<strong>ç¼“å†²åŒºæº¢å‡ºï¼ˆBuffer Overflowï¼‰</strong>ï¼Œè¿™é‡Œçš„ç¼“å†²åŒºæ˜¯æŒ‡é¢„ç•™çš„ä¸€å—å†…å­˜ç©ºé—´ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ç³»ç»Ÿç™»å½•ç•Œé¢è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œè€Œç³»ç»Ÿæ˜¯ç”¨ç¼“å†²åŒºæ¥å­˜å‚¨è¾“å…¥å€¼çš„ï¼Œå‡è®¾ç¼“å†²åŒºå¤§å°ä¸º10ï¼Œå¹¶ä¸”ç¼“å†²åŒºå‰åè‚¯å®šè¿˜æœ‰å…¶ä»–æ•°æ®ï¼Œå½“ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ—¶ï¼Œè¿™äº›å€¼å°±ä¼šè¢«å¤åˆ¶åˆ°ç¼“å†²åŒºä¸­æ¥è¿›è¡ŒéªŒè¯ï¼Œè€Œè¯¥æ–¹æ³•ä¼šæº¢å‡ºç¼“å†²åŒºï¼Œæ¯”å¦‚è¾“å…¥è¶…è¿‡10ä¸ªå­—ç¬¦çš„å¯†ç ï¼Œä¼šè¦†ç›–æ‰ç›¸é‚»çš„æ•°æ®ï¼Œæœ‰æ—¶ä¼šè®©ç¨‹åºæˆ–ç³»ç»Ÿå´©æºƒï¼Œå› ä¸ºé‡è¦å€¼è¢«åƒåœ¾æ•°æ®è¦†ç›–æ‰äº†ã€‚è¿™é‡Œåªæ˜¯è®©ç³»ç»Ÿå´©æºƒï¼Œä½†æ˜¯æ”»å‡»è€…å¯ä»¥è¾“å…¥æœ‰æ„ä¹‰çš„æ–°å€¼åˆ°ç¨‹åºçš„å†…å­˜ä¸­ï¼Œæ¯”å¦‚æŠŠ<code>is_admin</code>æ ‡å¿—ä½çš„å€¼æ”¹ä¸ºtrueï¼Œæœ‰äº†ä»»æ„ä¿®æ”¹å†…å­˜çš„èƒ½åŠ›ï¼Œé»‘å®¢å°±å¯ä»¥ç»•è¿‡ç™»å½•è¿™ç±»ä¸œè¥¿ï¼Œç”šè‡³ä½¿ç”¨é‚£ä¸ªç¨‹åºåŠ«æŒæ•´ä¸ªç³»ç»Ÿã€‚</p><p>æœ‰è®¸å¤šæ–¹æ³•é˜»æ­¢ç¼“å†²åŒºæº¢å‡ºï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å¤åˆ¶åˆ°å†…å­˜ä¹‹å‰å…ˆæ£€æŸ¥é•¿åº¦ï¼Œç§°ä¸º<strong>è¾¹ç•Œæ£€æŸ¥ï¼ˆBounds checking</strong>ï¼‰ï¼Œè®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€éƒ½è‡ªå¸¦è¾¹ç•Œæ£€æŸ¥ï¼Œç¨‹åºä¹Ÿä¼šéšæœºå­˜æ”¾å˜é‡åœ¨å†…å­˜ä¸­çš„ä½ç½®ï¼Œè¿™æ ·é»‘å®¢å°±ä¸çŸ¥é“åº”è¯¥è¦†ç›–å†…å­˜çš„å“ªéƒ¨åˆ†ï¼Œä½¿å¾—æ›´å®¹æ˜“è®©ç¨‹åºå´©æºƒï¼Œè€Œä¸æ˜¯è·å¾—è®¿é—®æƒé™ã€‚ç¨‹åºä¹Ÿå¯ä»¥åœ¨ç¼“å†²åŒºåï¼Œé¢„ç•™ä¸€äº›ä¸ç”¨çš„ç©ºé—´ï¼Œç„¶åè·Ÿè¸ªé‡Œé¢çš„å€¼ï¼Œçœ‹æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œæ¥åˆ¤æ–­æ˜¯å¦æœ‰æ”»å‡»ï¼Œè¿™äº›ä¸ç”¨çš„å†…å­˜ç©ºé—´ç§°ä¸º<strong>é‡‘ä¸é›€ï¼ˆCanariesï¼‰</strong>ã€‚</p><p>å¦ä¸€ç§ç»å…¸æ‰‹æ®µæ˜¯<strong>ä»£ç æ³¨å…¥ï¼ˆCode Injectionï¼‰</strong>ï¼Œæœ€å¸¸ç”¨äºæ”»å‡»ç”¨æ•°æ®åº“çš„ç½‘ç«™ã€‚å‡è®¾ç½‘é¡µä¸Šæœ‰ç™»å½•æç¤ºï¼Œå½“ç”¨æˆ·ç‚¹å‡»â€œç™»å½•â€ï¼Œè¾“å…¥æ–‡æœ¬å°±ä¼šå‘é€æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿è¡Œä»£ç ï¼Œæ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±çœ‹å¯†ç æ˜¯å¦åŒ¹é…ã€‚ä¸ºæ­¤æœåŠ¡å™¨ä¼šæ‰§è¡Œä¸€æ®µsqlæŸ¥è¯¢ä»£ç ï¼Œæ¯”å¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">password</span> <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> username=<span class="string">'___'</span>;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¯­å¥å°±æ˜¯è¦ä»<code>users</code>è¡¨ä¸­æŸ¥æ‰¾<code>username</code>ä¸º<code>___</code>çš„å¯†ç <code>password</code>ã€‚ è¿™é‡Œçš„<code>___</code>å°±æ˜¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åã€‚ç”±æ­¤æ”»å‡»è€…å°±èƒ½æŠŠsqlå‘½ä»¤è¾“å…¥åˆ°ç”¨æˆ·åä¸­ï¼Œæ¯”å¦‚<code>whatever&#39;;DROP TABLE users;&#39;</code>ï¼Œè¿™æ—¶ä¸Šé¢çš„æŸ¥è¯¢è¯­å¥å°±ä¼šå˜æˆ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">password</span> <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> username=<span class="string">'whatever'</span>;<span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">users</span>;';</span><br></pre></td></tr></table></figure><p>å¦‚æœæœåŠ¡å™¨å­˜åœ¨ç”¨æˆ·å<code>wharever</code>ï¼Œæ•°æ®åº“å°±ä¼šè¿”å›å¯†ç ï¼Œ å½“ç„¶æˆ‘ä»¬æ— æ³•å¾—çŸ¥å¯†ç æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥æœåŠ¡å™¨ä¼šæ‹’ç»æˆ‘ä»¬ï¼›å¦‚æœä¸å­˜åœ¨ç”¨æˆ·å<code>wharever</code>ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ç©ºå¯†ç æˆ–è€…ç›´æ¥é”™è¯¯ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šæ‹’ç»æˆ‘ä»¬ã€‚ ä½†æ˜¯æˆ‘ä»¬å…³å¿ƒçš„æ˜¯åé¢çš„ä»£ç <code>DROP TABLE users;</code><strong>è¿™ä¸ªæ˜¯æˆ‘ä»¬æ³¨å…¥çš„å‘½ä»¤</strong>ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯åˆ æ‰usersè¿™å¼ è¡¨ã€‚å¦‚ä»Šå‡ ä¹æ‰€æœ‰æœåŠ¡å™¨éƒ½ä¼šé˜²å¾¡è¿™ç§æ‰‹æ®µã€‚</p><p>ç¨‹åºå‘˜éœ€è¦è®¤è¯†åˆ°ä»å¤–ç•Œè¾“å…¥çš„ä¿¡æ¯éƒ½æ˜¯å±é™©çš„ï¼Œå¿…é¡»è¦å¥½å¥½æ£€æŸ¥ï¼Œå¾ˆå¤šç”¨æˆ·åå’Œå¯†ç è¡¨å•ï¼Œä¸ä¼šè®©ä½ ç›´æ¥è¾“å…¥ç‰¹æ®Šç¬¦å·ï¼Œæ¯”å¦‚åˆ†å·æˆ–æ‹¬å·ï¼Œæ¥ä½œä¸ºç¬¬ä¸€é“é˜²å¾¡ã€‚å¥½çš„æœåŠ¡å™¨ä¹Ÿä¼šæ¸…ç†è¾“å…¥ï¼Œæ¯”å¦‚ä¿®æ”¹æˆ–åˆ é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œç„¶åæ‰æ”¾åˆ°æ•°æ®åº“æŸ¥è¯¢è¯­å¥ä¸­ã€‚</p><p>å½“è½¯ä»¶åˆ¶é€ è€…ä¸çŸ¥é“çš„æ–°æ¼æ´è¢«å‘ç°æ—¶ï¼Œç§°ä¸º<strong>0dayæ¼æ´ï¼ˆZero Day Vulnerabilityï¼‰</strong>ï¼Œé»‘å®¢å°±ä¼šæŠ¢åœ¨ç™½å¸½ç¨‹åºå‘˜åšå‡ºè¡¥ä¸ä¹‹å‰å°½å¯èƒ½åˆ©ç”¨æ¼æ´ã€‚</p><p>å¦‚æœæœ‰è¶³å¤Ÿå¤šçš„ç”µè„‘æœ‰æ¼æ´ï¼Œè®©æ¶æ„ç¨‹åºå¯ä»¥è‡ªåŠ¨åœ°åœ¨ç”µè„‘ä¹‹é—´äº’ç›¸ä¼ æ’­ï¼Œç§°ä¸º<strong>è •è™«ï¼ˆWormï¼‰</strong>ã€‚å¦‚æœé»‘å®¢æ‹¿ä¸‹å¤§é‡ç”µè„‘ï¼Œè¿™äº›ç”µè„‘å¯ä»¥ç»„æˆ<strong>åƒµå°¸ç½‘ç»œï¼ˆBotnetï¼‰</strong>ï¼Œå¯ä»¥ç”¨äºå¾ˆå¤šç›®çš„ï¼Œæ¯”å¦‚å‘å¤§é‡åƒåœ¾é‚®ä»¶ç­‰ï¼Œç”¨åˆ«äººç”µè„‘çš„è®¡ç®—èƒ½åŠ›æ¥æŒ–æ¯”ç‰¹å¸ï¼Œæˆ–å‘èµ·DDOSæ¥æ”»å‡»æœåŠ¡å™¨ã€‚DDOSå°±æ˜¯åƒµå°¸ç½‘ç»œé‡Œçš„æ‰€æœ‰ç”µè„‘å‘ä¸€å¤§å †åƒåœ¾ä¿¡æ¯åˆ°æœåŠ¡å™¨ä¸Šï¼Œé€ æˆæœåŠ¡å™¨çš„é˜»å¡ã€‚</p><center>å®Œ~~~</center>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ã€Šè®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ã€‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo åšå®¢æ¡†æ¶æ­å»º</title>
      <link href="/archives/7f7e.html"/>
      <url>/archives/7f7e.html</url>
      
        <content type="html"><![CDATA[<center>æ­å»ºè¿™ä¸ªåšå®¢èµ·å› æ˜¯2020å¹´çš„äºŒæœˆæœ«çš„æŸä¸€å¤©æ™šä¸Šï¼Œæ— èŠé€›Bç«™ï¼Œç„¶åå°±çœ‹åˆ°äº†ä¸€ä¸ªåšå®¢æ­å»ºæ•™ç¨‹ï¼Œéšæœºå°±æœ‰äº†è¿™ä¸€ç³»åˆ—çš„æ–‡ç« äº†ã€‚</center><a id="more"></a><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æˆ‘çš„æ˜¯åœ¨windowsæ“ä½œç³»ç»Ÿä¸Šé¢ï¼Œåœ¨å…¶ä»–çš„ç³»ç»Ÿä¸Šé¢å¤§åŒå°å¼‚ã€‚ä¹Ÿå‚è€ƒäº†å¾ˆå¤šæ–‡ç« åŠè§†é¢‘æ•™ç¨‹ã€‚ä¸»è¦å‚è€ƒçš„æ˜¯ï¼š</p><p><a href="https://www.codesheep.cn" target="_blank" rel="noopener"><strong>ç¨‹åºç¾Š</strong></a>çš„è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/av44544186?from=search&amp;seid=12981624311298276946" target="_blank" rel="noopener">https://www.bilibili.com/video/av44544186?from=search&amp;seid=12981624311298276946</a></p><p>æ–‡ç« ï¼š</p><ul><li><p><a href="https://ouwen666.gitee.io/2020/01/29/Hexo+Giteeæ­å»ºä¸ªäººåšå®¢" target="_blank" rel="noopener">https://ouwen666.gitee.io/2020/01/29/Hexo+Giteeæ­å»ºä¸ªäººåšå®¢</a></p><p>ä½œè€…éƒ¨ç½²çš„æ˜¯gitee</p></li><li><p><a href="https://godweiyang.com/2018/04/13/hexo-blog/#toc-heading-6" target="_blank" rel="noopener">https://godweiyang.com/2018/04/13/hexo-blog/#toc-heading-6</a></p><p>å«æœ‰ä¸ªæ€§åŒ–é…ç½®</p></li></ul><p><strong>æ³¨</strong>ï¼šæ–‡ä¸­çš„æŒ‡ä»¤éƒ½æ˜¯åœ¨<code>cmd</code>ï¼ˆWindowsä¸­çš„å‘½ä»¤æç¤ºç¬¦ï¼‰ä¸­å®Œæˆçš„ã€‚å¦‚æœåœ¨è¿™ä¹‹å‰ç”µè„‘ä¸Šå°±å·²ç»å®‰è£…äº†<code>Git bash</code>ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥åœ¨<code>Git bash</code>ä¸­è¿è¡ŒæŒ‡ä»¤ã€‚</p><h2 id="ä¸‹é¢ä¼šç”¨å¾—åˆ°çš„å‘½ä»¤"><a href="#ä¸‹é¢ä¼šç”¨å¾—åˆ°çš„å‘½ä»¤" class="headerlink" title="ä¸‹é¢ä¼šç”¨å¾—åˆ°çš„å‘½ä»¤"></a>ä¸‹é¢ä¼šç”¨å¾—åˆ°çš„å‘½ä»¤</h2><ul><li><p><code>npm install</code>=<code>npm i</code>ã€‚åœ¨git cloneé¡¹ç›®çš„æ—¶å€™ï¼Œé¡¹ç›®æ–‡ä»¶ä¸­å¹¶æ²¡æœ‰ node_modulesæ–‡ä»¶å¤¹ï¼Œé¡¹ç›®çš„ä¾èµ–æ–‡ä»¶å¯èƒ½å¾ˆå¤§ã€‚ç›´æ¥æ‰§è¡Œï¼Œnpmä¼šæ ¹æ®package.jsoné…ç½®æ–‡ä»¶ä¸­çš„ä¾èµ–é…ç½®ä¸‹è½½å®‰è£…ã€‚</p></li><li><p><code>-global</code>=<code>-g</code>ï¼Œå…¨å±€å®‰è£…ï¼Œå®‰è£…åçš„åŒ…ä½äºç³»ç»Ÿé¢„è®¾ç›®å½•ä¸‹</p></li><li><p><code>--save</code>=<code>-S</code>ï¼Œå®‰è£…çš„åŒ…å°†å†™å…¥package.jsoné‡Œé¢çš„dependenciesï¼Œdependenciesï¼šç”Ÿäº§ç¯å¢ƒéœ€è¦ä¾èµ–çš„åº“</p></li></ul><h1 id="å¼€å§‹é…ç½®"><a href="#å¼€å§‹é…ç½®" class="headerlink" title="å¼€å§‹é…ç½®"></a>å¼€å§‹é…ç½®</h1><h2 id="å®‰è£…Node-js"><a href="#å®‰è£…Node-js" class="headerlink" title="å®‰è£…Node.js"></a>å®‰è£…Node.js</h2><p>åšå®¢æ¡†æ¶<code>Hexo</code>æ˜¯åŸºäº<code>Node.js</code>åˆ¶ä½œçš„é™æ€åšå®¢ï¼Œæˆ‘ä»¬å¾…ä¼šè¦ç”¨åˆ°Node.jsé‡Œé¢çš„<a href="https://www.npmjs.cn/" target="_blank" rel="noopener">npm</a>(node package manager)åŒ…ç®¡ç†å™¨æ¥å®‰è£…æ’ä»¶ã€‚</p><p>å¯ä»¥ç‚¹å‡»<a href="https://nodejs.org/en/" target="_blank" rel="noopener">è¿™é‡Œ</a>è¿›å…¥å…¶å®˜ç½‘ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301192702158.png" alt="image-20200301192702158"></p><p>è¿›å…¥ä¹‹åï¼ŒæŒ‰ç…§æ“ä½œç³»ç»Ÿè¿›è¡Œä¸‹è½½å®‰è£…ã€‚å¦‚ä¸Šå›¾æ˜¯Windowsç³»ç»Ÿ64ä½çš„ç‰ˆæœ¬ï¼Œä¸Šé¢å®˜æ–¹æ¨èä¸‹è½½çš„ç‰ˆæœ¬ã€‚</p><p>å®‰è£…é€‰é¡¹å°±æŒ‰é»˜è®¤çš„ï¼Œä¸€ç›´ç‚¹å‡»<code>Next</code>ã€‚</p><p>ç„¶åï¼Œæ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸï¼šç”¨<code>Win+R</code>å‘½ä»¤æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>node -v</code> å’Œ<code>npm -v</code> ï¼Œå‡ºç°ç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p><h3 id="æ·»åŠ cnpm"><a href="#æ·»åŠ cnpm" class="headerlink" title="æ·»åŠ cnpm"></a>æ·»åŠ cnpm</h3><p><strong>æ³¨</strong>ï¼šå› ä¸ºnpmå®‰è£…æ’ä»¶æ˜¯ä»å›½å¤–æœåŠ¡å™¨ä¸‹è½½ï¼Œå—ç½‘ç»œå½±å“å¤§ï¼Œå¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œå¦‚æœnpmçš„æœåŠ¡å™¨åœ¨ä¸­å›½å°±å¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹äºåˆ†äº«çš„æ·˜å®å›¢é˜Ÿå¹²äº†è¿™äº‹ã€‚æ¥è‡ªå®˜ç½‘ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´ npmjs.org é•œåƒï¼Œä½ å¯ä»¥ç”¨æ­¤ä»£æ›¿å®˜æ–¹ç‰ˆæœ¬(åªè¯»)ï¼ŒåŒæ­¥é¢‘ç‡ç›®å‰ä¸º 10åˆ†é’Ÿ ä¸€æ¬¡ä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥ã€‚â€</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>npm</code>å®‰è£…<code>cnpm</code>ï¼Œå†<code>cmd</code>ä¸­è¾“å…¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cnpm -g â€“registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>å†è¾“å…¥ï¼š<code>cnpm -v</code>æ¥æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><p>æ­¤æ—¶ï¼Œå‡è®¾æˆ‘ä»¬<code>Node.js</code>å®‰è£…æˆåŠŸã€‚</p><h2 id="å®‰è£…Hexoæ¡†æ¶"><a href="#å®‰è£…Hexoæ¡†æ¶" class="headerlink" title="å®‰è£…Hexoæ¡†æ¶"></a>å®‰è£…Hexoæ¡†æ¶</h2><p>æˆ‘ä»¬è¦åˆ©ç”¨<code>Hexo</code>æ¡†æ¶æ¨¡å‹æ¥æ­å»ºæˆ‘ä»¬çš„åšå®¢ã€‚ç‚¹å‡»<a href="https://hexo.io/" target="_blank" rel="noopener">è¿™é‡Œ</a>å¯ä»¥è¿›å…¥å…¶å®˜ç½‘ã€‚ä¸‹è½½è¯¥æ¡†æ¶ä¹Ÿä»ç„¶æ˜¯åœ¨<code>cmd</code>ï¼ˆWindowsä¸­çš„â€œå‘½ä»¤æç¤ºç¬¦â€ï¼‰ä¸­è¾“å…¥æŒ‡ä»¤å®Œæˆçš„ã€‚</p><ol><li><p>åœ¨ä¸Šä¸€æ­¥æˆ‘ä»¬å®‰è£…äº†<code>cnpm</code>ï¼Œç°åœ¨æˆ‘ä»¬è¦ç”¨å®ƒæ¥å®‰è£…<code>hexo</code>ï¼Œç”¨<code>cnpm</code>å®‰è£…çš„é€Ÿåº¦æ›´å¿«ä¸€äº›ï¼Œä¹Ÿå¯ä»¥ç”¨<code>npm</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸï¼Œå½“è¿è¡Œä¹‹åå‡ºç°ç‰ˆæœ¬å·åˆ™å®‰è£…æˆåŠŸï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„<code>Hexo</code>æ¡†æ¶å·²ç»å®‰è£…æˆåŠŸäº†ã€‚</p></li></ol><h3 id="åˆå§‹åŒ–Hexo"><a href="#åˆå§‹åŒ–Hexo" class="headerlink" title="åˆå§‹åŒ–Hexo"></a>åˆå§‹åŒ–Hexo</h3><p>æƒ³è¦çœ‹åˆ°åšå®¢è¿è¡Œèµ·æ¥ï¼Œæˆ‘ä»¬ç°åœ¨è¿˜éœ€è¦å¯¹<code>Hexo</code>æ¡†æ¶è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>åœ¨ä½ çš„ç”µè„‘ä¸Šæ‰¾ä¸€ä¸ªåˆé€‚çš„ä½ç½®ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåå­—å¯ä»¥éšä¾¿å–ï¼Œå¯ä»¥ç”¨Blogç­‰ç­‰çš„åå­—ï¼Œéšä¸ªäººå–œå¥½å–åã€‚ä¸ºäº†ä¾¿äºæ¼”ç¤ºï¼Œå‡è®¾ä½ å–çš„åå­—å«åšï¼š<code>blog</code></p><p>æ³¨æ„ï¼Œåˆå§‹åŒ–æ˜¯åœ¨æˆ‘ä»¬åˆ›å»ºçš„è¿™ä¸ª<code>blog</code>æ–‡ä»¶å¤¹ä¸­åˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬çš„å‘½ä»¤æç¤ºç¬¦ï¼ˆcmdï¼‰å·¦è¾¹çš„è·¯å¾„è¦åœ¨è¿™ä¸ª<code>blog</code>æ–‡ä»¶å¤¹ä¸­ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301215807657.png" alt="image-20200301215807657"></p><center>è¿›å…¥åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­</center>ç„¶åï¼Œåœ¨è¾“å…¥æŒ‡ä»¤ ï¼š<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–å®Œæˆåï¼Œæˆ‘ä»¬çš„<code>blog</code>æ–‡ä»¶å¤¹ä¸­ï¼Œå°±ä¼šç”Ÿæˆè¿™äº›æ–‡ä»¶ï¼š</p><ul><li>node_modules: ä¾èµ–åŒ…</li><li>publicï¼šå­˜æ”¾ç”Ÿæˆçš„é¡µé¢</li><li>scaffoldsï¼šç”Ÿæˆæ–‡ç« çš„ä¸€äº›æ¨¡æ¿</li><li>sourceï¼šç”¨æ¥å­˜æ”¾ä½ çš„æ–‡ç« </li><li>themesï¼šä¸»é¢˜</li><li>_config.yml: åšå®¢çš„é…ç½®æ–‡ä»¶</li></ul><p>åœ¨å®‰è£…ä¸€äº›å¿…è¦çš„åŒ…ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–å®Œæˆï¼Œåœ¨æ‰“å¼€<code>hexo</code>æœåŠ¡å™¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼šlocalhost:4000ï¼Œå°±å¯ä»¥çœ‹åˆ°ä½ çš„åšå®¢çš„é›å½¢å·²ç»å¥½äº†ã€‚</p><h3 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h3><p>åŠ å…¥ä½ è§‰å¾—è¿™ä¸ªä¸»é¢˜ä½ ä¸å–œæ¬¢ï¼Œæƒ³è¦æ‰¾ä¸€ä¸ªå…¶ä»–çš„ä¸»é¢˜ï¼Œä½ å¯ä»¥è¿›å…¥Hexoçš„å®˜ç½‘çš„<a href="https://hexo.io/themes/" target="_blank" rel="noopener">ä¸»é¢˜</a>æ¿å—ï¼Œæ¥é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301221159332.png" alt="image-20200301221159332"></p><p>å‡å¦‚ï¼Œä½ æƒ³æ›´æ¢ä¸º<code>3-hexo</code>ï¼Œé‚£å°±ç‚¹å‡»å®ƒï¼Œä¼šè·³è½¬åˆ°è¯¥ä¸»é¢˜çš„åˆ›ä½œè€…çš„GitHubä¸Šï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301221422653.png" alt="image-20200301221422653"></p><p>å®‰è£…<code>3-hexo</code>ä¸»é¢˜ï¼Œå…¶ä¸­å‘½ä»¤çš„<code>themes/3-hexo</code>æŒ‡çš„æ˜¯è¯¥ä¸»é¢˜çš„å®‰è£…ä½ç½®ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/yelog/hexo-theme-3-hexo.git themes/3-hexo</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œä¹‹åï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean          # æ¸…é™¤æ‰€æœ‰è®°å½• </span><br><span class="line">$ hexo generate       # ç”Ÿæˆé™æ€ç½‘é¡µ ç®€å†™ï¼šhexo g</span><br><span class="line">$ hexo server         # å¯åŠ¨æœåŠ¡ ç®€å†™ï¼šhexo s</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬å°±èƒ½åœ¨æœ¬åœ°localhost:4000ä¸­ï¼ŒæŸ¥çœ‹ä¿®æ”¹å¥½çš„ä¸»é¢˜äº†ã€‚</p><h2 id="å®‰è£…Git"><a href="#å®‰è£…Git" class="headerlink" title="å®‰è£…Git"></a>å®‰è£…Git</h2><p>å¦‚æœä½ ä¸æƒ³åªåœ¨æœ¬åœ°ä¸ŠæŸ¥çœ‹ä½ çš„åšå®¢ï¼Œä¹Ÿæƒ³æœ‰è‡ªå·±çš„åšå®¢ç½‘å€é“¾æ¥ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä¸‹è½½Gitï¼ŒæŠŠåšå®¢å†…å®¹éƒ¨ç½²åˆ°<code>GitHub</code>æˆ–è€…<code>gitee</code>ä¸Šé¢ã€‚æˆ‘ä»¬è¿™é‡Œä»¥GitHubä¸ºä¾‹ã€‚</p><p>Gitçš„å®˜ç½‘ç‚¹å‡»<a href="https://git-scm.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚ç„¶åæŒ‰ç…§ä½ çš„ç”µè„‘çš„æ“ä½œç³»ç»Ÿä¸‹è½½ç›¸åº”çš„ç‰ˆæœ¬ã€‚å®‰è£…é€‰é¡¹è¿˜æ˜¯å…¨éƒ¨é»˜è®¤ï¼Œåªä¸è¿‡æœ€åä¸€æ­¥æ·»åŠ è·¯å¾„æ—¶é€‰æ‹©<code>Use Git from the Windows Command Prompt</code>ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤æç¤ºç¬¦é‡Œæ‰“å¼€gitäº†ã€‚</p><p>å®‰è£…å®Œæˆååœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥<code>git --version</code>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><h3 id="GitHubè´¦å·"><a href="#GitHubè´¦å·" class="headerlink" title="GitHubè´¦å·"></a>GitHubè´¦å·</h3><p>å¦‚æœä½ æ²¡æœ‰GitHubè´¦å·ï¼Œæˆ‘ä»¬ç°åœ¨å»åˆ›å»ºä¸€ä¸ªå§ã€‚ç‚¹å‡»<a href="https://github.com/" target="_blank" rel="noopener">è¿™é‡Œ</a>åˆ›å»ºã€‚åˆ›å»ºå®Œæˆä¹‹åï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªgithubä»“åº“ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301223129140.png" alt="image-20200301223129140"></p><p>æ³¨æ„ä½ çš„ä»“åº“åå­—ä¸è¦éšä¾¿èµ·ï¼Œå¾…ä¼šæˆ‘ä»¬è¦ç”¨åˆ°ã€‚åŠ å…¥ä½ GitHubåå­—å«â€œAAAâ€ï¼Œé‚£ä¹ˆä»“åº“ä¸ªåå­—å°±ä¸€å®šæ˜¯ï¼š<code>AAA.github.io</code>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301223729456.png" alt="image-20200301223729456"></p><h1 id="éƒ¨ç½²åšå®¢"><a href="#éƒ¨ç½²åšå®¢" class="headerlink" title="éƒ¨ç½²åšå®¢"></a>éƒ¨ç½²åšå®¢</h1><h2 id="å°†åšå®¢éƒ¨ç½²åœ¨githubä¸­"><a href="#å°†åšå®¢éƒ¨ç½²åœ¨githubä¸­" class="headerlink" title="å°†åšå®¢éƒ¨ç½²åœ¨githubä¸­"></a>å°†åšå®¢éƒ¨ç½²åœ¨githubä¸­</h2><p>ç›®å‰ï¼Œè¿˜ä¸èƒ½éƒ¨ç½²åˆ°GitHubä¸Šã€‚è¿˜éœ€è¦ä¸‹è½½<code>hexo-deployer-git</code>æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-deployer-git --save  <span class="comment">#é€šè¿‡cpnmå®‰è£…gitæ’ä»¶</span></span><br></pre></td></tr></table></figure><p>å¦‚æœï¼Œä½ æ˜¯åˆšåˆšæ‰ä¸‹è½½çš„Gitï¼Œåˆ™è¿˜éœ€è¦è®¾ç½®ä½ çš„å§“åå’Œé‚®ç®±ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"Firstname Lastname"</span> // åå­—ä½¿ç”¨è‹±æ–‡è¾“å…¥</span><br><span class="line">git config --global user.email <span class="string">"your_email@example.com"</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä½ çš„SSH Keyï¼Œåˆ›å»ºå…¬å¼€å¯†é’¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure><p>â€‹ æŠŠç”Ÿæˆçš„å¯†é’¥æ·»åŠ åˆ°GitHubä¸­å»ï¼š</p><ol><li>æ‰¾åˆ°ç”Ÿæˆçš„å¯†é’¥ï¼šå¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ°<code>.ssh</code>ç›®å½•ï¼Œæˆ‘çš„åœ¨ï¼š<code>C:\Users\xxxx\.ssh</code>ï¼ˆxxxxæ˜¯æˆ‘çš„ä¸€ä¸ªç›®å½•ï¼‰ã€‚é‡Œé¢æœ‰<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯SSH Keyçš„ç§˜é’¥å¯¹ï¼Œ<code>id_rsa</code>æ˜¯<strong>ç§é’¥</strong>ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œ<code>id_rsa.pub</code>æ˜¯<strong>å…¬é’¥</strong>ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</li><li>åœ¨å¤´åƒä¸‹é¢ç‚¹å‡»<code>settings</code>ï¼Œå†ç‚¹å‡»<code>SSH and GPG keys</code>ï¼Œæ–°å»ºä¸€ä¸ªSSHï¼Œåå­—éšä¾¿ï¼ŒæŠŠå…¬é’¥å¤åˆ¶è¿›å»ã€‚</li></ol><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„gitä¸è¿œç¨‹çš„GitHubå·²ç»å»ºç«‹èµ·å…³ç³»äº†ã€‚</p><p>æˆ‘ä»¬è¿˜éœ€è¦æŠŠ<code>blog</code>æ–‡ä»¶å¤¹ä¸­çš„è®¾ç½®æ–‡ä»¶ï¼Œå³ï¼š<code>_config.yml</code>ï¼Œå°†æœ€åä¸€è¡Œè¿›è¡Œä¿®æ”¹,ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: https://github.com/longlongqin/longlongqin.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>â€‹ repositoryä¿®æ”¹ä¸ºä½ è‡ªå·±çš„githubé¡¹ç›®åœ°å€ï¼Œåœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œrepository: <a href="mailto:git@github.com">git@github.com</a>:longlongqin/longlongqin.github.io.git,ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>ä¿®æ”¹ä¹‹åï¼Œæˆ‘ä»¬æ‰èƒ½éƒ¨ç½²åˆ°GitHubä¸Šï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deployer</span><br><span class="line"><span class="comment">## åˆæ¬¡ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œéœ€è¦è¾“å…¥githubçš„ç”¨æˆ·åusernameå’Œå¯†ç password</span></span><br></pre></td></tr></table></figure><p>â€‹ è¿™é‡Œï¼Œå°±æ˜¯åˆ©ç”¨åˆšä¸‹è½½çš„æ’ä»¶ï¼š<code>hexo-deployer-git</code></p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—®æˆ‘ä»¬åœ¨githubæœåŠ¡å™¨ä¸Šçš„åšå®¢ç½‘å€ï¼Œç½‘å€å°±æ˜¯æˆ‘ä»¬åˆšåˆšåˆ›å»ºä»“åº“çš„åå­—ï¼Œæ¯”å¦‚æˆ‘çš„ä»“åº“åæ˜¯ï¼š<code>longlongqin.github.io</code>ï¼Œæˆ‘ä»¬å¤åˆ¶ç²˜è´´å®ƒåˆ°æµè§ˆå™¨ï¼Œç„¶åä½ å°±å¯ä»¥çœ‹åˆ°ä½ çš„åšå®¢å†…å®¹äº†ã€‚ğŸ˜Š</p><h2 id="Gitæäº¤åˆ°å¤šä¸ªä»“åº“"><a href="#Gitæäº¤åˆ°å¤šä¸ªä»“åº“" class="headerlink" title="Gitæäº¤åˆ°å¤šä¸ªä»“åº“"></a>Gitæäº¤åˆ°å¤šä¸ªä»“åº“</h2><p><a href="https://yuxiang.ren/2017/08/25/hexoåšå®¢è‡ªåŠ¨éƒ¨ç½²åˆ°å¤šå°æœåŠ¡å™¨/" target="_blank" rel="noopener">https://yuxiang.ren/2017/08/25/hexo%E5%8D%9A%E5%AE%A2%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%88%B0%E5%A4%9A%E5%8F%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/</a></p><h2 id="éƒ¨ç½²åœ¨gitee"><a href="#éƒ¨ç½²åœ¨gitee" class="headerlink" title="éƒ¨ç½²åœ¨gitee"></a>éƒ¨ç½²åœ¨gitee</h2><h3 id="éƒ¨ç½²åœ¨giteeä¸Šçš„å‘"><a href="#éƒ¨ç½²åœ¨giteeä¸Šçš„å‘" class="headerlink" title="éƒ¨ç½²åœ¨giteeä¸Šçš„å‘"></a>éƒ¨ç½²åœ¨giteeä¸Šçš„å‘</h3><p>åœ¨giteeä¸Šé¢ï¼Œå’Œåœ¨GitHubä¸Šé¢éƒ¨ç½²å·®ä¸å¤šï¼Œä½†æ˜¯æœ‰äº›åœ°æ–¹æˆ‘ä»¬è¿˜æ˜¯è¦æ³¨æ„çš„ã€‚</p><h4 id="ä»“åº“å‘½åé—®é¢˜"><a href="#ä»“åº“å‘½åé—®é¢˜" class="headerlink" title="ä»“åº“å‘½åé—®é¢˜"></a>ä»“åº“å‘½åé—®é¢˜</h4><p>åœ¨åˆ›å»ºgiteeä»“åº“æ—¶ï¼Œæœ€å¥½ä¹Ÿæ˜¯å°†ä»“åº“åå­—å‘½åä¸ºä½ çš„è´¦å·çš„ç”¨æˆ·åï¼Œæ¯”å¦‚æˆ‘çš„ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200302144640624.png" alt="image-20200302144640624"></p><p>â€‹ å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å‘½åä¸ºå…¶ä»–åå­—ï¼Œä½†æ˜¯æ¢æˆå…¶ä»–åå­—ä¹‹åï¼Œå¯èƒ½ä¼šå¸¦æ¥ä¸€ç³»åˆ—å…¶ä»–çš„é—®é¢˜ï¼Œæ¯”å¦‚å›¾ç‰‡æ— æ³•æ˜¾ç¤ºã€‚å…¶å®æˆ‘ä¹‹å‰å‘½åæˆå…¶ä»–åå­—ï¼Œå°±å‡ºç°äº†å¾ˆå¤§çš„é—®é¢˜ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200302015639908.png" alt="image-20200302015639908"></p><p>è¿™ç§æƒ…å†µæ˜¯å› ä¸ºï¼Œä»–æ‰¾ä¸åˆ°èµ„æºï¼ŒåŠ è½½é”™è¯¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200302015741200.png" alt="image-20200302015741200"></p><p>ç†¬äº†ä¸€ä¸ªæ™šä¸Šï¼Œç»ˆäºå‘ç°äº†ã€‚åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœ‰ï¼š</p><blockquote><p><strong>ç½‘ç«™åœ¨å­ç›®å½•çš„æƒ…å†µ</strong></p></blockquote><p>å¦‚æœä½ çš„ç½‘ç«™åœ¨ä¸€ä¸ªå­ç›®å½•ï¼ˆä¾‹å¦‚<a href="https://link.jianshu.com/?t=http://example.org/blog" target="_blank" rel="noopener">http://example.org/blog</a>ï¼‰ è®¾ç½®<code>url</code>ä¸º<code>http://example.org/blog</code>å¹¶ä¸”è®¾ç½®<code>root</code>ä¸º<code>/blog/</code></p><p>è¯´æ¥ä¹Ÿå¥‡æ€ªï¼Œåœ¨GitHubä¸Šé¢ï¼Œå’Œæœ¬åœ°è¿è¡Œçš„æ—¶å€™éƒ½æ˜¯å¥½å¥½çš„ã€‚å°±æ˜¯åœ¨giteeä¸Šé¢å‡ºé”™äº†ã€‚o(ï¸¶ï¸¿ï¸¶)o å”‰</p><p>è§£å†³å®ƒçš„åŠæ³•å°±æ˜¯ï¼š</p><p>â€‹ å°†rootæ·»åŠ ä¸Šç¼ºå°‘çš„é‚£ä¸€çº§ç›®å½•ï¼Œå³å¯</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://yoursite.com/child</span></span><br><span class="line"></span><br><span class="line"><span class="attr">root:</span> <span class="string">/blog/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:post_title/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">trailing_index:</span> <span class="literal">false</span>   <span class="comment"># Set to false to remove trailing 'index.html' from permalinks</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">trailing_html:</span> <span class="literal">true</span>     <span class="comment"># Set to false to remove trailing '.html' from permalinks</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸€ç¯‡å¸–å­é‡Œé¢ä¹Ÿæœ‰äººé‡åˆ°äº†åŒæ ·çš„é—®é¢˜ï¼Œæœ€åä¹Ÿæ˜¯é€šè¿‡rootçš„ä¿®æ”¹è§£å†³çš„ã€‚ï¼š<a href="https://gitee.com/oschina/git-osc/issues/IFVWV?from=project-issue" target="_blank" rel="noopener">https://gitee.com/oschina/git-osc/issues/IFVWV?from=project-issue</a></p><h4 id="gitee-pagesåˆ·æ–°"><a href="#gitee-pagesåˆ·æ–°" class="headerlink" title="gitee pagesåˆ·æ–°"></a>gitee pagesåˆ·æ–°</h4><p>é™¤äº†ä»“åº“åå­—éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„ï¼Œgiteeä¸ªäººç‰ˆä¼¼ä¹ä¸èƒ½è‡ªåŠ¨åˆ·æ–°ï¼Œæ‰€ä»¥ä½ <strong>æ¯æ¬¡</strong><code>hexo d</code>ä¹‹åï¼Œéœ€è¦æ‰‹åŠ¨çš„åˆ·æ–°<code>gitee pages</code>ï¼Œæ‰èƒ½æ˜¾ç¤ºä½ æ–°æäº¤çš„å†…å®¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200302145524039.png" alt="image-20200302145524039"></p><h1 id="å†™æ–‡ç« "><a href="#å†™æ–‡ç« " class="headerlink" title="å†™æ–‡ç« "></a>å†™æ–‡ç« </h1><h2 id="ç¼–è¾‘å™¨æ¨è"><a href="#ç¼–è¾‘å™¨æ¨è" class="headerlink" title="ç¼–è¾‘å™¨æ¨è"></a>ç¼–è¾‘å™¨æ¨è</h2><p>æ¨èä½¿ç”¨<code>Typora</code>è¿™æ¬¾è½¯ä»¶ï¼Œç‚¹å‡»<a href="https://www.typora.io/" target="_blank" rel="noopener">è¿™é‡Œ</a>è¿›å…¥å®˜ç½‘ï¼Œä»–å¯ä»¥å†™Markdownæ ¼å¼çš„å†…å®¹ï¼Œè¿™ä¸ªè½¯ä»¶çš„æ–¹ä¾¿ä¹‹å¤„åœ¨äºç›´æ¥å°†markdownè¯­æ³•å‘ˆç°å‡ºå…¶æ•ˆæœï¼Œå¹¶ä¸”å·²ç»é›†æˆäº†å¾ˆå¤šæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œä½ æ— éœ€è®°ä½æ’å…¥ä»£ç çš„è¯­æ³•æ ¼å¼ï¼Œæ— éœ€è®°ä½æ’å…¥å›¾ç‰‡çš„è¯­æ³•æ ¼å¼ï¼Œè¿™ä½¿å¾—æˆ‘å¯ä»¥ä¸“å¿ƒå†™åšå®¢è€Œæ— æ³•å…³å¿ƒå­¦ä¹ markdownè¯­æ³•ã€‚æœ‰å¾ˆå¤šmdç¼–è¾‘å™¨ï¼Œä»–ä»¬åˆ†æˆä¸¤ä¸ªç•Œé¢ï¼Œä¸€ä¸ªç•Œé¢æ˜¯mdæºä»£ç ï¼Œå¦å¤–ä¸€ä¸ªç•Œé¢å®æ—¶æ›´æ–°æ˜¾ç¤ºå…¶æ•ˆæœï¼Œè€ŒTyporaæ˜¯æµ‘ç„¶ä¸€ä½“çš„ï¼ŒçœŸæ­£æ‰€è§å³æ‰€å¾—ï¼Œå°±è·Ÿåœ¨ä½¿ç”¨wordä¸€æ ·æ–¹ä¾¿ã€‚</p><p>ä¸ä»…å¦‚æ­¤ï¼Œå®ƒè¿˜å¯ä»¥å¯¼å‡ºPDFã€Wordã€HTMLã€å›¾ç‰‡ç­‰æ ¼å¼ã€‚</p><p>å¾…ç»­â€¦â€¦</p><h2 id="å›¾ç‰‡é—®é¢˜"><a href="#å›¾ç‰‡é—®é¢˜" class="headerlink" title="å›¾ç‰‡é—®é¢˜"></a>å›¾ç‰‡é—®é¢˜</h2><p><a href="http://etrd.org/2017/01/23/hexoä¸­å®Œç¾æ’å…¥æœ¬åœ°å›¾ç‰‡/" target="_blank" rel="noopener">http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/</a></p><h1 id="Hexoçš„æ“ä½œæŒ‡ä»¤"><a href="#Hexoçš„æ“ä½œæŒ‡ä»¤" class="headerlink" title="Hexoçš„æ“ä½œæŒ‡ä»¤"></a>Hexoçš„æ“ä½œæŒ‡ä»¤</h1><p>æˆ‘ä»¬åˆšå¼€å§‹ï¼Œå¯¹äº<code>Hexo</code>çš„æŒ‡ä»¤ä¸å¤ªç†Ÿæ‚‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»–çš„å®˜ç½‘ä¸Šå»æŸ¥æ‰¾ç›¸åº”çš„æ“ä½œæŒ‡ä»¤ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200301222120697.png" alt="image-20200301222120697"></p><h2 id="æ–‡ç« çš„front-matter"><a href="#æ–‡ç« çš„front-matter" class="headerlink" title="æ–‡ç« çš„front-matter"></a><a href="https://hexo.io/zh-cn/docs/front-matter" target="_blank" rel="noopener">æ–‡ç« çš„front-matter</a></h2><h3 id="Front-matter-é€‰é¡¹è¯¦è§£"><a href="#Front-matter-é€‰é¡¹è¯¦è§£" class="headerlink" title="Front-matter é€‰é¡¹è¯¦è§£"></a>Front-matter é€‰é¡¹è¯¦è§£</h3><p><code>Front-matter</code> é€‰é¡¹ä¸­çš„æ‰€æœ‰å†…å®¹å‡ä¸º<strong>éå¿…å¡«</strong>çš„ã€‚ä½†æˆ‘ä»ç„¶å»ºè®®è‡³å°‘å¡«å†™ <code>title</code> å’Œ <code>date</code>çš„å€¼ã€‚</p><table><thead><tr><th align="left">é…ç½®é€‰é¡¹</th><th align="left">é»˜è®¤å€¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">title</td><td align="left"><code>Markdown</code> çš„æ–‡æ¡£æ ‡é¢˜</td><td align="left">æ–‡ç« æ ‡é¢˜ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹</td></tr><tr><td align="left">date</td><td align="left">æ–‡æ¡£åˆ›å»ºæ—¶çš„æ—¥æœŸæ—¶é—´</td><td align="left">å‘å¸ƒæ—¶é—´ï¼Œå¼ºçƒˆå»ºè®®å¡«å†™æ­¤é€‰é¡¹ï¼Œä¸”æœ€å¥½ä¿è¯å…¨å±€å”¯ä¸€</td></tr><tr><td align="left">author</td><td align="left">æ ¹ <code>_config.yml</code>ä¸­çš„ <code>author</code></td><td align="left">æ–‡ç« ä½œè€…</td></tr><tr><td align="left">img</td><td align="left"><code>featureImages</code>ä¸­çš„æŸä¸ªå€¼</td><td align="left">æ–‡ç« ç‰¹å¾å›¾ï¼Œæ¨èä½¿ç”¨å›¾åºŠ(è…¾è®¯äº‘ã€ä¸ƒç‰›äº‘ã€åˆæ‹äº‘ç­‰)æ¥åšå›¾ç‰‡çš„è·¯å¾„.å¦‚: <code>http://xxx.com/xxx.jpg</code></td></tr><tr><td align="left">top</td><td align="left"><code>true</code></td><td align="left">ï¼ˆæ–‡ç« æ˜¯å¦ç½®é¡¶ï¼‰ï¼Œå¦‚æœ <code>top</code> å€¼ä¸º <code>true</code>ï¼Œåˆ™ä¼šä½œä¸ºé¦–é¡µ</td></tr><tr><td align="left">password</td><td align="left">æ— </td><td align="left">æ–‡ç« é˜…è¯»å¯†ç ï¼Œå¦‚æœè¦å¯¹æ–‡ç« è®¾ç½®é˜…è¯»éªŒè¯å¯†ç çš„è¯ï¼Œå°±å¯ä»¥è®¾ç½® <code>password</code> çš„å€¼ï¼Œè¯¥å€¼å¿…é¡»æ˜¯ç”¨ <code>SHA256</code> åŠ å¯†åçš„å¯†ç ï¼Œé˜²æ­¢è¢«ä»–äººè¯†ç ´ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>verifyPassword</code> é€‰é¡¹</td></tr><tr><td align="left">toc</td><td align="left"><code>true</code></td><td align="left">æ˜¯å¦å¼€å¯ TOCï¼Œå¯ä»¥é’ˆå¯¹æŸç¯‡æ–‡ç« å•ç‹¬å…³é—­ TOC çš„åŠŸèƒ½ã€‚å‰ææ˜¯åœ¨ä¸»é¢˜çš„ <code>config.yml</code> ä¸­æ¿€æ´»äº† <code>toc</code> é€‰é¡¹</td></tr><tr><td align="left">mathjax</td><td align="left"><code>false</code></td><td align="left">æ˜¯å¦å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒ ï¼Œæœ¬æ–‡ç« æ˜¯å¦å¼€å¯ <code>mathjax</code>ï¼Œä¸”éœ€è¦åœ¨ä¸»é¢˜çš„ <code>_config.yml</code> æ–‡æ¡£ä¸­ä¹Ÿéœ€è¦å¼€å¯æ‰è¡Œ</td></tr><tr><td align="left">summary</td><td align="left">æ— </td><td align="left">æ–‡ç« æ‘˜è¦ï¼Œè‡ªå®šä¹‰çš„æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æœ‰å€¼ï¼Œæ–‡ç« å¡ç‰‡æ‘˜è¦å°±æ˜¾ç¤ºè¿™æ®µæ–‡å­—ï¼Œå¦åˆ™è¿›ç¨‹ä¼šè‡ªåŠ¨æˆªå–æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ä½œä¸ºæ‘˜è¦</td></tr><tr><td align="left">categories</td><td align="left">æ— </td><td align="left">æ–‡ç« åˆ†ç±»ï¼Œæœ¬ä¸»é¢˜çš„åˆ†ç±»è¡¨ç¤ºå®è§‚ä¸Šå¤§çš„åˆ†ç±»ï¼Œåªå»ºè®®ä¸€ç¯‡æ–‡ç« ä¸€ä¸ªåˆ†ç±»</td></tr><tr><td align="left">tags</td><td align="left">æ— </td><td align="left">æ–‡ç« æ ‡ç­¾ï¼Œä¸€ç¯‡æ–‡ç« å¯ä»¥å¤šä¸ªæ ‡ç­¾</td></tr></tbody></table><p>Front-matter æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ <code>---</code> åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hello</span> <span class="string">World</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2013</span><span class="string">/7/13</span> <span class="number">20</span><span class="string">:46:25</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="åˆ†ç±»å’Œæ ‡ç­¾"><a href="#åˆ†ç±»å’Œæ ‡ç­¾" class="headerlink" title="åˆ†ç±»å’Œæ ‡ç­¾"></a>åˆ†ç±»å’Œæ ‡ç­¾</h3><p>åªæœ‰æ–‡ç« æ”¯æŒåˆ†ç±»å’Œæ ‡ç­¾ï¼Œæ‚¨å¯ä»¥åœ¨ Front-matter ä¸­è®¾ç½®ã€‚åœ¨å…¶ä»–ç³»ç»Ÿä¸­ï¼Œåˆ†ç±»å’Œæ ‡ç­¾å¬èµ·æ¥å¾ˆæ¥è¿‘ï¼Œä½†æ˜¯åœ¨ Hexo ä¸­ä¸¤è€…æœ‰ç€æ˜æ˜¾çš„å·®åˆ«ï¼šåˆ†ç±»å…·æœ‰é¡ºåºæ€§å’Œå±‚æ¬¡æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>Foo, Bar</code> ä¸ç­‰äº <code>Bar, Foo</code>ï¼›è€Œæ ‡ç­¾æ²¡æœ‰é¡ºåºå’Œå±‚æ¬¡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">- Diary</span><br><span class="line">tags:</span><br><span class="line">- PS3</span><br><span class="line">- Games</span><br></pre></td></tr></table></figure><blockquote><p><strong>åˆ†ç±»æ–¹æ³•çš„åˆ†æ­§</strong></p><p>å¦‚æœæ‚¨æœ‰è¿‡ä½¿ç”¨ WordPress çš„ç»éªŒï¼Œå°±å¾ˆå®¹æ˜“è¯¯è§£ Hexo çš„åˆ†ç±»æ–¹å¼ã€‚WordPress æ”¯æŒå¯¹ä¸€ç¯‡æ–‡ç« è®¾ç½®å¤šä¸ªåˆ†ç±»ï¼Œè€Œä¸”è¿™äº›åˆ†ç±»å¯ä»¥æ˜¯åŒçº§çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯çˆ¶å­åˆ†ç±»ã€‚ä½†æ˜¯ Hexo ä¸æ”¯æŒæŒ‡å®šå¤šä¸ªåŒçº§åˆ†ç±»ã€‚ä¸‹é¢çš„æŒ‡å®šæ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">  - Diary</span><br><span class="line">  - Life</span><br></pre></td></tr></table></figure><p>ä¼šä½¿åˆ†ç±»<code>Life</code>æˆä¸º<code>Diary</code>çš„å­åˆ†ç±»ï¼Œè€Œä¸æ˜¯å¹¶åˆ—åˆ†ç±»ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦ä¸ºæ‚¨çš„æ–‡ç« é€‰æ‹©å°½å¯èƒ½å‡†ç¡®çš„åˆ†ç±»ã€‚</p><p>å¦‚æœä½ éœ€è¦ä¸ºæ–‡ç« æ·»åŠ å¤šä¸ªåˆ†ç±»ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹ list ä¸­çš„æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">categories:</span><br><span class="line">- [Diary, PlayStation]</span><br><span class="line">- [Diary, Games]</span><br><span class="line">- [Life]</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¿™ç¯‡æ–‡ç« åŒæ—¶åŒ…æ‹¬ä¸‰ä¸ªåˆ†ç±»ï¼š <code>PlayStation</code> å’Œ <code>Games</code> åˆ†åˆ«éƒ½æ˜¯çˆ¶åˆ†ç±» <code>Diary</code> çš„å­åˆ†ç±»ï¼ŒåŒæ—¶ <code>Life</code> æ˜¯ä¸€ä¸ªæ²¡æœ‰å­åˆ†ç±»çš„åˆ†ç±»ã€‚</p></blockquote><h3 id="JSON-Front-matter"><a href="#JSON-Front-matter" class="headerlink" title="JSON Front-matter"></a>JSON Front-matter</h3><p>é™¤äº† YAML å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ JSON æ¥ç¼–å†™ Front-matterï¼Œåªè¦å°† <code>---</code> ä»£æ¢æˆ <code>;;;</code> å³å¯ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;title&quot;: &quot;Hello World&quot;,</span><br><span class="line">&quot;date&quot;: &quot;2013&#x2F;7&#x2F;13 20:46:25&quot;</span><br><span class="line">;;;</span><br></pre></td></tr></table></figure><h1 id="é…ç½®è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜"><a href="#é…ç½®è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é…ç½®è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜"></a>é…ç½®è¿‡ç¨‹é‡åˆ°çš„é—®é¢˜</h1><h2 id="Hexoåšå®¢ä¸­æ–‡ç« å›¾ç‰‡ä¸æ˜¾ç¤ºçš„å‘"><a href="#Hexoåšå®¢ä¸­æ–‡ç« å›¾ç‰‡ä¸æ˜¾ç¤ºçš„å‘" class="headerlink" title="Hexoåšå®¢ä¸­æ–‡ç« å›¾ç‰‡ä¸æ˜¾ç¤ºçš„å‘"></a>Hexoåšå®¢ä¸­æ–‡ç« å›¾ç‰‡ä¸æ˜¾ç¤ºçš„å‘</h2><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/qqpyimg1583424159.gif" alt="img"></p><p>è¿™ä¸ªæ˜¯çœŸçš„å‘ï¼Œæäº†å¥½ä¹…ï¼Œç»ˆäºçœ‹åˆ°ä¸€ç¯‡åšæ–‡ï¼Œæ‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚æ”¾ä¸€ä¸‹è¿™ç¯‡æ–‡ç« çš„<a href="https://myfavs.win/2019/08/08/%E8%AE%B0%E5%BD%95-Hexo-%E5%9B%BE%E7%89%87%E7%9A%84%E5%9D%91/" target="_blank" rel="noopener">ä¼ é€é—¨</a>ã€‚</p><h2 id="åœ¨codingä¸­SSLè¯ä¹¦ç”³è¯·å¤±è´¥çš„å‘"><a href="#åœ¨codingä¸­SSLè¯ä¹¦ç”³è¯·å¤±è´¥çš„å‘" class="headerlink" title="åœ¨codingä¸­SSLè¯ä¹¦ç”³è¯·å¤±è´¥çš„å‘"></a>åœ¨codingä¸­SSLè¯ä¹¦ç”³è¯·å¤±è´¥çš„å‘</h2><p>åœ¨æ­å»ºåˆ°codingä¸­æ­¥éª¤å…¶å®å’Œåœ¨githubä¸­æ¯”è¾ƒç›¸ä¼¼ï¼Œå°±æ˜¯ç»™ä»“åº“å‘½ååŸåˆ™çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå°½é‡è®©ä»“åº“åå­—ä¸ä½ çš„ç”¨æˆ·åç›¸åŒï¼Œå³å’Œåœ¨githubä¸­å‘½åè§„åˆ™ç›¸ä¼¼ã€‚</p><p>å¦‚æœä½ ä¹‹å‰éƒ½å¾ˆé¡ºåˆ©ï¼Œé‚£ä¹ˆåœ¨SSLè¯ä¹¦ç”³è¯·æ—¶ï¼Œéœ€è¦æ³¨æ„äº†ï¼šä½ ä¼šé‡åˆ°è¯ä¹¦ç”³è¯·ä¸€ç›´å¤±è´¥çš„æƒ…å†µã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ˜¯è¿™æ ·çš„ï¼š</p><ul><li><p>ç¬¬ä¸€æ¬¡å°è¯•ï¼ŒæŸ¥èµ„æ–™è¯´æ˜¯å¦‚æœä¹‹å‰ä½ å·²ç»åœ¨github oagesä¸Šéƒ¨ç½²äº†ï¼Œä½ è‡ªå·±ä¹°çš„åŸŸåä¹Ÿå·²ç»è§£æè¿‡äº†ã€‚æ­¤æ—¶ç›´æ¥åœ¨coding pagesä¸­ç”³è¯·sslçš„è¯ï¼Œä¼šå¤±è´¥ã€‚</p><p>è§£å†³çš„åŠæ³•å°±æ˜¯ï¼šå…ˆæŠŠç”¨äºè§£ægithub pagesçš„é‚£ä¸¤æ¡æš‚åœäº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200306234025834.png" alt="image-20200306234025834"></p></li><li><p>ç„¶åï¼Œæˆ‘å†è¯•è¯•ï¼Œè¿˜æ˜¯ç”³è¯·å¤±è´¥ã€‚å‡ºç°ç±»ä¼¼äºä¸‹é¢çš„é”™è¯¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200306234233629.png" alt="image-20200306234233629"></p></li><li><p>ç»§ç»­å»æŸ¥ã€‚å—¯ï¼Œæ‰¾åˆ°äº†ï¼Œç”³è¯·å¤±è´¥æ˜¯å› ä¸ºæˆ‘çš„åŸŸååœ¨å›½å¤–æ— æ³•è§£æï¼Œè¿™æ˜¯æˆ‘çš„DNSè®¾ç½®å¯¼è‡´çš„ã€‚</p><p>è§£å†³åŠæ³•ï¼šåœ¨è§£æçš„æ—¶å€™ï¼Œéœ€è¦å°†<strong>çº¿è·¯ç±»å‹</strong>æ”¹æˆ<strong>é»˜è®¤</strong>ã€‚å»è¯•ä¸€è¯•ï¼Œç­‰å¾…ä¸€å°ä¼š</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/longlongqin/CDN-for-HEXO_BLOG/post_image/Hexo%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/image-20200306234452437.png" alt="image-20200306234452437"></p><p>å“‡ï¼Œç»ˆäºç”³è¯·æˆåŠŸäº†ã€‚</p><p>#Hexoåšå®¢å¤‡ä»½</p><p>æœ‰æ—¶å€™æˆ‘ä»¬å¤–å‡ºï¼Œè‡ªå·±çš„ç”µè„‘æ²¡æœ‰å¸¦ï¼Œè¿™æ—¶å€™æƒ³å†™åšå®¢æ€ä¹ˆåŠã€‚è¿™ä¹Ÿæ˜¯æœ‰åŠæ³•çš„ï¼Œå°±æ˜¯æˆ‘ä»¬è¦å…ˆå¤‡ä»½æˆ‘ä»¬çš„åšå®¢ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¤‡ä»½åˆ°githubæˆ–è€…gitee.</p><p>æ‹¿githubä¸¾ä¾‹ï¼š</p><ul><li><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè¦åœ¨GitHubä¸Šé¢å»ºç«‹ä¸€ä¸ªä»“åº“ï¼Œä»“åº“åå­—è‡ªå–ï¼Œä»“åº“æ˜¯publicè¿˜æ˜¯privateï¼ŒæŒ‰ç…§è‡ªå·±çš„å¿ƒæƒ…æ¥å°±å¥½äº†ã€‚</p></li><li><p>ç„¶åï¼Œæˆ‘ä»¬è¦åœ¨æœ¬åœ°å…³è”è¿œç¨‹ä»“åº“ï¼š</p><p>æˆ‘ä»¬è¿›å…¥ä½ çš„æœ¬åœ°åšå®¢æ‰€åœ¨çš„ç›®å½•ï¼Œæ¯”å¦‚æˆ‘çš„åœ¨<code>D:\Blog</code>ï¼Œç„¶åï¼Œæ‰“å¼€ä½ çš„Git bashï¼ŒæŒ‰é¡ºåºè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init    <span class="comment">#åˆå§‹åŒ–æœ¬åœ°ä»“åº“</span></span><br><span class="line">git remote add origin &lt;ä½ çš„è¿œç¨‹ä»“åº“çš„SSHæˆ–HTTPSé“¾æ¥&gt;  <span class="comment">#å…³è”è¿œç¨‹ä»“åº“ï¼ˆsshçš„é“¾æ¥æ¯”è¾ƒå¿«ä¸€ç‚¹ï¼‰</span></span><br></pre></td></tr></table></figure><p>å…³è”å®Œæˆï¼Œç„¶åæˆ‘ä»¬è¿˜éœ€è¦ï¼Œå°†æœ¬åœ°çš„æ¨é€åˆ°è¿œç«¯ï¼ŒåŒæ ·ï¼ŒæŒ‰é¡ºåºè¾“å…¥ä¸€ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .  <span class="comment">#è¿™ä¸ªâ€˜.â€™è¡¨ç¤ºå°†æ•´ä¸ªæ–‡ä»¶å¤¹éƒ½ä¸€èµ·æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆä¸ç„¶è¿˜è¦ä¸€ä¸ªä¸ªè¾“å…¥æ–‡ä»¶åï¼‰</span></span><br><span class="line">git commit -m <span class="string">"è¾“å…¥ä½ è¿™æ¬¡æäº¤çš„è¯´æ˜"</span> </span><br><span class="line">git push origin master  <span class="comment">#æ¨é€åˆ°è¿œç¨‹ä»“åº“</span></span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œè®°å¾—æŒ‰æ—¶å°†æœ¬åœ°çš„å¤‡ä»½åˆ°è¿œç¨‹ä»“åº“ã€‚</p></li></ul><p>è‡³æ­¤ï¼Œæœ¬åœ°å¤‡ä»½å·²ç»å®Œæˆã€‚å¦‚æœä½ æƒ³åŒæ—¶å¤‡ä»½åˆ°giteeå’Œgithubä¸Šé¢ï¼Œä½ å¯ä»¥å‚è€ƒ<a href="https://www.liaoxuefeng.com/wiki/896043488029600/1163625339727712" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p><h1 id="åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šå†™åšå®¢"><a href="#åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šå†™åšå®¢" class="headerlink" title="åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šå†™åšå®¢"></a>åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šå†™åšå®¢</h1><p>å‰ææ˜¯æˆ‘ä»¬æŠŠåšå®¢å¤‡ä»½åœ¨githubã€giteeç­‰ä¸Šé¢ã€‚</p><p>ç„¶ååœ¨æ–°ç”µè„‘ä¸Šé¢ï¼š</p><ol><li>å®‰è£… Gitã€nodejs</li><li>æŠŠä½ è¿œç¨‹çš„åšå®¢å¤‡ä»½ï¼Œcloneä¸‹æ¥åˆ°ä¸€ä¸ªæŒ‡å®šçš„ä½ç½®ï¼ˆä½ç½®è‡ªå·±å®šï¼‰</li><li>åœ¨æœ¬åœ°çš„åšå®¢ä»“åº“è¿è¡Œï¼š<code>npm install</code>ï¼Œæ¥ å®‰è£…ä¾èµ–åŒ…</li></ol><p>å¥½äº†ï¼Œä½ å¯å¼€å§‹å†™åšå®¢äº†ã€‚</p><h1 id="ä¼˜åŒ–æŠ€å·§"><a href="#ä¼˜åŒ–æŠ€å·§" class="headerlink" title="ä¼˜åŒ–æŠ€å·§"></a>ä¼˜åŒ–æŠ€å·§</h1><h2 id="ä¼˜åŒ–æ–‡ç« URL"><a href="#ä¼˜åŒ–æ–‡ç« URL" class="headerlink" title="ä¼˜åŒ–æ–‡ç« URL"></a>ä¼˜åŒ–æ–‡ç« URL</h2><p><code>seo</code>æœç´¢å¼•æ“ä¼˜åŒ–è®¤ä¸ºï¼Œç½‘ç«™çš„æœ€ä½³ç»“æ„æ˜¯<strong>ç”¨æˆ·ä»é¦–é¡µç‚¹å‡»ä¸‰æ¬¡å°±å¯ä»¥åˆ°è¾¾ä»»ä½•ä¸€ä¸ªé¡µé¢</strong>ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨<code>hexo</code>ç¼–è¯‘çš„ç«™ç‚¹æ‰“å¼€æ–‡ç« çš„<code>url</code>æ˜¯ï¼š<code>sitename/year/mounth/day/title</code>å››å±‚çš„ç»“æ„ï¼Œè¿™æ ·çš„<code>url</code>ç»“æ„å¾ˆä¸åˆ©äº<code>seo</code>ï¼Œçˆ¬è™«å°±ä¼šç»å¸¸çˆ¬ä¸åˆ°æˆ‘ä»¬çš„æ–‡ç« ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä¼˜åŒ–ä¸€ä¸‹ç½‘ç«™æ–‡ç« <code>url</code></p><p>æ–¹æ¡ˆä¸€ï¼š</p><p>æˆ‘ä»¬å¯ä»¥å°†<code>url</code>ç›´æ¥æ”¹æˆ<code>sitename/title</code>çš„å½¢å¼ï¼Œå¹¶ä¸”<code>title</code>æœ€å¥½æ˜¯ç”¨è‹±æ–‡ï¼Œåœ¨æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸‹ä¿®æ”¹<code>permalink</code>å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="string">https://sunhwee.com</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:title.html</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br></pre></td></tr></table></figure><p>æ–¹æ¡ˆäºŒï¼š</p><p>ä½¿ç”¨æ’ä»¶ä¼˜åŒ–<code>url</code></p><p>æ’ä»¶<code>hexo-abbrlink</code>å®ç°äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå®ƒå°†åŸæ¥çš„<code>URL</code>åœ°å€é‡æ–°è¿›è¡Œäº†è¿›åˆ¶è½¬æ¢å’Œå†ç¼–ç ã€‚</p><p>å®‰è£…<code>hexo-abbrlink</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>é…ç½®åšå®¢æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># permalink: :title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">archives/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># ç®—æ³•ï¼šcrc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># è¿›åˆ¶ï¼šdec(default) and hex</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œ<code>hexo clean</code>å’Œ<code>hexo g</code>å‘½ä»¤æ¥é‡æ–°ç”Ÿæˆæ–‡ä»¶çœ‹çœ‹ï¼Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œ<code>URL</code>ç»“æ„æˆåŠŸå˜ä¸ºäº†3å±‚ã€‚</p><p>æ¥æº: æ´ªå«ã®åšå®¢<br>ä½œè€…: æ´ªå«<br>æ–‡ç« é“¾æ¥: <a href="https://sunhwee.com/posts/6e8839eb.html#toc-heading-59" target="_blank" rel="noopener">https://sunhwee.com/posts/6e8839eb.html#toc-heading-59</a><br>æœ¬æ–‡ç« è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œä»»ä½•å½¢å¼çš„è½¬è½½éƒ½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h1 id="å…¶ä»–å‚è€ƒæ–‡ç« "><a href="#å…¶ä»–å‚è€ƒæ–‡ç« " class="headerlink" title="å…¶ä»–å‚è€ƒæ–‡ç« "></a>å…¶ä»–å‚è€ƒæ–‡ç« </h1><p>åˆ—è¡¨ï¼š<br><a href="http://dongshuyan.com/2019/05/24/hexoåšå®¢æ³¨æ„äº‹é¡¹/#14-Hexoæ·»åŠ ç™¾åº¦ç»Ÿè®¡" target="_blank" rel="noopener">http://dongshuyan.com/2019/05/24/hexo%E5%8D%9A%E5%AE%A2%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#14-Hexoæ·»åŠ ç™¾åº¦ç»Ÿè®¡</a></p><p><a href="https://www.dazhuanlan.com/2019/10/16/5da6352aa2a2e/" target="_blank" rel="noopener">ç½‘ç»œç¼–ç¨‹ç³»åˆ— Hexo + Githubæ­å»ºä¸ªäººåšå®¢ Â· èŠ±ç”°åŠäº©</a></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢æ­å»º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexoä¸»é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
